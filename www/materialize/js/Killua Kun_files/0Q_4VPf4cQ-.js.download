if (self.CavalryLogger) { CavalryLogger.start_js(["389ro"]); }

__d("EventsActionsLoggerJSConfig",[],(function a(b,c,d,e,f,g){f.exports={type:{UNKNOWN:"unknown",ACTION_FAIL:"action_fail",ENTRY:"entry",VIEW_PERMALINK:"view_permalink",VIEW_RECENT_PHOTOS_CARD:"view_recent_photos_card",VIEW_PHOTOS_PAGE:"view_photo_page",VIEW_ATTACHMENT:"view_attachment",VPV:"VPV",LOAD:"load",LOAD_FAILED:"load_failed",CLICK:"click",VIEW:"view",REMOVE:"remove",CANCEL:"cancel",DELETE:"delete",HIDE:"hide",POST:"post",EXPORT:"export",RSVP_CONVERSION:"rsvp_conversion",FEED_CLICK:"feed_click",SCROLL:"scroll",SCROLL_TO_BOTTOM:"scroll_to_bottom",VIEW_PIVOT_EVENT:"view_pivot_event",SELECT:"select",HOVER:"hover",CONFIRM:"confirm",CLIENT_ERROR:"client_error",SEARCH_QUERY:"search_query",COMPONENT_DID_MOUNT:"component_did_mount",INVITE:"invite",EDIT:"edit",CREATE:"create",PUBLISH:"publish",JOIN:"join",ASSOCIATE:"associate",DECLINE:"decline",DISMISS:"dismiss",SAVE:"save",SUBMIT:"submit",UPLOAD_COVER:"upload_cover",REMOVE_COVER:"remove_cover",SELECT_THEME:"select_theme",SCHEDULE:"schedule",REMOVE_SCHEDULE:"remove_schedule",WATCH:"watch",RESERVE_TICKET:"reserve_ticket",TICKET_ORDER_TIMEOUT:"ticket_order_timeout",TICKET_ORDER_PURCHASE_ABANDONED:"ticket_order_purchase_abandoned",ROLLBACK_TICKET_ORDER:"rollback_ticket_order",PURCHASE_TICKET:"purchase_ticket",UPDATE_TICKET_QRCODE:"update_ticket_qrcode",CHARGE_RESERVE_TICKET:"charge_reserve_ticket",TICKET_PAYMENT:"ticket_payment",SHIP_TICKET_ORDER:"ship_ticket_order",TICKET_ORDER_UI_TIMEOUT:"ticket_order_ui_timeout",CANCEL_TICKET_ORDER:"cancel_ticket_order",ASSIGN_TICKETS_MUTATION:"assign_tickets_mutation",SHARE_THROUGH_MESSAGE:"share_through_message",CREATE_REJECT:"create_reject",LIKE_GOING_STORY:"like_going_story",COMMENT_GOING_STORY:"comment_going_story",LIKE:"like",UNLIKE:"unlike",COMMENT:"comment",SHARE_STORY:"share_story",MENTIONED:"mentioned",DELETE_POST:"delete_post",APPROVE_POST:"approve_post",CHECKIN:"checkin",JOIN_VIA_ADMIN:"join_via_admin",ASSOCIATE_VIA_ADMIN:"associate_via_admin",REMOVE_VIA_ADMIN:"remove_via_admin",DECLINE_VIA_ADMIN:"decline_via_admin",JOIN_VIA_EMAIL:"join_via_email",ASSOCIATE_VIA_EMAIL:"associate_via_email",REMOVE_VIA_EMAIL:"remove_via_email",DECLINE_VIA_EMAIL:"decline_via_email",INVITE_VIA_EMAIL:"invite_via_email",JOIN_VIA_SMS:"join_via_sms",ASSOCIATE_VIA_SMS:"associate_via_sms",REMOVE_VIA_SMS:"remove_via_sms",DECLINE_VIA_SMS:"decline_via_sms",INVITE_VIA_SMS:"invite_via_sms",SHARE:"share",NOTIFICATION_WATERFALL:"notification_waterfall",SUBSCRIBE_TO_ALL_NOTIFICATION:"subscribe_to_all_notification",SUBSCRIBE_TO_MOST_IMPORTANT_NOTIFICATION:"subscribe_to_most_important",SUBSCRIBE_TO_HOST_ONLY_NOTIFICATION:"subscribe_to_host_only_notification",UNSUBSCRIBE_NOTIFICATION:"unsubscribe_notification",SUBSCRIBE_TO_ALL_NOTIFICATION_VIA_ADMIN:"subscribe_to_all_notification_via_admin",SUBSCRIBE_TO_MOST_IMPORTANT_NOTIFICATION_VIA_ADMIN:"subscribe_to_most_important_via_admin",SUBSCRIBE_TO_HOST_ONLY_NOTIFICATION_VIA_ADMIN:"subscribe_to_host_only_notification_via_admin",UNSUBSCRIBE_NOTIFICATION_VIA_ADMIN:"unsubscribe_notification_via_admin",REMINDER_NOTIFICATION_ABANDONED:"reminder_notification_abandoned",REMINDER_NOTIFICATION_SENT:"reminder_notification_sent",REMINDER_PRECEDING_NOTIFICATION_SENT:"reminder_preceding_notification_sent",SUBSCRIBE_CALENDAR:"subscribe_calendar",UNSUBSCRIBE_CALENDAR:"unsubscribe_calendar",INVITE_EMAIL_SENT:"invite_email_sent",GENERATE:"generate",MARK_AS_SEEN:"mark_as_seen",ADD_TO_CALENDAR:"add_to_calendar",REMOVE_FROM_CALENDAR:"remove_from_calendar",SELECT_FILTER:"select_filter",SEEN_STATE_MEGAPHONE_DISPLAYED:"seen_state_megaphone_displayed",CHANGE_CATEGORY:"change_category",CATEGORY_SELECTOR_CLICKED:"category_selector_clicked",CATEGORY_SELECTOR_CLICKED_AND_SAVED:"category_selector_clicked_and_saved",ADD_ADMIN:"add_admin",REMOVE_ADMIN:"remove_admin",TRIGGER:"trigger",EVENT_DISCOVER_QUERY:"event_discover_query",APP_START:"app_start",LOCATION_AUTHORIZATION:"location_authorization",UNPUBLISH:"unpublish",SELF_SERVE_CHECK_IN:"self_serve_check_in",SELF_SERVE_UNDO_CHECK_IN:"self_serve_undo_check_in",ENABLE_REGISTRATION:"enable_registration",DISABLE_REGISTRATION:"disable_registration",TICKET_SHARING_MUTATION:"ticket_sharing_mutation",ALARM_TICKET_OUT_OF_STOCK:"alarm_ticket_out_of_ticket",ALARM_TICKET_PRICE_MISMATCH:"alarm_ticket_price_mismatch",ALLOW_ADD_TICKETS:"allow_add_tickets",DENY_ADD_TICKETS:"deny_add_tickets",AUTHORIZED_ADD_TICKETS:"authorized_add_tickets",ADDED_TICKETS:"added_tickets",ADD_TICKETS_AUTH_ERROR:"add_tickets_auth_error",ADD_TICKETS_ERROR:"add_tickets_error",DUPLICATE_DETECTED:"duplicate_detected",OFFICIAL_CLAIM:"official_claim",DELETE_INGESTION:"delete_ingestion",REPORT_INFO:"report_info",UNDELETE_INGESTION:"undelete_ingestion",CONFIRM_ROLE:"confirm_role",REMOVE_ROLE:"remove_role",OPEN:"open",ASYNC_SKIP_16591:"async_skip_16591"},target:{UNKNOWN:"unknown",INVITE_DIALOG:"invite_dialog",CREATE_DIALOG:"create_dialog",EDIT_DIALOG:"edit_dialog",GUEST_LIST_DIALOG:"guest_list_dialog",GUEST_LIST_FACEPILE_DIALOG:"guest_list_facepile_dialog",CANCEL_DIALOG:"cancel_dialog",PERMALINK:"permalink",WALL:"wall",WALL_OF_SADNESS:"wos",REACTION_UNIT:"reaction_unit",INLINE_COMPOSER_PROMPT:"inline_composer_prompt",STORY_PERMALINK:"story_permalink",CANCEL_CONFIRM_DIALOG:"cancel_confirm_dialog",PUBLISHING_TOOLS:"publishing_tools",MAKE_PLAN_DIALOG:"make_plan_dialog",LINK:"link",EVENT:"event",USER:"user",PAGE:"page",GROUP:"group",DASHBOARD:"dashboard",RESULT_LIST:"result_list",PROFILE_LIST:"profile_list",GUEST_LIST:"guest_list",BUY_TICKET:"buy_ticket",NUX:"nux",STORY:"story",FILTER:"filter",PHOTO:"photo",HEADER:"header",FOOTER:"footer",COVER_PHOTO:"cover_photo",TAB_BAR:"tab_bar",EVENT_TIP:"event_tip",ADMIN_LIST:"admin_list",REQUESTED_ADMIN_LIST:"requested_admin_list",CREATION_PROMPT:"creation_prompt",NOTIFICATION:"notification",MAP:"map",DETAILS:"details",PIVOT:"pivot",POST:"post",EVENTS_COLLECTION:"events_collection",INVITATION:"invitation",SUGGESTION:"suggestion",FRAME_POST:"frame_post",FRAME_DIRECT_MESSAGE:"frame_direct_message",FRAME_STORY:"frame_story",EVENT_STORY:"event_story",SOCIAL_CONTEXT_ROW:"social_context_row",SUGGESTIONS_CONTEXT_ROW:"suggestions_context_row",TIME_CONTEXT_ROW:"time_context_row",LOCATION_CONTEXT_ROW:"location_context_row",PAYLINK:"paylink",TRIGGER_WORD:"trigger_word",TRIGGER_CTA:"trigger_cta",REMINDER_BANNER:"reminder_banner",REMINDER_CREATE_BUTTON:"reminder_create_button",REMINDER_CUSTOMIZE_BUTTON:"reminder_customize_button",REMINDER_DELETE_BUTTON:"reminder_delete_button",REMINDER_CANCEL_BUTTON:"reminder_cancel_button",REMINDER_UPDATE_BUTTON:"reminder_update_button",REMINDER_ENTRYPOINT:"reminder_entrypoint",REMINDER_ADMIN_TEXT:"reminder_admin_text",REMINDER_CHANGE_NAME_BUTTON:"reminder_change_name_button",REMINDER_NONE_ACTIVE_ALERT:"reminder_none_active_alert",REMINDER_RELATED_EVENT:"reminder_related_event",REMINDER_RELATED_EVENT_BUTTON:"reminder_related_event_button",REMINDER_LOCATION_MAP:"reminder_location_map",REMINDER_MAP_SERVICE_APPLE_MAP_BUTTON:"reminder_map_service_apple_map_button",REMINDER_MAP_SERVICE_GOOGLE_MAP_BUTTON:"reminder_map_service_google_map_button",REMINDER_MAP_SERVICE_RIDE_SERVICE_BUTTON:"reminder_map_service_ride_service_button",REMINDER_MAP_SERVICE_CANCEL_BUTTON:"reminder_map_service_cancel_button",DEVICE_BACK_BUTTON:"device_back_button",EVENT_REMINDER:"event_reminder",REMINDER_MAI_SUGGESTION:"reminder_mai_suggestion",ATTACHMENT_PLAN_BUTTON:"xma_plan_button",MESSENGER_GROUP:"messenger_group",PUBLISH_TOUR_BUTTON:"publish_tour_button",UNPUBLISH_TOUR_BUTTON:"unpublish_tour_button",INSIGHTS_BUTTON:"insights_button",ADD_TO_TOUR_BUTTON:"add_to_tour_button",REMOVE_FROM_TOUR_BUTTON:"remove_from_tour_button",CANCEL_OR_DELETE_BUTTON:"cancel_or_delete_button",DUPLICATE_BUTTON:"duplicate_button",BUY_ONSITE_TICKET_BUTTON:"buy_onsite_ticket_button",VIEW_TICKET_BUTTON:"view_ticket_button",SEE_ALL_BUTTON:"see_all_button",CREATE_EVENT_BUTTON:"create_event_button",CREATE_PUBLIC_EVENT_BUTTON:"create_public_event_button",CREATE_PRIVATE_EVENT_BUTTON:"create_private_event_button",CREATE_COMMUNITY_EVENT_BUTTON:"create_community_event_button",CREATE_GROUP_EVENT_BUTTON:"create_group_event_button",BEGIN_EDIT_BUTTON:"begin_edit_button",DONE_CREATION_BUTTON:"done_creation_button",CANCEL_CREATION_BUTTON:"cancel_creation_button",EXIT_CREATION_BUTTON:"exit_creation_button",SAVE_DRAFT_BUTTON:"save_draft_button",PUBLISH_EVENT_BUTTON:"publish_event_button",SCHEDULE_EVENT_BUTTON:"schedule_event_button",SCHEDULE_TOUR_BUTTON:"schedule_tour_button",UNSCHEDULE_TOUR_BUTTON:"unschedule_tour_button",UNSCHEDULE_EVENT_BUTTON:"unschedule_event_button",SEE_EVENTS_BUTTON:"see_events_button",SHARE_CALENDAR_BUTTON:"share_events_button",LEARN_MORE_BUTTON:"learn_more_button",PROMOTE_EVENT_BUTTON:"promote_event_button",PROMOTE_EVENT_ITEM:"promote_event_item",PROMOTE_EVENT_MENU:"promote_event_menu",PROMOTE_TICKET_ITEM:"promote_ticket_item",GUEST_LIST_EMAIL_BUTTON:"guest_list_email_button",GUEST_LIST_EMAIL_CANCEL_BUTTON:"guest_list_email_cancel_button",GUEST_LIST_EMAIL_SEND_BUTTON:"guest_list_email_send_button",GUEST_LIST_EMAIL_DRAFT_BUTTON:"guest_list_email_draft_button",SEE_MORE_BUTTON:"see_more_button",COPY_LINK_BUTTON:"copy_link_button",CHECKIN_BUTTON:"checkin_button",CATEGORY_SELECTOR:"category_selector",TAG_SELECTOR:"tag_selector",TAG_TOKEN:"tag_token",CREATOR_MICROSITE_LINK:"creator_microsite_link",INVITE_BUTTON:"invite_button",SHARE_IN_NEWSFEED_OPTION:"share_in_newsfeed_option",SHARE_EVENT_BUTTON:"share_event_button",INTERESTED_EVENT_BUTTON:"interested_event_button",DISMISS_PROMPT_BUTTON:"composer_dismiss_prompt_button",PHOTO_PROMPT_OVERFLOW_BUTTON:"photo_prompt_overflow_button",MANAGE_EVENT_MENU:"manage_event_menu",SHOW_OFFICIAL_EVENTS_TOGGLE:"show_official_events_toggle",HIDE_OFFICIAL_EVENTS_TOGGLE:"hide_official_events_toggle",MANAGE_TICKET_MENU:"manage_ticket_menu",DISCOVER_TIME_FILTER:"discover_time_filter",DISCOVER_LOCATION_FILTER:"discover_location_filter",DISCOVER_LOCATION_LIST:"discover_location_list",COMPOSER_POST_BUTTON:"composer_post_button",MESSAGE_BUTTON:"message_button",DISMISS_BUTTON:"dismiss_button",NOTIFICATIONS_MENU:"notifications_menu",PERMALINK_INFO_ROW_LINK:"permalink_info_row_link",GET_DIRECTIONS_BUTTON:"get_directions_button",ACCEPT_COHOST_INVITE_BUTTON:"accept_cohost_invite_button",DECLINE_COHOST_INVITE_BUTTON:"decline_cohost_invite_button",UNDO_COHOST_INVITE_RSVP_BUTTON:"undo_cohost_invite_rsvp_button",BLOCK_COHOST_INVITE_BUTTON:"block_cohost_invite_button",EXTERNAL_SHARE_OPTIONS:"external_share_options",SHARE_IN_NEWS_FEED_OPTION:"share_in_news_feed_option",SHARE_CTA:"share_cta",MESSENGER_PLAN_CTA:"messenger_plan_cta",LIVE_VIDEO_CTA:"live_video_cta",INVITE_FRIENDS_OPTION:"invite_friends_option",INVITE_VIA_SMS_OPTION:"invite_via_sms_option",SHARE_INVITE_OPTION:"share_invite_option",SHARE_MESSAGE_OPTION:"share_message_option",PLAN_BUTTON:"plan_button",TAG_EVENT_CTA:"tag_event_cta",OPEN_MESSAGE_BUTTON:"open_message_button",BOOST_BUTTON:"boost_button",PIVOT_MESSAGE_CTA:"pivot_message_cta",INSIGHTS_DASHBOARD:"event_insights_dashboard",INSIGHTS_DETAIL_BUTTON:"insights_detail_button",INSIGHTS_DRILLDOWN:"insights_drilldown",INSIGHTS_RWA_ADMIN_SURVEY:"insights_rwa_admin_survey",INSIGHTS_RWA_ADMIN_DIALOG_LINK:"insights_rwa_admin_dialog_link",EDUCATION_UNIT:"education_unit",EDUCATION_UNIT_NEXT_LINK:"eduication_unit_next_link",EDUCATION_UNIT_CTA:"education_unit_cta",BUY_TICKETS_BUTTON:"buy_tickets_button",TICKET_CONTINUE_BUTTON:"ticket_continue_button",PURCHASE_TICKET_BUTTON:"purchase_ticket_button",VIEW_PURCHASED_TICKETS_BUTTON:"view_purchased_tickets_button",TICKET_CONFIRMATION:"ticket_confirmation",TICKET_PURCHASE_ERROR:"ticket_purchase_error",ASSIGN_GUEST_BUTTON:"assign_guest_button",ASSIGN_GUEST_SELECTOR:"assign_guest_selector",ORDER_DETAILS_DIALOG:"order_details_dialog",ORDER_DETAILS_DONE_BUTTON:"order_details_done_button",UNDO_ASSIGNMENT_CONFIRMATION:"undo_assignment_confirmation",UNDO_ASSIGNMENT_LINK:"undo_assignment_link",TICKET_ORDERS:"ticket_orders",TICKETS_PURCHASE_CARD:"tickets_purchase_card",SEE_MORE_TICKETS_LINK:"see_more_tickets_link",ADD_TICKETS_CARD:"add_tickets_card",ADD_TICKETS_BUTTON:"add_tickets_button",ADD_TICKETS_DIALOG:"add_tickets_dialog",ADD_TICKETS_LEARN_MORE_DIALOG:"add_tickets_learn_more_dialog",MEDIA_EFFECTS_CTA:"media_effects_cta",SOCAL_APP:"socal_app",SOCAL_LANDING_PAGE:"socal_landing_page",INSTALL_SOCAL_BUTTON:"install_socal_button",INSTALL_SOCAL_BUTTON_ANDROID:"install_socal_button_android",SOCAL_NOTIFY_ME_WHEN_AVAILBLE:"socal_notify_me_when_available",SOCAL_LANDING_PAGE_SIGNUP_FOR_FACEBOOK:"socal_signup_for_facebook",EVENTS_GUIDE:"events_guide",EVENTS_GUIDE_LINK:"events_guide_link",EVENTS_GUIDE_SUBGUIDE:"events_guide_subguide",EVENTS_GUIDE_PERFORMER_PAGE:"events_guide_performer_page",EVENTS_GUIDE_FRIENDS_NEARBY:"events_guide_friends_nearby",SEARCH_BAR:"search_bar",DISCOVERY_MAP:"discovery_map",DISCOVERY_LIST:"discovery_list",DISCOVERY_CATEGORY_PILL:"discovery_category_pill",DISCOVERY_SEARCH_ENTER:"discovery_search_enter",DISCOVERY_SEARCH_SUBMITTED:"discovery_search_submitted",DISCOVERY_SEARCH_CANCELLED:"discovery_search_cancelled",DISCOVERY_TIME_FILTER_TAPPED:"discovery_time_filter_tapped",DISCOVERY_TIME_FILTER_SELECTED:"discovery_time_filter_selected",DISCOVERY_TIME_FILTER_CANCELLED:"discovery_time_filter_cancelled",CALL_REMINDER_CANCEL_BUTTON:"call_reminder_cancel_button",CALL_REMINDER_PROMO_ITEM:"call_reminder_promo_item",CALL_REMINDER_PROMOBAR_ITEM:"call_reminder_promobar_item",CALL_REMINDER_ONE_HOUR_BUTTON:"call_reminder_one_hour_button",CALL_REMINDER_CUSTOM_BUTTON:"call_reminder_custom_date_button",CALL_REMINDER_SCHEDULE_CALL_BUTTON:"call_reminder_schedule_call_button",CALL_REMINDER_EVENT_EXIST_ALERT:"call_reminder_event_exist_conflict_alert",TOUR:"tour",TOUR_OTHER_EVENTS_IN_TOUR_CARD:"tour_other_events_in_tour_card",LOAD_MORE:"load_more",MAIN_CARD:"main_card",MAP_DIALOG:"map_dialog",MAP_LINK:"map_link",SHARE_TOUR_BUTTON:"share_tour_button",PAGE_UPCOMING_EVENTS_CARD:"page_upcoming_events_card",CREATE_TOUR_BUTTON:"create_tour_button",EDIT_TOUR_BUTTON:"edit_tour_button",CREATE_TOUR_DIALOG:"create_tour_dialog",EDIT_TOUR_DIALOG:"edit_tour_dialog",TOUR_UPCOMING_EVENT_LIST_CARD:"tour_upcoming_event_list_card",TOUR_PAST_EVENT_LIST_CARD:"tour_past_event_list_card",TOUR_RECOMMENDED_EVENT_LIST_CARD:"tour_recommended_event_list_card",PERMALINK_DUPLICATE:"permalink_duplicate",FRAME_CREATE_BUTTON:"frame_create_button",FRAME_EDIT_BUTTON:"frame_edit_button",FRAME_MANAGE_BUTTON:"frame_manage_button",FRAME_CREATE_RHC:"frame_create_rhc",FRAME_EDIT_RHC:"frame_edit_rhc",FRAME_MANAGE_RHC:"frame_manage_rhc",FRAME_TOGGLE:"frame_toggle",MESSENGER_POLL_POLL_UPSELL_BUTTON_IN_PLAN:"messenger_poll_poll_upsell_button_in_plan",MESSENGER_POLL_DATE_TIME_TYPE_BUTTON:"messenger_poll_date_time_type_button",MESSENGER_POLL_BASIC_TYPE_BUTTON:"messenger_poll_basic_type_button",MESSENGER_POLL_CREATE_BUTTON:"messenger_poll_create_button",MESSENGER_POLL_CANCEL_BUTTON:"messenger_poll_cancel_button",MESSENGER_POLL_ENTRY_POINT:"messenger_poll_entry_point",DISMISS_UPSELL_EVENT_NEWS_FEED:"dismiss_upsell_event_news_feed",UPSELL_EVENT_NEWS_FEED_CARD:"upsell_event_news_feed_card",INTERCEPT_PAGE_COMPOSER:"intercept_page_composer",INTERCEPT_CONTINUE_POST_BUTTON:"intercept_continue_post_button",MESSAGE_FRIENDS_CARD:"message_friends_card",TYPEAHEAD_ENTRY:"typeahead_entry",SHARE_TIME:"share_time",SEE_ALL_TIMES:"see_all_times",ACCEPT_COHOST_REQUEST:"accept_cohost_request",DECLINE_COHOST_REQUEST:"decline_cohost_request",UNDO_COHOST_RSVP:"undo_cohost_rsvp",CREATE_NO_TICKET_RADIO:"create_no_ticket_radio",CREATE_TICKET_LINK_RADIO:"create_ticket_link_radio",CREATE_REGISTRATION_RADIO:"create_registration_radio",CREATE_REQUEST_TICKETS_RADIO:"create_request_tickets_radio",LEARN_MORE_ABOUT_REGISTRATION:"learn_more_about_registration",CANNOT_DISABLE_REGISTRATION_NOTICE:"cannot_disable_registration_notice",SELF_SERVE_ADMIN:"self_serve_admin",SELF_SERVE_ADMIN_BANNER:"self_serve_admin_banner",SELF_SERVE_ADMIN_ORDERS:"self_serve_admin_orders",SELF_SERVE_ADMIN_ORDERS_NULL_STATE:"self_serve_admin_orders_null_state",SELF_SERVE_ADMIN_SEARCH_ORDERS:"self_serve_admin_search_orders",SELF_SERVE_ADMIN_SEARCH_ORDERS_NULL_STATE:"self_serve_admin_search_orders_null_state",SELF_SERVE_ADMIN_ORDERS_FILTER:"self_serve_admin_orders_filter",SELF_SERVE_ADMIN_DASHBOARD:"self_serve_admin_dashboard",SELF_SERVE_ADMIN_ORDER_DETAIL:"self_serve_admin_detail",SELF_SERVE_ADMIN_QR_CODE:"self_serve_qr_code",SELF_SERVE_CREATE_DIALOG_REGISTRATION_OPTIONS:"self_serve_create_dialog_registration_options",SELF_SERVE_FROM_GUESTLIST_DIALOG:"self_serve_from_guestlist_dialog",SELF_SERVE_FROM_REGISTERED_GUEST_CARD:"registration_management_link_in_card",SELF_SERVE_MESSAGE_LINK:"self_serve_message_link",SELF_SERVE_REQUEST_TICKETS_BUTTON:"self_serve_request_tickets_button",ADMIN_ORDER_LIST_CSV:"admin_order_list_csv",ADMIN_ORDER_LIST_PDF:"admin_order_list_pdf",CATEGORY:"category",UPCOMING_EVENTS_UNIT:"upcoming_events_unit",CARDS:"cards",FEED_UNITS:"feed_units",EDIT_BUTTON:"edit_button",PIN:"pin",SHARE:"share",EVENT_PERMALINK_SHARE_SNACKBAR:"event_permalink_share_snackbar",PERMALINK_SCREENSHOT_SHARE_BOTTOM_SHEET:"permalink_screenshot_share_bottom_sheet",PERMALINK_SCREENSHOT_SHARE_IN_NEWS_FEED_OPTION:"permalink_screenshot_share_in_news_feed_option",PERMALINK_SCREENSHOT_SHARE_IN_MESSENGER_OPTION:"permalink_screenshot_share_in_messenger_option",PERMALINK_SCREENSHOT_SHARE_IN_MORE_OPTION:"permalink_screenshot_share_in_more_option",EVENT_COMPOSER_MEDIA_BUTTONS:"event_composer_media_buttons",EVENT_COMPOSER_CAMERA:"event_composer_camera",EVENT_COMPOSER_GO_LIVE:"event_composer_go_live",EVENT_STICKER:"event_sticker",LOCAL_GUIDES:"local_guides",LOCAL_GUIDES_MAP:"local_guides_map",LOCAL_GUIDES_CARD:"local_guides_card",LOCAL_REVIEWS:"local_reviews",TAG_EVENT_SPROUT:"tag_event_sprout",EVENT_MICRO_ATTACHMENT:"event_micro_attachment",POPULAR_DATES_WITH_FRIENDS:"popular_dates_with_friends",UPCOMING_CHILD_TIMES:"upcoming_child_times",CHILD_DATES_VIEW:"child_dates_view"},surface:{UNKNOWN:"unknown",CAMERA:"camera",PERMALINK:"permalink",TOUR_PERMALINK:"tour_permalink",DASHBOARD:"dashboard",DASHBOARD_NEARBY:"dashboard_nearby",BOOKMARKS_MENU:"bookmarks_menu",NEWSFEED:"newsfeed",NETEGO_SUGGESTION:"netego_suggestion",SURFACE_NULL:"null",NOTIFICATIONS:"notifications_tab",PUSH_NOTIFICATIONS:"push_notifications",SEARCH:"search",CREATE_DIALOG:"create_dialog",EDIT_DIALOG:"edit_dialog",CANCEL_DIALOG:"cancel_dialog",INVITE_DIALOG:"invite_dialog",PAGE:"page",TIMELINE:"timeline",GROUP:"group",GROUPS_LANDING:"groups_landing",MESSAGE_DIALOG:"message_dialog",ACTIVITY_LOG:"activity_log",MESSAGING:"messaging",THREAD_SETTINGS:"thread_settings",EMAIL:"email",EXTERNAL:"external",SNOWFLAKE:"snowflake",IN_APP_BROWSER:"in_app_browser",SIDEBAR:"sidebar",COMPOSER:"composer",ENTITY_CARD:"entity_card",TODAY_CARD:"today_card",ERROR_DIALOG:"error_dialog",GUEST_LIST:"guest_list",PHOTO_VIEWER:"photo_viewer",STORY_FLYOUT:"story_flyout",MICROSITE:"microsite",BOOKMARKS_SEE_ALL:"bookmarks_see_all",PAGES_COMPOSER:"pages_composer",POST_PAGE:"post_page",INGESTION:"ingestion",PROFILE_BROWSER:"profile_browser",UNIT_TEST:"unit_test",HOVERCARD:"hovercard",REPORT_FLOW:"report_flow",FRIENDS_ACTIVITIES:"friend_activities",INTERN_EVENT_PAGE:"intern_event_page",ADD_TO_PAGE_DIALOG:"add_to_page_dialog",HOME:"home",EMAIL_COMPOSER:"email_composer",EMAIL_PERMALINK:"email_permalink",ASYNC_JOB:"async_job",TICKER:"ticker",SETTINGS:"settings",LOGIN:"login",GAMETIME:"gametime",DISCOVER_FILTER_LIST:"discover_filter_list",INSIGHTS_DASHBOARD:"insights_dashboard",INSIGHTS_DRILLDOWN:"insights_drilldown",ME_TAB:"me_tab",EVENT_DISCOVER_QUERY:"event_discover_query",BIRTHDAY_DASHBOARD:"birthday_dashboard",LOCAL_PAGE:"local_serp",LOCAL_SURFACE:"local_surface",SHARE_LINK:"share_link",SOCAL:"socal",SOCAL_EVENTS_FEED:"socal_events_feed",SOCAL_CALENDAR:"socal_calendar",SOCAL_DISCOVERY:"socal_discovery",SOCAL_SETTINGS:"socal_settings",SOCAL_LANDING_PAGE:"socal_landing_page",SOCAL_LANDING_PAGE_MTOUCH:"socal_landing_page_mtouch",BUY_TICKETS:"buy_tickets",SMS_PERMALINK:"sms_permalink",AYMT_TIP:"aymt_tip",ANDROID_COPY_LINK:"android_copy_link",ANDROID_ACTION_SHEET:"android_action_sheet",IOS_COPY_LINK:"ios_copy_link",IOS_ACTION_SHEET:"ios_action_sheet",EVENT_COLLECTIONS:"events_collection",CALL_TAB:"call_tab",CONTEXTUAL_RECOMMENDATIONS:"contextual_recommendations",MESSENGER_CHAT_TAB:"messenger_chat_tab",SCHEDULED_QUEUE:"scheduled_queue",PAGES_BROWSER:"pages_browser",AYMT_HOMEPAGE_PANEL:"aymt_homepage_panel",CITY_GUIDES:"city_guides",EVENTS_GUIDE:"events_guide",FACEBOOK_STORY:"facebook_story",FACEBOOK_DIRECT:"facebook_direct",HOLIDAY:"holiday",EVENTS_CAMPAIGN:"events_campaign",EVENTS_TICKETING_CAMPAIGN:"events_ticketing_campaign",MULTI_JOIN_NEARBY:"multi_join_nearby",MARKETPLACE:"marketplace",TICKETS_REGISTRATION_SETTINGS:"tickets_registration_settings",SELF_SERVE_ADMIN:"self_serve_admin",TOP_TOOLBAR:"top_boolbar",MESSENGER_COM:"messenger_com",LIGHTWEIGHT_EVENT_SETTINGS:"lightweight_event_settings",REGISTRATION_IN_GUESTLIST_DIALOG:"registration_in_guestlist_dialog",MARKETPLACE_TICKETS:"marketplace_tickets",EVENTS_STORIES_AVATAR:"events_stories_avatar",LOCAL_GUIDES:"local_guides",APP_INTEGRATION_IMPORTER:"app_integration_importer",REGISTRATION_IN_CARD:"registration_management_link_in_card",EVENT_PERMALINK_REGISTRATION_TAB:"event_permalink_registration_tab",FACEPILE_IN_GUEST_LIST:"facepile_in_guest_list",INVITE_FLOW:"invite_flow",MAKE_PLANS_FLOW:"make_plans_flow",PUBLISHING_TOOLS:"publishing_tools",PUBLISHED_EVENTS_TAB:"published_events_tab",DRAFT_EVENTS_TAB:"draft_events_tab",SCHEDULED_EVENTS_TAB:"scheduled_events_tab",ARCHIVED_EVENTS_TAB:"archived_events_tab",TOUR_EVENTS_TAB:"tour_events_tab",TOURS_TAB:"tours_tab",TICKET_ORDER:"ticket_order",MAKE_PLAN_DIALOG:"make_plan_dialog"},mechanism:{UNKNOWN:"unknown",MECHANISM_NULL:"null",SURFACE:"surface",MAIN_LIST:"main_list",PREVIEW_UNIT:"preview_unit",PREVIEW_UNIT_NULL_STATE:"preview_unit_null_state",LIST_VIEW:"list_view",PERMALINK:"permalink",PERMALINK_ACTION_BAR:"permalink_action_bar",PERMALINK_COMPOSER:"permalink_composer",PERMALINK_NATIVE_TEMPLATE_SHARE_CARD:"permalink_native_template_share_card",FEED_STORY:"feed_story",TOUR_FEED_STORY:"tour_feed_story",COVER_PHOTO_UNIT:"cover_photo_unit",BOOKMARKS:"bookmarks",NOTIFICATIONS:"notifications",NOTIFICATION_SETTINGS:"notification_settings",EXTERNAL_REFERRER:"external_referrer",EXTERNAL_NO_REFERRER:"external_no_referrer",DASH_FILTER:"dashboard_filter",SEARCH_RESULTS:"search_results",SEARCH_NO_RESULTS:"search_no_results",REMINDERS:"reminders",SUGGESTION_EGO:"suggestion_ego",INVITES_EGO:"invites_ego",RHC:"RHC",EGO_STORY:"ego_story",MESSAGE_BUTTON:"message_button",RESCHEDULE_POST_DIALOG:"reschedule_post_dialog",SEND_BUTTON:"send_button",CANCEL_BUTTON:"cancel_button",LOCATION_PICKER:"location_picker",TIME_PICKER:"time_picker",HEADER:"header",CONTEXT_ROW:"context_row",ATTACHMENT:"attachment",RELATED_EVENTS_PIVOT:"related_events_pivot",WALL:"wall",HOST_EVENTS_CARD:"host_events_card",RELATIONSHIP_BAR:"relationship_bar",DRAFT_BANNER:"draft_banner",SCHEDULED_BANNER:"scheduled_banner",SUGGEST_EDIT_BAR:"suggest_edit_bar",MEGAPHONE:"megaphone",SOCIAL_PLUGIN:"social_plugin",CITY_PAGE_EVENTS_UNIT:"city_page_events_unit",PAGE_CREATE_DIALOG:"page_create_dialog",PAGES_COMPOSER:"pages_composer",USER_CREATE_DIALOG:"user_create_dialog",GROUP_CREATE_DIALOG:"group_create_dialog",COPY_CREATE_DIALOG:"copy_create_dialog",HOVERCARD:"hovercard",COMPARISON_CARDS:"comparison_cards",SUBSCRIBED_EVENT_DIALOG:"subscribed_dialog",GUEST_LIST:"guest_list",ALBUM_BUTTON:"album_button",RELATED_EVENT_BUTTON:"related_event_button",INVITE_THROUGH_MESSENGER:"invite_through_messenger",EVENT_YOU_MAY_JOIN_EMAIL:"event_you_may_join_email",SEND_TO_GROUP:"send_to_group",GUEST_LIST_EMAIL_BUTTON:"guest_list_email_button",GUEST_LIST_EMAIL_DRAFT_BUTTON:"guest_list_draft_button",GUEST_LIST_EMAIL_CANCEL_BUTTON:"guest_list_email_cancel_button",GUEST_LIST_EMAIL_SEND_BUTTON:"guest_list_email_send_button",REACTION_UNIT:"reaction_unit",ACTION_BAR:"action_bar",CHECKIN_COMPOSER:"checkin_composer",CONTEXT_ROW_UBER_BUTTON:"context_row_uber_button",TICKET_INFO:"ticket_info",UNIT_TEST:"unit_test",INLINE_COMPOSER_PHOTO_PROMPT:"inline_composer_photo_prompt",PHOTOS_PAGE:"photos_page",NO_LOCATION:"no_location",LOCATION_STALE:"location_stale",LOCATION_INACCURATE:"location_inaccurate",LOCATION_CONTEXT_ROW:"location_context_row",NO_RESULTS:"no_results",INSIGHTS_MODULE:"insights_module",PAGE_INSIGHTS_DASHBOAD:"page_insights_dashboard",INSIGHTS_TAB_REACH:"insights_tab_reach",INSIGHTS_TAB_PAGE_VIEWS:"insights_tab_page_views",INSIGHTS_TAB_CONNECTIONS:"insights_tab_connections",INSIGHTS_TAB_ACTIONS:"insights_tab_actions",INSIGHTS_TAB_TICKET_CLICKS:"insights_tab_ticket_clicks",INSIGHTS_TAB_TICKET_DEVICES:"insights_tab_ticket_devices",INSIGHTS_TAB_DEMOGRAPHICS:"insights_tab_demographics",INSIGHTS_TAB_AUDIENCE_DEVICES:"insights_tab_audience_devices",TIP:"tip",REMINDER:"reminder",REMINDER_WORD:"reminder_word",REMINDER_ACTION_SHEET:"reminder_action_sheet",REMINDER_LOCATION_MAP:"reminder_location_map",REMINDER_CHANGE_NAME_ALERT:"reminder_change_name_alert",REMINDER_NONE_ACTIVE_ALERT:"reminder_none_active_alert",REMINDER_CUSTOMIZATION:"reminder_customization",REMINDER_BANNER:"reminder_banner",EVENT_REMINDER_SETTINGS:"event_reminder_settings",REMINDER_ADMIN_TEXT:"reminder_admin_text",TRIGGER_WORD:"trigger_word",TRIGGER_CTA:"trigger_cta",TRIGGER_AGENT:"trigger_agent",REMINDER_XMA:"reminder_xma",MESSENGER_COMPOSER:"messenger_composer",MESSENGER_THREAD_SETTINGS:"messenger_thread_settings",MESSENGER_REMINDER_NUX:"messenger_reminder_nux",EDIT_REMINDER:"edit_reminder",CREATE_PROMPT:"create_prompt",EVENT_DISCOVER_FRIENDS_EVENTS_HSCROLL:"friends_events_hscroll",EVENT_DISCOVER_SUGGESTED_EVENTS_HSCROLL:"suggested_events_hscroll",EVENT_DISCOVER_TIME_SELECTOR:"top_time_selector",EVENTS_DISCOVER_CATEGORIES:"event_discover_categories",EVENTS_DISCOVER_TOP_TIME_FILTER:"event_discover_top_time_filter",TICKET_PURCHASE_DIALOG:"ticket_purchase_dialog",ADD_TICKETING_FLOW:"add_ticketing_flow",GROUPS_COMPOSER:"groups_composer",UPCOMING_EVENTS_IN_CITY:"upcoming_events_in_city",UPCOMING_EVENTS_AT_VENUE:"upcoming_events_at_venue",UPCOMING_EVENTS_WITH_PRIMARY_ROLE:"upcoming_events_with_primary_role",UPCOMING_EVENTS_FOR_GROUP:"upcoming_events_for_group",LOCAL_UPCOMING_EVENTS_IN_CITY:"local_upcoming_events_in_city",INVITE_OFF_FB_INFO_BAR:"invite_off_fb_permalink_info_bar",INVITE_OFF_FB_PERMALINK_LINK:"invite_off_fb_permalink_link",INVITE_OFF_FB_INVITE_BUTTON_DROPDOWN:"invite_off_fb_invite_button_dropdown",WARM_START:"warm_start",COLD_START:"cold_start",SEARCH_BUTTON:"search_button",CALL_REMINDER_CALL_LOG:"call_reminder_call_log",CALL_REMINDER_NEW_SCHEDULE:"call_reminder_new_schedule",CALL_REMINDER_XMA_SCHEDULE_CALL:"call_reminder_xma_schedule_call",CALL_REMINDER_ACTION_SHEET:"call_reminder_action_sheet",CALL_REMINDER_EVENT_EXIST_ALERT:"call_reminder_event_exist_conflict_alert",CALL_REMINDER_UPDATE_ALERT:"call_reminder_update_alert",PAGE_UPCOMING_EVENTS_CARD:"page_upcoming_events_card",PAGE_PAST_EVENTS_CARD:"page_past_events_card",BUY_TICKETS_CTA:"buy_tickets_cta",BUY_TICKETS_PRICE_LABEL:"buy_tickets_price_label",TICKETING_ONSITE_FLOW:"onsite_flow",BUY_TICKETS_ONSITE_PIVOT:"buy_onsite_tickets_pivot",CONTEXTUAL_RECOMMENDATIONS:"contextual_recommendations",EVENT_DISCOVER_SEE_MORE_PHOTO:"event_discover_see_more_photo",SUGGESTION_FEED_UNIT:"suggestion_feed_unit",NETEGO_SUGGESTION:"netego_suggestion",POPULAR_NEARBY:"popular_nearby",EVENTS_TAB:"events_tab",CALENDAR_TAB:"calendar_tab",HOSTING_TAB:"hosting_tab",POPULAR_SOCIAL:"popular_social",RELATED_HISTORY:"related_history",FRIENDS_ONLY:"friends_only",NON_FRIENDS:"non_friends",ADMIN_BANNER:"admin_banner",COHOST_ACCEPTANCE_UNIT:"cohost_acceptance_unit",HOME_TAB_SEE_SUGGESTED_EVENTS_TODAY:"home_tab_see_suggested_events_today",HOME_TAB_SEE_SUGGESTED_EVENTS_TOMORROW:"home_tab_see_suggested_events_tomorrow",HOME_TAB_SEE_SUGGESTED_EVENTS_FUTURE:"home_tab_see_suggested_events_future",HOME_TAB_SEE_ALL_UPCOMING_EVENTS_TAP:"home_tab_see_all_upcoming_events_tap",CALENDAR_TAB_EVENT:"calendar_tab_event",CALENDAR_TAB_INVITATION:"calendar_tab_invitation",CALENDAR_TAB_SUGGESTION:"calendar_tab_suggestion",HOME_TAB_UPCOMING_EVENT:"home_tab_upcoming_event",HOME_TAB_NEXT_EVENT:"home_tab_next_event",HOME_TAB_TRENDING_EVENTS:"home_tab_trending_events",HOME_TAB_PAGE_AND_GROUP_EVENTS:"home_tab_page_and_group_events",HOME_TAB_TODAY_EVENTS:"home_tab_today_events",HOME_TAB_THIS_WEEK_EVENTS:"home_tab_this_week_events",HOME_TAB_FUTURE_EVENTS:"home_tab_future_events",HOME_TAB_FRIENDS_EVENTS:"home_tab_friends_events",HOME_TAB_HERO_EVENTS:"home_tab_hero_events",HOSTING_TAB_UPCOMING_EVENT:"hosting_tab_upcoming_event",HOSTING_TAB_DRAFT_EVENT:"hosting_tab_draft_event",HOSTING_TAB_PAST_EVENT:"hosting_tab_past_event",LOCATION_SETTINGS:"location_settings",TOURS:"tours",TOUR_MAP:"tour_map",SHARE_BUTTON_DROPDOWN:"share_button_dropdown",SECONDARY_SHARE_BUTTON_DROPDOWN:"secondary_share_button_dropdown",FEED_ATTACHMENT:"feed_attachment",CHECKIN_EVENTS_AT_PLACE_CHAINING_PIVOT:"checkin_events_at_place_chaining_pivot",OTHER_EVENTS_IN_TOUR_CARD:"other_events_in_tour_card",PAGE_UPCOMING_TOUR_EVENTS_CARD:"page_upcoming_tour_events_card",PERMALINK_EVENT_INFORMATION:"event_information",PERMALINK_TAB_BAR:"event_tab_bar",SOCIAL_CONTEXT:"social_context",MEDIA_EFFECTS:"media_effects",DASHBOARD_INVITES_TAB:"dashboard_invites_tab",MESSENGER_POLL_CALENDAR:"messenger_poll_calendar",MESSENGER_POLL_POLL_TYPE_SELECTOR:"messenger_poll_poll_type_selector",CAMERA_FRAMES_PAGELET:"camera_frames_pagelet",DASHBOARD_HOME_DISCOVERY_CATEGORIES:"dashboard_home_discovery_categories",DASHBOARD_HOME_DISCOVERY_FILTER:"dashboard_home_discovery_filter",DASHBOARD_HOME_THREE_UP:"dashboard_home_three_up",PERMALINK_SHARE_CTA:"permalink_share_cta",PERMALINK_SHARE_SNACKBAR:"permalink_share_snackbar",PERMALINK_SCREENSHOT:"permalink_screenshot",SNACKBAR_ACTION_BUTTON:"snackbar_action_button",STORIES_VIEWER:"stories_viewer",HEADER_CTA_BUTTON:"header_cta_button",CALENDAR_LIST:"calendar_list",CALENDAR_LIST_PAGING:"calendar_list_paging",BIRTHDAY_LIST_PAGING:"birthdays_list_paging",HOSTING_LIST_PAGING:"hosting_list_paging",UPCOMING_EVENTS_CARD:"upcoming_events_card",MESSAGE_FRIENDS_CARD:"message_friends_card",HOME_TAB_FEED_UNITS:"home_tab_feed_units",HOME_TAB_SEE_ALL_UPCOMING_EVENTS:"home_tab_see_all_upcoming_events",HOME_TAB_CATEGORIES:"home_tab_categories",HOME_EVENTS_NEARBY_MAP_VIEW:"home_events_nearby_map_view",UPCOMING_TIMES_CARD:"upcoming_times_card",SHARE_INFO_CARD_IN_PERMALINK:"share_info_card_in_permalink",INTERCEPT_PAGE_COMPOSER:"intercept_page_composer",EVENT_REGISTRATION_PAGELET:"event_registration_pagelet",TICKETS_PURCHASE_CARD:"tickets_purchase_card",ORDER_DETAILS_DIALOG:"order_details_dialog",ORDER_FOOD_CARD:"order_food_card",SELF_SERVE_ADMIN:"self_serve_admin",SELF_SERVE_MESSAGE_ROW:"self_serve_message_row",SELF_SERVE_TICKETING_ROW:"self_serve_ticketing_row",MARKETPLACE_TICKETS_LIST_ROW:"marketplace_tickets_list_row",GUEST_LIST_DIALOG:"guest_list_dialog",REGISTERED_GUEST_CARD:"registered_guest_card",PUBLISHING_TOOLS:"publishing_tools",PUBLISHING_TOOLS_UPSELL:"publishing_tools_upsell",ROW_PIVOT:"row_pivot",POST_TO_EVENT_REVIEW:"post_to_event_review",POST_TO_EVENT_POST:"post_to_event_post",POST_TO_EVENT_CLOSE:"post_to_event_close",CHILD_EVENT_HEADER:"child_event_header",CHILD_EVENT_FOOTER:"child_event_footer",POPULAR_DATES_WITH_FRIENDS:"popular_dates_with_friends",UPCOMING_CHILD_TIMES:"upcoming_child_times",CHILD_DATES_VIEW:"child_dates_view",CHILD_TIME_SERIES:"child_time_series",TOUR_ABOUT_CARD:"tour_about_card",TOUR_UPCOMING_EVENT_LIST_CARD:"tour_upcoming_event_list_card",TOUR_PAST_EVENT_LIST_CARD:"tour_past_event_list_card",TOUR_FEATURED_PAGES_CARD:"tour_featured_pages_card",TOUR_RECOMMENDED_EVENT_LIST_CARD:"tour_recommended_event_list_card",TOUR_ADMIN_ACTION_BAR:"tour_admin_action_bar"}}}),null);
__d("FundsAvailability",[],(function a(b,c,d,e,f,g){f.exports={NONE:0,FUNDS_AVAILABILITY_NA:65,FUNDS_AVAILABILITY_IMMEDIATE:73,FUNDS_AVAILABILITY_SAME_DAY:83,FUNDS_AVAILABILITY_NEXT_DAY:78,FUNDS_AVAILABILITY_FIVE_DAY:70,FUNDS_AVAILABILITY_UNKNOWN:85,FUNDS_AVAILABILITY_ONE_THREE_DAY:79,FUNDS_AVAILABILITY_CROSS_BORDER:66,FUNDS_AVAILABILITY_CROSS_BORDER_FAST_FUNDS:67,FUNDS_AVAILABILITY_DOMESTIC:68,FUNDS_AVAILABILITY_DOMESTIC_FAST_FUNDS:69}}),null);
__d("IrisProtocolMessageLifetime",[],(function a(b,c,d,e,f,g){f.exports={TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:3e4,TTL_1MINUTE:6e4,TTL_3MINUTES:18e4,TTL_5MINUTES:3e5,TTL_10MINUTES:6e5,TTL_15MINUTES:9e5,TTL_30MINUTES:18e5,TTL_1HOUR:36e5,TTL_2HOURS:72e5,TTL_4HOURS:144e5,TTL_8HOURS:288e5,TTL_12HOURS:432e5,TTL_24HOURS:864e5}}),null);
__d("MercuryAPIArgsSource",[],(function a(b,c,d,e,f,g){f.exports={CHAT:"chat",JEWEL:"jewel",MERCURY:"mercury",MERCURYSYNC:"mercury_sync",WEBMESSENGER:"web_messenger",MESSENGER:"messenger"}}),null);
__d("MercuryAudioType",[],(function a(b,c,d,e,f,g){f.exports={AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"}}),null);
__d("MessageLiveLocationClientSyncProtocolStopReason",[],(function a(b,c,d,e,f,g){f.exports={EXPIRED:1,CANCELED:2,ARRIVED:3}}),null);
__d("MessengerView",[],(function a(b,c,d,e,f,g){f.exports={DETAIL:{COMPOSE:"detail/compose",THREAD:"detail/thread",PAYTHREAD:"detail/paythread",PAYFRIENDPICKER:"detail/payfriendpicker"},MASTER:{GROUPS:"master/groups",PAYMENT:"master/payment",PEOPLE:"master/people",RECENT:"master/recent",SUPPORT:"master/support",SEARCH:"master/search"}}}),null);
__d("MNCommercePageSetting",[],(function a(b,c,d,e,f,g){f.exports={COMMERCE_FAQ_ENABLED:"COMMERCE_FAQ_ENABLED",IN_MESSENGER_SHOPPING_ENABLED:"IN_MESSENGER_SHOPPING_ENABLED",COMMERCE_NUX_ENABLED:"COMMERCE_NUX_ENABLED",NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED:"NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED",STRUCTURED_MENU_ENABLED:"STRUCTURED_MENU_ENABLED",USER_CONTROL_TOPIC_MANAGE_ENABLED:"USER_CONTROL_TOPIC_MANAGE_ENABLED",COMPOSER_INPUT_DISABLED:"COMPOSER_INPUT_DISABLED"}}),null);
__d("PageCommItemStatus",[],(function a(b,c,d,e,f,g){f.exports={FOLLOW_UP:"FOLLOW_UP",DONE:"DONE",TODO:"TODO",SPAM:"SPAM"}}),null);
__d("SimpleNUXMessageTypes",[],(function a(b,c,d,e,f,g){f.exports={AD_BREAK_PORTAL_DISABLE_NUX:"1293579247404404",AD_BREAK_PORTAL_ENABLE_NUX:"1487233744681276",AD_BREAKS_NOTICE_NUX:"518404145186372",AD_CANVAS_EDITOR_SWIPE_TO_OPEN:"1088399387945919",AD_CANVAS_EDITOR_TOOLBAR_NUX:"1733450480268575",AD_CANVAS_INLINE_BUILDER_ACQUISITION_TOUR:"175599466304273",AD_CANVAS_INLINE_BUILDER_BRAND_RETAIL_TOUR:"727232757449618",AD_CANVAS_INLINE_BUILDER_PRODUCT_TAGGING_TIP:"150245152226226",AD_CANVAS_INLINE_CREATION_FINISH_NUX:"177120099488520",AD_CANVAS_WEB_PARSING_BUILDER_TOUR:"433843320301656",AD_CANVAS_WEB_PARSING_PREVIEW_BUTTON_NUX:"113392532512232",AD_STUDY_POWER_CALCULATOR_V2_NUX:"902884353135091",ADHAWK_NEW_USER_GUIDE:"172316909925943",ADLITMUS_CONTEXTUAL_FILTER:"1241923179228807",ADLITMUS_CONTEXTUAL_FILTER_2:"960324240770046",ADLITMUS_DISAPPROVAL_CHART:"669286016585000",ADLITMUS_METRIC_SELECTOR:"995282707283022",ADLITMUS_OVERVIEW_BUTTONS:"1470674259618716",ADLITMUS_OVERVIEW_COLUMN_BUTTON:"978496702250952",ADLITMUS_OVERVIEW_COLUMN_BUTTON_2:"1170176333079647",ADLITMUS_POCILY_DOCUMENT:"1869055203378228",ADS_AUDIENCE_ECA_NUX:"116870535620102",ADS_AUDIENCE_SHARING_NUX:"1789086031311051",ADS_BUSINESS_ACTIVITY_FEED_NUX:"849351935208523",ADS_CF_LOCAL_TARGETING_NUX:"798810653560813",ADS_CF_MOBILE_APP_INSTALLS_CATALOG_NUX:"728822493950056",ADS_CF_PPE_CTA_EXISTING_POST_NUX:"342824272805137",ADS_COLUMNS_SET_EDITOR_COST_PER_HOUSEHOLD_RESULT_COLUMN_NUX:"749475198558681",ADS_COLUMNS_SET_EDITOR_HOUSEHOLD_CATEGORY_NUX:"332105227227421",ADS_CONVERSION_WINDOW_DROPDOWN_NUX:"1817623761817619",ADS_DATE_COMPARISON_DATE_PICKER_NUX:"685948288232047",ADS_DAY_PARTING_TIMEZONE_NUX:"247476535702294",ADS_DELIVERY_DASH_ENTRY_POINT_NUX:"1824865001088063",ADS_DELIVERY_DEFAULT_VIEW_CONVERSION_WINDOW_NUX:"454906951553133",ADS_DLO_ENTRYPOINT_NUX:"113757402590090",ADS_DPA_OFFSITE_CONVERSION_DEFAULT:"1058542194184213",ADS_DYNAMIC_LOCAL_AWARENESS_UPSELL:"180996948924978",ADS_DYNAMIC_LOCAL_AWARENESS_USE_TOKENS:"1535166470146858",ADS_GUIDE_AD_FORMAT_NUX:"174587579760406",ADS_GUIDE_PLACEMENT_NUX:"1971344056440935",ADS_INSIGHTS_DMA_BREAKDOWN_NUX:"1598599046824747",ADS_INSIGHTS_LINK_CLICK_DESTINATION_BREAKDOWN_NUX:"479078355817017",ADS_INSIGHTS_PREDICTED_EARL_UPDATE_NUX:"826955334159872",ADS_INTERFACES_API_MIGRATION_DRAFT_WARNING:"667444766786957",ADS_MGMT_DRAFT_RETURNING:"1449576008464524",ADS_OFFER_CLAIMS_COLUMN_CHANGE_NUX:"351101001968443",ADS_PAYMENTS_BILLING_PAYMENT_SETTINGS:"431533470581332",ADS_PE_SIDEPANE_UPDATES_NUX:"259358534521664",ADS_PROBABILISTIC_PACER_NUX:"590450231150410",ADS_REPORTING_ACCOUNT_OVERVIEW_M2_NUX:"298888623869132",ADS_REPORTING_ACCOUNT_OVERVIEW_NUX:"1814175038845604",ADS_REPORTING_CLICK_ONLY_ATTR_WINDOW_NOTICE:"1130832730354375",ADS_REPORTING_COLUMN_SUGGESTIONS_NUX:"1099582153501373",ADS_REPORTING_DATE_COMPARISON_EXPORT_NUX:"301296300267531",ADS_REPORTING_DATE_COMPARISON_TABLE_NUX:"940995439364307",ADS_REPORTING_PREDICTED_EARL_UPDATE_NUX:"1668840766479058",ADS_ROAS_UPSELL_FOR_PURCHASE_EVENT_NUX:"256432508156448",ADS_SSCL_TEST_LANDING_NUX:"143106536344006",ADS_STORE_VISIT_INSIGHTS_METRIC_CHANGE_2017_03_30:"417471498622749",ADS_STORE_VISIT_INSIGHTS_METRIC_CHANGE_2017_04_16:"1823674441288928",ADS_STORE_VISITS_OBJECTIVE_UPSELL:"299755653712594",ADS_TARGETING_BEST_PERFORMING_DESCRIPTOR:"627419454089322",ADS_TARGETING_CUSTOM_AUDIENCE_CREATION_MENU:"951445441641663",ADS_TARGETING_CUSTOM_AUDIENCE_NUX:"476707339197159",ADS_TARGETING_FB_ENGAGEMENT_CUSTOM_AUDIENCE_NUX:"703640899836073",ADS_TARGETING_PAGE_LAL_NUX:"1103767696336249",ADS_TARGETING_SUGGESTION_NUX:"1719099461698096",ADS_WCA_ADVANCED_NUX:"499230403617848",ALBUMSV2_ANY_POST_TYPE_WWW:"1219379658190068",ALBUMSV2_FEED_VIEW_SWITCHER:"810166682493534",ANALYTICS_CUSTOM_DASHBOARDS_PIN_NUX:"1867718276817428",ANALYTICS_MEGAMENU_SETTINGS_NUX:"1889197211300903",ANALYTICS_NEW_EVENT_SOURCE_GROUP_BUTTON:"121331125079600",ANALYTICS_OVERLAP_IN_OVERVIEW:"1937298586554814",ANALYTICS_WEB_SESSIONS:"146345559454499",APP_EVENT_RELABELING_REPORTING_NUX:"386738931761148",APP_REVIEW_COMMENTS_NUX:"1632649840328509",AR_STUDIO_DOWNLOAD_BANNER_NUX:"885430694943348",ARCADE_RHC_DOWNLOAD_UNIT_NUX:"1734071506875325",AUDI_TOPIC_INTERNAL_NUX:"1257327344413026",AUDI_TOPIC_NUX:"813064605537382",AUDIENCE_INLINE_SAVE_NUX:"387683724758581",AUDIENCE_NETWORK_AD_SPACES_NUX:"402522293481325",AUTHOR_PUBLISHER_SETTINGS_NUX:"279509335883553",AUTHOR_PUBLISHER_SETTINGS_PENDING_NUX:"1321307767997459",AVERAGE_PRICE_PACING_NUX:"256331691368624",BM_VERIFY_DOMAINS_EDU_CARD:"339586689840276",BOOST_POST_DELIVERY_TYPE_NUX:"1123576301036863",BOOSTED_COMPONENT_CTA_SELECTOR_NUX:"149361148834083",BOOSTED_COMPONENT_INSTAGRAM_LIBRARY:"1109521299111498",BOOSTED_COMPONENT_WHATSAPP_CTA_NUX:"118992258780777",BOOSTED_LOCAL_AWARENESS_SAVE_CTA_NUX:"176805122743554",CALENDAR_ONE_ON_ONE_MEETING_NUX:"1905436429481352",CALENDAR_RECURRING_MEETING_NUX:"331797243912023",CALENDAR_WAITLIST_FILTER_NUX:"110490779666789",CALENDAR_WAITLIST_SUGGESTED_NUX:"485952911766371",CANVAS_DRAGGABLE_COMPONENTS:"788423921300532",CASUAL_GROUP_RENAME_NUX:"1965678543700297",CASUAL_GROUP_TAB:"1434164043346540",CEP_INTERN_PROFILE_CAREER_TAB_INTRO_GUIDE:"298911160622975",CEP_MY_REACHOUTS_TAB:"221212195087647",CEP_PROFILE_EXPERIENCE_SECTION:"163171450947968",CEP_PROFILE_EXPERIENCE_SECTION_CHECKLIST_ITEM:"482607872139050",CEP_PROFILE_SEARCH_BOOTCAMP_TAB:"1728896537166892",CEP_PROFILE_SEARCH_DRAWER_REACHOUTS_TAB:"534980843528468",CEP_PROFILE_SKILLS_SECTION:"178909029337596",CEP_PROFILE_SKILLS_SECTION_CHECKLIST_ITEM:"1869426150052875",CEP_PROFILE_STATUS_SECTION:"153981158668623",CEP_PROFILE_STATUS_SECTION_CHECKLIST_ITEM:"520137911672179",CEP_PROFILE_SUMMARY_SECTION:"131926344119160",CEP_PROFILE_SUMMARY_SECTION_CHECKLIST_ITEM:"168654350379562",CEP_PROFILE_SURVEY_SECTION:"121591395170074",CEP_PROFILE_SURVEY_SECTION_CHECKLIST_ITEM:"1810528908987809",CEP_REACHOUTS_SEEN_TEMP_TOP_BAR:"1524206844326815",CF_BRAND_STUDY_NUX:"130406080680692",CF_DEFAULT_MPA_NUX:"1630553150535001",CF_SLIDESHOW_OBJECTIVE_NUX:"707154356087550",CIC_CAROUSEL_CARD:"762809470522872",CIVIC_ENGAGEMENT_ISSUE_TAGGER:"1881957508758286",CMS_EDITOR_AUTOSAVE_INTRO:"1333265340036015",CMS_EDITOR_DUPLICATE_BUTTON:"1816847535213663",CMS_EDITOR_ERROR_MESSAGE_RED_DOT:"543132379216561",CMS_EDITOR_KEYBOARD_SHORTCUTS_BUTTON:"1315068478533683",CMS_EDITOR_LOCALE_SWITCHER_NUX:"392206391156099",CMS_EDITOR_MEDIA_GROUP_MANAGER_BUTTON:"1204201476282432",CMS_EDITOR_V3_INTRO_DIALOG:"403928113338093",CMS_HISTORY_REVERT_LINK_NUX:"651145288381986",CMS_SEARCH_AND_REPLACE_IGNORE_CASE_CHECKBOX:"407488016284957",CMS_SEARCH_COMPONENT_NUX:"1765875226969195",CMS_SEARCH_NUX_TOUR:"587356531436785",CMS_SNIPPETS_BUTTON_NUX:"314858175560645",CMS_TAG_EXPLORER_NUX_TOUR:"1064871376962611",COMMERCE_MN_BOT_NUX:"313627252311314",COMPOSER_SHARESHEET:"1848515345468781",COMPOSER_SHARESHEET_V2:"769400196560967",CONNECTIONS_SECTION:"434002046758336",CONNECTIONS_SECTION_WITHOUT_VIDEO:"1540728442877433",CONTACT_YOUR_REP_COMPOSER_TAGGER:"1926298284317737",CREATE_HOUSEHOLD_AUDIENCE_NUX:"759881217528254",CREATE_NEW_ENGAGEMENT_AUDIENCE_NUX:"558011581034402",CREATE_SLIDESHOW_ADS_NUX:"886513371441875",CREATIVE_CANVAS_TEMPLATE_NUX:"564937670372078",CRISIS_MARK_OTHER_SAFE:"202253916649690",CRISIS_MARK_SELF_SAFE:"653763228018496",CRM_APP_NUX:"160369447652922",CRM_BOB2_PHASE2_VIDEO_NUX:"444952409195109",CRM_BOB2_PHASE2_VIEWS:"115658465686242",CRM_BOB2_TOTALS_ROW_NUX:"404187036627911",CRM_BOB2_VIDEO_NUX:"758053681035569",CRM_CONTACTS_IMPORT_EXPORT_NUX:"258871664612559",CRM_EMAIL_SIGNATURE_UPDATE:"182426375619911",CRM_FALCON_DELIVERY:"930958967073728",CRM_FEED_ACTIONS_NUX:"310049402756165",CRM_FEED_AD_DISAPPROVAL:"1635332980099458",CRM_FEED_AD_DISAPPROVAL_TOUR:"1372832786061145",CRM_FEED_FILTER_COLLAPSE:"1267729259935542",CRM_FEED_NAV_NUX:"1119009298165882",CRM_FEED_ORG_PAGE:"1790788867842141",CRM_FEED_PLAN_PAGE:"138431499974519",CRM_FEED_RECS:"1770321323216424",CRM_NEW_ACCOUNT_PLAN_PAGE:"309729909496558",CRM_NEW_NAV_NUX:"187031161861752",CRM_OPTIMAL_SOLUTIONS_GOAL_VIEW_TOGGLE:"508920649460219",CRM_OPTIMAL_SOLUTIONS_INTERNAL_NAV_NUX:"832480206919077",CRM_OPTIMAL_SOLUTIONS_NAV_NUX:"420293331663412",CRM_OPTIMAL_SOLUTIONS_TABLE_NUX:"788724514612835",CRM_OPTIMAL_SOLUTIONS_TREEMAP_NUX:"1673613846274820",CRM_ORG_FINANCIALS:"279531125724087",CRM_SETTINGS_NOTIFICATION:"136293466970974",CRM_SETTINGS_NOTIFICATION_OPT_OUT:"1352729128172034",CRST_ACTIVATE_DELIVERY:"379466019116547",CRST_COLLABORATION_AD_ACCOUNT_SELECTOR:"1962905610616960",CRST_COLLABORATION_BM_UPSELL:"677366185785209",CRST_COLLABORATION_CREATE_PROJECT:"393093704439360",CRST_COLLABORATION_MULTI_STEP_DIALOG:"125455191444648",CRST_DELIVER_AD_MANAGE_MOCKUPS_BUTTON:"1346563065437380",CRST_DELIVER_AD_MULTI_STEP_DIALOG:"285052618622049",CRST_INSPIRE_SHORT_VIDEO:"255866331566255",CRST_MOBILE_PREVIEW:"1747146378889382",CRST_MOBILE_PREVIEW_INTRO:"904117749711668",CRST_MOBILE_PREVIEW_SHARED:"502885896576282",CRST_SHARE_CREATIVE:"213694639031398",CRST_WELCOME_HERO:"1802127330074556",CTSCAN_SCANLAB_DIAGNOSTIC_LINK_NUX:"1018516858267721",CTSCAN_SCANLAB_EXP_LINK_NUX:"1687632451557881",CTSCAN_SCANLAB_TEST_LINK_NUX:"1413329522299861",CTSCAN_SCANLAB_TEST_STATUS_NUX:"1682721005388364",CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX:"858089674339212",DAILY_SHOW_NUX_TOUR:"128345940926172",DAIQUERY_NEW_VISUALIZATION:"1452036998249042",DAIQUERY_PUBLISH_OPTIONS:"1501733663251741",DAIQUERY_RUN_AS_NEW_QUERY:"175905129651258",DBPORTAL_CREATE_REPLICASET_BUTTON:"128261877878541",DBPORTAL_CREATE_SHARDMAP_BUTTON:"1834965906533194",DBPORTAL_NEW_FEATURE:"1028421077299781",DEVICE_LOGIN_CLOSE_BUTTON_NUX:"772951722838986",DEVSITE_ADNW_BUNDLE:"646184548874131",DEVSITE_ADNW_MEDIATION:"1373933542651411",DEVSITE_ADNW_MEDIATION_LEGAL:"1159456270801554",DEVSITE_APP_DASHBOARD_ADD_PRODUCT_NUX:"490448847821290",DEVSITE_APP_DASHBOARD_FB_ANALYTICS_NUX:"545627442289387",DEVSITE_BUGS_DETAILS_SUBSCRIBE_BUTTON:"1103088809711938",DEVSITE_BUGS_HOME_CREATE_LOCALIZED:"190127184825967",DEVSITE_BUGS_HOME_SEARCH_APPS:"810965742370194",DEVSITE_BUGS_HOME_SEARCH_PRESELECT_APP:"254472424907417",DEVSITE_BUGS_HOME_SEARCH_TAGS:"988491391232062",DEVSITE_BUGS_HOME_SELECT_TAGS:"1174329739252695",DEVSITE_BUGS_INPAGE_SUBMIT_SHORTCUT_NUX:"1814715518773401",DEVSITE_BUGS_SUBSCRIBE_MESSENGER:"289329894751031",DEVSITE_PURCHASE_AUTO_LOGGING_FEATURE_NUX:"452091918521208",DIA_PLUGIN_INTRODUCTION:"274822676191082",DIFFS_UNREAD_NUX:"278192215961935",DIRECT_SUPPORT_SUBSCRIBE_MESSENGER:"301320016925123",DR_RUNBOOK_NUX:"386619794795638",DYNAMIC_CATEGORY_ADS_GUIDANCE_TOUR:"1104047426393891",ENGAGEMENT_AUDIENCE_NUX:"1559597167698757",ESTIMATED_HOUSEHOLD_COMPOSITION_BREAKDOWN_NUX:"1473025366069618",ESTIMATED_HOUSEHOLD_INCOME_BREAKDOWN_NUX:"473631162994785",EVENT_PLAN_ENTRY_POINT_NUX:"118809038721180",EVENTS_COHOST_NUX:"437219733299406",EVENTS_IN_PUBTOOLS:"684033921782380",EVENTS_IN_PUBTOOLS_UPSELL:"483287258698911",EVENTS_MULTI_TIME_CREATE:"1356035991144461",EVENTS_REGISTRATION_ADMIN_TOOLBAR:"216949355491766",EVENTS_REGISTRATION_NUX:"1745687688806863",EVENTS_SHARE_TIME_INSTANCE:"219565385203014",EVENTS_TICKET_LINK_ON_SALE:"1438688649581020",EVENTS_TOUR_CREATE:"1499876763428847",EVENTS_UPLOAD_VIDEO:"472683263095412",FACET_DIVE_GROUP:"114560222574855",FAME_UPSELL_ADS_MANAGER_V1:"663318960534100",FB_DIRECT_WEB_EPHEMERALITY:"443405482682394",FBLEARNER_CLONE_HISTORY:"874591682650805",FBLEARNER_DAG:"1555701701416433",FBLEARNER_OP_OUTPUTS:"1724118081167329",FBLEARNER_OPT_OUT_SURVEY:"495303504008626",FBLEARNER_RECURRING_HISTORY:"1184494798247928",FBLEARNER_RECURRING_JOB_EDITOR:"1031446560269781",FBLEARNER_START_RECURRING:"330315104023633",FBLN_ACARD_HOME:"1037460092995696",FBLN_BATCH:"1190201994365649",FBLN_BUG_BUTTON:"298123270679872",FBLN_CARD:"1771536866409625",FBLN_CHILDREN_SEARCH:"247925048905303",FBLN_COMPOSITION:"1535579660071386",FBLN_CUSTOM_FIELDS:"1729257784010524",FBLN_MODEL_TYPE:"1036165669806999",FBLN_MY_DAY:"1883488105200146",FBLN_OPERATOR_FILTER:"133504727315128",FBLN_OPERATOR_GROUPING:"198931380674409",FBLN_PROGRESS:"1711182809156646",FBLN_RECURRING:"1554116508221625",FBLN_RECURRING_DURATION:"253510125104293",FBLN_RECURRING_DURATION_TYPE:"1275284069191480",FBLN_RECURRING_HEALTH:"369557563426687",FBLN_RECURRING_HOME:"378188762567288",FBLN_RECURRING_JOB_DETAILS:"271011959998196",FBLN_RECURRING_JOB_LINK:"1638041579545299",FBLN_RECURRING_LOAD_MORE:"186324198522086",FBLN_RESUME_BUTTON:"211921519225088",FBLN_RESUME_CHECK:"1696859960638051",FBLN_RUN_STATUS_UPDATE:"164036084194275",FBLN_SEARCH:"1720975784858689",FBLN_SIDEBAR:"1530641490579146",FBLN_TASKS:"877963632364796",FBLN_UNSEEN:"474252306099876",FBR_FULLSCREEN_NUX:"1344564208895744",FBR_METRICS_ACTIVE_CANDIDATES_NUX:"222285851609893",FBR_METRICS_ACTIVE_CANDIDATES_NUX_DRILL_DOWN_HOVERCARD:"1947329892179101",FBR_METRICS_ACTIVE_CANDIDATES_NUX_DUE_SOON:"380497695678181",FBR_METRICS_ACTIVE_CANDIDATES_NUX_FILTER:"539978063057735",FBR_METRICS_ACTIVE_CANDIDATES_NUX_FULL_LOOP:"1714543698840222",FBR_METRICS_ACTIVE_CANDIDATES_NUX_INTRO:"861067310725054",FBR_METRICS_ACTIVE_CANDIDATES_NUX_OFFER_DRAFT:"300361150415866",FBR_METRICS_ACTIVE_CANDIDATES_NUX_PRESCREEN:"311480932610263",FBR_METRICS_ACTIVE_CANDIDATES_NUX_SCREEN:"785318974964959",FEED_ONLY_BOOKMARK_NUX:"991989547582216",FEED_ONLY_POST_NUX:"979392875501998",FIM_AYEPATCH_ACTIVE_ACTIVE_SOLO_MODE:"1941702112718388",FIM_AYEPATCH_DEVICE_OVERVIEW_TABLE:"139617969915868",FIM_SCANNER_RACK_TYPEAHEAD:"109858466399371",FLEXIBLE_TARGETING_PRESENTER_TIP:"833032883476599",FUNDRAISER_UPSELL:"967459770042560",GAMEROOM_GO_LIVE_BUTTON:"328285377646159",GAMEROOM_VIDEO_TAB_UPSELL:"155162605217118",GAMES_CREATE_SHORTCUT:"190501704786642",GAMES_TAKE_SCREENSHOT:"1813645665328527",GEO_TARGETING_BULK_INPUT:"523608931147539",GEO_TARGETING_V2:"771095616319245",GMS_HUB_EXTERNAL_MESSAGING_ADMIN_BODY:"106411973368671",GMS_HUB_EXTERNAL_MESSAGING_ADMIN_TITLE:"368261210256099",GMS_HUB_EXTERNAL_MESSAGING_INTRO:"2046212742268868",GMS_HUB_EXTERNAL_MESSAGING_SECTION:"1150000685100247",GMS_HUB_EXTERNAL_MESSAGING_SHARE_DIALOG:"116933658950734",GMS_HUB_EXTERNAL_MESSAGING_SHARING:"1950410301867612",GMS_HUB_NUX_SPLASH:"1920905558175558",GMS_HUB_PERMALINKS:"373890962970878",GMS_HUB_PREVIEW_DIALOG:"344774935943243",GMS_HUB_USER_PREFERENCES_DIALOG:"1925194137802542",GROUP_FOR_PAGES_VOICE_SWITCHER_NUX:"1150920681706616",GROUPS_GAMES_NUX:"595721780628097",GROUPS_RHC_LEADERBOARD_NUX:"1154491687933286",HAS_MIGRATED_SAVED_AUDIENCE_NUX:"1522284001343972",HASHTAG_SUBSCRIPTION_FOR_PAGES_NUX:"1536899146616610",HELP_CENTER_SEARCH_LANGUAGE_DIALOG:"431186250559929",HIRING_MY_CANDIDATES_V2_ALPHA_NUX:"110230416185489",HIRING_SEARCH_V3_ADD_FILTERS:"167996477113618",HIRING_SEARCH_V3_BOOLEAN_SEARCH:"177901579443986",HIRING_SEARCH_V3_INCLUDE_CLAIMED:"1560192630704546",HIRING_SEARCH_V3_INTRO:"1466602646750566",HIRING_SEARCH_V3_NEW_NAV:"1943114869295128",HIRING_SEARCH_V3_RECOMMENDED_CANDIDATES_CARD:"145930532655335",HIRING_SEARCH_V3_RECOMMENDED_CANDIDATES_CATEGORY:"136757703660806",HIRING_SEARCH_V3_RECOMMENDED_CANDIDATES_PIPELINE_DROPDOWN:"534269380271800",HIRING_SEARCH_V3_REORDER_CATEGORIES:"1977885665823190",HIRING_SEARCH_V3_SAVED_SEARCHES:"840782216098644",HIRING_SEARCH_V3_SENIORITY_LEVEL:"1965037957082195",HIT_HACKAMONTH_INTRO_GUIDE:"1203581919741285",HIT_HIERARCHY:"104061010140073",HIT_PROFILE_BOOKMARKED_TEAMS_CARD:"159100104643535",HIT_PROFILE_PREFERRED_LANGUAGES_CARD:"1949054658702774",HIT_PROFILE_RESUME_CARD:"110895429586527",HIT_PROFILE_SUMMARY_CARD:"763988087115074",HIT_PROFILE_SURVEY_CARD:"161099444453526",IA_CTA_EMAIL_HEADER_UNIT_NOTICE:"145603682658412",IG_AUDIENCE_INSIGHTS_ACCOUNT_WHITELIST:"654665854681285",IG_AUDIENCE_INSIGHTS_CITIES_TOGGLE:"675352559307348",IG_AUDIENCE_INSIGHTS_CUSTOM_SEGMENT:"892488757550990",IG_AUDIENCE_INSIGHTS_EXCLUDE_POST:"1739956989579937",IG_AUDIENCE_INSIGHTS_GENERIC_PDF:"1065168483565624",IG_AUDIENCE_INSIGHTS_INTEREST_FILTER:"1558071707831814",IG_AUDIENCE_INSIGHTS_POST:"272479649752150",IG_AUDIENCE_INSIGHTS_TIME_ONLINE:"187516358318534",IG_AUDIENCE_INSIGHTS_TIME_SPENT:"1288695684498584",INSTALL_BASE_POWERSEARCH_NUX:"275294532983711",INSTANT_ARTICLES_TRAFFIC_LIFT_MODAL:"247720875717948",INSTANT_GAMES_WWW_ENTRY_NUX:"388393761540878",INSTANT_GAMES_WWW_GAMES_COMPOSER:"2012987658947660",INTERN_CHAT_JEWEL_NUX:"152565088664657",INTERN_NOTIFY_JEWEL_NUX_TO_SETTINGS:"154976265117505",INTERN_NOTIFY_RECOMMENDED_MODE:"153950908676025",INTERNAL_FEEDBACK_SURVEY:"1368283853185346",INTERNAL_NOTIFICATIONS_DESKTOP:"816296281804339",INTERNAL_NOTIFICATIONS_DESKTOP_PROMPT:"1715114275421616",INTERNAL_NOTIFICATIONS_JEWEL:"255236364848435",INTERNAL_NOTIFICATIONS_WORKPLACE_GROUPS:"1807429192606225",INTERVIEW_FEEDBACK_NO_BUTTON:"1781774222098902",INTERVIEW_FEEDBACK_REDESIGN:"1768833223401913",INTERVIEW_TRACKER_EXPORT:"327122534320675",JOB_BROWSER_CREATE_BUTTON_NUX:"1090012127788963",JOB_POSTING_COMPOSER:"273610786328981",LANDING_PAGE_VIEWS_UPSELL_NUX:"103263950430513",LEAD_GEN_FORM_ARCHIVING_NOW_AVAILABLE_NUX:"1660354914292411",LEAD_GEN_FORM_BUILDER_SAVE_BUTTON_NUX:"888403264626566",LEAD_GEN_FORM_CREATED_FROM_TEMPLATE_NUX:"1771084006536150",LEAD_GEN_FORM_EDITOR_FORM_GOAL_NUX:"311054742694569",LIVE_MAP_NEW_USER_NUX:"301839103480385",LIVE_VIDEO_PERSISTENT_STREAM_KEY:"109990646237903",LIVE_VIDEO_RESET_PERSISTENT_STREAM_KEY:"262516160911120",LM_EDIT_BUTTON_NUX:"1803266369965541",LM_JOB_STATUS_INDICATOR_NUX:"133083510632974",LOCPLAT_T4_HIDE_TASK:"125028131434198",M_ADS_MANAGER_SPLASH:"1499779126920941",MEDIA_TOOL_MEDIA_GROUP_TAG_SEARCH:"617490258375842",MEDIA_TOOL_MEDIA_GROUP_TAGGING_NUX:"1142685795860507",METRIK_SCUBA_IMPORT:"499402760430895",MPP_SUPPORT_VIDEO_CALL_BUTTON_NUX:"572669026227273",MULTI_CITY_LOCATION_TARGETING_NUX:"1885486965052432",MULTIKEY_CUSTOM_AUDIENCE_UPLOADER_DATA_FORMATTING_GUIDE_NUX:"1641614852827045",MULTILINGUAL_COMPOSER_NUX:"468505376681705",MULTIMEDIA_ATTACHMENTS_NUX:"1269425486404153",OFFERS_COMPOSER_STEPPER_NUX:"1699194450407946",OFFERS_DESKTOP_DETAILS_SAVE_NUX:"665531616974464",OFFERS_V1_TO_V2_MIGRATION_PAGES_COMPOSER_NUX:"1760209817527843",OFFERS_V2_MIGRATION_ADS_MANAGER_NUX:"1732891256985325",OFFERS_V2_PAGES_COMPOSER_NUX:"791461857621605",OMNIM_SUGGESTIONS:"215849248831991",ONAVO_CONFIDENTIALITY_WARNING:"1903356583252389",ONAVO_POWER_SEARCH_MSG:"712997825562767",ONAVO_QUALITY_THEATRE_MODE:"673650362824096",OPTIMAL_SOLUTION_NUX:"1227619203963447",ORG_TOOL_MANAGER_SELF_SERVICE_FRONT_LINE_NUX:"106360933271644",ORG_TOOL_MANAGER_SELF_SERVICE_INFERRED_FIELD_NUX:"1324906240971336",ORG_TOOL_MANAGER_SELF_SERVICE_INLINE_EDIT_ONLY_NUX:"881662671990120",ORG_TOOL_MANAGER_SELF_SERVICE_SKIP_LEVEL_FOR_FRONT_LINE_NUX:"1951810298477163",ORG_TOOL_MANAGER_SELF_SERVICE_SKIP_LEVEL_NUX:"180680439152853",ORG_TOOL_SEARCH_VIEWS:"1851509711846207",OXSIGHTS_HIGHLIGHTS_NUX:"185406645361985",OXSIGHTS_NEW_UI:"1035521976533597",OXYGEN_INSIGHT_LIFECYCLE:"295779470545961",PAGES_ASSIGN_BROADCASTER_ROLE_NUX:"241186616320377",PAGES_COMMERCE_BUYER_NUX:"1142866742508388",PAGES_COMMERCE_INVOICE_BUTTON_NUX:"1257048171004972",PAGES_COVER_DESCRIPTION_CREATION_NUX:"312563085834620",PAGES_COVER_VIDEO_CREATION_NUX:"427445517648121",PAGES_FAQ_TAB_NUX:"112685716098586",PAGES_LINKED_GROUP_SHARE_NUX:"1833334916979115",PAGES_MARK_AS_PAID_BUTTON:"1450808308305735",PAGES_MESSAGING_DRAGDROP:"1598865370326347",PE_BACKGROUND_PUBLISHING_NUX:"351999345165168",PE_LIVE_OPT_IN:"412162028994818",PE_SLIDESHOW_NUX:"1010972272292143",PEOPLE_PORTAL_NUX:"105154133552066",PIXELCLOUD_MOBILE_APP_UPSELL_DESKTOP:"148326645789809",PIXELCLOUD_MOBILE_APP_UPSELL_MOBILE:"1022168231258570",PIXELCLOUD_OPEN_IN_SKETCH_NUX:"1053089388134096",PIXELCLOUD_POST_COMMENTS_NUX:"535936853422624",PIXELCLOUD_PROJECT_CREATE_NUX:"167386373758657",PIXELCLOUD_PROJECT_PAGE_NUX:"1540799555938315",PIXELCLOUD_PROJECT_PRESENTATION_NUX:"372856169793929",PIXELCLOUD_SEMAPHORE_PRESENTATION_NUX:"1238161529663451",PMT_ADHOC_REQUEST_SHARED_NUX:"359372174464547",PMT_CALIBRATION_BOARD_NUX:"1037667402955195",PMT_CALIBRATION_MASHUP_NUX:"296348610767770",PMT_CALIBRATION_NOTES_TEMPLATE_NUX:"1876581722653502",PMT_COMP_LETTERS:"118174892160610",PMT_COMPLETED_FEEDBACK_FOCUS_MODE:"542823792725544",PMT_FEEDBACK_COMPLETED_BOOTCAMP_MENTOR_FEEDBACK:"1509244625773482",PMT_FEEDBACK_COMPLETED_LITE_FEEDBACK:"1443893362333582",PMT_FEEDBACK_MANAGE_BUTTON_MANAGER:"1691579654204018",PMT_FEEDBACK_PENDING_PEER_FEEDBACK:"812763792213781",PMT_FEEDBACK_REQUESTS_NUX:"1158362674286722",PMT_FEEDBACK_UPDATED_QUESTIONS:"156229068324686",PMT_LANDING_FEEDBACK_REQUESTS:"732534800259114",PMT_LANDING_REQUEST_FEEDBACK_BUTTON:"469873363355823",PMT_LITE_FEEDBACK_BOT_NUX:"768812979953374",PMT_MANAGE_FEEDBACK_CONTEXT:"105271666714735",PMT_MANAGE_FEEDBACK_STATUS:"1891009327891376",PMT_MANAGE_FEEDBACK_STATUS_MANAGER:"255906568219943",PMT_OFFCYCLE_FEEDBACK_NUX:"167771400339175",PMT_PEER_FEEDBACK_BANNER:"743885692456661",PMT_PENDING_FEEDBACK_SIDE_BY_SIDE_FOCUS_MODE:"1846207915677004",PMT_ROLLING_FEEDBACK_BOT_NUX:"528736177462179",PMT_SIDEBAR_LITE_FEEDBACK:"163080977549971",PMT_SIDEBAR_SUGGESTED_PEERS:"615920318602081",PMT_SURVEY_FEEDBACK_QUALITY_NUX_DIALOG:"281785182298329",POLITICAL_DISTRICT_TARGETING_COMPOSER_OPTION:"1905539216397834",PROFILE_BADGE_NUX:"424283191075640",PROFILE_JUMPER_NUX:"1761965587453511",PUB_TOOLS_SEASONS_NUX:"1353326994736969",PULSE_ACTION_PLAN_NUX:"721101558067772",PULSE_IMPORTANCE_NUX:"1474606375947450",PULSE_SUMMARY_NUX:"176677976190423",PUMA_WIZARD_DIALOG:"123521224904410",QUIP_TO_WIKI_SYNC:"1672167979500878",RABBIT_EXPLORER_NUX:"430269537352505",RABBIT_MAGIC_PILL_CLICK_NUX:"204937776623471",RABBIT_SEARCH_NUX_TOUR:"248205238986090",RECRUITING_AUTO_PRESCREEN_BADGE_FIFTY:"119382518633735",RECRUITING_AUTO_PRESCREEN_BADGE_FIRST:"1701185006576449",RECRUITING_AUTO_PRESCREEN_BADGE_HUNDRED:"169123143616062",RECRUITING_AUTO_PRESCREEN_BADGE_TEN:"415401932164940",RECRUITING_AUTO_PRESCREEN_CALENDAR_PREVIEW:"1262439603879573",RECRUITING_AUTO_PRESCREEN_EDIT_CALENDAR:"161190864420934",RECRUITING_AUTO_PRESCREEN_NOTES_PREVIEW:"1379930508757433",RECRUITING_AUTO_PRESCREEN_STATUS:"462273320775070",RECRUITING_AUTO_PRESCREEN_TABS:"323114158124641",RECRUITING_AUTO_PRESCREEN_TIMESLOT:"1860716067522409",RECRUITING_AUTO_PRESCREEN_TIMEZONES:"1458069300925009",RECRUITING_AUTO_SCREEN_BOOK_NOW:"653962828129566",RECRUITING_AUTO_SCREEN_TABS:"2246501172242193",RECRUITING_AUTO_SCREEN_TAGS:"409645646059915",RECRUITING_AUTO_SCREEN_TIMEZONES:"440773582942623",RECRUITING_EMPLOYEE_OUTREACH:"574882689339635",RECRUITING_FBR_FEED:"207599099756116",RECRUITING_FBR_MANAGE_CANDIDATES:"1315241391866958",RECRUITING_FOLLOW_UPS:"583106738687666",RECRUITING_HIRING_CONSIDERATION_ACTION_MENU:"736653343179938",RECRUITING_HIRING_PROFILE:"804295823083055",RECRUITING_HIRING_PROFILE_APPLICATION_TABLE:"908463322651554",RECRUITING_HIRING_PROFILE_CUSTOMIZE_SECTIONS:"1527978290643173",RECRUITING_HIRING_PROFILE_ENGAGEMENT_FILTER:"350816815345670",RECRUITING_HIRING_PROFILE_INTERVIEW_FEEDBACKS:"120939008581829",RECRUITING_HIRING_PROFILE_MORE_SECTIONS:"1093076860822478",RECRUITING_LOOP_APPROVAL_FOF_PROVIDE_INLINE_FEEDBACK:"319926505189352",RECRUITING_LOOP_APPROVAL_FOF_RATING_BUTTON_BAR:"1520344364701340",RECRUITING_MY_CONSIDERATIONS_FILTER:"340694869674605",RECRUITING_MY_CONSIDERATIONS_FILTER_ALL_MY_CANDIDATES:"1952617508327667",RECRUITING_MY_CONSIDERATIONS_FILTER_CONSIDERATION_FILTER:"1911528022503664",RECRUITING_MY_CONSIDERATIONS_FILTER_DUAL_TRACKED_I_OWN:"1464866526929200",RECRUITING_SEARCH_V2_LAUNCH:"274528912909071",RECRUITING_SOURCING_CONSIDERATION_STATUS:"208084653034264",RECRUITING_SOURCING_LAST_ENGAGED:"1331181873664675",RECRUITING_SOURCING_RECOMMENDED_CANDIDATES:"1524511284306648",REGRESSION_SOURCE_FOR_AUTO_TRIAGE:"136147913815277",RELATED_NEWS_MODULE_PROMOTION:"291949934557488",RELATED_NEWS_MODULE_VISIBILITY:"461697617554606",REVIEW_TAB_ADDED_NUX:"250895058670979",RIGHTS_MANAGER_BULK_WHITELIST_NUX:"575946632598813",RIGHTS_MANAGER_CHANGE_LOG:"421523984890906",RIGHTS_MANAGER_CONTACT_NUX:"1852082035116349",RIGHTS_MANAGER_EXPORT_DATA:"176652666130517",RIGHTS_MANAGER_EXPORT_DATA_WITH_FILTERS:"1418097434948708",RIGHTS_MANAGER_REFERENCE_FILE_PAGE_TAB:"676974362491931",SALES_PROMO_MULTIPHOTO_COMPOSER:"137448690188542",SAVE_NEW_AUDIENCE:"649905405114622",SCHEDULE_RECOVERY_MODE:"346540509113231",SCHEDULR_FIND_BOOK_NUX:"872099406242148",SCUBA_REACT_VIEWS_NUX:"1747252342174304",SEARCH_NLP_CONSOLE_NUX:"469576190048926",SHOWMARK_CREATION_TOOL_NUX:"1908984722461582",SHUTTLE_CALTRAIN:"591270497678719",SIGNAL_INFRA_KILL_COMPLETE_TEST_RUN_NUX:"281718955562986",SIGNAL_INFRA_PHABRICATOR_BUGNUB_NUX:"232465750506350",SIGNALS_EM_APP_EVENTS_REMAPPING_BLUECLUE:"1592575160781837",SIGNALS_EM_APP_EVENTS_REMAPPING_NUX:"344353266026522",SIGNALS_EM_CALIBRATION_TOOL_NUX:"125231661477462",SIGNALS_EM_KPI_DETAILS_BUTTON_APP:"370608583352606",SIGNALS_EM_KPI_DETAILS_BUTTON_DS:"109908416310495",SIGNALS_EM_KPI_DETAILS_BUTTON_PIXEL:"1863199647279159",SIGNALS_EM_LISTING_SCREEN_ALL:"2020726324612193",SIGNALS_EM_LISTING_SCREEN_APP:"387538365035788",SIGNALS_EM_LISTING_SCREEN_DS:"100655320575883",SIGNALS_EM_LISTING_SCREEN_PIXEL:"1716940381939245",SIGNALS_EM_PIXEL_CALIBRATION_TOOL_NUX:"887324391432541",SIGNALS_EM_PIXEL_POST_CALIBRATION_TOOL_NUX:"181949155719943",SIGNALS_EM_UPLOADER_MAPPER_HEADER:"165462870722150",SIGNALS_OEM_ANALYTICS_BUTTON:"1051737174957203",SIGNALS_OEM_AUDIENCE_CREATION_BUTTON:"1705925373060918",SIGNALS_OEM_CUSTOM_CONVERSION_CREATION_BUTTON:"350476588659935",SIGNALS_OEM_GET_STARTED:"114819065646369",SIGNALS_OEM_LOOKALIKE_AUDIENCE_CREATION_BUTTON:"1255766841175871",SLIDESHOW_FRAMES_TAB_NUX:"827618977337954",SLIDESHOW_MUSIC_TAB_NUX:"1800156596939976",SMC_HOSTS_TABLE_COLUMN:"130361454297638",SOCIAL_LEARNING_DONE_NUX:"499940380366067",SOCIAL_LEARNING_GROUP_SYNC:"583761348625668",SOCIAL_LEARNING_UNIT_TOOLTIP:"1890026654581366",SOUND_COLLECTION_CARD_PAGES_MANAGER:"1004531363062075",SOURCING_TOOL_CANDIDATE_BOOKMARK:"514954375356275",SOURCING_TOOL_DATA_MODEL_REFACTOR:"1802899719924551",SOURCING_TOOL_SEARCH_EXPAND:"111408876035743",SOURCING_TOOL_TITLE_SEARCH:"1709346835970021",SPHERICAL_SINGLETON_NUX:"1622419514744181",SPHERICAL_VIDEO_DETECTOR_EDIT_VIDEO_CHECKBOX_OPT_IN:"120791645176236",SPHERICAL_VIDEO_DETECTOR_EDIT_VIDEO_CHECKBOX_OPT_OUT:"160665517821724",SRT_BUG_NUB_INTRODUCTION:"1739478522971904",SRT_FEEDBACK:"217753298661464",SRT_LIVE_COUNTER_INTRODUCTION:"158683444572274",SRT_REVIEW_QUEUE_ACTIONED_JOB_STATUS:"191254837978371",SUBGROUP_CREATE_NUX:"239426083172383",SUBGROUP_INTRO_NUX:"269510030150128",TALENT_SEARCH_CROSS_PROMO:"1705997706317539",TALENT_SEARCH_FILTER_COLUMN:"1546366805667718",TALENT_SEARCH_SEARCH_BAR:"1534092750231532",TEST_MESSAGE:"443509369110145",THUMBNAIL_SCRUBBER_NUX:"474546222905917",TOUCHSTONE_AD_ACCOUNT:"224502567921015",TOUCHSTONE_RECOMMENDATION_NUX:"1546296168996500",TOUCHSTONE_SCHEDULE:"479311678938767",TOUCHSTONE_VERTICALS:"509312249256844",TRAJECTORY_INTRO_NUX:"1931893877132925",TWO_POINT_OPTIMIZATION_UPSELL_NUX:"694029604117505",UNIDASH_ADMIN_HUB_NUX:"288536141620960",UNIDASH_SHOW_SIDEBAR:"1135130216624634",UPP_CREATIVE_STUDIO_UPSELL:"1763933587252086",USE_EXISTING_AUDIENCE:"481639071983177",USER_SCHEDULE_POST:"1849324512025217",VIDEO_COMPOSER_V2_INTRO:"1425101117616206",VIDEO_COPYRIGHT_ATTRIBUTION:"510112456027051",VIDEO_COPYRIGHT_AUTO_BLOCK:"210695056081827",VIDEO_COPYRIGHT_AUTO_MONETIZE:"664681487071414",VIDEO_COPYRIGHT_BULK_DELETION:"718938144973535",VIDEO_COPYRIGHT_CONTENT_CATEGORY:"108929459724596",VIDEO_COPYRIGHT_KEYBOARD_SHORTCUTS:"763227730504481",VIDEO_COPYRIGHT_MANUAL_BLOCK:"1611149752230319",VIDEO_COPYRIGHT_MANUAL_CLAIM:"1468124473223979",VIDEO_COPYRIGHT_MANUAL_MONETIZE:"1685669605061064",VIDEO_MANDATORY_TITLE:"136154103678362",VIDEO_REMOTE_UPLOAD:"1435659519793420",VIDEO_SOUND_COLLECTION_NUX:"389317764855224",WORK_COMMUNITY_CENTER:"886330728179119",WORK_COMPOSER_FILE_PICKERS_NUX:"268957666909275",WORK_DIRECT_SUPPORT_SET_EXPECTATIONS:"1454348691285259",WORK_FLIP_PINNED_BOOKMARKS:"1946673662315085",WORK_FOCUS_ADMIN_ACTIONS_IN_FEED:"488377244870486",WORK_GROUP_ADD_FEEDBACK_NUX:"106856833168666",WORK_GROUP_ADD_MEMBER_INVITE:"1740315686282734",WORK_GROUP_POST_TO_GROUP_NUX:"1864896927100725",WORK_GROUP_TASK_FEATURE:"838617199631108",WORK_GROUPS_LANDING_CREATE_GROUP_NUX:"1298052276948758",WORK_GROUPS_LANDING_PAGE_NUX:"318596698538485",WORK_IDP_INVITE_NUX:"1375991899154373",WORK_PREMIUM_UPGRADE_NUX:"2035437590024582",WORK_SHOW_COWORKER_INVITE_NUX:"586334784894097",WORK_SIDEBAR_TOP_GROUPS:"1168006489923660"}}),null);
__d("StickerConstants",[],(function a(b,c,d,e,f,g){f.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",OZ_PACK_ID:"1456625217993235",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},EMOTICON_PACK_ID:"1471127876485636",DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120}}),null);
__d("TransactionsFeedConversionLoggerJSConfig",[],(function a(b,c,d,e,f,g){f.exports={type:{EVENT_ONSITE_TICKET_CLICK:1,EVENT_OFFSITE_TICKET_CLICK:2}}}),null);
__d("URLMatcherConfig",[],(function a(b,c,d,e,f,g){f.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|htc|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("WorkUserAvailabilityStatusType",[],(function a(b,c,d,e,f,g){f.exports={NONE:"None",AVAILABLE:"Available",SPORADIC:"Sporadic",TENTATIVE:"Tentative",BUSY:"Busy",DO_NOT_DISTURB:"Do Not Disturb",FOCUS:"Focus"}}),null);
__d("CSSFade",["cx","CSS","DataStore","Event","idx","Style","requestAnimationFrameAcrossTransitions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="css-fade-animation",j="css-show-animation",k="_4rh4",l="CSSFade_hide",m="CSSFade_show",n=document.createElement("div").animate!==undefined,o={cancel:function u(){}};function p(u,v){var w=c("DataStore").get(u,v);if(w)w.cancel();return w}function q(u,v,w){var x,y=((x=u)!=null?(x=x.style)!=null?x.animation:x:x)||"",z=v+"s "+w;if(y.length>5)z=y.slice(0,-1)+(", "+z);return z}function r(u,v){var w,x=((w=u)!=null?(w=w.style)!=null?w.animation:w:w)||"",y=x.split(","),z=y.findIndex(function(A){return A.indexOf(v)>-1});if(z!==-1)y.splice(z,1);return y.join(",")}var s={show:function u(v){__p&&__p();var w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],x=w.duration!=null?w.duration/1e3:.3;p(v,i);p(v,j);c("CSS").removeClass(v,"hidden_elem");c("requestAnimationFrameAcrossTransitions")(function(){v.style.animation=q(v,x,m)});var y=c("Event").listen(v,"animationend",function(){if(w.callback)w.callback();v.style.animation=r(v,m)}),z={cancel:function A(){v.style.animation=r(v,m);y.remove();z.cancel=function(){}}};c("DataStore").set(v,j,z);return z},hide:function u(v){__p&&__p();var w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],x=function x(){c("CSS").addClass(v,"hidden_elem");if(w.callback)w.callback();v.style.animation=r(v,l)};if(w.simple){x();return o}var y=w.duration!=null?w.duration/1e3:.3;p(v,j);p(v,i);c("requestAnimationFrameAcrossTransitions")(function(){v.style.animation=q(v,y,l)});var z=c("Event").listen(v,"animationend",x),A={cancel:function B(){v.style.animation=r(v,l);z.remove();A.cancel=function(){}}};c("DataStore").set(v,i,A);return A}},t={show:function u(v){__p&&__p();var w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],x=w.duration!=null?w.duration:.3;p(v,i);p(v,j);c("CSS").removeClass(v,"hidden_elem");c("Style").set(v,"opacity","1");var y=v.animate([{opacity:"0"},{opacity:"1.0"}],{duration:x});if(w.callback)y.onfinish=w.callback;c("DataStore").set(v,j,y);return y},hide:function u(v){__p&&__p();var w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],x=w.duration!=null?w.duration:.3;p(v,j);if(w.simple===true){c("CSS").addClass(v,"hidden_elem");return o}else{p(v,i);c("Style").set(v,"opacity","0");var y=v.animate([{opacity:"1.0"},{opacity:"0"}],{duration:x});y.onfinish=function(){c("CSS").addClass(v,"hidden_elem");if(w.callback)w.callback()};c("DataStore").set(v,i,y);return y}}};f.exports=n?t:s}),null);
__d("AvailableListConstants",[],(function a(b,c,d,e,f,g){var h=Object.freeze({ON_AVAILABILITY_CHANGED:"buddylist/availability-changed",ON_UPDATE_ERROR:"buddylist/update-error",ON_UPDATED:"buddylist/updated",ON_CHAT_NOTIFICATION_CHANGED:"chat-notification-changed",OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3,WEB_STATUS:"webStatus",FB_APP_STATUS:"fbAppStatus",MESSENGER_STATUS:"messengerStatus",OTHER_STATUS:"otherStatus",STATUS_ACTIVE:"active",STATUS_IDLE:"idle",STATUS_OFFLINE:"offline"});f.exports=h}),null);
__d("LastActiveTimes",["fbt","ServerTime"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={};function j(n){__p&&__p();if(!n||n<0)return null;var o=c("ServerTime").get()/1e3-n,p=Math.floor(o/60),q=Math.floor(p/60),r=Math.floor(q/24);if(p<=1)return h._({"*":"{count}m"},[h.param("count",1,[0])]);else if(p<60)return h._({"*":"{count}m"},[h.param("count",p,[0])]);else if(q<24)return h._({"*":"{count}h"},[h.param("count",q,[0])]);else if(r<3)return h._({"*":"{count}d"},[h.param("count",r,[0])]);else return null}function k(n,o){if(!(n in i)||i[n]<o)i[n]=o}function l(n){if(n in i)return i[n];else return 0}var m={update:function n(o){for(var p in o)k(p,o[p])},getShortDisplay:function n(o){return j(l(o))},get:function n(o){return l(o)},getDebugData:function n(){return i}};f.exports=m}),null);
__d("ChatConfig",["ChatConfigInitialData"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i={get:function j(k,l){return k in h?h[k]:l},set:function j(k){if(arguments.length>1){var l={};l[k]=arguments[1];k=l}Object.assign(h,k)},getDebugInfo:function j(){return h}};i.set(c("ChatConfigInitialData"));f.exports=i}),null);
__d("PresenceUtil",["CurrentUser","randomInt"],(function a(b,c,d,e,f,g){var h=c("randomInt")(0,4294967295)+1;function i(){return h}function j(){return c("CurrentUser").isLoggedInNow()}f.exports={getSessionID:i,hasUserCookie:j}}),null);
__d("PresencePrivacy",["Arbiter","AsyncRequest","ChannelConstants","CurrentUser","PresencePrivacyInitialData","JSLogger","PresenceUtil"],(function a(b,c,d,e,f,g){__p&&__p();var h="/ajax/chat/privacy/settings.php",i="/ajax/chat/privacy/online_policy.php",j="/ajax/chat/privacy/visibility.php",k="friend_visibility",l="visibility",m="online_policy",n=babelHelpers["extends"]({},c("PresencePrivacyInitialData").privacyData),o=c("PresencePrivacyInitialData").visibility,p=babelHelpers["extends"]({},c("PresencePrivacyInitialData").privacyData),q=o,r=c("PresencePrivacyInitialData").onlinePolicy,s=r,t=[],u=false;function v(){return c("JSLogger").create("blackbird")}var w=Object.assign(new(c("Arbiter"))(),{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1});function x(J){__p&&__p();var K;for(K in J){var L=J[K];if(K==c("CurrentUser").getID()){v().error("set_viewer_visibility");throw new Error("Invalid to set current user's visibility")}switch(L){case w.WHITELISTED:case w.BLACKLISTED:case w.UNLISTED:break;default:v().error("set_invalid_friend_visibility",{id:K,value:L});throw new Error("Invalid state: "+L)}}for(K in J)n[K]=J[K];w.inform("privacy-changed")}function y(J,K){var L={};L[J]=K;x(L)}function z(J){switch(J){case w.ONLINE:case w.OFFLINE:break;default:v().error("set_invalid_visibility",{value:J});throw new Error("Invalid visibility: "+J)}o=J;w.inform("privacy-changed");w.inform("privacy-user-presence-changed")}function A(J){switch(J){case w.ONLINE_TO_WHITELIST:case w.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+J)}r=J;w.inform("privacy-user-presence-changed");w.inform("privacy-changed")}function B(J,K){u=true;J.send()}function C(J,K){t.push({request:J,data:K});if(!u){var L=t.shift();B(L.request,L.data)}}function D(J,K){__p&&__p();var L=J.type;if(L===k){w.inform("privacy-availability-changed");for(var M in J.settings)p[M]=J.settings[M]}else{if(L===l)q=J.visibility;else if(L===m)s=J.online_policy;w.inform("privacy-user-presence-response")}v().log("set_update_response",{data:J,response:K})}function E(J,K){if(o!==q)z(q);if(r!==s)A(s);Object.assign(n,p);w.inform("privacy-changed");t=[];v().log("set_error_response",{data:J,response:K})}function F(J){u=false;if(t.length>0){var K=t.shift();B(K.request,K.data)}}function G(J,K){if(c("PresenceUtil")!=null){var L=J.getData();L.window_id=c("PresenceUtil").getSessionID();J.setData(L)}J.setHandler(D.bind(this,K)).setErrorHandler(E.bind(this,K)).setTransportErrorHandler(E.bind(this,K)).setFinallyHandler(F.bind(this)).setAllowCrossPageTransition(true);return J}function H(J,K,L){return G(new(c("AsyncRequest"))(J).setData(K),L)}function I(J,K){__p&&__p();var L=K.obj;if(L.viewer_id!=c("CurrentUser").getID()){v().error("invalid_viewer_for_channel_message",{type:J,data:K});throw new Error("Viewer got from the channel is not the real viewer")}if(L.window_id===c("PresenceUtil").getSessionID())return;var M=L.data;if(L.event=="access_control_entry")M.target_ids.forEach(function(O){y(O,M.setting);p[O]=M.setting});else{if(L.event=="visibility_update"){var N=!!M.visibility?w.ONLINE:w.OFFLINE;z(N);q=N}else if(L.event=="online_policy_update"){A(M.online_policy);s=M.online_policy}w.inform("privacy-user-presence-response")}v().log("channel_message_received",{data:K.obj})}Object.assign(w,{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1,init:function J(K,L,M){},setVisibility:function J(K){q=o;z(K);var L={visibility:K},M={type:l,visibility:K},N=H(j,L,M);C(N,M);v().log("set_visibility",{data:L});return K},getVisibility:function J(){return o},setOnlinePolicy:function J(K){s=r;A(K);var L={online_policy:K},M={type:m,online_policy:K},N=H(i,L,M);C(N,M);v().log("set_online_policy",{data:L});return K},getOnlinePolicy:function J(){return r},getFriendVisibility:function J(K){return n[K]||w.UNLISTED},isUserOffline:function J(){return this.getVisibility()===w.OFFLINE},allows:function J(K){if(this.isUserOffline())return false;var L=this.getOnlinePolicy();return L===w.ONLINE_TO_WHITELIST?n[K]==w.WHITELISTED:n[K]!=w.BLACKLISTED},setFriendsVisibility:function J(K,L){__p&&__p();if(K.length>0){var M={};for(var N=0;N<K.length;N++){var O=K[N];p[O]=n[O];M[O]=L}x(M);var P=L;if(P==w.UNLISTED)P=p[K[0]];var Q={users:K,setting:L,setting_type:P},R={type:k,settings:M},S=H(h,Q,R);C(S,R);v().log("set_friend_visibility",{data:Q})}return L},setFriendVisibilityMap:function J(K,L){for(var M in K)p[M]=n[M];x(K);var N={type:k,settings:K};C(G(L,N),N);v().log("set_friend_visibility_from_map",{data:K})},allow:function J(K){__p&&__p();if(this.allows(K)){v().error("allow_already_allowed");throw new Error("allow() should only be called for users that are not already allowed")}if(this.getVisibility()===w.OFFLINE){v().error("allow_called_while_offline");throw new Error("allow() should only be called when the user is already online")}var L=this.getOnlinePolicy()===w.ONLINE_TO_WHITELIST?w.WHITELISTED:w.UNLISTED;return this.setFriendsVisibility([K],L)},disallow:function J(K){__p&&__p();if(!this.allows(K)){v().error("disallow_already_disallowed");throw new Error("disallow() should only be called for users that are not already disallowed")}if(this.getVisibility()===w.OFFLINE){v().error("disallow_called_while_offline");throw new Error("disallow() should only be called when the user is already online")}var L=this.getOnlinePolicy()===w.ONLINE_TO_BLACKLIST?w.BLACKLISTED:w.UNLISTED;return this.setFriendsVisibility([K],L)},getBlacklist:function J(){var K=[];for(var L in n)if(n[L]===w.BLACKLISTED)K.push(L);return K},getWhitelist:function J(){var K=[];for(var L in n)if(n[L]===w.WHITELISTED)K.push(L);return K},getMapForTest:function J(){return n},setMapForTest:function J(K){n=K}});w.inform("privacy-changed");w.inform("privacy-user-presence-changed",c("Arbiter").BEHAVIOR_STATE);v().log("initialized",{visibility:o,policy:r});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(J,K){K.presence_privacy={initial:c("PresencePrivacyInitialData").privacyData,current:n}});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("privacy_changed"),I.bind(this));c("Arbiter").subscribe(c("ChannelConstants").ON_CONFIG,function(J,K){var L=K.getConfig("visibility",null);if(L!==null&&typeof L!=="undefined"){var M=L?w.ONLINE:w.OFFLINE;z(M);v().log("config_visibility",{vis:M})}}.bind(this));f.exports=w}),null);
__d("ChatVisibility",["Arbiter","JSLogger","PresencePrivacy"],(function a(b,c,d,e,f,g){__p&&__p();var h={isOnline:function i(){return c("PresencePrivacy").getVisibility()===c("PresencePrivacy").ONLINE},hasBlackbirdEnabled:function i(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends()},isVisibleToMostFriends:function i(){return c("PresencePrivacy").getOnlinePolicy()===c("PresencePrivacy").ONLINE_TO_BLACKLIST&&c("PresencePrivacy").getBlacklist().length>0},isVisibleToSomeFriends:function i(){return c("PresencePrivacy").getOnlinePolicy()===c("PresencePrivacy").ONLINE_TO_WHITELIST&&c("PresencePrivacy").getWhitelist().length>0},goOnline:function i(j){if(c("PresencePrivacy").getVisibility()===c("PresencePrivacy").OFFLINE){c("JSLogger").create("blackbird").log("chat_go_online");c("PresencePrivacy").setVisibility(c("PresencePrivacy").ONLINE);c("Arbiter").inform("chat-visibility/go-online")}j&&j()},goOffline:function i(j){if(c("PresencePrivacy").getVisibility()===c("PresencePrivacy").ONLINE){c("JSLogger").create("blackbird").log("chat_go_offline");c("PresencePrivacy").setVisibility(c("PresencePrivacy").OFFLINE);c("Arbiter").inform("chat-visibility/go-offline")}j&&j()},toggleVisibility:function i(){if(h.isOnline())h.goOffline();else h.goOnline()}};f.exports=h}),null);
__d("PresenceStatus",["ArbiterMixin","AvailableListConstants","BanzaiODS","Bootloader","ChatConfig","ChatVisibility","CurrentUser","FBIDCheck","LastActiveTimes","PresencePrivacy","ServerTime","createObjectFrom","debounceAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();c("BanzaiODS").setEntitySample("presence",1e-4);var h={},i={},j={},k={},l=Object.assign({},c("ArbiterMixin")),m=c("debounceAcrossTransitions")(function(){return l.inform("change")},0);function n(o){var p,q=parseInt(o.topic.match(/\d+$/),10),r=parseInt(JSON.parse(o.payload).lat,10),s=Date.now()-r*1e3,t=c("ChatConfig").get("active_cutoff")*1e3-s;c("LastActiveTimes").update((p={},p[q]=r,p));l.checkPresence(q);if(l.get(q)===c("AvailableListConstants").ACTIVE){clearTimeout(k[q].timeout);k[q].timeout=setTimeout(function(){l.checkPresence(q)},t)}}Object.assign(l,{resetPresenceData:function o(){h={};i={}},reset:function o(){l.resetPresenceData();j={}},get:function o(p){__p&&__p();if(p==c("CurrentUser").getID())return c("ChatVisibility").isOnline()?c("AvailableListConstants").ACTIVE:c("AvailableListConstants").OFFLINE;if(!c("FBIDCheck").isUser_deprecated(p)&&!k[p]){c("BanzaiODS").bumpEntityKey("presence","page_subscribe");k[p]={};if(c("ChatConfig").get("presence_page_green_dot_sub"))c("Bootloader").loadModules(["RTISubscriptionManager"],function(r){r.subscribe("presence_push/fb/"+p,n)},"PresenceStatus")}var q=c("AvailableListConstants").OFFLINE;if(p in h)q=h[p];if(!c("PresencePrivacy").allows(p))q=c("AvailableListConstants").OFFLINE;return q},getCapabilities:function o(p){var q=i[p];return q?q:0},isPlayingCanvasGameUser:function o(p){return!!j[p]},getGroup:function o(p){return p.some(function(q){if(q==c("CurrentUser").getID())return false;return l.get(q)===c("AvailableListConstants").ACTIVE})?c("AvailableListConstants").ACTIVE:c("AvailableListConstants").OFFLINE},set:function o(p,q,r,s,t,u){__p&&__p();if(p==c("CurrentUser").getID())return false;var v;if(q!==null&&q!==undefined){q=q==c("AvailableListConstants").ACTIVE?c("AvailableListConstants").ACTIVE:c("AvailableListConstants").OFFLINE;var w=l.get(p);v=w!=q;if((v||q==c("AvailableListConstants").ACTIVE)&&c("FBIDCheck").isUser_deprecated(p)){var x;c("LastActiveTimes").update((x={},x[p]=c("ServerTime").get()/1e3,x))}h[p]=q}var y=false;if(t!==undefined&&t!==null){y=l.getCapabilities(p)!=t;i[p]=t}var z=v||y;if(z&&!u)m();return z},setPlayingCanvasGameFriends:function o(p){j=c("createObjectFrom")(p)},getOnlineIDs:function o(){var p,q=[];for(p in h)if(l.get(p)===c("AvailableListConstants").ACTIVE)q.push(p);return q},getAllIDs:function o(){return Object.keys(h)},getOnlineCount:function o(){return l.getOnlineIDs().length},getPresenceStats:function o(){__p&&__p();var p=0,q=0,r=0;for(var s in h){p+=1;switch(l.get(s)){case c("AvailableListConstants").OFFLINE:q+=1;break;case c("AvailableListConstants").ACTIVE:r+=1;break;default:break}}return{total:p,offline:q,active:r}},getAllDebugInfo:function o(){var p={};for(var q in h)p[q]={p:h[q],vc:i[q]};return p},setMultiChatproxy:function o(p){var q={};for(var r in p){if(p[r].lat)q[r]=p[r].lat;var s=p[r].p;l.set(r,s,false,"chatproxy",p[r].vc,true)}c("LastActiveTimes").update(q);m()},setMultiActive:function o(p,q){var r=false;p.forEach(function(s){l.set(s,c("AvailableListConstants").ACTIVE,false,q,null,true)&&(r=true)});if(r)m()},checkPresence:function o(p){var q=false,r=Math.ceil(Date.now()/1e3)-c("LastActiveTimes").get(p);l.set(p,r<c("ChatConfig").get("active_cutoff")?c("AvailableListConstants").ACTIVE:c("AvailableListConstants").OFFLINE,false,"pylon",null,true)&&(q=true);if(q)m()}});f.exports=l}),null);
__d("ChatproxyPresence",["Arbiter","AvailableListConstants","AvailableListInitialData","BanzaiODS","ChannelConstants","LastActiveTimes","PresenceStatus","debounceAcrossTransitions","ClientChromeExperimentsData"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("ClientChromeExperimentsData").ClientChromeAvailableListInitialDataPreloader;function i(k){var l=k.activeList,m=k.lastActiveTimes;if(l)c("PresenceStatus").setMultiActive(l,"available_list_active");if(m&&!Array.isArray(m))c("LastActiveTimes").update(m)}function j(k){"use strict";this.$ChatproxyPresence1=k;this.$ChatproxyPresence2=false;this.$ChatproxyPresence3=c("AvailableListInitialData").chatNotif;this.$ChatproxyPresence4=false;if(h)h.onLoaded(i);else i(c("AvailableListInitialData"))}j.prototype.subscribe=function(){"use strict";__p&&__p();c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("chatproxy-presence"),this.updatePresenceInfo.bind(this));c("Arbiter").subscribe(c("ChannelConstants").ON_INVALID_HISTORY,function(){this.$ChatproxyPresence2=true}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").RTI_SESSION,function(k,l){if(l)this.$ChatproxyPresence4=l}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("get_debug_presence"),function(k,l){__p&&__p();var m=c("PresenceStatus").getAllDebugInfo(),n=c("LastActiveTimes").getDebugData();for(var o in n){var p=m[o];if(p===undefined){p={};m[o]=p}p.l=Math.floor(n[o])}this.$ChatproxyPresence4.issueRequest("/debug_presence",{},m,function(){c("BanzaiODS").bumpEntityKey("ChatproxyPresence","debug_presence.sucess")})}.bind(this))};j.prototype.getRTISession=function(){"use strict";return this.$ChatproxyPresence4};j.prototype.updatePresenceInfo=function(k,l){"use strict";__p&&__p();if(this.$ChatproxyPresence2){this.$ChatproxyPresence2=false;c("PresenceStatus").resetPresenceData()}l=l.obj;var m=l.buddyList;c("PresenceStatus").setMultiChatproxy(m);var n=false;if(l.chatNotif!==undefined)n=this.$ChatproxyPresence3!==l.chatNotif;if(n)this.$ChatproxyPresence3=l.chatNotif;if(l.gamers)c("PresenceStatus").setPlayingCanvasGameFriends(l.gamers);if(n)this.$ChatproxyPresence1(c("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,this.$ChatproxyPresence3);c("debounceAcrossTransitions")(function(){this.$ChatproxyPresence1(c("AvailableListConstants").ON_AVAILABILITY_CHANGED)}.bind(this),0)()};j.prototype.getWebChatNotification=function(){"use strict";return this.$ChatproxyPresence3};f.exports=j}),null);
__d("ChatDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=new j({strict:false})}),null);
__d("ChatReliabilityEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",MESSAGE_SEND_START:"msg_send_start",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole"})}),null);
__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$ChatReliabilityTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$ChatReliabilityTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ChatReliabilityTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ChatReliabilityTypedLogger1=babelHelpers["extends"]({},this.$ChatReliabilityTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$ChatReliabilityTypedLogger1.event=j;return this};h.prototype.setEventData=function(j){this.$ChatReliabilityTypedLogger1.event_data=j;return this};var i={event:true,event_data:true};f.exports=h}),null);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(event,j){if(!c("gkx")("AT5ZjV8HMgIrvWAdtan2dRootzXgNDn_gwV31adDo4tXzlNarwl6mRO_oeBdt0f9htexVFvjQxI0k_n8DA4dQ67qv29jXbtX1X-VERmy6nzotA"))return;new(c("ChatReliabilityTypedLogger"))().setEvent(event).setEventData(j).log()},i={logERROR:function j(k){h(c("ChatReliabilityEvents").ERROR,k)},logCHANNEL_DISCONNECT:function j(k){h(c("ChatReliabilityEvents").CHANNEL_DISCONNECT,k)},logCHANNEL_CONNECT:function j(k){h(c("ChatReliabilityEvents").CHANNEL_CONNECT,k)},logCHANNEL_HISTORY_INVALID:function j(k){h(c("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,k)},logMESSAGE_RECEIVED:function j(k){h(c("ChatReliabilityEvents").MESSAGE_RECEIVED,k)},logMESSAGE_SEND_START:function j(k){h(c("ChatReliabilityEvents").MESSAGE_SEND_START,k)},logCHANNEL_STALLED:function j(k){h(c("ChatReliabilityEvents").CHANNEL_STALLED,k)},logCHANNEL_INIT:function j(k){h(c("ChatReliabilityEvents").CHANNEL_INIT,k)},logCHANNEL_NOCONFIG:function j(k){h(c("ChatReliabilityEvents").CHANNEL_NOCONFIG,k)},logDFF_DELTA_INIT:function j(k){h(c("ChatReliabilityEvents").DFF_DELTA_INIT,k)},logDFF_HOLE_INIT:function j(k){h(c("ChatReliabilityEvents").DFF_HOLE_INIT,k)}};f.exports=i}),null);
__d("PresenceStatusActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({AVAILABILITY_CHANGED:null})}),null);
__d("TypingStates",[],(function a(b,c,d,e,f,g){var h=Object.freeze({INACTIVE:0,TYPING:1,QUITTING:2});f.exports=h}),null);
__d("AvailableList",["Arbiter","ArbiterMixin","AsyncRequest","AvailableListConstants","BanzaiODS","Bootloader","ChannelConstants","ChatConfig","ChatDispatcher","ChatproxyPresence","ChatReliabilityInstrumentation","ChatVisibility","CurrentUser","FBIDCheck","ErrorUtils","JSLogger","LastActiveTimes","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","Run","ServerTime","TypingStates","debounceAcrossTransitions","emptyFunction","requireWeak"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("BanzaiODS").setEntitySample("presence",1e-4);var h=babelHelpers["extends"]({},c("AvailableListConstants"),c("ArbiterMixin")),i=/\D/;h.subscribe([c("AvailableListConstants").ON_AVAILABILITY_CHANGED,c("AvailableListConstants").ON_UPDATE_ERROR],function(p,q){c("Arbiter").inform(p,q)});c("PresenceStatus").subscribe("change",c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED)},0));var j=c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED);c("ChatDispatcher").dispatch({type:c("PresenceStatusActionTypes").AVAILABILITY_CHANGED})},0);function k(q,r,s,t,u){if(q===c("CurrentUser").getID())return;var v=c("PresenceStatus").set(q,r,s,t,u);if(v){var w=c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED,q);c("ChatDispatcher").dispatch({type:c("PresenceStatusActionTypes").AVAILABILITY_CHANGED,id:q})},0);w()}}function l(q){var r=q.payload.availability||{};for(var s in r)k(s&&s.toString(),r[s].a,true,"mercury_tabs",r[s].c)}function m(q){if(!q||q==="0"||i.test(q)){c("ChatReliabilityInstrumentation").logERROR("bad id for available list: "+q);return}new(c("AsyncRequest"))("/ajax/mercury/tabs_presence.php").setData({target_id:q}).setHandler(l).setErrorHandler(c("emptyFunction")).setAllowCrossPageTransition(true).send()}function n(q,r){r.chat_config=c("ChatConfig").getDebugInfo();r.available_list_debug_info={count:c("PresenceStatus").getOnlineIDs().length}}var o=undefined;try{o=new(c("ChatproxyPresence"))(function(event){h.inform(event)});o.subscribe()}catch(p){c("ErrorUtils").reportError&&c("ErrorUtils").reportError(p,false);c("ChatReliabilityInstrumentation").logERROR(p.getMessage())}Object.assign(h,{getChatproxyPresenceObject:function q(){return o},get:function q(r){return c("PresenceStatus").get(r)},updateForID:function q(r){if(c("ChatConfig").get("presence_page_green_dot_sub")&&!c("FBIDCheck").isUser_deprecated(r))return;m(r);if(c("PresencePrivacy").getVisibility()==c("PresencePrivacy").ONLINE)c("Run").onAfterLoad(function(){return c("Bootloader").loadModules(["ChannelManager","ChannelTransport"],function(s,t){s.startChannelManager();t.sendAdditionalBuddyRequest(s.getCompleteConfig(),r)},"AvailableList")})},getWebChatNotification:function q(){return o&&o.getWebChatNotification()},isReady:function q(){return!!o},set:function q(r,s,t,u){k(r,s,true,t,u)}});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,n);c("PresencePrivacy").subscribe(["privacy-changed","privacy-availability-changed","privacy-user-presence-response"],j);c("requireWeak")("ChannelConnection",function(q){return q.subscribe([q.CONNECTED,q.RECONNECTING,q.SHUTDOWN,q.MUTE_WARNING,q.UNMUTE_WARNING],j)});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("buddylist_overlay"),function(q,r){var s={},t=r.obj.overlay;for(var u in t){h.set(u,t[u].a,t[u].s||"channel",t[u].vc);if(t[u].la)s[u]=t[u].la}c("LastActiveTimes").update(s)});c("Arbiter").subscribe([c("ChannelConstants").getArbiterType("typ"),c("ChannelConstants").getArbiterType("ttyp")],function(q,r){__p&&__p();var s=r.obj;if(s.st===c("TypingStates").TYPING){var t=s.from;if(c("ChatVisibility").isOnline()){c("BanzaiODS").bumpEntityKey("presence","stale_presence_check_typing");var u=c("PresenceStatus").get(t);if(u!=c("AvailableListConstants").ACTIVE){var v=c("LastActiveTimes").get(t)*1e3,w=c("ServerTime").get();if(!v)c("BanzaiODS").bumpEntityKey("presence","no_detailed_presence_typing");else if(w-v>5*60*1e3){var x="stale_presence_typing",y=w-v;if(y<10*60*1e3)x+="600";else if(y<60*60*1e3)x+="3600";c("BanzaiODS").bumpEntityKey("presence",x)}}}h.set(t&&t.toString(),c("AvailableListConstants").ACTIVE,"channel-typing")}});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("messaging"),function(q,r){__p&&__p();if(!c("ChatVisibility").isOnline())return;var s=r.obj;if(s.message&&s.message.timestamp&&s.message.sender_fbid){var t=c("ServerTime").get(),u=s.message.timestamp;if(t-u<2*60*1e3){c("BanzaiODS").bumpEntityKey("presence","stale_presence_check");var v=s.message.sender_fbid,w=c("PresenceStatus").get(v);if(w==c("AvailableListConstants").ACTIVE)return;var x=c("LastActiveTimes").get(v)*1e3;if(!x)c("BanzaiODS").bumpEntityKey("presence","no_detailed_presence");else if(u-x>5*60*1e3){var y="stale_presence",z=u-x;if(z<10*60*1e3)y+="600";else if(z<60*60*1e3)y+="3600";c("BanzaiODS").bumpEntityKey("presence",y)}}}});f.exports=h}),null);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function a(b,c,d,e,f,g){__p&&__p();var h={register:function i(j,k){j.setAttribute("data-ownerid",c("getOrCreateDOMID")(k))},containsIncludingLayers:function i(j,k){var l=k;while(l){if(c("containsNode")(j,l))return true;l=h.getContext(l)}return false},getContext:function i(j){var k=j,l=void 0;while(k){if(k.getAttribute&&(l=k.getAttribute("data-ownerid")))return c("ge")(l);k=k.parentNode}return null},parentByClass:function i(j,k){var l=j,m=void 0;while(l&&!c("CSS").hasClass(l,k))if(l.getAttribute&&(m=l.getAttribute("data-ownerid")))l=c("ge")(m);else l=l.parentNode;return l}};f.exports=h}),null);
__d("MercuryParticipantTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({USER:"user",THREAD:"thread",EVENT:"event",PAGE:"page",FRIEND:"friend",FB4C:"fb4c",NON_FRIEND:"non_friend",SERVICE:"service"})}),null);
__d("ChatOpenTab",["csx","Bootloader","ContextualThing","Event","MercuryIDs","MercuryParticipantTypes","Parent","requireWeak"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=null;c("requireWeak")("FantaTabsReactApp",function(n){return i=n});c("requireWeak")("FantaTabsSlimApp",function(n){return i=n});function j(n,o,p,q){c("Event").listen(n,"click",function(r){if(m.canOpenTab()){q(o,p);n.removeAttribute("ajaxify");n.removeAttribute("rel");r.preventDefault()}})}function k(n,o,p,q){c("Event").listen(n,"click",function(r){if(m.canOpenTab())q(o,p)})}function l(n){var o=c("ContextualThing").getContext(n);return o&&c("Parent").bySelector(o,"._3qw")!==null}var m={canOpenTab:function n(){return i&&!i.isHidden()},listenOpenEmptyTabDEPRECATED:function n(o,p){j(o,null,p,this._loadAndOpenEmptyFantaTab)},listenOpenThreadDEPRECATED:function n(o,p,q){j(o,p,q,function(p,r){return this.loadAndOpenFantaTab(p,r,q)}.bind(this))},listenOpenUserTabDEPRECATED:function n(o,p,q){if(!l(o))j(o,p,q,function(r){return this.loadAndOpenFantaTab(r,c("MercuryParticipantTypes").USER,q)}.bind(this))},listenOpenUserTabPersistentEventDEPRECATED:function n(o,p,q){if(!l(o))k(o,p,q,function(r){return this.loadAndOpenFantaTab(r,c("MercuryParticipantTypes").USER,q)}.bind(this))},listenOpenPageTabDEPRECATED:function n(o,p,q,r){if(!l(o))j(o,p,r,function(s){return this.loadAndOpenFantaTab(s,c("MercuryParticipantTypes").PAGE,r)}.bind(this))},listenOpenPageTabPersistentEventDEPRECATED:function n(o,p,q,r){if(!l(o))k(o,p,r,function(s){return this.loadAndOpenFantaTab(s,c("MercuryParticipantTypes").PAGE,r)}.bind(this))},loadAndOpenFantaTab:function n(o,p,q){c("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions"],function(r,s){if(p===c("MercuryParticipantTypes").USER||p===c("MercuryParticipantTypes").PAGE){var t=c("MercuryIDs").getThreadIDFromUserID(o);s.openTab(t,[q]);r.logUserClickOpen(q,o)}else{s.openTab(o,[q]);r.logClickOpen(q,o)}},"ChatOpenTab")},_loadAndOpenEmptyFantaTab:function n(){c("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions","MercuryThreads"],function(o,p,q){var r=q.get().createNewLocalThreadGenerateID();p.openTab(r,"jewel_new_message");o.logClickOpen("EmptyTab")},"ChatOpenTab")}};f.exports=m}),null);
__d("ChatOpenTabEventLogger",["Banzai","Bootloader"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="messaging_tracking",i={_log:function j(k,l,m,n){var o={referrer:k||"",message_thread_id:l,message_view:"chat",timestamp_send:Date.now(),message_target_ids:[]};if(m!==undefined)o.message_target_ids=[m];c("Bootloader").loadModules(["ChatImpressionLogger"],function(p){p.logImpression(k,m,n);c("Banzai").post(h,o,{delay:0,retry:true})},"ChatOpenTabEventLogger")},logClickOpen:function j(k,l,m,n){c("Bootloader").loadModules(["MercuryIDs","getPageIDFromThreadID","ChatImpressionLogger"],function(o,p){this._log(k,l,m,n);var q=p(String(l));if(q)this._logPageClick(k,q)}.bind(this),"ChatOpenTabEventLogger")},logUserClickOpen:function j(k,l,m){c("Bootloader").loadModules(["MercuryIDs","ChatImpressionLogger"],function(n){var o=n.getThreadIDFromUserID(l);this.logClickOpen(k,o,l,m)}.bind(this),"ChatOpenTabEventLogger")},logAutoOpen:function j(k,l,m,n){this._log(k,l,m,n)},logUserAutoOpen:function j(k,l){c("Bootloader").loadModules(["MercuryIDs","ChatImpressionLogger"],function(m){var n=m.getThreadIDFromUserID(l);this._log(k,n,l)}.bind(this),"ChatOpenTabEventLogger")},_logPageClick:function j(k,l){c("Banzai").post("page_message_button_click",{page_id:l,ref:k});c("Bootloader").loadModules(["PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum"],function(m,n,o){m.log(l,n.CLICK,o.PAGE_MESSAGE,k)},"ChatOpenTabEventLogger")}};f.exports=i}),null);
__d("ChatSidebarActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({INIT:null,LOADED:null,SET_ENABLED:null,SHOW:null})}),null);
__d("ChatSidebarHideReason",[],(function a(b,c,d,e,f,g){var h=Object.freeze({VIEWPORT_INCAPABLE:0,LOW_FRIEND_COUNT:1,NOT_ENABLED:2});f.exports=h}),null);
__d("SidebarType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SIDEBAR:"sidebar",BUDDYLIST:"buddylist",BUDDYLIST_NUB:"buddylist_nub"})}),null);
__d("ChatSidebarStore",["ChatDispatcher","ChatOptionsInitialData","ChatSidebarActionTypes","FluxStore","SidebarType","performanceAbsoluteNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("ChatDispatcher"));this.$ChatSidebarStore2={initialized:false,initTime:c("performanceAbsoluteNow")(),loaded:false,enabled:!!c("ChatOptionsInitialData").sidebar_mode,visible:null};this.$ChatSidebarStore1={}}j.prototype.__onDispatch=function(k){__p&&__p();var l=k.type;this.$ChatSidebarStore1=babelHelpers["extends"]({},this.$ChatSidebarStore2);switch(l){case c("ChatSidebarActionTypes").INIT:if(!this.$ChatSidebarStore1.initialized)this.$ChatSidebarStore2.initTime=c("performanceAbsoluteNow")();this.$ChatSidebarStore2.initialized=true;break;case c("ChatSidebarActionTypes").LOADED:this.$ChatSidebarStore2.loaded=true;break;case c("ChatSidebarActionTypes").SHOW:this.$ChatSidebarStore2.visible=k.sidebarType;break;case c("ChatSidebarActionTypes").SET_ENABLED:this.$ChatSidebarStore2.enabled=k.enabled;this.$ChatSidebarStore2.visible=k.sidebarType;break}for(var m in this.$ChatSidebarStore2)if(Object.prototype.hasOwnProperty.call(this.$ChatSidebarStore2,m))if(this.$ChatSidebarStore2[m]!==this.$ChatSidebarStore1[m]){this.__emitChange();break}};j.prototype.getPrevState=function(){return this.$ChatSidebarStore1};j.prototype.getState=function(){return this.$ChatSidebarStore2};j.prototype.isInitialized=function(){return this.$ChatSidebarStore2.initialized};j.prototype.isLoaded=function(){return this.$ChatSidebarStore2.loaded};j.prototype.isEnabled=function(){return this.$ChatSidebarStore2.enabled};j.prototype.getInitTime=function(){return this.$ChatSidebarStore2.initTime};j.prototype.getVisibleType=function(){return this.$ChatSidebarStore2.visible};f.exports=new j()}),null);
__d("ChatSidebarPreloadStore",["ChatSidebarData","InitialChatFriendsList"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={onLoaded:function i(j){if(c("ChatSidebarData").AsyncDataPreloader)c("ChatSidebarData").AsyncDataPreloader.onLoaded(function(k){var l=k.result,m=l.list,n=l.groups,o=l.shortProfiles,p=l.nearby,q=l.recents,r=l.adminedPages,s=l.pageListModule,t=l.pymmList;return j({buddies:m,groups:n,shortProfiles:o,nearby:p,recents:q,adminedPages:r,pageListModule:s,pymmList:t,profiles:[]})});else if(c("ChatSidebarData").WebGraphQLPreloader)c("ChatSidebarData").WebGraphQLPreloader.onLoaded(function(k){return j(c("ChatSidebarData").WebGraphQLNormalizer.normalize(k))});else j({buddies:c("InitialChatFriendsList").list||[],groups:c("InitialChatFriendsList").groups||[],shortProfiles:c("InitialChatFriendsList").shortProfiles||{},nearby:c("InitialChatFriendsList").nearby||[],recents:c("InitialChatFriendsList").recents||[],adminedPages:c("InitialChatFriendsList").adminedPages||[],pageListModule:c("InitialChatFriendsList").pageListModule,pymmList:c("InitialChatFriendsList").pymmList||{},profiles:[]})}};f.exports=h}),null);
__d("ChatProfileStore",["ChatSidebarPreloadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={},i={init:function j(){c("ChatSidebarPreloadStore").onLoaded(function(k){var l=k.profiles,m=k.nearby;return l.filter(function(n){return!m||m.indexOf(n.id)===-1}).forEach(function(n){var o=new Date(),p=n.birthdate&&o.getDate()===n.birthdate.day&&o.getMonth()+1===n.birthdate.month,q=n.profile_picture&&n.profile_picture.uri?n.profile_picture.uri:null;h[n.id]={id:n.id,is_birthday:p,thumbSrc:q,name:n.name,is_messenger_only:!!n.is_messenger_only}})})},get:function j(k){return h[k]}};f.exports=i}),null);
__d("OrderedFriendsList",["AvailableListConstants","ChatProfileStore","ChatSidebarPreloadStore","MercuryIDs","PresenceStatus","SearchableEntry","ShortProfiles","WorkModeConfig","createArrayFromMixed","isValidUniqueID"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i={},j=[],k={};function l(r){r=String(r);return c("MercuryIDs").isValid(r)?r:c("MercuryIDs").getParticipantIDFromUserID(r)}function m(r,s){var t=c("createArrayFromMixed")(r);s(t.filter(function(u){var v=c("ShortProfiles").getNow(u);return!v||p(v)||v.is_nonfriend_messenger_contact}))}function n(r){h=[];var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(c("PresenceStatus").get(u)==v){h[s]=u;i[u]=s++}})}function o(r){var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(v==c("AvailableListConstants").ACTIVE){j[s]=u;k[u]=s++}})}function p(r){return r.type==="friend"||c("WorkModeConfig").is_work_user&&r.type==="fb4c"}var q={contains:function r(s){return s in i},getList:function r(s){if(h&&h.length){m(h,s);return}c("ChatSidebarPreloadStore").onLoaded(function(t){var u=t.buddies;n(u);m(h,s)})},getSearchableEntries:function r(s,t,u){__p&&__p();q.getList(function(v){__p&&__p();c("ChatSidebarPreloadStore").onLoaded(function(w){var x=w.groups;c("ShortProfiles").getMulti(v.slice(0,s),function(y){var z=[];for(var A in y)z.push(q.normalizeProfileEntry(y[A],A));var B=t?x.map(q.normalizeThreadEntry):[];u(z.concat(B).filter(function(C){return!!C}).sort(function(C,D){return C.getOrder()-D.getOrder()}))})})})},normalizeProfileEntry:function r(s,t){var u=s.searchTokens||[],v=s.name,w=null;return new(c("SearchableEntry"))({uniqueID:s.id||t,keywordString:u.join(" "),order:q.getRank(s.id||t),photo:s.thumbSrc,title:v,subtitle:w,type:s.type,uri:s.uri,auxiliaryData:{isMessengerUser:s.is_messenger_user}})},normalizeThreadEntry:function r(s,t){__p&&__p();var u=s.mercury_thread,v=s.participants_to_render.map(function(B){return babelHelpers["extends"]({},B,{id:l(B.id)})});u.participants=u.participants.map(l);var w=s.text,x=null;if(!w)w=u.name;var y=v.map(function(B){return B.name}),z=y.join(", ");if(!w)w=z;else x=z;var A=s.uid;if(!w||!c("isValidUniqueID")(A))return null;return new(c("SearchableEntry"))({uniqueID:A,order:t,photo:u.image_src,title:w,subtitle:x,type:"thread",auxiliaryData:{participantsToRender:v,tooltipContent:y.join("\n"),thread:u}})},getRank:function r(s){if(s in i)return i[s];return h?h.length:0},getActiveList:function r(s){if(j.length>0){s(j);return}q.getList(function(t){return s(t)})},getActiveRank:function r(s){return s in k?k[s]:q.getRank(s)}};(function(){c("ChatSidebarPreloadStore").onLoaded(function(r){var s=r.buddies,t=r.shortProfiles;c("ShortProfiles").setMulti(t);o(s);n(s)});c("ChatProfileStore").init()})();f.exports=q}),null);
__d("ChatSidebarVisibility",["ChatConfig","ChatSidebarHideReason","ChatSidebarStore","OrderedFriendsList","SidebarType","getViewportDimensions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ChatConfig").get("sidebar.min_friends"),i=c("ChatConfig").get("sidebar.minimum_width"),j={getViewport:function k(){return c("getViewportDimensions").withoutScrollbars()},shouldShowSidebar:function k(l,m){j.shouldShowSidebarIgnoreEnabled(l,function(n,o){var p=c("ChatSidebarStore").isEnabled();m(n&&p,p?o:o.concat([c("ChatSidebarHideReason").NOT_ENABLED]))})},shouldShowSidebarIgnoreEnabled:function k(l,m){__p&&__p();c("OrderedFriendsList").getActiveList(function(n){__p&&__p();var o=l||j.getViewport(),p=o.width>i,q=n.length<h,r=true,s=[];if(!p){r=false;s.push(c("ChatSidebarHideReason").VIEWPORT_INCAPABLE)}if(q){r=false;s.push(c("ChatSidebarHideReason").LOW_FRIEND_COUNT)}m(r,s)})},isSidebarVisible:function k(){return c("ChatSidebarStore").getVisibleType()===c("SidebarType").SIDEBAR},isBuddyListVisible:function k(){return c("ChatSidebarStore").getVisibleType()===c("SidebarType").BUDDYLIST}};f.exports=j}),null);
__d("ChatSidebarActions",["ChatDispatcher","ChatSidebarActionTypes","ChatSidebarVisibility","SidebarType"],(function a(b,c,d,e,f,g){"use strict";var h={init:function i(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").INIT})},loaded:function i(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").LOADED})},disable:function i(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SET_ENABLED,enabled:false,sidebarType:c("SidebarType").BUDDYLIST})},enable:function i(j){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SET_ENABLED,enabled:true,sidebarType:j})},show:function i(j){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SHOW,sidebarType:j})}};f.exports=h}),null);
__d("FBRTCDispatcher",["Dispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("Dispatcher_DEPRECATED"))()}),null);
__d("FBRTCStore",["FBRTCDispatcher","FluxStore"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("FBRTCDispatcher"))}j.prototype.__emitChange=function(){this.__emitter.emit(this.__changeEvent)};f.exports=j}),null);
__d("VideoCallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoCallLoggerConfig",this.$VideoCallTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoCallLoggerConfig",this.$VideoCallTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoCallTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoCallTypedLogger1=babelHelpers["extends"]({},this.$VideoCallTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$VideoCallTypedLogger1.event=j;return this};h.prototype.setMessage=function(j){this.$VideoCallTypedLogger1.message=j;return this};var i={event:true,message:true};f.exports=h}),null);
__d("FBRTCCallBlockingStore",["Arbiter","AsyncRequest","ChannelConstants","FBRTCDispatcher","FBRTCStore","VideoCallTypedLogger","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=false,k=0,l=null,m="call_block_setting_changed";h=babelHelpers.inherits(n,c("FBRTCStore"));i=h&&h.prototype;n.prototype.init=function(o){this.$FBRTCCallBlockingStore1(o);c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("videocall_block_setting"),this.$FBRTCCallBlockingStore2.bind(this))};n.prototype.__onDispatch=function(o){if(o.type!==m)return;this.$FBRTCCallBlockingStore1(o.data)};n.prototype.$FBRTCCallBlockingStore1=function(o){__p&&__p();switch(o){case 0:j=false;this.$FBRTCCallBlockingStore3();break;case-1:j=true;this.$FBRTCCallBlockingStore3();break;default:j=true;this.$FBRTCCallBlockingStore4(o)}this.__emitChange()};n.prototype.$FBRTCCallBlockingStore4=function(o){if(l===null)l=c("setTimeoutAcrossTransitions")(this.turnOnVideoCalling.bind(this),o*1e3)};n.prototype.getBlockingStatus=function(){return j};n.prototype.turnOnVideoCalling=function(){new(c("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore5.bind(this)).setData({call_blocked_until:0}).send()};n.prototype.turnOffVideoCalling=function(o){k=o;new(c("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore6.bind(this)).setData({call_blocked_until:o}).send()};n.prototype.$FBRTCCallBlockingStore3=function(){if(l){clearTimeout(l);l=null}};n.prototype.$FBRTCCallBlockingStore5=function(){c("FBRTCDispatcher").dispatch({type:m,data:0});new(c("VideoCallTypedLogger"))().setEvent(m).setMessage("enable").log()};n.prototype.$FBRTCCallBlockingStore6=function(){c("FBRTCDispatcher").dispatch({type:m,data:k});new(c("VideoCallTypedLogger"))().setEvent(m).setMessage("disable_"+k).log()};n.prototype.$FBRTCCallBlockingStore2=function(o,p){c("FBRTCDispatcher").dispatch({type:m,data:p.obj.value})};function n(){h.apply(this,arguments)}f.exports=new n()}),null);
__d("ChatOptions",["Arbiter","ChannelConstants","ChatSidebarActions","ChatSidebarVisibility","FBRTCCallBlockingStore","JSLogger","PresenceUtil","SidebarType","ChatOptionsInitialData"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("JSLogger").create("chat_options"),i={};(function(){var k=c("ChatOptionsInitialData");for(var l in k){var m=k[l];if(l==="call_blocked_until")c("FBRTCCallBlockingStore").init(m);else i[l]=!!m}})();var j=Object.assign(new(c("Arbiter"))(),{getSetting:function k(l){return i[l]},setSetting:function k(l,m,n){__p&&__p();if(l==="sidebar_mode"){c("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(o,p){if(m)c("ChatSidebarActions").enable(o?c("SidebarType").SIDEBAR:c("SidebarType").BUDDYLIST);else c("ChatSidebarActions").disable()});return}if(this.getSetting(l)==m)return;if(n){n="from_"+n;h.log(n,{name:l,new_value:m,old_value:this.getSetting(l)})}i[l]=!!m;c("Arbiter").inform("chat/option-changed",{name:l,value:m})}});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("setting"),function(k,l){var m=l.obj;if(m.window_id===c("PresenceUtil").getSessionID())return;j.setSetting(m.setting,!!m.value,"channel")});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(k,l){l.chat_options=i});f.exports=j}),null);
__d("ChatQuietLinks",["DataStore","DOM","Event","Parent","UserAgent_DEPRECATED","getOrCreateDOMID"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i={silenceLinks:function m(n){j(n,this.removeEmptyHrefs.bind(this))},nukeLinks:function m(n){j(n,this.removeAllHrefs.bind(this))},removeEmptyHrefs:function m(n){k(n,function(o){return!o||o==="#"})},removeAllHrefs:function m(n){k(n)}};function j(m,n){__p&&__p();var o=!!c("UserAgent_DEPRECATED").chrome(),p=!!c("UserAgent_DEPRECATED").chrome()||c("UserAgent_DEPRECATED").ie()>=9||c("UserAgent_DEPRECATED").firefox()>=4;if(h[c("getOrCreateDOMID")(m)])return;h[c("getOrCreateDOMID")(m)]=true;if(!p)return;if(!o){n&&n(m);return}c("Event").listen(m,"mouseover",function q(r){var s=c("Parent").byTag(r.getTarget(),"a");if(s){var t=s.getAttribute("href");if(l(t)){c("DataStore").set(s,"stashedHref",s.getAttribute("href"));s.removeAttribute("href")}}});c("Event").listen(m,"mouseout",function q(r){var s=c("Parent").byTag(r.getTarget(),"a"),t=s&&c("DataStore").remove(s,"stashedHref");if(l(t))s.setAttribute("href",t)});c("Event").listen(m,"mousedown",function(q){if(!q.isDefaultRequested())return true;var r=c("Parent").byTag(q.getTarget(),"a"),s=r&&c("DataStore").get(r,"stashedHref");if(l(s))r.setAttribute("href",s)})}function k(m,n){var o=c("DOM").scry(m,"a");if(n)o=o.filter(function(p){return n(p.getAttribute("href"))});o.forEach(function(p){p.removeAttribute("href");if(!p.tabIndex)p.setAttribute("tabindex",0)})}function l(m){return m&&m!=="#"}f.exports=i}),null);
__d("DOMControl",["DataStore","$"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.root=c("$")(i);this.updating=false;c("DataStore").set(i,"DOMControl",this)}h.prototype.getRoot=function(){"use strict";return this.root};h.prototype.beginUpdate=function(){"use strict";if(this.updating)return false;this.updating=true;return true};h.prototype.endUpdate=function(){"use strict";this.updating=false};h.prototype.update=function(i){"use strict";if(!this.beginUpdate())return this;this.onupdate(i);this.endUpdate()};h.prototype.onupdate=function(i){"use strict"};h.getInstance=function(i){"use strict";return c("DataStore").get(i,"DOMControl")};f.exports=h}),null);
__d("Input",["CSS","DOMQuery","DOMControl"],(function a(b,c,d,e,f,g){__p&&__p();var h={isWhiteSpaceOnly:function i(j){return!/\S/.test(j||"")},isEmpty:function i(j){return h.isWhiteSpaceOnly(j.value)},getValue:function i(j){return h.isEmpty(j)?"":j.value},getValueRaw:function i(j){return j.value},setValue:function i(j,k){j.value=k||"";var l=c("DOMControl").getInstance(j);l&&l.resetHeight&&l.resetHeight()},setPlaceholder:function i(j,k){j.setAttribute("aria-label",k);j.setAttribute("placeholder",k)},reset:function i(j){j.value="";j.style.height=""},setSubmitOnEnter:function i(j,k){c("CSS").conditionClass(j,"enter_submit",k)},getSubmitOnEnter:function i(j){return c("CSS").hasClass(j,"enter_submit")},setMaxLength:function i(j,k){if(k>0)j.setAttribute("maxlength",k);else j.removeAttribute("maxlength")}};f.exports=h}),null);
__d("TypingDetector",["ArbiterMixin","Event","Input","Run","SubscriptionsHandler","TypingStates","createObjectFrom","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){this._input=i;this._ignoreKeys={};this._getValueFn=j}Object.assign(h.prototype,c("ArbiterMixin"),{_timeout:7e3,_currentState:c("TypingStates").INACTIVE,init:function i(){this.init=c("emptyFunction");this.reset();this._subscriptions=new(c("SubscriptionsHandler"))();this._subscriptions.addSubscriptions(c("Event").listen(this._input,"keyup",this._update.bind(this)),c("Run").onUnload(this._onunload.bind(this)))},reset:function i(){clearTimeout(this._checkTimer);this._checkTimer=null;this._lastKeystrokeAt=null;this._currentState=c("TypingStates").INACTIVE},setIgnoreKeys:function i(j){this._ignoreKeys=c("createObjectFrom")(j)},destroy:function i(){this._subscriptions.release()},_onunload:function i(){if(this._currentState==c("TypingStates").TYPING)this._transition(c("TypingStates").QUITTING)},_update:function i(event){__p&&__p();var j=c("Event").getKeyCode(event),k=this._currentState;if(!this._ignoreKeys[j]){var l=this._getValueFn?this._getValueFn():c("Input").getValue(this._input);if(l.trim().length===0){if(k==c("TypingStates").TYPING)this._transition(c("TypingStates").INACTIVE)}else if(k==c("TypingStates").TYPING)this._recordKeystroke();else if(k==c("TypingStates").INACTIVE){this._transition(c("TypingStates").TYPING);this._recordKeystroke()}}},_transition:function i(j){this.reset();this._currentState=j;this.inform("change",j)},_recordKeystroke:function i(){this._lastKeystrokeTime=Date.now();if(!this._checkTimer)this._checkTimer=setTimeout(this._checkTyping.bind(this),this._timeout)},_checkTyping:function i(){var j=this._lastKeystrokeTime+this._timeout,k=Date.now();if(k>j)this._transition(c("TypingStates").INACTIVE);else{clearTimeout(this._checkTimer);this._checkTimer=setTimeout(this._checkTyping.bind(this),j-k+10)}}});f.exports=h}),null);
__d("shield",[],(function a(b,c,d,e,f,g){function h(i,j){if(typeof i!="function")throw new TypeError("shield expects a function as the first argument");var k=Array.prototype.slice.call(arguments,2);return function(){return i.apply(j,k)}}f.exports=h}),null);
__d("TypingDetectorController",["ActorURI","AsyncRequest","AvailableList","AvailableListConstants","ChatVisibility","Keys","MercuryServerRequestsConfig","TypingDetector","TypingStates","emptyFunction","ifRequired","setTimeoutAcrossTransitions","shield"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="/ajax/messaging/typ.php";function i(j,k,l,m,n,o,p){__p&&__p();this.userID=j;this.input=k;this.source=l;this.threadID=n;this.pageID=p;this.remoteState=c("TypingStates").INACTIVE;this.notifyTimer=null;m=m||{};this.notifyDelay=m.notifyDelay||this.notifyDelay;this._typingDetector=new(c("TypingDetector"))(k,o);this._typingDetector.init(m);this._typingDetector.subscribe("change",this._stateChange.bind(this))}i.prototype.setUserAndThread=function(j,k){if(this.userID!==j||this.threadID!==k){this.resetState();this.userID=j;this.threadID=k}};i.prototype.setIgnoreEnter=function(j){var k=j?[c("Keys").RETURN]:[];this._typingDetector.setIgnoreKeys(k)};i.prototype.resetState=function(){this._notifyState(c("TypingStates").INACTIVE);this.remoteState=c("TypingStates").INACTIVE;this._typingDetector.reset();clearTimeout(this.notifyTimer);this.notifyTimer=null};i.prototype.destroy=function(){this.resetState();this._typingDetector.destroy()};i.prototype._stateChange=function(j,k){if(k!=c("TypingStates").QUITTING){clearTimeout(this.notifyTimer);this.notifyTimer=c("setTimeoutAcrossTransitions")(c("shield")(this._notifyState,this,k),this.notifyDelay)}else this._notifyState(k,true)};i.prototype._notifyState=function(j,k){if(!this.userID&&!this.threadID||!c("ChatVisibility").isOnline()||j===this.remoteState||c("ifRequired")("ChannelConnection",function(l){return l.disconnected()},function(){return true}))return;this._sendRequest(j,this.userID,k)};i.prototype._sendRequest=function(j,k,l){this.remoteState=j;var m={typ:j,to:k,source:this.source,thread:this.threadID},n=this.pageID?c("ActorURI").create(h,this.pageID):h,o=new(c("AsyncRequest"))().setHandler(this._onTypResponse.bind(this,k)).setErrorHandler(c("emptyFunction")).setData(m).setURI(n).setAllowCrossPageTransition(true).setOption("asynchronous_DEPRECATED",!l);if(c("MercuryServerRequestsConfig").msgrRegion)o.setRequestHeader("X-MSGR-Region",c("MercuryServerRequestsConfig").msgrRegion);o.send()};i.prototype._onTypResponse=function(j,k){var l=k.getPayload()||{};if(l.offline)c("AvailableList").set(j,c("AvailableListConstants").OFFLINE,"typing_response")};Object.assign(i.prototype,{notifyDelay:1e3});f.exports=i}),null);
__d("DateConsts",[],(function a(b,c,d,e,f,g){var h=1e3,i=60,j=60,k=24,l=7,m=12,n=1e3,o=30.43,p=365.242,q=i*j,r=q*k,s=r*l,t=r*p,u=h*i,v=u*j,w=h*r,x=w*l,y=w*p,z={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6};Object.freeze(z);var A={getDaysInMonth:function B(C,D){return new Date(C,D,0).getDate()},getCurrentTimeInSeconds:function B(){return Date.now()/h},DAYS:z,MS_PER_SEC:h,MS_PER_MIN:u,MS_PER_HOUR:v,MS_PER_DAY:w,MS_PER_WEEK:x,MS_PER_YEAR:y,SEC_PER_MIN:i,SEC_PER_HOUR:q,SEC_PER_DAY:r,SEC_PER_WEEK:s,SEC_PER_YEAR:t,US_PER_MS:n,MIN_PER_HOUR:j,HOUR_PER_DAY:k,DAYS_PER_WEEK:l,MONTHS_PER_YEAR:m,AVG_DAYS_PER_MONTH:o,AVG_DAYS_PER_YEAR:p,"private":{instantRange:{since:-864e10,until:864e10+1}}};f.exports=A}),null);
__d("EmoticonEmojiList",[],(function a(b,c,d,e,f,g){f.exports={names:{":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":poop:":"poop",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":\u2019(":"cry",":\u2019-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","\u2665":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","\u2019-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like","(n)":"dislike","(N)":"dislike"},emote2emojis:{slightsmile:"1f642",smile:"1f60a",frown:"1f61e",winktongue:"1f61c",poop:"1f4a9",tongue:"1f61b",slightgrin:"1f600",grin:"1f603",gasp:"1f62e",wink:"1f609",glasses:"1f60e",grumpy:"1f620",unsure:"1f615",cry:"1f622",devil:"1f608",angel:"1f607",kiss:"1f617",winkkiss:"1f618",heart:"2764",kiki:"1f60a",expressionless:"1f611",squint:"1f610",upset:"1f620",persevere:"1f623",penguin:"1f427",flushface:"1f633",crying:"1f62d",flushkiss:"1f61a",sweating:"1f613",like:"f0000",dislike:"1f44e"},symbols:{slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",poop:":poop:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",dislike:"(n)"},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/}}),null);
__d("EmployeeLinkMatcher",["CurrentUser"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new RegExp("^[\\s.,:]"),i=new RegExp("(?:\\b)(([BDFTPSXJN]|(AIP))\\d{4,})(?:\\b)","im"),j=new RegExp("(?:\\b)(designpack://.+)(?:\\b)","im"),k=function k(n){if(!c("CurrentUser").isEmployee())return null;var o=i.exec(n)||j.exec(n);if(o===null)return null;return{lnk:o[1],idx:o.index+(h.exec(o[0])?1:0)}},l=function l(n){var o=c("CurrentUser").isEmployee()&&(i.exec(n)!==null||j.exec(n)!==null);return o},m={match:k,isMatch:l};f.exports=m}),null);
__d("EmployeeLinkRanges",["EmployeeLinkMatcher","UnicodeUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={PHABRICATOR_PREFIX:"https://phabricator.intern.facebook.com/",TASKS_PREFIX:"https://our.intern.facebook.com/intern/tasks/?t=",BUSINESS_PREFIX:"https://our.intern.facebook.com/intern/business/?q=",SEV_PREFIX:"https://our.intern.facebook.com/intern/sevmanager/view/s/",CHRONOS_PREFIX:"https://our.intern.facebook.com/intern/chronos/lucky/?query=",ADS_PARTNER_PREFIX:"https://our.intern.facebook.com/intern/ads/partner_projects/projects/",SRT_JOB_PREFIX:"https://our.intern.facebook.com/intern/bunny/?srt+",ANALYTICS_NOTEBOOKS_PREFIX:"https://our.intern.facebook.com/intern/bunny/?anp+",FBLEARNER_RUN_PREFIX:"https://our.intern.facebook.com/intern/fblearner/details/",get:function i(j){__p&&__p();var k=arguments.length<=1||arguments[1]===undefined?0:arguments[1],l=j.substr(k),m=c("EmployeeLinkMatcher").match(l);if(!m)return[];var n=m.lnk,o=m.idx,p=c("UnicodeUtils").strlen(l.substr(0,o));k+=p;var q="";if(n.substr(0,3).toLowerCase()==="aip")q=this.ADS_PARTNER_PREFIX+n.substr(3);else switch(n[0].toLowerCase()){case"d":if(n.indexOf("designpack://")===0)q=n;else q=this.PHABRICATOR_PREFIX+n.toUpperCase();break;case"p":q=this.PHABRICATOR_PREFIX+n.toUpperCase();break;case"t":q=this.TASKS_PREFIX+n.substr(1);break;case"b":q=this.BUSINESS_PREFIX+n.substr(1);break;case"s":q=this.SEV_PREFIX+n.substr(1);break;case"x":q=this.CHRONOS_PREFIX+n.substr(1);break;case"j":q=this.SRT_JOB_PREFIX+n.substr(1);break;case"n":q=this.ANALYTICS_NOTEBOOKS_PREFIX+n.substr(1);break;case"f":q=this.FBLEARNER_RUN_PREFIX+n.substr(1);break;default:return[]}var r=n.length,s=[{offset:k,length:r,entity:{url:q}}];return s.concat(this.get(j,k+r))}};f.exports=h}),null);
__d("EventReminderDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationDispatcher"))({strict:false})}),null);
__d("EventReminderActions",["EventReminderDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({DELETE_EVENT_REMINDER:null,UPDATE_EVENT_REMINDER:null}),i={Types:h,updateEventReminder:function j(k,event,l){c("EventReminderDispatcher").dispatch({type:i.Types.UPDATE_EVENT_REMINDER,threadID:k,event:event,participantsEventStatus:l})},deleteEventReminder:function j(k){c("EventReminderDispatcher").dispatch({type:i.Types.DELETE_EVENT_REMINDER,threadID:k})}};f.exports=i}),null);
__d("EventReminderConstants",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({INITIAL:"initial",GOING:"going",WATCHED:"watched",UNWATCHED:"unwatched"}),i=Object.freeze({ASSOCIATED_EVENT:"ASSOCIATED_EVENT"}),j=Object.freeze({GOING:"GOING",DECLINED:"DECLINED",INVITED:"INVITED"}),k=Object.freeze({NO_ERROR:"NO_ERROR",PAST_TIME:"PAST_TIME",AFTER_ONE_YEAR:"AFTER_ONE_YEAR"});f.exports={EventGuestStates:h,EventPlanType:i,GuestStates:j,TimeErrorType:k}}),null);
__d("ImageSourceType",[],(function a(b,c,d,e,f,g){var h=Object.freeze({PROFILE_PICTURE:"profile_picture",IMAGE:"image"});f.exports=h}),null);
__d("PhotoResizeModeConst",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONTAIN:"s",COVER:"p"})}),null);
__d("ImageSourceRequest",["CurrentUser","ImageSourceType","KeyedCallbackManager","PhotoResizeModeConst","MercuryServerDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this._request={fbid:null,type:null,width:null,height:null,resize_mode:null};this._callback=null}h.prototype.setFBID=function(l){"use strict";this._request.fbid=l;return this};h.prototype.setType=function(l){"use strict";if(![c("ImageSourceType").PROFILE_PICTURE,c("ImageSourceType").IMAGE].includes(l))throw new TypeError("ImageSourceRequest.setType: invalid type "+l);this._request.type=l;return this};h.prototype.setDimensions=function(l,m){"use strict";this._request.width=l;this._request.height=m;return this};h.prototype.setResizeMode=function(l){"use strict";if(![c("PhotoResizeModeConst").COVER,c("PhotoResizeModeConst").CONTAIN].includes(l))throw new TypeError("ImageSourceRequest.setResizeMode: invalid resize mode "+l);this._request.resize_mode=l;return this};h.prototype.setCallback=function(l){"use strict";this._callback=l;return this};h.prototype.send=function(){"use strict";__p&&__p();if(!this._request.fbid||!this._request.width||!this._request.height||!this._request.type||!this._request.resize_mode||!this._callback)throw new Error("ImageSourceRequest: You must set all the fields");var l=j(),m=k(this._request);l.executeOrEnqueue(m,this._callback);if(l.getUnavailableResourcesFromRequest(m).length===1){c("MercuryServerDispatcher").trySend("/ajax/image_source.php",{requests:[this._request]});return true}return false};var i=null;function j(){__p&&__p();if(i)return i;var l=new(c("KeyedCallbackManager"))();i=l;c("MercuryServerDispatcher").registerEndpoints({"/ajax/image_source.php":{request_user_id:c("CurrentUser").getID(),mode:c("MercuryServerDispatcher").BATCH_DEFERRED_MULTI,batch_function:function m(n,o){var p;(p=n.requests).push.apply(p,o.requests);return n},handler:function m(n,o){var p=o.getData().requests;for(var q=0;q<p.length;++q)l.setResource(k(p[q]),n[q])}}});return l}function k(l){return[l.fbid,l.type,l.width,l.height,l.resize_mode].join("|")}f.exports=h}),null);
__d("MercuryAssert",["MercuryIDs"],(function a(b,c,d,e,f,g){__p&&__p();f.exports={isParticipantID:function h(i){if(!c("MercuryIDs").isValid(i))throw new Error("bad_participant_id "+i)},allParticipantIDs:function h(i){i.forEach(this.isParticipantID)},isUserParticipantID:function h(i){var j=c("MercuryIDs").tokenize(i);if(j.type!="fbid")throw new Error("bad_user_id "+i)},isEmailParticipantID:function h(i){var j=c("MercuryIDs").tokenize(i);if(j.type!="email")throw new Error("bad_email_id "+i)},allThreadID:function h(i){i.forEach(this.isThreadID)},isThreadID:function h(i){if(!c("MercuryIDs").isValid(i))throw new Error("bad_thread_id "+i)}}}),null);
__d("MercuryActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOG_MESSAGE:"ma-type:log-message",USER_GENERATED_MESSAGE:"ma-type:user-generated-message",ADD_GROUP_ADMINS:"ma-type:add_group_admins",REMOVE_GROUP_ADMINS:"ma-type:remove_group_admins",CHANGE_READ_STATUS:"ma-type:change_read_status",MARK_THREAD_SEEN:"ma-type:mark_thread_seen",CHANGE_MUTE_SETTINGS:"ma-type:change-mute-settings",SEND_MESSAGE:"ma-type:send-message",DELETE_MESSAGES:"ma-type:delete-messages",DELETE_THREAD:"ma-type:delete-thread",UPDATE_SNIPPET:"ma-type:update-snippet",CHANGE_ARCHIVED_STATUS:"ma-type:change-archived-status",CHANGE_PAGE_FOLLOW_UP_STATUS:"ma-type:change-page-follow-up-status",CHANGE_FOLDER:"ma-type:change-folder",ADD_PARTICIPANTS:"ma-type:add-participants",CANCEL_ATTACHMENT_PLACEHOLDER:"ma-type:cancel-attachment-placeholder",CONFIRM_ATTACHMENT_PLACEHOLDER:"ma-type:confirm-attachment-placeholder",CHANGE_FLAG:"ma-type:change_flag",MOVE_PENDING_TO_INBOX:"ma-type:move_pending_to_inbox",CREATE_PAGE_ADMIN_NOTE:"ma-type:create-page-admin-note",REPLACE_MESSAGE:"ma-type:replace-message",UPDATE_CUSTOM_LIKE:"ma-type:update_custom_like",UNWRAP_MESSAGE:"ma-type:unwrap-message",JOINABLE_MODE:"ma-type:joinable-mode",APPROVAL_MODE:"ma-type:approval-mode",APPROVAL_QUEUE:"ma-type:approval-queue",IS_PIN_PROTECTED:"ma-type:is_pin_protected",REACTION_UPDATE:"ma-type:reaction-update",LIVE_LOCATION_UPDATE:"ma-type:live-location-update",UPDATE_RTC_CALL_DATA:"ma-type:update-rtc-call-data",UPDATE_COMM_STATUS:"ma-type:update-comm-status",EVENT_RSVP_CHANGED:"ma-type:event-rsvp-changed",BLOCK_STATUS_CHANGED:"ma-type:block-status-changed",UPDATE_COMM_ITEM_OWNER:"ma-type:update-comm-item-owner"})}),null);
__d("MercurySingletonProvider",["CurrentUser"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$MercurySingletonProvider1={};this.$MercurySingletonProvider2=i}h.prototype.getForFBID=function(i){if(!this.$MercurySingletonProvider1[i])this.$MercurySingletonProvider1[i]=new this.$MercurySingletonProvider2(i);return this.$MercurySingletonProvider1[i]};h.prototype.get=function(){return this.getForFBID(c("CurrentUser").getID())};h.mock=function(i){throw new Error("MercurySingletonProvider.mock() must only be used in tests.")};f.exports=h}),null);
__d("MercuryThreadInformer",["ArbiterMixin","LogHistory","MercuryAssert","MercurySingletonProvider","mapObject","mixin"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("LogHistory").getInstance("mercury_informer");h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;k.get=function(){return l.get()};k.getForFBID=function(m){return l.getForFBID(m)};function k(m){__p&&__p();i.constructor.call(this);this.$MercuryThreadInformer1=m;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5={};this.$MercuryThreadInformer6=false;this.$MercuryThreadInformer7=false;this.$MercuryThreadInformer8=false;this.$MercuryThreadInformer9={};this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11={};this.$MercuryThreadInformer12=0}k.prototype.updatedThread=function(m){this.$MercuryThreadInformer3[m]=true;this.$MercuryThreadInformer13()};k.prototype.invalidatedThread=function(m){this.$MercuryThreadInformer4[m]=true;this.$MercuryThreadInformer13()};k.prototype.deletedThread=function(m){this.$MercuryThreadInformer2[m]=true;this.$MercuryThreadInformer13()};k.prototype.updatedThreadlist=function(){this.$MercuryThreadInformer6=true;this.$MercuryThreadInformer13()};k.prototype.updatedUnseenState=function(){this.$MercuryThreadInformer7=true;this.$MercuryThreadInformer13()};k.prototype.updatedUnreadState=function(){this.$MercuryThreadInformer8=true;this.$MercuryThreadInformer13()};k.prototype.changedThreadReadState=function(m,n,o){if(!this.$MercuryThreadInformer5[m]||this.$MercuryThreadInformer5[m].timestamp<o)this.$MercuryThreadInformer5[m]={mark_as_read:n,timestamp:o};this.$MercuryThreadInformer13()};k.prototype.receivedMessage=function(m){c("MercuryAssert").isThreadID(m.thread_id);var n=m.thread_id;if(!this.$MercuryThreadInformer9[n])this.$MercuryThreadInformer9[n]=[];this.$MercuryThreadInformer9[n].push(m);this.updatedThread(n)};k.prototype.reorderedMessages=function(m,n){this.$MercuryThreadInformer10[m]={source:n};this.$MercuryThreadInformer13()};k.prototype.updatedMessage=function(m,n,o){if(!this.$MercuryThreadInformer11[m])this.$MercuryThreadInformer11[m]={};this.$MercuryThreadInformer11[m][n]={source:o};this.updatedThread(m)};k.prototype.synchronizeInforms=function(m){this.$MercuryThreadInformer12++;try{m()}catch(n){throw n}finally{this.$MercuryThreadInformer12--;this.$MercuryThreadInformer13()}};k.prototype.listen=function(m,n){return this.subscribe("threads-updated",function(o,p){if(p[m])n(m)})};k.prototype.$MercuryThreadInformer13=function(){__p&&__p();if(!this.$MercuryThreadInformer12){var m=this.$MercuryThreadInformer2,n=this.$MercuryThreadInformer3,o=this.$MercuryThreadInformer4,p=this.$MercuryThreadInformer5,q=this.$MercuryThreadInformer6,r=this.$MercuryThreadInformer7,s=this.$MercuryThreadInformer8,t=this.$MercuryThreadInformer9,u=this.$MercuryThreadInformer10,v=this.$MercuryThreadInformer11;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5={};this.$MercuryThreadInformer6=false;this.$MercuryThreadInformer7=false;this.$MercuryThreadInformer8=false;this.$MercuryThreadInformer9={};this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11={};var w=Object.keys(n);if(w.length||q)this.inform("threadlist-updated",w);if(w.length)this.$MercuryThreadInformer14("threads-updated",n);for(var x in o){this.$MercuryThreadInformer14("thread-invalidated",o);break}for(var x in p){this.$MercuryThreadInformer14("thread-read-changed",p);break}for(x in m){this.$MercuryThreadInformer14("threads-deleted",m);break}if(r)this.$MercuryThreadInformer14("unseen-updated",null);if(s)this.$MercuryThreadInformer14("unread-updated",null);for(x in t){this.$MercuryThreadInformer14("messages-received",t);break}for(x in u){this.$MercuryThreadInformer14("messages-reordered",u);break}for(x in v){this.$MercuryThreadInformer14("messages-updated",v);break}}};k.prototype.$MercuryThreadInformer14=function(m,n){if(m==="threads-updated")j.debug(m,JSON.stringify(n));this.inform(m,n)};var l=new(c("MercurySingletonProvider"))(k);f.exports=k}),null);
__d("MercuryDispatcher",["invariant","ArbiterMixin","LogHistory","MercuryActionType","MercuryPayloadSource","MercurySingletonProvider","MercuryThreadInformer","isEmpty","mixin"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("LogHistory").getInstance("mercury_dispatcher");i=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;l.getForFBID=function(n){return m.getForFBID(n)};l.get=function(){return m.get()};function l(n){j.constructor.call(this);this.$MercuryDispatcher1=n}l.prototype.handleUpdate=function(n){__p&&__p();this.$MercuryDispatcher2(n);!!n.from_client!==!!n.preprocessed||h(0);delete n.preprocessed;if(!c("isEmpty")(n))c("MercuryThreadInformer").getForFBID(this.$MercuryDispatcher1).synchronizeInforms(function(){__p&&__p();if(n.payload_source===c("MercuryPayloadSource").SERVER_INVALIDATE_GLOBAL_STATE)this.inform("invalidate-global-state",{});if(n.payload_source===c("MercuryPayloadSource").SERVER_INVALIDATE_THREAD_STATE){var o=n.threads&&n.threads.length>0&&n.threads[0]&&n.threads[0].thread_id;if(o)this.inform("invalidate-thread-state",o)}this.inform("update-thread-ids",n.newlyAddedClientIDs);this.inform("update-participants",n);this.inform("update-threads",n);this.inform("update-unread",n);this.inform("update-threadlist",n);this.inform("update-messages",n);this.inform("update-unseen",n);this.inform("update-typing-state",n);this.inform("update-delivery",n);this.inform("update-roger",n.roger);this.inform("update-blocked-users",n);this.inform("update-ignored-users",n);this.inform("model-update-completed",null)}.bind(this))};l.prototype.$MercuryDispatcher2=function(n){__p&&__p();var o=n.payload_source;if(o===c("MercuryPayloadSource").CLIENT_CHANGE_READ_STATUS||o===c("MercuryPayloadSource").CLIENT_MARK_THREAD_SEEN)return;var p={from_client:n.from_client,messages:null};if(n.actions){var q=n.actions.filter(function(r){return r.action_type===c("MercuryActionType").USER_GENERATED_MESSAGE||r.action_type===c("MercuryActionType").LOG_MESSAGE}).map(function(r){return{action_type:r.action_type,other_user_fbid:r.other_user_fbid,thread_fbid:r.thread_fbid,message_id:r.message_id}});if(q.length)p.messages=q}k.debug("update:"+o,JSON.stringify(p))};var m=new(c("MercurySingletonProvider"))(l);f.exports=l}),null);
__d("MercuryActionStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNSENT:0,SUCCESS:1,UNCONFIRMED:3,FAILED_UNKNOWN_REASON:4,UNABLE_TO_CONFIRM:5,RESENT:6,RESENDING:7,ERROR:10})}),null);
__d("EmojiLikeConstants",["EmojiStaticConfig"],(function a(b,c,d,e,f,g){"use strict";var h=c("EmojiStaticConfig").sizeMap,i=Object.freeze({XSMALL:"xsmall",SMALL:"small",MEDIUM:"medium",LARGE:"large"}),j={dp16:"xsmall",dp32:"small",dp64:"medium",db64:"medium",dp128:"large"},k=Object.freeze({PICKER:"picker",HOT_LIKE:"hot_like"}),l=[983040],m="hot_emoji_source",n="hot_emoji_size",o="emoji_like",p="\ud83d\udc4d",q=[128077];f.exports={FB_THUMBS_UP_EMOJI:l,size:i,sizeMap:h,sizeMapTransfer:j,source:k,SOURCE_TAG_PREFIX:m,TAG_PREFIX_NEW:n,TAG_PREFIX_OLD:o,THUMBS_UP_EMOJI:p,THUMBS_UP_EMOJI_CODES:q}}),null);
__d("MercuryTagHelper",[],(function a(b,c,d,e,f,g){"use strict";var h={get:function i(j,k){var l=j.find(function(m){return m.startsWith(k)});return l&&l.substr(l.indexOf(":")+1)}};f.exports=h}),null);
__d("EmojiLikeUtils",["EmojiLikeConstants","EmoticonEmojiList","MercuryTagHelper"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(n,o){if(!n.tags)n.tags=[i(o)];else n.tags.push(i(o));return n}function i(n){var o=c("EmojiLikeConstants").TAG_PREFIX_NEW;return o+":"+n}function j(n,o){if(!n.tags)n.tags=[k(o)];else n.tags.push(k(o));return n}function k(n){return c("EmojiLikeConstants").SOURCE_TAG_PREFIX+":"+n}function l(n){return m(n)!=null}function m(n){if(!n.tags)return null;var o=c("MercuryTagHelper").get(n.tags,c("EmojiLikeConstants").TAG_PREFIX_NEW);if(o)return o;return c("MercuryTagHelper").get(n.tags,c("EmojiLikeConstants").TAG_PREFIX_OLD)}f.exports={getEmojiSize:m,isEmojiLike:l,setEmojiSize:h,setEmojiSource:j}}),null);
__d("MercuryAttachmentContentType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PHOTO:"attach:image",VIDEO:"attach:video",MUSIC:"attach:music",VOICE:"attach:voice",TEXT:"attach:text",MSWORD:"attach:ms:word",MSXLS:"attach:ms:xls",MSPPT:"attach:ms:ppt",ORION:"attach:orion",SHOERACK_INVITATION:"attach:shoerackinvite",UNKNOWN:"attach:unknown"})}),null);
__d("MercuryAttachmentType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ERROR:"error",FILE:"file",PHOTO:"photo",STICKER:"sticker",SHARE:"share",UNKNOWN:"unknown",VIDEO:"video",ANIMATED_IMAGE:"animated_image",EMOJI_LIKE:"emoji_like",GIFT:"gift",THIRDPARTYSTICKER:"third_party_sticker"})}),null);
__d("StoryAttachmentStyle",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FALLBACK:"fallback",SHARE:"share",OG_COMPOSER_SIMPLE:"og_composer_simple",SPORTS_MATCHUP:"sports_matchup",SHARE_LARGE_IMAGE:"share_large_image",PHOTO:"photo",COVER_PHOTO:"cover_photo",INSPIRATION_PHOTO:"inspiration_photo",ALBUM:"album",NEW_ALBUM:"new_album",COUPON:"coupon",QUESTION:"question",ANSWER:"answer",OPTION:"option",GALLERY:"gallery",STREAM_PUBLISH:"stream_publish",MUSIC_AGGREGATION:"music_aggregation",ITEM_LIST:"list",HIGH_SCORE:"high_score",SCORE_LEADERBOARD:"score_leaderboard",FRIEND_LIST:"friend_list",POPULAR_OBJECTS:"popular_objects",AVATAR_LIST:"avatar_list",AVATAR:"avatar",AVATAR_WITH_VIDEO:"avatar_with_video",EVENT:"event",CANCELED_EVENT:"canceled_event",MINUTIAE_EVENT:"minutiae_event",EXPERIENCE:"experience",LIFE_EVENT:"life_event",GIFT:"gift",IMAGE_SHARE:"image_share",ANIMATED_IMAGE_SHARE:"animated_image_share",ANIMATED_IMAGE_AUTOPLAY:"animated_image_autoplay",ANIMATED_IMAGE_VIDEO:"animated_image_video",ANIMATED_IMAGE_VIDEO_AUTOPLAY:"animated_image_video_autoplay",NOTE:"note",TOPIC:"topic",TOPIC_FOLLOWING_TOPIC:"topic_following_topic",FILE_UPLOAD:"file_upload",NOTIFICATION_TARGET:"notification_target",UNAVAILABLE:"unavailable",PAGE_RECOMMENDATION:"page_recommendation",PAGE_VIDEO_PLAYLIST:"page_video_playlist",VIDEO:"video",VIDEO_INLINE:"video_inline",VIDEO_AUTOPLAY:"video_autoplay",VIDEO_SHARE:"video_share",VIDEO_SHARE_HIGHLIGHTED:"video_share_highlighted",VIDEO_SHARE_YOUTUBE:"video_share_youtube",VIDEO_DIRECT_RESPONSE:"video_direct_response",VIDEO_DIRECT_RESPONSE_AUTOPLAY:"video_direct_response_autoplay",VIDEO_SHOP:"video_shop",INSPIRATION_VIDEO:"inspiration_video",MULTI_VIDEOS_STITCHED:"multi_videos_stitched",MAP:"map",OG_MAP:"og_map",PRODUCT:"product",EXTERNAL_PRODUCT:"external_product",FITNESS_COURSE:"fitness_course",APPLICATION:"application",STICKER:"sticker",EXTERNAL_OG_PRODUCT:"external_og_product",TRAVEL_LOG:"travel_log",MULTI_SHARE:"multi_share",MULTI_SHARE_NO_END_CARD:"multi_share_no_end_card",MULTI_SHARE_NON_LINK_VIDEO:"multi_share_non_link_video",MULTI_SHARE_SEARCH_END_CARD:"multi_share_search_end_card",MULTI_SHARE_FIXED_TEXT:"multi_share_fixed_text",YEAR_IN_REVIEW:"year_in_review",AVATAR_LARGE_COVER:"avatar_large_cover",COMMERCE_PRODUCT_ITEM:"commerce_product_item",COMMERCE_STORE:"commerce_store",THIRD_PARTY_PHOTO:"third_party_photo",PROMPT:"prompt",BIRTHDAY:"birthday",BIRTHDAY_PERCEPTICONS:"birthday_percepticons",DISCUSSION_CONVERSATION:"discussion_conversation",DISCUSSION_COMMENT:"discussion_comment",GROUP_SELL_PRODUCT_ITEM:"group_sell_product_item",GROUP_SELL_PRODUCT_ITEM_MARK_AS_SOLD:"group_sell_mark_as_sold",GAMETIME:"gametime",GAMETIME_LEAGUE:"gametime_league",GAMETIME_PLAY:"gametime_play",GROUP_REPORTED_POST_QUEUE:"group_reported_post_queue",GROUP_PENDING_POST_QUEUE:"group_pending_post_queue",GROUP_JOIN_REQUEST_QUEUE:"group_join_request_queue",GREETING_CARD:"greeting_card",LEAD_GEN:"lead_gen",ATTACHED_STORY:"attached_story",POST_CHANNEL:"post_channel",TEXT_FOR_COLLAGE:"text_for_collage",SOUVENIR:"souvenir",SLIDESHOW:"slideshow",ORION:"orion",ORION_REQUEST:"orion_request",P2P_PAYMENT:"p2p_payment",P2P_SERVER_BUBBLE:"p2p_server_bubble",INSTANT_ARTICLE:"instant_article",MOMENTS_APP_INVITATION:"moments_app_invitation",MOMENTS_APP_PHOTO_REQUEST:"moments_app_photo_request",RIDE_ORDERED:"ride_ordered",RIDE_RECEIPT:"ride_receipt",BUSINESS_MESSAGE_ITEMS:"business_message_items",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_PROMOTION:"retail_promotion",RETAIL_ITEM:"retail_item",RETAIL_NOW_IN_STOCK:"retail_now_in_stock",RETAIL_RECEIPT:"retail_receipt",RETAIL_SHIPMENT:"retail_shipment",RETAIL_SHIPMENT_FOR_SUPPORTED_CARRIER:"retail_shipment_for_supported_carrier",RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:"retail_shipment_for_unsupported_carrier",RETAIL_SHIPMENT_TRACKING_EVENT:"retail_shipment_tracking_event",RETAIL_SHIPMENT_TRACKING_EVENT_ETA:"retail_shipment_tracking_event_eta",RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:"retail_shipment_tracking_event_in_transit",RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:"retail_shipment_tracking_event_out_for_delivery",RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:"retail_shipment_tracking_event_delayed",RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:"retail_shipment_tracking_event_delivered",SURVEY:"survey",MESSAGE_LOCATION:"message_location",GROUP_ADD_MEMBERS:"group_add_memebers",GROUP_MEMBER_ADDED:"group_member_added",RTC_CALL_LOG:"rtc_call_log",EVENTS_PENDING_POST_QUEUE:"events_pending_post_queue",EVENT_CALENDAR:"event_calendar",FACEPILE:"facepile",ATTRIBUTED_SHARE:"attributed_share",VIDEO_CINEMAGRAPH:"video_cinemagraph",LOCAL_CONTEXT_SHARE:"local_context_share",H_SCROLL:"h_scroll",EGO_HSCROLL:"ego_hscroll",MEDIA_QUESTION:"media_question",RICH_MEDIA:"rich_media",RICH_MEDIA_COLLECTION:"rich_media_collection",SQUARE_IMAGE_SHARE:"square_image_share",RETAIL_AGENT_ITEM_SUGGESTION:"retail_agent_item_suggestion",RETAIL_AGENT_ITEM_RECEIPT:"retail_agent_item_receipt",NOTE_COMPOSED:"note_composed",AVATAR_WITH_BIRTHDAY:"avatar_with_birthday",AIRLINE_FLIGHT_RESCHEDULE_UPDATE_BUBBLE:"airline_flight_reschedule_update_bubble",AIRLINE_CONFIRMATION:"airline_confirmation",AIRLINE_CHECK_IN:"airline_check_in",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_FLIGHT_RESCHEDULE_UPDATE:"airline_flight_reschedule_update",LIGHTBOX_VIDEO:"lightbox_video",GLOBALLY_DELETED_MESSAGE_PLACEHOLDER:"globally_deleted_message_placeholder",GENIE_MESSAGE:"genie_message",MOVIE_BOT_MOVIE_LIST:"movie_bot_movie_list",MOVIE_BOT_MOVIE_SHOWTIME_LIST:"movie_bot_movie_showtime_list",GROUPSMASH_MEDIA:"groupsmash_media",AVATAR_WITH_EGO_ACTION:"avatar_with_ego_action",EVENT_TICKET_DEPRECATED:"event_ticket",VERTICAL_ATTACHMENT_LIST:"vertical_attachment_list",INSTANT_ARTICLE_LEGACY:"instant_article_legacy",FUNDRAISER_PAGE:"fundraiser_page",FINANCIAL_BILL_PAYMENT_REQUEST:"financial_bill_payment_request",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD:"goodwill_throwback_friendversary_polaroids_card",WELCOME_CARD_IMAGE:"welcome_card_image",LARGE_IMAGE_LIKE:"large_image_like",ASK_FRIENDS:"ask_friends",CULTURAL_MOMENT:"cultural_moment",TELEPHONE_CALL_LOG:"telephone_call_log",SUPER_EMOJI:"super_emoji",BOOK:"book",SUBTOPIC_CUSTOMIZATION_QUESTION:"subtopic_customization_question",SUBTOPIC_CUSTOMIZATION_OPTION:"subtopic_customization_option",RESTAURANT:"restaurant",CONNECTION_QUESTION:"connection_question",CONNECTION_QUESTION_OPTION:"connection_question_option",PYMI_ITEM:"pymi_item",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD:"goodwill_throwback_friendversary_collage_card",CITY:"city",AVATAR_WITH_SHARE:"avatar_with_share",LIGHTWEIGHT_PLACE:"lightweight_place",QUOTED_SHARE:"quoted_share",SMS_LOG:"sms_log",CENTERED_TEXT:"centered_text",GOODWILL_THROWBACK_FRIENDVERSARY_DATA_CARD:"goodwill_throwback_friendversary_data_card",GOODWILL_THROWBACK_FACEVERSARY_COLLAGE_CARD:"goodwill_throwback_faceversary_collage_card",GOODWILL_THROWBACK_ANNIVERSARY_COLLAGE_CARD:"goodwill_throwback_anniversary_collage_card",MESSAGE_EVENT:"message_event",MESSAGE_THREAD:"message_thread",QUOTE:"quote",VOTER_REGISTRATION_SHARE:"voter_registration_share",AIRLINE_ITINERARY:"airline_itinerary",AIRLINE_UPDATE:"airline_update",PLACE_LIST:"place_list",IMPLICIT_PLACE_LIST_CONVERSION:"implicit_place_list_conversion",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",MINUTIAE_UNIT:"minutiae_unit",INSTANT_ARTICLE_PHOTO:"instant_article_photo",INSTANT_ARTICLE_VIDEO:"instant_article_video",PHOTO_LINK_SHARE:"photo_link_share",BUSINESS_LOCATION:"business_location",GOODWILL_WEATHER:"goodwill_weather",CULTURAL_MOMENT_HOLIDAY_CARD:"cultural_moment_holiday_card",TRANSACTION_INVOICE:"transaction_invoice",GROUP:"group",COMMENT_PLACE_INFO:"comment_place_info",COMMENT_PRODUCT_INFO:"comment_product_info",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD_IPB:"goodwill_throwback_friendversary_polaroids_card_ipb",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD_IPB:"goodwill_throwback_friendversary_collage_card_ipb",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",FUNDRAISER_FOR_STORY:"fundraiser_for_story",MESSAGE_LIVE_LOCATION:"message_live_location",MESSENGER_INVITE:"messenger_invite",GAMES_INSTANT_PLAY:"games_instant_play",PROFILE_MEDIA:"profile_media",NATIVE_TEMPLATES:"native_templates",NATIVE_TEMPLATES_FOX:"native_templates_fox",GOODWILL_THROWBACK_VIDEO_BASIC:"goodwill_throwback_video_basic",COMMERCE_PRODUCT_MINI:"commerce_product_mini",COMMERCE_PRODUCT_MINI_LIST:"commerce_product_mini_list",COMMENT:"comment",MESSENGER_TEAM_BOT_SHARE:"messenger_team_bot_share",LIVE_VIDEO_SCHEDULE:"live_video_schedule",PRODUCT_ITEM:"product_item",PLATFORM_INSTANT_APP:"platform_instant_app",YEAR_OVERVIEW:"year_overview",NATIVE_COMPONENT_FLOW_BOOKING_REQUEST:"native_component_flow_booking_request",FRIEND_REQUEST:"friend_request",MESSENGER_GROUP_JOINABLE_LINK:"messenger_group_joinable_link",SOCIAL_SEARCH_CONVERSION_PROMPT:"social_search_conversion_prompt",MDOTME_USER_LINK:"mdotme_user_link",DYNAMIC_MULTI_SHARE_ITEMS:"dynamic_multi_share_items",EVENT_REMINDER:"event_reminder",INSTANT_GAMES_SHARE_MESSAGE:"instant_games_share_message",MESSENGER_PLATFORM_COMPACT_ITEM:"messenger_platform_compact_item",MESSENGER_PLATFORM_COVER_ITEM:"messenger_platform_cover_item",MULTI_SHARE_NON_LINK_VIDEO_AUTO_SCROLL:"multi_share_non_link_video_auto_scroll",ENDORSEMENT:"endorsement",OFFER_VIEW_LIVE_COUNTDOWN:"offer_view_live_countdown",ENHANCED_LINK_REDDIT_POST:"enhanced_link_reddit_post",MESSENGER_COMMERCE_COVER_ITEM:"messenger_commerce_cover_item",ENHANCED_LINK_YELP_BUSINESS:"enhanced_link_yelp_business",PAGES_PLATFORM_LEAD_GEN:"pages_platform_lead_gen",NATIVE_STORY:"native_story",MFS_BILL_PAY_CREATION_UPDATE:"mfs_bill_pay_creation_update",MFS_BILL_PAY_REFERENCE_CODE_UPDATE:"mfs_bill_pay_reference_code_update",MFS_BILL_PAY_AGENT_CASH_IN_UPDATE:"mfs_bill_pay_agent_cash_in_update",ISSUE_POSITION:"issue_position",PAGES_PLATFORM_BOOKING_MESSAGE:"pages_platform_booking_message",EXTERNAL_GALLERY:"external_gallery",MEME_SHARE:"meme_share",MESSENGER_PLATFORM_ELEMENT:"messenger_platform_element",INSTANT_GAMES_SHARE_SCORE_MESSAGE:"instant_games_share_score_message",MESSENGER_PLATFORM_BUTTON_LIST:"messenger_platform_button_list",BALLOT:"ballot",LIGHTWEIGHT_ACTION:"lightweight_action",TAROT_DIGEST:"tarot_digest",EVENT_TOUR:"event_tour",ADAPTIVE_MEDIA:"adaptive_media",DYNAMIC_GAME_BOARD:"dynamic_game_board",PAYMENT_PLATFORM:"payment_platform",OMNI_M_FLOW:"omni_m_flow",GROUP_QUIZ:"group_quiz",TRIAL_AD:"trial_ad",TEEM_COLLECTIONS:"teem_collections",CRISIS_DONATION:"crisis_donation",CRISIS_STATUS:"crisis_status",CRISIS_SHARE:"crisis_share",CRISIS_MARK_SAFE:"crisis_mark_safe",CRISIS_LISTING:"crisis_listing",VR_CONTENT:"vr_content",VIDEO_RECOMMENDATION_HSCROLL:"video_recommendation_hscroll",VIDEO_TRAILER:"video_trailer",SHOW_PAGE_SHARE:"show_page_share",MFS_ATTACHMENT:"mfs_attachment",GROUP_TASK:"group_task",CHECKLIST:"checklist",VIDEO_RECOMMENDATION_SINGLETON:"video_recommendation_singleton",PAGE_REVIEW_PROMPT:"page_review_prompt",VIDEO_SHOW:"video_show",UNCONNECTED_VIDEO:"unconnected_video",SHOW_SHARE:"show_share",JOB_SEARCH_JOB_APPLICATION:"job_search_job_application",PAGE_MESSENGER_ATTACHMENT:"page_messenger_attachment",CONTACT_YOUR_REP:"contact_your_rep",LOCATION_EXTENSION:"location_extension",PLACE_RECOMMENDATION:"place_recommendation",JOB_SEARCH_JOB_OPENING:"job_search_job_opening",PAGE_MESSAGE_ONLINE_INDICATOR:"page_message_online_indicator",LOCAL_PIVOT:"local_pivot",ORION_REQUEST_NEW:"orion_request_new",PHOTO_WITH_SHIELD:"photo_with_shield",PLAYABLE_AD:"playable_ad",FUN_FACT_PROMPT:"fun_fact_prompt",FATIGUED_SHARE:"fatigued_share",DISCUSSION_QUESTION:"discussion_question",PARTIES_INVITE:"parties_invite",PROFILE_INTRO_CARD_BIO:"profile_intro_card_bio",PAGES_SHARE:"pages_share",PRODUCT_RECOMMENDATION_LIST:"product_recommendation_list",VISUAL_POLL:"visual_poll",MULTI_PLACE_RECOMMENDATION:"multi_place_recommendation",PAGE_IN_COMMENT:"page_in_comment",MESSENGER_PLATFORM_MEDIA_ATTACHMENT:"messenger_platform_media_attachment",SCHEDULED_VIDEO_ANNOUNCEMENT:"scheduled_video_announcement",HSCROLL_ITEM:"hscroll_item",MESSENGER_CALL_LOG:"messenger_call_log",PAGE_REVIEW_UPDATE:"page_review_update",LOYALTY_CARD_OFFER:"loyalty_card_offer",GOODWILL_GRID:"goodwill_grid",TRAVEL_PLAN:"travel_plan",FIND_PLAYERS:"find_players",ASSET3D:"asset3d",MESSENGER_GROUP_PERSONAL_LINK:"messenger_group_personal_link",FREQUENTLY_ASKED_QUESTION:"frequently_asked_question",STORY_LIST:"story_list",GOODWILL_SHARED_CARD:"goodwill_shared_card",PAYMENT_BUBBLE_VIEW:"PAYMENT_BUBBLE_VIEW",POST_TO_EVENT_CREATE:"post_to_event_create",MONTAGE_DIRECT:"montage_direct",NEO_INVITATION:"NEO_INVITATION",NATIVE_TEMPLATES_LINK_SHARE_TEST:"native_templates_link_share_test",GOODWILL_HSCROLL:"goodwill_hscroll",NEO_KID_INITIATE_FRIENDING:"NEO_KID_INITIATE_FRIENDING",EVENT_MICRO_ATTACHMENT:"event_micro_attachment",SAVED_LIST:"saved_list",LOCAL_GUIDE:"local_guide",MEET_UP_EVENT:"meet_up_event",DONATION:"donation",BREAKING_NEWS:"breaking_news",VIDEO_REQUEST:"video_request",GOODWILL_COLLAGE:"goodwill_collage",LEAD_FORM:"lead_form",LEAD_FORM_USER_INFO:"lead_form_user_info",EVENT_TICKET_ORDER:"event_ticket_order",PROFILE_CHANNEL:"profile_channel",ICE_BREAKER:"ICE_BREAKER",MOVIE:"movie",ALOHA_CALL:"aloha_call",TIP_JAR_PAYMENT:"tip_jar_payment",COMMENT_MESSAGE_INFO:"comment_message_info",CASH_ON_DELIVERY_ORDER:"cash_on_delivery_order"})}),null);
__d("MercuryAttachment",["cx","EmojiLikeUtils","MercuryAttachmentContentType","MercuryAttachmentType","MercuryAudioType","Set","StoryAttachmentStyle"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(m){return m===Object(m)},j="_1c_u",k=new(c("Set"))([c("MercuryAttachmentType").ANIMATED_IMAGE,c("MercuryAttachmentType").PHOTO,c("MercuryAttachmentType").VIDEO,c("MercuryAttachmentType").THIRDPARTYSTICKER]),l={getAttachIconClass:function m(n){__p&&__p();switch(n){case c("MercuryAttachmentContentType").PHOTO:return"_y2-";case c("MercuryAttachmentContentType").VIDEO:return"_y2_";case c("MercuryAttachmentContentType").MUSIC:return"_y30";case c("MercuryAttachmentContentType").VOICE:return"_y31";case c("MercuryAttachmentContentType").TEXT:return"_y32";case c("MercuryAttachmentContentType").MSWORD:return"_y33";case c("MercuryAttachmentContentType").MSXLS:return"_y34";case c("MercuryAttachmentContentType").MSPPT:return"_y35"}return"_y36"},getAttachIconClassByMime:function m(n){return this.getAttachIconClass(this.getAttachTypeByMime(n))},getAttachTypeByMime:function m(n){__p&&__p();if(n.startsWith("image"))return c("MercuryAttachmentContentType").PHOTO;else if(n.startsWith("video"))return c("MercuryAttachmentContentType").VIDEO;else if(n.startsWith("audio"))return c("MercuryAttachmentContentType").MUSIC;else if(n.startsWith("text/plain"))return c("MercuryAttachmentContentType").TEXT;else if(n=="application/msword"||n.startsWith("application/vnd.ms-word")||n.startsWith("application/vnd.openxmlformats-officedocument.wordprocessingml"))return c("MercuryAttachmentContentType").MSWORD;else if(n.startsWith("application/vnd.ms-excel")||n.startsWith("application/vnd.openxmlformats-officedocument.spreadsheetml"))return c("MercuryAttachmentContentType").MSXLS;else if(n.startsWith("application/vnd.ms-powerpoint")||n.startsWith("application/vnd.openxmlformats-officedocument.presentationml"))return c("MercuryAttachmentContentType").MSPPT;else return c("MercuryAttachmentContentType").UNKNOWN},convertRaw:function m(n){__p&&__p();var o=[];for(var p=0;p<n.length;p++){var q=n[p];if(q.attach_type===c("MercuryAttachmentType").PHOTO)o.push(q);else if(q.filename){var r=l.getAttachTypeByMime(q.filetype),s={};s.attach_type=c("MercuryAttachmentType").FILE;s.name=q.filename;s.icon_type=r;s.url="";o.push(s)}}return o},get:function m(n){__p&&__p();var o=[];if(n.attachments)o=n.attachments;else if(n.raw_attachments)o=this.convertRaw(n.raw_attachments);var p=c("EmojiLikeUtils").getEmojiSize(n);if(p)o=o.concat([{attach_type:c("MercuryAttachmentType").EMOJI_LIKE,size:p}]);if(!(n.attachments&&n.attachments.length>0)){if(n.sticker_id)return o.concat([{attach_type:c("MercuryAttachmentType").STICKER}]);if(n.preview_attachments&&n.preview_attachments.length>0)return o.concat(n.preview_attachments)}return o},resizeContain:function m(n,o){var p=n.width/n.height,q=o.width/o.height;if(q<p)return{width:Math.ceil(Math.min(n.height*q,o.width)),height:Math.ceil(Math.min(n.height,o.height))};else return{width:Math.ceil(Math.min(n.width,o.width)),height:Math.ceil(Math.min(n.width/q,o.height))}},isBubblePreferred:function m(n){return this.isFileAttachment(n)},isPhotoAttachment:function m(n){return!!(n.attach_type==c("MercuryAttachmentType").PHOTO||n.attach_type==c("MercuryAttachmentType").ANIMATED_IMAGE||n.attach_type==c("MercuryAttachmentType").THIRDPARTYSTICKER||n.attach_type==c("MercuryAttachmentType").FILE&&n.preview_url)},isPhotoGroupAttachment:function m(n){return k.has(n.attach_type)},isSinglePhotoGroupAttachment:function m(n){return!!(n.attachments&&n.attachments.length===1&&n.attachments[0]&&this.isPhotoGroupAttachment(n.attachments[0]))},isVideoAttachment:function m(n){return n.attach_type==c("MercuryAttachmentType").VIDEO},isShareAttachment:function m(n){return n.attach_type==c("MercuryAttachmentType").SHARE},isFileAttachment:function m(n){return n.attach_type==c("MercuryAttachmentType").FILE},isErrorAttachment:function m(n){return n.attach_type==c("MercuryAttachmentType").ERROR},isStickerAttachment:function m(n){return n.attach_type==c("MercuryAttachmentType").STICKER},isEmojiLikeAttachment:function m(n){return n.attach_type===c("MercuryAttachmentType").EMOJI_LIKE},isVoiceAttachment:function m(n){if(!n.metadata)return false;return n.metadata.type===c("MercuryAudioType").AudioClip||n.metadata.type===c("MercuryAudioType").VoiceMessageWithTranscript},hasAttribution:function m(n){return!!n.app_attribution},isLightweightActionAttachment:function m(n){return l.isShareAttachment(n)&&n.share&&n.share.target!=null&&n.share.target.lwa_type!=null},isSingleVideoAttachment:function m(n){var o=this.get(n).filter(i).filter(function(p){return this.isVideoAttachment(p)}.bind(this));return o.length===1},isSharedVideoAttachment:function m(n){var o=n.attach_type===c("MercuryAttachmentType").SHARE&&n.share&&n.share.subattachments&&n.share.subattachments[0];return!!(o&&o.target&&o.target.video_id)},isGenieSharedVideoAttachment:function m(n){return!!(n.attach_type===c("MercuryAttachmentType").SHARE&&n.share&&n.share.style_list.indexOf(c("StoryAttachmentStyle").GENIE_MESSAGE)>-1&&n.share.target&&n.share.target.attachment&&this.isSharedVideoAttachment(n.share.target.attachment))},isSharedVideoAttachmentMessage:function m(n){var o=this.get(n).filter(i).filter(function(p){return this.isSharedVideoAttachment(p)||this.isGenieSharedVideoAttachment(p)}.bind(this));return o.length===1},getVideoElem:function m(n,o){var p=o.getMessageElement(n);if(!p)return null;var q=p.getElementsByClassName(j);return q&&q.length?q[0]:p}};f.exports=l}),null);
__d("MercurySendErrorLogger",["Banzai","BanzaiLogger"],(function a(b,c,d,e,f,g){var h=c("BanzaiLogger").create({retry:true}),i=c("Banzai").isEnabled("mercury_send_error_logging"),j={log:function k(l){if(!i)return;var m={message_id:l.message_id,timestamp_client:Date.now(),error_type:l.error_data.type,error_code:l.error_data.code,error_description:l.error_data.description,is_transient:l.error_data.is_transient};h.log("MercurySendErrorLoggerConfig",m)}};f.exports=j}),null);
__d("MessengerEnvironment",["CurrentEnvironment"],(function a(b,c,d,e,f,g){"use strict";var h=babelHelpers["extends"]({},c("CurrentEnvironment"),{messengerui:false,setMessengerUI:function i(j){this.messengerui=j}});f.exports=h}),null);
__d("MercuryServerPayloadPreprocessor",["invariant","MessengerEnvironment","MercuryIDs","MercuryActionStatus","MercuryActionType","MercuryAttachment","MercuryDispatcher","MercurySendErrorLogger","MercurySingletonProvider","MercuryThreadIDMap","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(k){this.$MercuryServerPayloadPreprocessor1=k;this.$MercuryServerPayloadPreprocessor2=c("MercuryThreadIDMap").getForFBID(this.$MercuryServerPayloadPreprocessor1);this.$MercuryServerPayloadPreprocessor3=c("MercuryDispatcher").getForFBID(this.$MercuryServerPayloadPreprocessor1)}i.getForFBID=function(k){return j.getForFBID(k)};i.get=function(){return j.get()};i.prototype.handleUpdate=function(k){__p&&__p();var l={};!k.from_client||h(0);(k.threads||[]).forEach(function(x){this.$MercuryServerPayloadPreprocessor4(x,l);var y=this.$MercuryServerPayloadPreprocessor2.getServerIDFromClientIDNow(x.thread_id);e(["MercuryServerRequests"],function(z){var A=z.getForFBID(this.$MercuryServerPayloadPreprocessor1);A.markThreadFetched(x.thread_id);if(y)A.markThreadFetched(y);A.updateLastActionTimestamp(x.timestamp)}.bind(this))}.bind(this));(k.ordered_threadlists||[]).forEach(function(x){var y=x.thread_fbids||[];y=y.concat(x.other_user_fbids||[]);x.thread_ids=y.map(function(z){return this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(z.toString())}.bind(this))}.bind(this));if(k.pinned_threads&&k.pinned_threads.thread_fbids)k.pinned_threads.thread_fbids=k.pinned_threads.thread_fbids.map(function(x){return this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(x)}.bind(this));if(k.delivery_receipts){var m={};for(var n=k.delivery_receipts,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=r.other_user_fbid?c("MercuryIDs").getThreadIDFromUserID(r.other_user_fbid):this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(r.thread_fbid);if(s)m[s]=r.time}k.delivery_receipts=m}k.actions=k.actions||[];k.actions.forEach(function(x){__p&&__p();if(x.action_type===c("MercuryActionType").SEND_MESSAGE&&x.status===c("MercuryActionStatus").ERROR)c("MercurySendErrorLogger").log(x);var y=null,z=null;if(x.other_user_fbid){z=c("MercuryIDs").getThreadIDFromUserID(x.other_user_fbid);y=x.other_user_fbid}else if(x.thread_fbid){z=c("MercuryIDs").getThreadIDFromThreadFBID(x.thread_fbid);y=x.thread_fbid}else if(x.thread_id){z=c("MercuryIDs").getThreadIDFromThreadFBID(x.thread_id);y=x.thread_id}else if(x.status&&x.status!=c("MercuryActionStatus").SUCCESS&&x.client_thread_id)z=x.client_thread_id;else h(0);y=y&&y.toString();x.thread_id=this.$MercuryServerPayloadPreprocessor2.hasClientIDForServerID(y)?this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(y):z;if(x.action_type==c("MercuryActionType").SEND_MESSAGE&&x.client_thread_id&&y){x.thread_id=x.client_thread_id;this.$MercuryServerPayloadPreprocessor2.forceSetServerIDToClientID(y,x.client_thread_id);l[y]=x.client_thread_id}x.thread_id||h(0);if(!k.payload_source||!k.payload_source.startsWith("server"))e(["MercuryServerRequests"],function(A){A.getForFBID(this.$MercuryServerPayloadPreprocessor1).updateLastActionTimestamp(x.timestamp)}.bind(this))}.bind(this));this.$MercuryServerPayloadPreprocessor5(k);this.$MercuryServerPayloadPreprocessor6(k);if(k.end_of_history){var t=[];for(var u=0;u<k.end_of_history.length;u++){var v=k.end_of_history[u];if(v.type=="user")t.push("user:"+v.fbid);else if(v.type=="thread"&&this.$MercuryServerPayloadPreprocessor2.hasClientIDForServerID(v.fbid))t.push(this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(v.fbid))}k.end_of_history=t}if(k.roger){var w={};Object.keys(k.roger).forEach(function(x){__p&&__p();var y=Object.keys(k.roger[x]),z=void 0;if(x)z=this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(x);else if(y.length===1)z=c("MercuryIDs").getThreadIDFromUserID(y[0]);if(z){var A=k.roger[x];w[z]={};for(var B in A)if(Object.prototype.hasOwnProperty.call(A,B)){var C=c("MercuryIDs").getParticipantIDFromUserID(B);w[z][C]=A[B]}}}.bind(this));k.roger=w}k.newlyAddedClientIDs=l;k.preprocessed=true;this.$MercuryServerPayloadPreprocessor3.handleUpdate(k)};i.prototype.$MercuryServerPayloadPreprocessor4=function(k,l){__p&&__p();var m=k.other_user_fbid?k.other_user_fbid:k.thread_fbid;m||h(0);var n=this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(m);if(!n){n=k.other_user_fbid?c("MercuryIDs").getThreadIDFromUserID(k.other_user_fbid):c("MercuryIDs").getThreadIDFromThreadFBID(k.thread_fbid);this.$MercuryServerPayloadPreprocessor2.setServerIDToClientID(m,n);this.$MercuryServerPayloadPreprocessor2.setDeprecatedServerIDToClientID(k.thread_id,n);l[m]=n}k.thread_id=n};i.prototype.$MercuryServerPayloadPreprocessor5=function(k){__p&&__p();k.actions.forEach(function(l){if(l.action_type===c("MercuryActionType").USER_GENERATED_MESSAGE){l.attachments=l.attachments||[];l.attachments.forEach(function(m){if(c("MercuryAttachment").isShareAttachment(m)&&c("MessengerEnvironment").messengerui){var n=new(c("URI"))(m.share.uri);if(!n.getDomain())m.share.uri=n.setDomain("facebook.com").setSubdomain(c("URI").getRequestURI().getSubdomain()).setProtocol("https").toString()}})}})};i.prototype.$MercuryServerPayloadPreprocessor6=function(k){__p&&__p();k.actions.forEach(function(l){__p&&__p();if(l.action_type!==c("MercuryActionType").USER_GENERATED_MESSAGE)return;var m=l;if(!m.has_attachment||!m.attachments)return;for(var n=m.attachments.length-1;n>=0;n-=1){var o=m.attachments[n];if(!o.share||!o.share.style_list||o.share.style_list[0]!="genie_message")continue;if(o.share.target.genie_id)m.author=c("MercuryIDs").getParticipantIDFromUserID(o.share.target.genie_id);if(o.share.target&&!o.share.target.attachment){m.attachments.splice(n,1);m.has_attachment=m.attachments.length>0}}})};var j=new(c("MercurySingletonProvider"))(i);f.exports=i}),null);
__d("MercuryErrorType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SERVER:1,TRANSPORT:2,TIMEOUT:3})}),null);
__d("MercuryGlobalActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MARK_ALL_READ:"mga-type:mark-all-read",MARK_ALL_SEEN:"mga-type:mark-all-seen"})}),null);
__d("MercuryLogMessageType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUBSCRIBE:"log:subscribe",UNSUBSCRIBE:"log:unsubscribe",VIDEO_CALL:"log:video-call",PHONE_CALL:"log:phone-call",THREAD_NAME:"log:thread-name",THREAD_IMAGE:"log:thread-image",SERVER_ERROR:"log:error-msg",LIVE_LISTEN:"log:live-listen",WALLPAPER:"log:wallpaper",ORION:"log:orion",SWITCH_TO_WORK:"log:switch",PAGE_REPLY:"log:page-reply",GENERIC_ADMIN_TEXT:"log:generic-admin-text"})}),null);
__d("MercuryMessageClientState",[],(function a(b,c,d,e,f,g){var h=Object.freeze({DO_NOT_SEND_TO_SERVER:"do_not_send_to_server",SEND_TO_SERVER:"send_to_server"});f.exports=h}),null);
__d("bs_caml_builtin_exceptions",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=["Out_of_memory",0],i=["Sys_error",-1],j=["Failure",-2],k=["Invalid_argument",-3],l=["End_of_file",-4],m=["Division_by_zero",-5],n=["Not_found",-6],o=["Match_failure",-7],p=["Stack_overflow",-8],q=["Sys_blocked_io",-9],r=["Assert_failure",-10],s=["Undefined_recursive_module",-11];h.tag=248;i.tag=248;j.tag=248;k.tag=248;l.tag=248;m.tag=248;n.tag=248;o.tag=248;p.tag=248;q.tag=248;r.tag=248;s.tag=248;g.out_of_memory=h;g.sys_error=i;g.failure=j;g.invalid_argument=k;g.end_of_file=l;g.division_by_zero=m;g.not_found=n;g.match_failure=o;g.stack_overflow=p;g.sys_blocked_io=q;g.assert_failure=r;g.undefined_recursive_module=s}),null);
__d("bs_caml_array",["bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(p,q,i){var r=new Array(i),s=0,t=q;while(s<i){r[s]=p[t];s=s+1|0;t=t+1|0}return r}function i(p,q){while(true){var r=q,s=p;if(r){q=r[1];p=r[0].length+s|0;continue}else return s}}function j(p,q,r){__p&&__p();while(true){var s=r,t=q;if(s){var u=s[0],v=u.length,w=t,x=0;while(x<v){p[w]=u[x];w=w+1|0;x=x+1|0}r=s[1];q=w;continue}else return 0}}function k(p){var q=i(0,p),r=new Array(q);j(r,0,p);return r}function l(p,q,r){if(q<0||q>=p.length)throw[c("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else{p[q]=r;return 0}}function m(p,q){if(q<0||q>=p.length)throw[c("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else return p[q]}function n(i,p){var q=new Array(i);for(var r=0,s=i-1|0;r<=s;++r)q[r]=p;return q}function o(p,q,r,s,i){if(s<=q){for(var t=0,u=i-1|0;t<=u;++t)r[t+s|0]=p[t+q|0];return 0}else{for(var v=i-1|0;v>=0;--v)r[v+s|0]=p[v+q|0];return 0}}g.caml_array_sub=h;g.caml_array_concat=k;g.caml_make_vect=n;g.caml_array_blit=o;g.caml_array_get=m;g.caml_array_set=l}),null);
__d("bs_curry",["bs_caml_array"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(G,H){__p&&__p();while(true){var I=H,J=G,K=J.length,L=K?K:1,M=I.length,N=L-M|0;if(N)if(N<0){H=c("bs_caml_array").caml_array_sub(I,L,-N|0);G=J.apply(null,c("bs_caml_array").caml_array_sub(I,0,L));continue}else return function(J,I){return function(O){return h(J,I.concat([O]))}}(J,I);else return J.apply(null,I)}}function i(G,H,I){__p&&__p();if(I>7||I<0)return h(G,[H]);else switch(I){case 0:case 1:return G(H);case 2:return function(J){return G(H,J)};case 3:return function(J,K){return G(H,J,K)};case 4:return function(J,K,L){return G(H,J,K,L)};case 5:return function(J,K,L,M){return G(H,J,K,L,M)};case 6:return function(J,K,L,M,N){return G(H,J,K,L,M,N)};case 7:return function(J,K,L,M,N,O){return G(H,J,K,L,M,N,O)}}}function j(G,H){var I=G.length;if(I===1)return G(H);else return i(G,H,I)}function k(G){var H=G.length;if(H===1)return G;else return function(I){return j(G,I)}}function l(G,H,I,J){__p&&__p();if(J>7||J<0)return h(G,[H,I]);else switch(J){case 0:case 1:return h(G(H),[I]);case 2:return G(H,I);case 3:return function(K){return G(H,I,K)};case 4:return function(K,L){return G(H,I,K,L)};case 5:return function(K,L,M){return G(H,I,K,L,M)};case 6:return function(K,L,M,N){return G(H,I,K,L,M,N)};case 7:return function(K,L,M,N,O){return G(H,I,K,L,M,N,O)}}}function m(G,H,I){var J=G.length;if(J===2)return G(H,I);else return l(G,H,I,J)}function n(G){var H=G.length;if(H===2)return G;else return function(I,J){return m(G,I,J)}}function o(G,H,I,J,K){__p&&__p();var L=0;if(K>7||K<0)return h(G,[H,I,J]);else switch(K){case 0:case 1:L=1;break;case 2:return h(G(H,I),[J]);case 3:return G(H,I,J);case 4:return function(M){return G(H,I,J,M)};case 5:return function(M,N){return G(H,I,J,M,N)};case 6:return function(M,N,O){return G(H,I,J,M,N,O)};case 7:return function(M,N,O,P){return G(H,I,J,M,N,O,P)}}if(L===1)return h(G(H),[I,J])}function p(G,H,I,J){var K=G.length;if(K===3)return G(H,I,J);else return o(G,H,I,J,K)}function q(G){var H=G.length;if(H===3)return G;else return function(I,J,K){return p(G,I,J,K)}}function r(G,H,I,J,K,L){__p&&__p();var M=0;if(L>7||L<0)return h(G,[H,I,J,K]);else switch(L){case 0:case 1:M=1;break;case 2:return h(G(H,I),[J,K]);case 3:return h(G(H,I,J),[K]);case 4:return G(H,I,J,K);case 5:return function(N){return G(H,I,J,K,N)};case 6:return function(N,O){return G(H,I,J,K,N,O)};case 7:return function(N,O,P){return G(H,I,J,K,N,O,P)}}if(M===1)return h(G(H),[I,J,K])}function s(G,H,I,J,K){var L=G.length;if(L===4)return G(H,I,J,K);else return r(G,H,I,J,K,L)}function t(G){var H=G.length;if(H===4)return G;else return function(I,J,K,L){return s(G,I,J,K,L)}}function u(G,H,I,J,K,L,M){__p&&__p();var N=0;if(M>7||M<0)return h(G,[H,I,J,K,L]);else switch(M){case 0:case 1:N=1;break;case 2:return h(G(H,I),[J,K,L]);case 3:return h(G(H,I,J),[K,L]);case 4:return h(G(H,I,J,K),[L]);case 5:return G(H,I,J,K,L);case 6:return function(O){return G(H,I,J,K,L,O)};case 7:return function(O,P){return G(H,I,J,K,L,O,P)}}if(N===1)return h(G(H),[I,J,K,L])}function v(G,H,I,J,K,L){var M=G.length;if(M===5)return G(H,I,J,K,L);else return u(G,H,I,J,K,L,M)}function w(G){var H=G.length;if(H===5)return G;else return function(I,J,K,L,M){return v(G,I,J,K,L,M)}}function x(G,H,I,J,K,L,M,N){__p&&__p();var O=0;if(N>7||N<0)return h(G,[H,I,J,K,L,M]);else switch(N){case 0:case 1:O=1;break;case 2:return h(G(H,I),[J,K,L,M]);case 3:return h(G(H,I,J),[K,L,M]);case 4:return h(G(H,I,J,K),[L,M]);case 5:return h(G(H,I,J,K,L),[M]);case 6:return G(H,I,J,K,L,M);case 7:return function(P){return G(H,I,J,K,L,M,P)}}if(O===1)return h(G(H),[I,J,K,L,M])}function y(G,H,I,J,K,L,M){var N=G.length;if(N===6)return G(H,I,J,K,L,M);else return x(G,H,I,J,K,L,M,N)}function z(G){var H=G.length;if(H===6)return G;else return function(I,J,K,L,M,N){return y(G,I,J,K,L,M,N)}}function A(G,H,I,J,K,L,M,N,O){__p&&__p();var P=0;if(O>7||O<0)return h(G,[H,I,J,K,L,M,N]);else switch(O){case 0:case 1:P=1;break;case 2:return h(G(H,I),[J,K,L,M,N]);case 3:return h(G(H,I,J),[K,L,M,N]);case 4:return h(G(H,I,J,K),[L,M,N]);case 5:return h(G(H,I,J,K,L),[M,N]);case 6:return h(G(H,I,J,K,L,M),[N]);case 7:return G(H,I,J,K,L,M,N)}if(P===1)return h(G(H),[I,J,K,L,M,N])}function B(G,H,I,J,K,L,M,N){var O=G.length;if(O===7)return G(H,I,J,K,L,M,N);else return A(G,H,I,J,K,L,M,N,O)}function C(G){var H=G.length;if(H===7)return G;else return function(I,J,K,L,M,N,O){return B(G,I,J,K,L,M,N,O)}}function D(G,H,I,J,K,L,M,N,O,P){__p&&__p();var Q=0;if(P>7||P<0)return h(G,[H,I,J,K,L,M,N,O]);else switch(P){case 0:case 1:Q=1;break;case 2:return h(G(H,I),[J,K,L,M,N,O]);case 3:return h(G(H,I,J),[K,L,M,N,O]);case 4:return h(G(H,I,J,K),[L,M,N,O]);case 5:return h(G(H,I,J,K,L),[M,N,O]);case 6:return h(G(H,I,J,K,L,M),[N,O]);case 7:return h(G(H,I,J,K,L,M,N),[O])}if(Q===1)return h(G(H),[I,J,K,L,M,N,O])}function E(G,H,I,J,K,L,M,N,O){var P=G.length;if(P===8)return G(H,I,J,K,L,M,N,O);else return D(G,H,I,J,K,L,M,N,O,P)}function F(G){var H=G.length;if(H===8)return G;else return function(I,J,K,L,M,N,O,P){return E(G,I,J,K,L,M,N,O,P)}}g.app=h;g.curry_1=i;g._1=j;g.__1=k;g.curry_2=l;g._2=m;g.__2=n;g.curry_3=o;g._3=p;g.__3=q;g.curry_4=r;g._4=s;g.__4=t;g.curry_5=u;g._5=v;g.__5=w;g.curry_6=x;g._6=y;g.__6=z;g.curry_7=A;g._7=B;g.__7=C;g.curry_8=D;g._8=E;g.__8=F}),null);
__d("MercuryMessageIDsRe",["bs_curry","KeyedCallbackManager"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("KeyedCallbackManager"))();function i(k,l){var m=k.filter(function(o){return+(o.indexOf("id")===-1)}),n=function n(o){return c("bs_curry")._1(l,k.map(function(p){var q=o[p];if(q!==undefined)return q;else return p}))};return h.executeOrEnqueue(m,n)}function j(k,l){h.setResource(k,l);return 0}g.getServerIDs=i;g.addServerID=j}),null);
__d("MercuryServerSendMessageQueueOptions",[],(function a(b,c,d,e,f,g){function h(i,j,k,l,m,n){"use strict";this.success_handler=i;this.error_handler=j;this.transport_error_handler=k;this.timeout_handler=l;this.timeout=m;this.connection_retries=n}f.exports=h}),null);
__d("MercuryLoggingHelper",[],(function a(b,c,d,e,f,g){__p&&__p();function h(j){return Array.from(j).slice(0,6).join("")}var i={obfuscateThread:function j(k){var l=babelHelpers["extends"]({},k);if(k&&k.snippet&&k.snippet.length>9)l.snippet=h(k.snippet)+"...";return l},obfuscateMessage:function j(k){var l=babelHelpers["extends"]({},k);if(k&&k.body&&k.body.length>9)l.body=h(k.body)+"...";return l}};f.exports=i}),null);
__d("MercuryServerSendMessageQueueSimulatedError",["AsyncRequest","AsyncResponse"],(function a(b,c,d,e,f,g){var h=9999,i={create:function j(k){var l=new(c("AsyncRequest"))(this.endpoint_uri).setData({message_batch:[k],client:this.client}),m=new(c("AsyncResponse"))(l,{});Object.assign(m,{error:h,silentError:false,transientError:true,request:l});return m}};f.exports=i}),null);
__d("XMessagingSendController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/send/",{})}),null);
__d("bs_caml_exceptions",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=[0];function i(m){m[1]=h[0];h[0]+=1;return m}function j(){h[0]+=1;return h[0]}function k(m){var n=j(0),o=[m,n];o.tag=248;return o}function l(m){if(m===undefined)return 0;else if(m.tag===248)return 1;else{var n=m[0];if(n!==undefined)return+(n.tag===248);else return 0}}g.caml_set_oo_id=i;g.get_id=j;g.create=k;g.isCamlExceptionOrOpenVariant=l}),null);
__d("bs_js_exn",["bs_caml_exceptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("bs_caml_exceptions").create("Js_exn.Error");function i(q){if(c("bs_caml_exceptions").isCamlExceptionOrOpenVariant(q))return q;else return[h,q]}function j(q){throw new Error(q)}function k(q){throw new EvalError(q)}function l(q){throw new RangeError(q)}function m(q){throw new ReferenceError(q)}function n(q){throw new SyntaxError(q)}function o(q){throw new TypeError(q)}function p(q){throw new URIError(q)}g.$$Error=h;g.internalToOCamlException=i;g.raiseError=j;g.raiseEvalError=k;g.raiseRangeError=l;g.raiseReferenceError=m;g.raiseSyntaxError=n;g.raiseTypeError=o;g.raiseUriError=p}),null);
__d("bs_array",["bs_curry","bs_js_exn","bs_caml_array","bs_caml_exceptions","bs_caml_builtin_exceptions"],(function aa(ba,a,ca,da,ea,b){"use strict";__p&&__p();function c(x,y){if(x)if(x<0)throw[a("bs_caml_builtin_exceptions").invalid_argument,"Array.init"];else{var z=a("bs_caml_array").caml_make_vect(x,a("bs_curry")._1(y,0));for(var A=1,B=x-1|0;A<=B;++A)z[A]=a("bs_curry")._1(y,A);return z}else return[]}function d(x,y,c){var z=a("bs_caml_array").caml_make_vect(x,[]);for(var A=0,B=x-1|0;A<=B;++A)z[A]=a("bs_caml_array").caml_make_vect(y,c);return z}function e(x){var y=x.length;if(y)return a("bs_caml_array").caml_array_sub(x,0,y);else return[]}function f(x,y){var z=x.length;if(z)if(y.length)return x.concat(y);else return a("bs_caml_array").caml_array_sub(x,0,z);else return e(y)}function g(x,y,z){if(z<0||y>(x.length-z|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"Array.sub"];else return a("bs_caml_array").caml_array_sub(x,y,z)}function h(x,y,z,A){if(y<0||z<0||y>(x.length-z|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"Array.fill"];else{for(var B=y,C=(y+z|0)-1|0;B<=C;++B)x[B]=A;return 0}}function i(x,y,z,A,B){if(B<0||y<0||y>(x.length-B|0)||A<0||A>(z.length-B|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"Array.blit"];else return a("bs_caml_array").caml_array_blit(x,y,z,A,B)}function j(x,y){for(var z=0,A=y.length-1|0;z<=A;++z)a("bs_curry")._1(x,y[z]);return 0}function k(x,y){var z=y.length;if(z){var A=a("bs_caml_array").caml_make_vect(z,a("bs_curry")._1(x,y[0]));for(var B=1,C=z-1|0;B<=C;++B)A[B]=a("bs_curry")._1(x,y[B]);return A}else return[]}function l(x,y){for(var z=0,A=y.length-1|0;z<=A;++z)a("bs_curry")._2(x,z,y[z]);return 0}function m(x,y){var z=y.length;if(z){var A=a("bs_caml_array").caml_make_vect(z,a("bs_curry")._2(x,0,y[0]));for(var B=1,C=z-1|0;B<=C;++B)A[B]=a("bs_curry")._2(x,B,y[B]);return A}else return[]}function n(x){__p&&__p();var y=x.length-1|0,z=0;while(true){var A=z,B=y;if(B<0)return A;else{z=[x[B],A];y=B-1|0;continue}}}function o(x,y){while(true){var z=y,A=x;if(z){y=z[1];x=A+1|0;continue}else return A}}function p(x){__p&&__p();if(x){var y=a("bs_caml_array").caml_make_vect(o(0,x),x[0]),z=1,A=x[1];while(true){var B=A,C=z;if(B){y[C]=B[0];A=B[1];z=C+1|0;continue}else return y}}else return[]}function q(x,y,z){var A=y;for(var B=0,C=z.length-1|0;B<=C;++B)A=a("bs_curry")._2(x,A,z[B]);return A}function r(x,y,z){var A=z;for(var B=y.length-1|0;B>=0;--B)A=a("bs_curry")._2(x,y[B],A);return A}var s=a("bs_caml_exceptions").create("Array.Bottom");function t(x,y){__p&&__p();var z=function z(D,E){__p&&__p();var I=((E+E|0)+E|0)+1|0,J=I;if((I+2|0)<D){if(a("bs_curry")._2(x,a("bs_caml_array").caml_array_get(y,I),a("bs_caml_array").caml_array_get(y,I+1|0))<0)J=I+1|0;if(a("bs_curry")._2(x,a("bs_caml_array").caml_array_get(y,J),a("bs_caml_array").caml_array_get(y,I+2|0))<0)J=I+2|0;return J}else if((I+1|0)<D&&a("bs_curry")._2(x,a("bs_caml_array").caml_array_get(y,I),a("bs_caml_array").caml_array_get(y,I+1|0))<0)return I+1|0;else if(I<D)return I;else throw[s,E]},A=function A(D,E,G){__p&&__p();try{var I=D,J=E,H=G;while(true){var F=J,K=z(I,F);if(a("bs_curry")._2(x,a("bs_caml_array").caml_array_get(y,K),H)>0){a("bs_caml_array").caml_array_set(y,F,a("bs_caml_array").caml_array_get(y,K));J=K;continue}else return a("bs_caml_array").caml_array_set(y,F,H)}}catch(L){var M=a("bs_js_exn").internalToOCamlException(L);if(M[0]===s)return a("bs_caml_array").caml_array_set(y,M[1],G);else throw M}},B=function B(D,E){__p&&__p();try{var I=D,J=E;while(true){var F=J,K=z(I,F);a("bs_caml_array").caml_array_set(y,F,a("bs_caml_array").caml_array_get(y,K));J=K;continue}}catch(L){var M=a("bs_js_exn").internalToOCamlException(L);if(M[0]===s)return M[1];else throw M}},C=function C(I,G){__p&&__p();while(true){var E=I,J=(E-1|0)/3|0;if(E===J)throw[a("bs_caml_builtin_exceptions").assert_failure,["array.ml",168,4]];if(a("bs_curry")._2(x,a("bs_caml_array").caml_array_get(y,J),G)<0){a("bs_caml_array").caml_array_set(y,E,a("bs_caml_array").caml_array_get(y,J));if(J>0){I=J;continue}else return a("bs_caml_array").caml_array_set(y,0,G)}else return a("bs_caml_array").caml_array_set(y,E,G)}},D=y.length;for(var E=((D+1|0)/3|0)-1|0;E>=0;--E)A(D,E,a("bs_caml_array").caml_array_get(y,E));for(var F=D-1|0;F>=2;--F){var G=a("bs_caml_array").caml_array_get(y,F);a("bs_caml_array").caml_array_set(y,F,a("bs_caml_array").caml_array_get(y,0));C(B(F,0),G)}if(D>1){var H=a("bs_caml_array").caml_array_get(y,1);a("bs_caml_array").caml_array_set(y,1,a("bs_caml_array").caml_array_get(y,0));return a("bs_caml_array").caml_array_set(y,0,H)}else return 0}function u(x,y){__p&&__p();var z=function z(G,H,I,J,K,L,M){__p&&__p();var N=G+H|0,O=J+K|0,P=G,Q=a("bs_caml_array").caml_array_get(y,G),R=J,S=a("bs_caml_array").caml_array_get(I,J),T=M;while(true){var U=T,V=S,W=R,X=Q,Y=P;if(a("bs_curry")._2(x,X,V)<=0){a("bs_caml_array").caml_array_set(L,U,X);var Z=Y+1|0;if(Z<N){T=U+1|0;Q=a("bs_caml_array").caml_array_get(y,Z);P=Z;continue}else return i(I,W,L,U+1|0,O-W|0)}else{a("bs_caml_array").caml_array_set(L,U,V);var $=W+1|0;if($<O){T=U+1|0;S=a("bs_caml_array").caml_array_get(I,$);R=$;continue}else return i(y,Y,L,U+1|0,N-Y|0)}}},A=function A(G,H,I,J){for(var K=0,L=J-1|0;K<=L;++K){var M=a("bs_caml_array").caml_array_get(y,G+K|0),N=(I+K|0)-1|0;while(N>=I&&a("bs_curry")._2(x,a("bs_caml_array").caml_array_get(H,N),M)>0){a("bs_caml_array").caml_array_set(H,N+1|0,a("bs_caml_array").caml_array_get(H,N));N=N-1|0}a("bs_caml_array").caml_array_set(H,N+1|0,M)}return 0},B=function B(G,H,I,J){if(J<=5)return A(G,H,I,J);else{var D=J/2|0,E=J-D|0;B(G+D|0,H,I+D|0,E);B(G,y,G+E|0,D);return z(G+E|0,D,H,I+D|0,E,H,I)}},C=y.length;if(C<=5)return A(0,y,0,C);else{var D=C/2|0,E=C-D|0,F=a("bs_caml_array").caml_make_vect(E,a("bs_caml_array").caml_array_get(y,0));B(D,F,0,E);B(0,y,E,D);return z(E,D,F,0,E,y,0)}}var v=d,w=a("bs_caml_array").caml_array_concat,fa=u;b.init=c;b.make_matrix=d;b.create_matrix=v;b.append=f;b.concat=w;b.sub=g;b.copy=e;b.fill=h;b.blit=i;b.to_list=n;b.of_list=p;b.iter=j;b.map=k;b.iteri=l;b.mapi=m;b.fold_left=q;b.fold_right=r;b.sort=t;b.stable_sort=u;b.fast_sort=fa}),null);
__d("bs_js_boolean",[],(function a(b,c,d,e,f,g){"use strict";function h(i){if(i)return true;else return false}g.to_js_boolean=h}),null);
__d("bs_caml_int32",["bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(n,o){if(o===0)throw c("bs_caml_builtin_exceptions").division_by_zero;else return n/o|0}function i(n,o){if(o===0)throw c("bs_caml_builtin_exceptions").division_by_zero;else return n%o}function j(n){return(n&255)<<8|(n&65280)>>>8}function k(n){return(n&255)<<24|(n&65280)<<8|(n&16711680)>>>8|(n&4278190080)>>>24}var l=Math.imul||function(n,o){o|=0;return((n>>16)*o<<16)+(n&65535)*o|0},m=k;g.div=h;g.mod_=i;g.caml_bswap16=j;g.caml_int32_bswap=k;g.caml_nativeint_bswap=m;g.imul=l}),null);
__d("bs_block",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){j.tag=i;return j}g.__=h}),null);
__d("bs_caml_obj",["bs_block","bs_caml_builtin_exceptions"],(function a(b,c,aa,ba,ca,d){"use strict";__p&&__p();function e(t,u){var v=new Array(u);v.tag=t;return v}function f(t){var u=t.length|0,v=new Array(u);for(var w=0,x=u-1|0;w<=x;++w)v[w]=t[w];v.tag=t.tag|0;return v}function g(t,u){__p&&__p();var v=t.length|0;if(u<=0||u>v)throw[c("bs_caml_builtin_exceptions").invalid_argument,"Obj.truncate"];else if(v!==u){for(var w=u,x=v-1|0;w<=x;++w)t[w]=0;t.length=u;return 0}else return 0}function h(t){return c("bs_block").__(250,[t])}function i(t,u){var v=u.length|0;for(var w=0,x=v-1|0;w<=x;++w)t[w]=u[w];var y=u.tag|0;if(y!==0){t.tag=y;return 0}else return 0}function j(t,u){if(t<u)return-1;else if(t===u)return 0;else return 1}function k(t,u){__p&&__p();while(true){var v=u,w=t;if(w===v)return 0;else{var x=typeof w,y=typeof v;if(x==="string"){var z=w,A=v;if(z<A)return-1;else if(z===A)return 0;else return 1}else{var B=+(x==="number"),C=+(y==="number");if(B!==0)if(C!==0)return j(w,v);else return-1;else if(C!==0)return 1;else if(x==="boolean"||x==="undefined"||w===null){var D=w,E=v;if(D===E)return 0;else if(D<E)return-1;else return 1}else if(x==="function"||y==="function")throw[c("bs_caml_builtin_exceptions").invalid_argument,"compare: functional value"];else{var F=w.tag|0,G=v.tag|0;if(F===250){t=w[0];continue}else if(G===250){u=v[0];continue}else if(F===248)return j(w[1],v[1]);else if(F===251)throw[c("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];else if(F!==G)if(F<G)return-1;else return 1;else{var H=w.length|0,I=v.length|0;if(H===I){var J=w,K=v,L=0,M=H;while(true){var N=L;if(N===M)return 0;else{var O=k(J[N],K[N]);if(O!==0)return O;else{L=N+1|0;continue}}}}else if(H<I){var P=w,Q=v,R=0,S=H;while(true){var T=R;if(T===S)return-1;else{var U=k(P[T],Q[T]);if(U!==0)return U;else{R=T+1|0;continue}}}}else{var V=w,W=v,X=0,Y=I;while(true){var Z=X;if(Z===Y)return 1;else{var $=k(V[Z],W[Z]);if($!==0)return $;else{X=Z+1|0;continue}}}}}}}}}}function l(t,u){__p&&__p();while(true){var v=u,w=t;if(w===v)return 1;else{var x=typeof w;if(x==="string"||x==="number"||x==="boolean"||x==="undefined"||w===null)return 0;else{var y=typeof v;if(x==="function"||y==="function")throw[c("bs_caml_builtin_exceptions").invalid_argument,"equal: functional value"];else if(y==="number"||y==="undefined"||v===null)return 0;else{var z=w.tag|0,A=v.tag|0;if(z===250){t=w[0];continue}else if(A===250){u=v[0];continue}else if(z===248)return+(w[1]===v[1]);else if(z===251)throw[c("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];else if(z!==A)return 0;else{var B=w.length|0,C=v.length|0;if(B===C){var D=w,E=v,F=0,G=B;while(true){var H=F;if(H===G)return 1;else if(l(D[H],E[H])){F=H+1|0;continue}else return 0}}else return 0}}}}}}function m(t,u){return 1-l(t,u)}function n(t,u){return+(k(t,u)>=0)}function o(t,u){return+(k(t,u)>0)}function p(t,u){return+(k(t,u)<=0)}function q(t,u){return+(k(t,u)<0)}var r=j,s=j;d.caml_obj_block=e;d.caml_obj_dup=f;d.caml_obj_truncate=g;d.caml_lazy_make_forward=h;d.caml_update_dummy=i;d.caml_int_compare=j;d.caml_int32_compare=r;d.caml_nativeint_compare=s;d.caml_compare=k;d.caml_equal=l;d.caml_notequal=m;d.caml_greaterequal=n;d.caml_greaterthan=o;d.caml_lessthan=q;d.caml_lessequal=p}),null);
__d("bs_caml_utils",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=String.prototype.repeat&&function(i,j){return j.repeat(i)}||function(i,j){__p&&__p();if(j.length==0||i==0)return"";if(j.length*i>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var k="";for(;;){if((i&1)==1)k+=j;i>>>=1;if(i==0)break;j+=j}return k};g.repeat=h}),null);
__d("bs_caml_int64",["bs_caml_obj","bs_caml_int32","bs_caml_utils","bs_caml_builtin_exceptions"],(function aa(ba,a,ca,da,ea,b){"use strict";__p&&__p();var c=[-2147483648,0],d=[134217727,1],e=[0,1],f=[0,0],g=[-1,4294967295];function h(B){return+((B&2147483648)!==0)}function i(B,C){var D=C[1],E=B[1],F=E+D&4294967295,G=h(E)&&(h(D)||!h(F))||h(D)&&!h(F)?1:0,H=B[0]+C[0]+G&4294967295;return[H,F>>>0]}function j(B){var C=B[0]^-1,D=B[1]^-1;return[C,D>>>0]}function k(B,C){if(B[0]===C[0])return+(B[1]===C[1]);else return 0}function l(B){if(k(B,c))return c;else return i(j(B),e)}function m(B,C){return i(B,l(C))}function n(B,C){if(C){var D=B[1];if(C>=32)return[D<<(C-32|0),0];else{var E=D>>>(32-C|0)|B[0]<<C;return[E,D<<C>>>0]}}else return B}function o(B,C){__p&&__p();if(C){var D=B[0],E=C-32|0;if(E)if(E>0){var F=D>>>E;return[0,F>>>0]}else{var G=D>>>C,H=D<<(-E|0)|B[1]>>>C;return[G,H>>>0]}else return[0,D>>>0]}else return B}function p(B,C){__p&&__p();if(C){var D=B[0];if(C<32){var E=D>>C,F=D<<(32-C|0)|B[1]>>>C;return[E,F>>>0]}else{var G=D>>(C-32|0);return[D>=0?0:-1,G>>>0]}}else return B}function q(B){if(B[0]!==0||B[1]!==0)return 0;else return 1}function r(B,C){__p&&__p();while(true){var D=C,E=B,F=0,G,H=E[0],I=0,J=0,K=0;if(H!==0)K=4;else if(E[1]!==0)K=4;else return f;if(K===4)if(D[0]!==0)J=3;else if(D[1]!==0)J=3;else return f;if(J===3)if(H!==-2147483648)I=2;else if(E[1]!==0)I=2;else{G=D[1];F=1}if(I===2){var L=D[0],M=E[1],N=0;if(L!==-2147483648)N=3;else if(D[1]!==0)N=3;else{G=M;F=1}if(N===3){var O=D[1];if(H<0)if(L<0){C=l(D);B=l(E);continue}else return l(r(l(E),D));else if(L<0)return l(r(E,l(D)));else{var P=H>>>16,Q=H&65535,R=M>>>16,S=M&65535,T=L>>>16,U=L&65535,V=O>>>16,W=O&65535,X=0,Y=0,Z=0,$=S*W;Z=($>>>16)+R*W;Y=Z>>>16;Z=(Z&65535)+S*V;Y=Y+(Z>>>16)+Q*W;X=Y>>>16;Y=(Y&65535)+R*V;X+=Y>>>16;Y=(Y&65535)+S*U;X+=Y>>>16;Y=Y&65535;X=X+(P*W+Q*V+R*U+S*T)&65535;var va=Y|X<<16,wa=$&65535|(Z&65535)<<16;return[va,wa>>>0]}}}if(F===1)if((G&1)===0)return f;else return c}}function s(B){var C=a("bs_caml_int32").caml_int32_bswap(B[1]),D=a("bs_caml_int32").caml_int32_bswap(B[0]);return[C,D>>>0]}function t(B,C){return[B[0]^C[0],(B[1]^C[1])>>>0]}function u(B,C){return[B[0]|C[0],(B[1]|C[1])>>>0]}function fa(B,C){return[B[0]&C[0],(B[1]&C[1])>>>0]}function v(B,C){var D=C[0],E=B[0];if(E>D)return 1;else if(E<D)return 0;else return+(B[1]>=C[1])}function ga(B,C){return 1-k(B,C)}function ha(B,C){return 1-v(B,C)}function w(B,C){if(B[0]>C[0])return 1;else if(B[0]<C[0])return 0;else return+(B[1]>C[1])}function ia(B,C){return 1-w(B,C)}function x(B){return B[0]*4294967296+B[1]}var y=Math.pow(2,32),ja=Math.pow(2,63),ka=-Math.pow(2,63);function z(B){__p&&__p();if(isNaN(B)||!isFinite(B))return f;else if(B<=ka)return c;else if(B+1>=ja)return d;else if(B<0)return l(z(-B));else{var C=B/y|0,D=B%y|0;return[C,D>>>0]}}function A(B,C){__p&&__p();while(true){var D=C,E=B,F=E[0],G=0,H=0;if(D[0]!==0)H=2;else if(D[1]!==0)H=2;else throw a("bs_caml_builtin_exceptions").division_by_zero;if(H===2)if(F!==-2147483648)if(F!==0)G=1;else if(E[1]!==0)G=1;else return f;else if(E[1]!==0)G=1;else if(k(D,e)||k(D,g))return E;else if(k(D,c))return e;else{var I=D[0],J=p(E,1),K=n(A(J,D),1),L=0;if(K[0]!==0)L=3;else if(K[1]!==0)L=3;else if(I<0)return e;else return l(e);if(L===3){var M=r(D,K),N=i(E,l(M));return i(K,A(N,D))}}if(G===1){var O=D[0],P=0;if(O!==-2147483648)P=2;else if(D[1]!==0)P=2;else return f;if(P===2)if(F<0)if(O<0){C=l(D);B=l(E);continue}else return l(A(l(E),D));else if(O<0)return l(A(E,l(D)));else{var Q=f,R=E;while(v(R,D)){var S=Math.max(1,Math.floor(x(R)/x(D))),T=Math.ceil(Math.log(S)/Math.LN2),U=T<=48?1:Math.pow(2,T-48),V=z(S),W=r(V,D);while(W[0]<0||w(W,R)){S-=U;V=z(S);W=r(V,D)}if(q(V))V=e;Q=i(Q,V);R=i(R,l(W))}return Q}}}}function la(B,C){var D=r(A(B,C),C);return i(B,l(D))}function ma(B,C){var D=A(B,C),E=r(D,C);return[D,i(B,l(E))]}function na(B,C){var D=a("bs_caml_obj").caml_nativeint_compare(B[0],C[0]);if(D)return D;else return a("bs_caml_obj").caml_nativeint_compare(B[1],C[1])}function oa(B){return[B<0?-1:0,B>>>0]}function pa(B){return B[1]|0}function qa(B){__p&&__p();var C=function C(I){return(I>>>0).toString(16)},D=B[0],E=B[1],F=0;if(D!==0)F=1;else if(E!==0)F=1;else return"0";if(F===1)if(E!==0)if(D!==0){var G=C(B[1]),H=8-G.length|0;if(H<=0)return C(B[0])+G;else return C(B[0])+(a("bs_caml_utils").repeat(H,"0")+G)}else return C(B[1]);else return C(B[0])+"00000000"}function ra(B){return[2147483647&B[0],B[1]]}function sa(B){var C=new Int32Array([B[1],B[0]]);return new Float64Array(C.buffer)[0]}function ta(B){var C=new Float64Array([B]),D=new Int32Array(C.buffer),E=D[1],F=E,G=D[0],H=G;return[F,H>>>0]}function ua(B,C){var D=B.charCodeAt(C+4|0)<<32|B.charCodeAt(C+5|0)<<40|B.charCodeAt(C+6|0)<<48|B.charCodeAt(C+7|0)<<56,E=B.charCodeAt(C)|B.charCodeAt(C+1|0)<<8|B.charCodeAt(C+2|0)<<16|B.charCodeAt(C+3|0)<<24;return[D,E>>>0]}b.min_int=c;b.max_int=d;b.one=e;b.zero=f;b.not=j;b.of_int32=oa;b.to_int32=pa;b.add=i;b.neg=l;b.sub=m;b.lsl_=n;b.lsr_=o;b.asr_=p;b.is_zero=q;b.mul=r;b.xor=t;b.or_=u;b.and_=fa;b.swap=s;b.ge=v;b.eq=k;b.neq=ga;b.lt=ha;b.gt=w;b.le=ia;b.to_float=x;b.of_float=z;b.div=A;b.mod_=la;b.div_mod=ma;b.compare=na;b.to_hex=qa;b.discard_sign=ra;b.float_of_bits=sa;b.bits_of_float=ta;b.get64=ua}),null);
__d("bs_caml_format",["bs_curry","bs_caml_int32","bs_caml_int64","bs_caml_utils","bs_caml_builtin_exceptions"],(function a(b,c,aa,ba,ca,d){"use strict";__p&&__p();function e(x){throw[c("bs_caml_builtin_exceptions").failure,x]}function f(x){__p&&__p();if(x>=65)if(x>=97)if(x>=123)return-1;else return x-87|0;else if(x>=91)return-1;else return x-55|0;else if(x>57||x<48)return-1;else return x-48|0}function g(x){switch(x){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2}}function h(x){__p&&__p();var y=1,z=2,A=0;if(x[A]==="-"){y=-1;A=A+1|0}var B=x.charCodeAt(A),C=x.charCodeAt(A+1|0);if(B===48)if(C>=89)if(C!==98)if(C!==111){if(C===120){z=1;A=A+2|0}}else{z=0;A=A+2|0}else{z=3;A=A+2|0}else if(C!==66)if(C!==79){if(C>=88){z=1;A=A+2|0}}else{z=0;A=A+2|0}else{z=3;A=A+2|0}return[A,y,z]}function i(x){__p&&__p();var y=h(x),z=y[0],A=g(y[2]),B=4294967295,C=x.length,D=z<C?x.charCodeAt(z):0,E=f(D);if(E<0||E>=A)throw[c("bs_caml_builtin_exceptions").failure,"int_of_string"];var F=function F(I,J){__p&&__p();while(true){var K=J,L=I;if(K===C)return L;else{var M=x.charCodeAt(K);if(M===95){J=K+1|0;continue}else{var N=f(M);if(N<0||N>=A)throw[c("bs_caml_builtin_exceptions").failure,"int_of_string"];else{var O=A*L+N;if(O>B)throw[c("bs_caml_builtin_exceptions").failure,"int_of_string"];else{J=K+1|0;I=O;continue}}}}}},G=y[1]*F(E,z+1|0),H=G|0;if(A===10&&G!==H)throw[c("bs_caml_builtin_exceptions").failure,"int_of_string"];return H}function j(x){__p&&__p();var y=h(x),z=y[2],A=y[0],B=c("bs_caml_int64").of_int32(g(z)),C=c("bs_caml_int64").of_int32(y[1]),D;switch(z){case 0:D=[536870911,4294967295];break;case 1:D=[268435455,4294967295];break;case 2:D=[429496729,2576980377];break;case 3:D=[2147483647,4294967295];break}var E=x.length,F=A<E?x.charCodeAt(A):0,G=c("bs_caml_int64").of_int32(f(F));if(c("bs_caml_int64").lt(G,[0,0])||c("bs_caml_int64").ge(G,B))throw[c("bs_caml_builtin_exceptions").failure,"int64_of_string"];var H=function H(K,L){__p&&__p();while(true){var M=L,N=K;if(M===E)return N;else{var O=x.charCodeAt(M);if(O===95){L=M+1|0;continue}else{var P=c("bs_caml_int64").of_int32(f(O));if(c("bs_caml_int64").lt(P,[0,0])||c("bs_caml_int64").ge(P,B)||c("bs_caml_int64").gt(N,D))throw[c("bs_caml_builtin_exceptions").failure,"int64_of_string"];else{var Q=c("bs_caml_int64").add(c("bs_caml_int64").mul(B,N),P);L=M+1|0;K=Q;continue}}}}},I=c("bs_caml_int64").mul(C,H(G,A+1|0)),J=c("bs_caml_int64").or_(I,[0,0]);if(c("bs_caml_int64").eq(B,[0,10])&&c("bs_caml_int64").neq(I,J))throw[c("bs_caml_builtin_exceptions").failure,"int64_of_string"];return J}function k(x){switch(x){case 0:return 8;case 1:return 16;case 2:return 10}}function l(x){if(x>=65&&x<=90||x>=192&&x<=214||x>=216&&x<=222)return x+32|0;else return x}function m(x){__p&&__p();var y=x.length;if(y>31)throw[c("bs_caml_builtin_exceptions").invalid_argument,"format_int: format too long"];var z=["+","-"," ",0,2,0,0,0,1,-1,"f"],A=0;while(true){var B=A;if(B>=y)return z;else{var C=x.charCodeAt(B),D=0;if(C>=69)if(C>=88)if(C>=121)D=1;else switch(C-88|0){case 0:z[4]=1;z[7]=1;A=B+1|0;continue;case 13:case 14:case 15:D=5;break;case 12:case 17:D=4;break;case 23:z[4]=0;A=B+1|0;continue;case 29:z[4]=2;A=B+1|0;continue;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 16:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 28:case 30:case 31:D=1;break;case 32:z[4]=1;A=B+1|0;continue}else if(C>=72)D=1;else{z[5]=1;z[7]=1;z[10]=String.fromCharCode(l(C));A=B+1|0;continue}else{var E=C-32|0;if(E>25||E<0)D=1;else switch(E){case 3:z[3]=1;A=B+1|0;continue;case 0:case 11:D=2;break;case 13:z[0]="-";A=B+1|0;continue;case 14:z[9]=0;var F=B+1|0;while(function(F){return function(){var H=x.charCodeAt(F)-48|0;return+(H>=0&&H<=9)}}(F)()){z[9]=(c("bs_caml_int32").imul(z[9],10)+x.charCodeAt(F)|0)-48|0;F=F+1|0}A=F;continue;case 1:case 2:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 12:case 15:D=1;break;case 16:z[2]="0";A=B+1|0;continue;case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:D=3;break}}switch(D){case 1:A=B+1|0;continue;case 2:z[1]=String.fromCharCode(C);A=B+1|0;continue;case 3:z[6]=0;var G=B;while(function(G){return function(){var H=x.charCodeAt(G)-48|0;return+(H>=0&&H<=9)}}(G)()){z[6]=(c("bs_caml_int32").imul(z[6],10)+x.charCodeAt(G)|0)-48|0;G=G+1|0}A=G;continue;case 4:z[5]=1;z[4]=2;A=B+1|0;continue;case 5:z[5]=1;z[10]=String.fromCharCode(C);A=B+1|0;continue}}}}function n(x,y){__p&&__p();var z=x[0],A=x[1],B=x[2],C=x[3],D=x[4],E=x[5],F=x[6],G=x[7],H=x[8],I=y.length;if(E&&(H<0||A!=="-"))I=I+1|0;if(C)if(D){if(D===1)I=I+2|0}else I=I+1|0;var J="";if(z==="+"&&B===" ")for(var K=I,L=F-1|0;K<=L;++K)J=J+B;if(E)if(H<0)J=J+"-";else if(A!=="-")J=J+A;if(C&&D===0)J=J+"0";if(C&&D===1)J=J+"0x";if(z==="+"&&B==="0")for(var M=I,N=F-1|0;M<=N;++M)J=J+B;J=G?J+y.toUpperCase():J+y;if(z==="-")for(var O=I,P=F-1|0;O<=P;++O)J=J+" ";return J}function o(x,y){__p&&__p();if(x==="%d")return String(y);else{var z=m(x),A=z,B=y,C=B<0?A[5]?(A[8]=-1,-B):B>>>0:B,D=C.toString(k(A[4]));if(A[9]>=0){A[2]=" ";var E=A[9]-D.length|0;if(E>0)D=c("bs_caml_utils").repeat(E,"0")+D}return n(A,D)}}function p(x,y){__p&&__p();var z=m(x),A=z[5]&&c("bs_caml_int64").lt(y,[0,0])?(z[8]=-1,c("bs_caml_int64").neg(y)):y,B="",C=z[4];switch(C){case 0:var D=[0,8],E="01234567";if(c("bs_caml_int64").lt(A,[0,0])){var F=c("bs_caml_int64").discard_sign(A),G=c("bs_caml_int64").div_mod(F,D),H=c("bs_caml_int64").add([268435456,0],G[0]),I=G[1];B=String.fromCharCode(E.charCodeAt(I[1]|0))+B;while(c("bs_caml_int64").neq(H,[0,0])){var J=c("bs_caml_int64").div_mod(H,D);H=J[0];I=J[1];B=String.fromCharCode(E.charCodeAt(I[1]|0))+B}}else{var K=c("bs_caml_int64").div_mod(A,D),L=K[0],M=K[1];B=String.fromCharCode(E.charCodeAt(M[1]|0))+B;while(c("bs_caml_int64").neq(L,[0,0])){var N=c("bs_caml_int64").div_mod(L,D);L=N[0];M=N[1];B=String.fromCharCode(E.charCodeAt(M[1]|0))+B}}break;case 1:B=c("bs_caml_int64").to_hex(A)+B;break;case 2:var O=[0,10],P="0123456789";if(c("bs_caml_int64").lt(A,[0,0])){var Q=c("bs_caml_int64").discard_sign(A),R=c("bs_caml_int64").div_mod(Q,O),S=c("bs_caml_int64").div_mod(c("bs_caml_int64").add([0,8],R[1]),O),T=c("bs_caml_int64").add(c("bs_caml_int64").add([214748364,3435973836],R[0]),S[0]),U=S[1];B=String.fromCharCode(P.charCodeAt(U[1]|0))+B;while(c("bs_caml_int64").neq(T,[0,0])){var V=c("bs_caml_int64").div_mod(T,O);T=V[0];U=V[1];B=String.fromCharCode(P.charCodeAt(U[1]|0))+B}}else{var W=c("bs_caml_int64").div_mod(A,O),X=W[0],Y=W[1];B=String.fromCharCode(P.charCodeAt(Y[1]|0))+B;while(c("bs_caml_int64").neq(X,[0,0])){var Z=c("bs_caml_int64").div_mod(X,O);X=Z[0];Y=Z[1];B=String.fromCharCode(P.charCodeAt(Y[1]|0))+B}}break}if(z[9]>=0){z[2]=" ";var $=z[9]-B.length|0;if($>0)B=c("bs_caml_utils").repeat($,"0")+B}return n(z,B)}function q(x,y){__p&&__p();var z=m(x),A=z[9]<0?6:z[9],B=y<0?(z[8]=-1,-y):y,C="";if(isNaN(B)){C="nan";z[2]=" "}else if(isFinite(B)){var D=z[10];switch(D){case"e":C=B.toExponential(A);var E=C.length;if(C[E-3|0]==="e")C=C.slice(0,E-1|0)+("0"+C.slice(E-1|0));break;case"f":C=B.toFixed(A);break;case"g":var F=A!==0?A:1;C=B.toExponential(F-1|0);var G=C.indexOf("e"),H=Number(C.slice(G+1|0))|0;if(H<-4||B>=1e21||B.toFixed().length>F){var I=G-1|0;while(C[I]==="0")I=I-1|0;if(C[I]===".")I=I-1|0;C=C.slice(0,I+1|0)+C.slice(G);var J=C.length;if(C[J-3|0]==="e")C=C.slice(0,J-1|0)+("0"+C.slice(J-1|0))}else{var K=F;if(H<0){K=K-(H+1|0)|0;C=B.toFixed(K)}else while(function(){C=B.toFixed(K);return+(C.length>(F+1|0))}())K=K-1|0;if(K!==0){var L=C.length-1|0;while(C[L]==="0")L=L-1|0;if(C[L]===".")L=L-1|0;C=C.slice(0,L+1|0)}}break;default:}}else{C="inf";z[2]=" "}return n(z,C)}var r=function r(x,e){__p&&__p();var y=+x;if(x.length>0&&y===y)return y;x=x.replace(/_/g,"");y=+x;if(x.length>0&&y===y||/^[+-]?nan$/i.test(x))return y;if(/^ *0x[0-9a-f_]+p[+-]?[0-9_]+/i.test(x)){var z=x.indexOf("p");z=z==-1?x.indexOf("P"):z;var A=+x.substring(z+1);y=+x.substring(0,z);return y*Math.pow(2,A)}if(/^\+?inf(inity)?$/i.test(x))return Infinity;if(/^-inf(inity)?$/i.test(x))return-Infinity;e("float_of_string")};function s(x){return c("bs_curry")._2(r,x,e)}var t=o,u=o,v=i,w=i;d.caml_format_float=q;d.caml_format_int=o;d.caml_nativeint_format=t;d.caml_int32_format=u;d.caml_float_of_string=s;d.caml_int64_format=p;d.caml_int_of_string=i;d.caml_int32_of_string=v;d.caml_int64_of_string=j;d.caml_nativeint_of_string=w}),null);
__d("bs_caml_io",["bs_curry","bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(u,v){return u+v}var i=undefined,j=["",function(u,v){var w=v.length-1|0;if(typeof process!=="undefined"&&process.stdout&&process.stdout.write)return process.stdout.write(v);else if(v[w]==="\n")return 0;else return 0}],k=["",function(u,v){var w=v.length-1|0;if(v[w]==="\n")return 0;else return 0}];function l(){throw[c("bs_caml_builtin_exceptions").failure,"caml_ml_open_descriptor_in not implemented"]}function m(){throw[c("bs_caml_builtin_exceptions").failure,"caml_ml_open_descriptor_out not implemented"]}function n(u){if(u[0]!==""){c("bs_curry")._2(u[1],u,u[0]);u[0]="";return 0}else return 0}var o=function o(u){return typeof process!=="undefined"&&process.stdout&&(process.stdout.write(u),true)};function p(u,v,w,x){__p&&__p();var y=w===0&&x===v.length?v:v.slice(w,x);if(typeof process!=="undefined"&&process.stdout&&process.stdout.write&&u===j)return process.stdout.write(y);else{var z=y.lastIndexOf("\n");if(z<0){u[0]=u[0]+y;return 0}else{u[0]=u[0]+y.slice(0,z+1|0);n(u);u[0]=u[0]+y.slice(z+1|0);return 0}}}function q(u,v){return p(u,String.fromCharCode(v),0,1)}function r(u,v,w,x){throw[c("bs_caml_builtin_exceptions").failure,"caml_ml_input ic not implemented"]}function s(){throw[c("bs_caml_builtin_exceptions").failure,"caml_ml_input_char not implemnted"]}function t(){return[j,[k,0]]}g.$caret=h;g.stdin=i;g.stdout=j;g.stderr=k;g.caml_ml_open_descriptor_in=l;g.caml_ml_open_descriptor_out=m;g.caml_ml_flush=n;g.node_std_output=o;g.caml_ml_output=p;g.caml_ml_output_char=q;g.caml_ml_input=r;g.caml_ml_input_char=s;g.caml_ml_out_channels_list=t}),null);
__d("bs_caml_missing_polyfill",[],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){throw new Error(i)};g.not_implemented=h}),null);
__d("bs_caml_string",["bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(v){return String.fromCharCode(v)}function i(v,w){if(w>=v.length||w<0)throw[c("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else return v.charCodeAt(w)}function j(v){if(v<0)throw[c("bs_caml_builtin_exceptions").invalid_argument,"String.create"];else return new Array(v)}function k(v,w){if(v===w)return 0;else if(v<w)return-1;else return 1}function l(v,w,x,y){if(x>0){for(var z=w,A=(x+w|0)-1|0;z<=A;++z)v[z]=y;return 0}else return 0}function m(v,w,x,y,z){__p&&__p();if(z>0){var A=v.length-w|0;if(z<=A){for(var B=0,C=z-1|0;B<=C;++B)x[y+B|0]=v.charCodeAt(w+B|0);return 0}else{for(var D=0,E=A-1|0;D<=E;++D)x[y+D|0]=v.charCodeAt(w+D|0);for(var F=A,G=z-1|0;F<=G;++F)x[y+F|0]=0;return 0}}else return 0}function n(v,w,x,y,z){__p&&__p();if(z>0)if(v===x){var A=v,B=w,C=y,D=z;if(B<C){var E=(A.length-C|0)-1|0,F=D-1|0,G=E>F?F:E;for(var H=G;H>=0;--H)A[C+H|0]=A[B+H|0];return 0}else if(B>C){var I=(A.length-B|0)-1|0,J=D-1|0,K=I>J?J:I;for(var L=0;L<=K;++L)A[C+L|0]=A[B+L|0];return 0}else return 0}else{var M=v.length-w|0;if(z<=M){for(var N=0,O=z-1|0;N<=O;++N)x[y+N|0]=v[w+N|0];return 0}else{for(var P=0,Q=M-1|0;P<=Q;++P)x[y+P|0]=v[w+P|0];for(var R=M,S=z-1|0;R<=S;++R)x[y+R|0]=0;return 0}}else return 0}function o(v){var w=v.length,x=new Array(w);for(var y=0,z=w-1|0;y<=z;++y)x[y]=v.charCodeAt(y);return x}function p(v){__p&&__p();var w=v,x=0,y=v.length,z="",A=y;if(x===0&&y<=4096&&y===w.length)return String.fromCharCode.apply(null,w);else{var B=0;while(A>0){var C=A<1024?A:1024,D=new Array(C);n(w,B,D,0,C);z=z+String.fromCharCode.apply(null,D);A=A-C|0;B=B+C|0}return z}}function q(v){var w=v.length,x=new Array(w);for(var y=0,z=w-1|0;y<=z;++y)x[y]=v[y];return p(x)}function r(v){if(v>31)return+(v<127);else return 0}function s(v,w){return v.charCodeAt(w)+(v.charCodeAt(w+1|0)<<8)|0}function t(v,w){return((v.charCodeAt(w)+(v.charCodeAt(w+1|0)<<8)|0)+(v.charCodeAt(w+2|0)<<16)|0)+(v.charCodeAt(w+3|0)<<24)|0}function u(v,w){if(w<0||w>=v.length)throw[c("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else return v.charCodeAt(w)}g.bytes_of_string=o;g.bytes_to_string=p;g.caml_is_printable=r;g.caml_string_of_char_array=q;g.caml_string_get=i;g.caml_string_compare=k;g.caml_create_string=j;g.caml_fill_string=l;g.caml_blit_string=m;g.caml_blit_bytes=n;g.caml_string_get16=s;g.caml_string_get32=t;g.string_of_char=h;g.get=u}),null);
__d("bs_caml_sys",["bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(q){var r=typeof process==="undefined"?undefined:process;if(r!==undefined){var s=r.env[q];if(s!==undefined)return s;else throw c("bs_caml_builtin_exceptions").not_found}else throw c("bs_caml_builtin_exceptions").not_found}function i(){var q=typeof process==="undefined"?undefined:process;if(q!==undefined)return q.uptime();else return-1}function j(){return[((Date.now()|0)^4294967295)*Math.random()|0]}function k(){return 127}function l(){var q=typeof process==="undefined"?undefined:process;if(q!==undefined)return q.cwd();else return"/"}function m(){var q=typeof process==="undefined"?undefined:process;if(q!==undefined)if(q.argv==null)return["",[""]];else return[q.argv[0],q.argv];else return["",[""]]}function n(q){var r=typeof process==="undefined"?undefined:process;if(r!==undefined)return r.exit(q);else return 0}function o(){throw[c("bs_caml_builtin_exceptions").failure,"caml_sys_is_directory not implemented"]}function p(){throw[c("bs_caml_builtin_exceptions").failure,"caml_sys_file_exists not implemented"]}g.caml_sys_getenv=h;g.caml_sys_time=i;g.caml_sys_random_seed=j;g.caml_sys_system_command=k;g.caml_sys_getcwd=l;g.caml_sys_get_argv=m;g.caml_sys_exit=n;g.caml_sys_is_directory=o;g.caml_sys_file_exists=p}),null);
__d("bs_camlinternalFormatBasics",["bs_block"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k){__p&&__p();if(typeof k==="number")return 0;else switch(k.tag|0){case 0:return c("bs_block").__(0,[h(k[0])]);case 1:return c("bs_block").__(1,[h(k[0])]);case 2:return c("bs_block").__(2,[h(k[0])]);case 3:return c("bs_block").__(3,[h(k[0])]);case 4:return c("bs_block").__(4,[h(k[0])]);case 5:return c("bs_block").__(5,[h(k[0])]);case 6:return c("bs_block").__(6,[h(k[0])]);case 7:return c("bs_block").__(7,[h(k[0])]);case 8:return c("bs_block").__(8,[k[0],h(k[1])]);case 9:var l=k[0];return c("bs_block").__(9,[l,l,h(k[2])]);case 10:return c("bs_block").__(10,[h(k[0])]);case 11:return c("bs_block").__(11,[h(k[0])]);case 12:return c("bs_block").__(12,[h(k[0])]);case 13:return c("bs_block").__(13,[h(k[0])]);case 14:return c("bs_block").__(14,[h(k[0])])}}function i(k,l){__p&&__p();if(typeof k==="number")return l;else switch(k.tag|0){case 0:return c("bs_block").__(0,[i(k[0],l)]);case 1:return c("bs_block").__(1,[i(k[0],l)]);case 2:return c("bs_block").__(2,[i(k[0],l)]);case 3:return c("bs_block").__(3,[i(k[0],l)]);case 4:return c("bs_block").__(4,[i(k[0],l)]);case 5:return c("bs_block").__(5,[i(k[0],l)]);case 6:return c("bs_block").__(6,[i(k[0],l)]);case 7:return c("bs_block").__(7,[i(k[0],l)]);case 8:return c("bs_block").__(8,[k[0],i(k[1],l)]);case 9:return c("bs_block").__(9,[k[0],k[1],i(k[2],l)]);case 10:return c("bs_block").__(10,[i(k[0],l)]);case 11:return c("bs_block").__(11,[i(k[0],l)]);case 12:return c("bs_block").__(12,[i(k[0],l)]);case 13:return c("bs_block").__(13,[i(k[0],l)]);case 14:return c("bs_block").__(14,[i(k[0],l)])}}function j(k,l){__p&&__p();if(typeof k==="number")return l;else switch(k.tag|0){case 0:return c("bs_block").__(0,[j(k[0],l)]);case 1:return c("bs_block").__(1,[j(k[0],l)]);case 2:return c("bs_block").__(2,[k[0],j(k[1],l)]);case 3:return c("bs_block").__(3,[k[0],j(k[1],l)]);case 4:return c("bs_block").__(4,[k[0],k[1],k[2],j(k[3],l)]);case 5:return c("bs_block").__(5,[k[0],k[1],k[2],j(k[3],l)]);case 6:return c("bs_block").__(6,[k[0],k[1],k[2],j(k[3],l)]);case 7:return c("bs_block").__(7,[k[0],k[1],k[2],j(k[3],l)]);case 8:return c("bs_block").__(8,[k[0],k[1],k[2],j(k[3],l)]);case 9:return c("bs_block").__(9,[j(k[0],l)]);case 10:return c("bs_block").__(10,[j(k[0],l)]);case 11:return c("bs_block").__(11,[k[0],j(k[1],l)]);case 12:return c("bs_block").__(12,[k[0],j(k[1],l)]);case 13:return c("bs_block").__(13,[k[0],k[1],j(k[2],l)]);case 14:return c("bs_block").__(14,[k[0],k[1],j(k[2],l)]);case 15:return c("bs_block").__(15,[j(k[0],l)]);case 16:return c("bs_block").__(16,[j(k[0],l)]);case 17:return c("bs_block").__(17,[k[0],j(k[1],l)]);case 18:return c("bs_block").__(18,[k[0],j(k[1],l)]);case 19:return c("bs_block").__(19,[j(k[0],l)]);case 20:return c("bs_block").__(20,[k[0],k[1],j(k[2],l)]);case 21:return c("bs_block").__(21,[k[0],j(k[1],l)]);case 22:return c("bs_block").__(22,[j(k[0],l)]);case 23:return c("bs_block").__(23,[k[0],j(k[1],l)]);case 24:return c("bs_block").__(24,[k[0],k[1],j(k[2],l)])}}g.concat_fmtty=i;g.erase_rel=h;g.concat_fmt=j}),null);
__d("bs_pervasives",["bs_curry","bs_caml_io","bs_caml_obj","bs_caml_sys","bs_caml_format","bs_caml_string","bs_caml_exceptions","bs_caml_missing_polyfill","bs_caml_builtin_exceptions","bs_camlinternalFormatBasics"],(function aa(ba,a,ca,da,ea,b){"use strict";__p&&__p();function c(R){throw[a("bs_caml_builtin_exceptions").failure,R]}function d(R){throw[a("bs_caml_builtin_exceptions").invalid_argument,R]}var e=a("bs_caml_exceptions").create("Pervasives.Exit");function f(R,S){if(a("bs_caml_obj").caml_lessequal(R,S))return R;else return S}function g(R,S){if(a("bs_caml_obj").caml_greaterequal(R,S))return R;else return S}function h(R){if(R>=0)return R;else return-R|0}function i(R){return R^-1}var j=-2147483648;function k(R,S){return R+S}function l(R){if(R<0||R>255)throw[a("bs_caml_builtin_exceptions").invalid_argument,"char_of_int"];else return R}function m(R){if(R)return"true";else return"false"}function n(R){switch(R){case"false":return 0;case"true":return 1;default:throw[a("bs_caml_builtin_exceptions").invalid_argument,"bool_of_string"]}}function o(R){return""+R}function p(R){__p&&__p();var S=R.length,T=0;while(true){var U=T;if(U>=S)return k(R,".");else{var V=a("bs_caml_string").get(R,U);if(V>=48)if(V>=58)return R;else{T=U+1|0;continue}else if(V!==45)return R;else{T=U+1|0;continue}}}}function q(R){return p(a("bs_caml_format").caml_format_float("%.12g",R))}function r(R,S){if(R)return[R[0],r(R[1],S)];else return S}var s=a("bs_caml_io").stdin,t=a("bs_caml_io").stdout,u=a("bs_caml_io").stderr;function v(R,S,T){return a("bs_caml_io").caml_ml_open_descriptor_out(a("bs_caml_missing_polyfill").not_implemented("caml_sys_open not implemented by bucklescript yet\n"))}function w(R){return v([1,[3,[4,[7,0]]]],438,R)}function x(R){return v([1,[3,[4,[6,0]]]],438,R)}function y(){__p&&__p();var R=a("bs_caml_io").caml_ml_out_channels_list(0);while(true){var S=R;if(S){try{a("bs_caml_io").caml_ml_flush(S[0])}catch(T){}R=S[1];continue}else return 0}}function z(R,S){return a("bs_caml_io").caml_ml_output(R,S,0,S.length)}function A(R,S){return a("bs_caml_io").caml_ml_output(R,S,0,S.length)}function B(R,S,T,U){if(T<0||U<0||T>(S.length-U|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"output"];else return a("bs_caml_io").caml_ml_output(R,S,T,U)}function C(R,S,T,U){if(T<0||U<0||T>(S.length-U|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"output_substring"];else return a("bs_caml_io").caml_ml_output(R,S,T,U)}function D(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_output_value not implemented by bucklescript yet\n")}function E(R){a("bs_caml_io").caml_ml_flush(R);return a("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}function F(R){try{a("bs_caml_io").caml_ml_flush(R)}catch(S){}try{return a("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}catch(T){return 0}}function G(R,S,T){return a("bs_caml_io").caml_ml_open_descriptor_in(a("bs_caml_missing_polyfill").not_implemented("caml_sys_open not implemented by bucklescript yet\n"))}function H(R){return G([0,[7,0]],0,R)}function I(R){return G([0,[6,0]],0,R)}function J(R,S,T,U){if(T<0||U<0||T>(S.length-U|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"input"];else return a("bs_caml_missing_polyfill").not_implemented("caml_ml_input not implemented by bucklescript yet\n")}function K(R,S,T,U){__p&&__p();while(true){var V=U,W=T;if(V<=0)return 0;else{var X=a("bs_caml_missing_polyfill").not_implemented("caml_ml_input not implemented by bucklescript yet\n");if(X){U=V-X|0;T=W+X|0;continue}else throw a("bs_caml_builtin_exceptions").end_of_file}}}function L(R,S,T,U){if(T<0||U<0||T>(S.length-U|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"really_input"];else return K(R,S,T,U)}function M(R,S){var T=a("bs_caml_string").caml_create_string(S);L(R,T,0,S);return a("bs_caml_string").bytes_to_string(T)}function N(R){__p&&__p();var S=function S(U,V,W){__p&&__p();while(true){var X=W,Y=V;if(X){var Z=X[0],$=Z.length;a("bs_caml_string").caml_blit_bytes(Z,0,U,Y-$|0,$);W=X[1];V=Y-$|0;continue}else return U}},T=function T(U,V){__p&&__p();while(true){var W=V,X=U,Y=a("bs_caml_missing_polyfill").not_implemented("caml_ml_input_scan_line not implemented by bucklescript yet\n");if(Y)if(Y>0){var Z=a("bs_caml_string").caml_create_string(Y-1|0);a("bs_caml_missing_polyfill").not_implemented("caml_ml_input not implemented by bucklescript yet\n");a("bs_caml_io").caml_ml_input_char(R);if(X){var $=(W+Y|0)-1|0;return S(a("bs_caml_string").caml_create_string($),$,[Z,X])}else return Z}else{var eb=a("bs_caml_string").caml_create_string(-Y|0);a("bs_caml_missing_polyfill").not_implemented("caml_ml_input not implemented by bucklescript yet\n");V=W-Y|0;U=[eb,X];continue}else if(X)return S(a("bs_caml_string").caml_create_string(W),W,X);else throw a("bs_caml_builtin_exceptions").end_of_file}};return a("bs_caml_string").bytes_to_string(T(0,0))}function O(){try{return a("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}catch(R){return 0}}function fa(R){return a("bs_caml_io").caml_ml_output_char(t,R)}function ga(R){return A(t,R)}function ha(R){return z(t,R)}function ia(R){return A(t,""+R)}function ja(R){return A(t,p(a("bs_caml_format").caml_format_float("%.12g",R)))}function ka(R){return 0}function la(){a("bs_caml_io").caml_ml_output_char(t,10);return a("bs_caml_io").caml_ml_flush(t)}function ma(R){return a("bs_caml_io").caml_ml_output_char(u,R)}function na(R){return A(u,R)}function oa(R){return z(u,R)}function pa(R){return A(u,""+R)}function qa(R){return A(u,p(a("bs_caml_format").caml_format_float("%.12g",R)))}function ra(R){return 0}function sa(){a("bs_caml_io").caml_ml_output_char(u,10);return a("bs_caml_io").caml_ml_flush(u)}function ta(){a("bs_caml_io").caml_ml_flush(t);return N(s)}function ua(){return a("bs_caml_format").caml_int_of_string((a("bs_caml_io").caml_ml_flush(t),N(s)))}function va(){return a("bs_caml_format").caml_float_of_string((a("bs_caml_io").caml_ml_flush(t),N(s)))}function wa(R){return R[1]}function xa(R,S){return[a("bs_camlinternalFormatBasics").concat_fmt(R[0],S[0]),k(R[1],k("%,",S[1]))]}var P=[y];function ya(R){var S=P[0];P[0]=function(){a("bs_curry")._1(R,0);return a("bs_curry")._1(S,0)};return 0}function Q(){return a("bs_curry")._1(P[0],0)}function za(R){Q(0);return a("bs_caml_sys").caml_sys_exit(R)}var Aa=2147483647,Ba=Infinity,Ca=-Infinity,Da=NaN,Ea=Number.MAX_VALUE,Fa=Number.MIN_VALUE,Ga=2220446049250313e-31,Ha=a("bs_caml_io").caml_ml_flush,Ia=a("bs_caml_io").caml_ml_output_char,Ja=a("bs_caml_io").caml_ml_output_char;function Ka(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_output_int not implemented by bucklescript yet\n")}function La(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_out not implemented by bucklescript yet\n")}function Ma(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_out not implemented by bucklescript yet\n")}function Na(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size not implemented by bucklescript yet\n")}function Oa(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_set_binary_mode not implemented by bucklescript yet\n")}var Pa=a("bs_caml_io").caml_ml_input_char,Qa=a("bs_caml_io").caml_ml_input_char;function Ra(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_input_int not implemented by bucklescript yet\n")}function Sa(){return a("bs_caml_missing_polyfill").not_implemented("caml_input_value not implemented by bucklescript yet\n")}function Ta(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_in not implemented by bucklescript yet\n")}function Ua(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_in not implemented by bucklescript yet\n")}function Va(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size not implemented by bucklescript yet\n")}function Wa(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}function Xa(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_set_binary_mode not implemented by bucklescript yet\n")}function Ya(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_out_64 not implemented by bucklescript yet\n")}function Za(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_out_64 not implemented by bucklescript yet\n")}function $a(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size_64 not implemented by bucklescript yet\n")}function ab(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_in_64 not implemented by bucklescript yet\n")}function bb(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_in_64 not implemented by bucklescript yet\n")}function cb(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size_64 not implemented by bucklescript yet\n")}var db=[Ya,Za,$a,ab,bb,cb];b.invalid_arg=d;b.failwith=c;b.Exit=e;b.min=f;b.max=g;b.abs=h;b.max_int=Aa;b.min_int=j;b.lnot=i;b.infinity=Ba;b.neg_infinity=Ca;b.nan=Da;b.max_float=Ea;b.min_float=Fa;b.epsilon_float=Ga;b.$caret=k;b.char_of_int=l;b.string_of_bool=m;b.bool_of_string=n;b.string_of_int=o;b.string_of_float=q;b.$at=r;b.stdin=s;b.stdout=t;b.stderr=u;b.print_char=fa;b.print_string=ga;b.print_bytes=ha;b.print_int=ia;b.print_float=ja;b.print_endline=ka;b.print_newline=la;b.prerr_char=ma;b.prerr_string=na;b.prerr_bytes=oa;b.prerr_int=pa;b.prerr_float=qa;b.prerr_endline=ra;b.prerr_newline=sa;b.read_line=ta;b.read_int=ua;b.read_float=va;b.open_out=w;b.open_out_bin=x;b.open_out_gen=v;b.flush=Ha;b.flush_all=y;b.output_char=Ia;b.output_string=A;b.output_bytes=z;b.output=B;b.output_substring=C;b.output_byte=Ja;b.output_binary_int=Ka;b.output_value=D;b.seek_out=La;b.pos_out=Ma;b.out_channel_length=Na;b.close_out=E;b.close_out_noerr=F;b.set_binary_mode_out=Oa;b.open_in=H;b.open_in_bin=I;b.open_in_gen=G;b.input_char=Pa;b.input_line=N;b.input=J;b.really_input=L;b.really_input_string=M;b.input_byte=Qa;b.input_binary_int=Ra;b.input_value=Sa;b.seek_in=Ta;b.pos_in=Ua;b.in_channel_length=Va;b.close_in=Wa;b.close_in_noerr=O;b.set_binary_mode_in=Xa;b.LargeFile=db;b.string_of_format=wa;b.$caret$caret=xa;b.exit=za;b.at_exit=ya;b.valid_float_lexem=p;b.unsafe_really_input=K;b.do_at_exit=Q}),null);
__d("LeadGenInfoFieldTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CUSTOM:"CUSTOM",CITY:"CITY",COMPANY_NAME:"COMPANY_NAME",COUNTRY:"COUNTRY",DOB:"DOB",EMAIL:"EMAIL",GENDER:"GENDER",FIRST_NAME:"FIRST_NAME",FULL_NAME:"FULL_NAME",JOB_TITLE:"JOB_TITLE",LAST_NAME:"LAST_NAME",MARITIAL_STATUS:"MARITIAL_STATUS",PHONE:"PHONE",POST_CODE:"POST_CODE",PROVINCE:"PROVINCE",RELATIONSHIP_STATUS:"RELATIONSHIP_STATUS",STATE:"STATE",STREET_ADDRESS:"STREET_ADDRESS",ZIP:"ZIP",WORK_EMAIL:"WORK_EMAIL",MILITARY_STATUS:"MILITARY_STATUS",WORK_PHONE_NUMBER:"WORK_PHONE_NUMBER",MESSENGER:"MESSENGER",STORE_LOOKUP:"STORE_LOOKUP",DATE_TIME:"DATE_TIME",ID_CPF:"ID_CPF"})}),null);
__d("MNCommerceBubbleType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FB_RETAIL_RECEIPT:1,FB_RETAIL_CANCELLATION:2,FB_RETAIL_SHIPMENT:3,FB_RETAIL_SHIPMENT_TRACKING_EVENT_ETA:4,FB_RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:5,FB_RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:6,FB_RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:7,FB_RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:8,FB_RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:9,FB_RETAIL_SHIPMENT_ETA:10,FB_RETAIL_NOW_IN_STOCK:11,FB_RETAIL_AGENT_ITEM_SUGGESTION:12,FB_RETAIL_AGENT_ITEM_RECEIPT:13,FB_RETAIL_PROMOTIONAL_MSG:14})}),null);
__d("MNCommerceCallToActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN_NATIVE:1,OPEN_URL:2,OPEN_CANCEL_RIDE_MUTATION:3,POSTBACK:4,ACCOUNT_LINK:5,MANAGE_MESSAGES:6,SHARE:7,PAYMENT:8,FACEBOOK_REPORT_A_PROBLEM:9,SUBSCRIPTION_PRESELECT:10,NAVIGATION:11,EXTENSIBLE_SHARE:12,OPEN_REACT_NATIVE_MINI_APP:13,OPEN_PAGE_ABOUT:14})}),null);
__d("P2PPaymentRequestStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INITED:1,DECLINED:2,TRANSFER_INITED:3,TRANSFER_COMPLETED:4,TRANSFER_FAILED:5,CANCELED:6,EXPIRED:7})}),null);
__d("P2PTransferStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PENDING_SENDER_MANUAL_REVIEW:1,PENDING_SENDER_VERIFICATION:2,CANCELED_SENDER_RISK:3,PENDING_RECIPIENT_NUX:4,CANCELED_DECLINED:5,PENDING_RECIPIENT_VERIFICATION:6,PENDING_RECIPIENT_MANUAL_REVIEW:7,PENDING_RECIPIENT_PROCESSING:8,PENDING_PUSH_FAIL:9,CANCELED_RECIPIENT_RISK:10,CANCELED_SYSTEM_FAIL:11,CANCELED_EXPIRED:12,COMPLETED:13,INTERMEDIATE_PROCESSING:14,PENDING_SENDER_INITED:15,CANCELED_SAME_CARD:16,PENDING_SENDER_VERIFICATION_PROCESSING:17,PENDING_RECIPIENT_VERIFICATION_PROCESSING:18,CANCELED_SENDER_CANCEL:19})}),null);
__d("PaymentModulesClient",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DONATION_P4P:"donation_p4p",MOR_DONATIONS:"mor_donations",INSTANT_EXPERIENCES:"instant_experiences",BUSINESS_PLATFORM_COMMERCE:"business_platform_commerce",MESSENGER_OMNIM:"messenger_omnim",MESSENGER_PLATFORM:"messenger_platform",PAGES_COMMERCE:"pages_commerce",SHIPPING_LABEL:"shipping_label",SYNCHRONOUS_COMPONENT_FLOW:"synchronous_component_flow",PAGES_SOLUTION:"pages_solution",MOCK:"mock"})}),null);
__d("ServicesCalendarSyncType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLIENT_ONLY:"client_only",NO_CALENDAR_SYNC:"no_calendar_sync",SERVER_CONTINUOUS:"server_continuous",SERVER_SINGLE:"server_single"})}),null);
__d("bs_js_null_undefined",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k,l){if(k==null)return k;else return l(k)}function i(k,l){if(k==null)return 0;else return l(k)}function j(k){if(k)return k[0];else return undefined}g.bind=h;g.iter=i;g.from_opt=j}),null);
__d("bs_js_primitive",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(n){if(n===null)return 1;else return+(n===undefined)}function i(n){if(n===null||n===undefined)return 0;else return[n]}function j(n){if(n===undefined)return 0;else return[n]}function k(n){if(n===null)return 0;else return[n]}function l(n){if(n)return n[0];else return undefined}function m(n){if(n)return n[0][1];else return undefined}g.is_nil_undef=h;g.null_undefined_to_opt=i;g.undefined_to_opt=j;g.null_to_opt=k;g.option_get=l;g.option_get_unwrap=m}),null);
__d("bs_char",["bs_caml_string","bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m){if(m<0||m>255)throw[c("bs_caml_builtin_exceptions").invalid_argument,"Char.chr"];else return m}function i(m){__p&&__p();var n=0;if(m>=40)if(m!==92)n=m>=127?1:2;else return"\\\\";else if(m>=32)if(m>=39)return"\\'";else n=2;else if(m>=14)n=1;else switch(m){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:n=1;break;case 13:return"\\r"}switch(n){case 1:var o=new Array(4);o[0]=92;o[1]=48+(m/100|0)|0;o[2]=48+(m/10|0)%10|0;o[3]=48+m%10|0;return c("bs_caml_string").bytes_to_string(o);case 2:var p=new Array(1);p[0]=m;return c("bs_caml_string").bytes_to_string(p)}}function j(m){if(m>=65&&m<=90||m>=192&&m<=214||m>=216&&m<=222)return m+32|0;else return m}function k(m){if(m>=97&&m<=122||m>=224&&m<=246||m>=248&&m<=254)return m-32|0;else return m}function l(m,n){return m-n|0}g.chr=h;g.escaped=i;g.lowercase=j;g.uppercase=k;g.compare=l}),null);
__d("bs_list",["bs_curry","bs_caml_obj","bs_pervasives","bs_caml_builtin_exceptions"],(function aa(ba,a,ca,da,ea,b){"use strict";__p&&__p();function c(q){__p&&__p();var r=0,s=q;while(true){var t=s,u=r;if(t){s=t[1];r=u+1|0;continue}else return u}}function fa(q){if(q)return q[0];else throw[a("bs_caml_builtin_exceptions").failure,"hd"]}function ga(q){if(q)return q[1];else throw[a("bs_caml_builtin_exceptions").failure,"tl"]}function ha(q,r){__p&&__p();if(r<0)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.nth"];else{var s=q,t=r;while(true){var u=t,v=s;if(v)if(u){t=u-1|0;s=v[1];continue}else return v[0];else throw[a("bs_caml_builtin_exceptions").failure,"nth"]}}}function d(q,r){while(true){var s=r,t=q;if(t){r=[t[0],s];q=t[1];continue}else return s}}function ia(q){return d(q,0)}function e(q){if(q)return a("bs_pervasives").$at(q[0],e(q[1]));else return 0}function f(q,r){if(r){var s=a("bs_curry")._1(q,r[0]);return[s,f(q,r[1])]}else return 0}function g(q,r,s){if(s){var t=a("bs_curry")._2(r,q,s[0]);return[t,g(q+1|0,r,s[1])]}else return 0}function ja(q,r){return g(0,q,r)}function ka(q,r){__p&&__p();var s=0,t=r;while(true){var u=t,v=s;if(u){t=u[1];s=[a("bs_curry")._1(q,u[0]),v];continue}else return v}}function la(q,r){while(true){var s=r;if(s){a("bs_curry")._1(q,s[0]);r=s[1];continue}else return 0}}function ma(q,r){__p&&__p();var s=0,t=q,u=r;while(true){var v=u,w=s;if(v){a("bs_curry")._2(t,w,v[0]);u=v[1];s=w+1|0;continue}else return 0}}function na(q,r,s){while(true){var t=s,u=r;if(t){s=t[1];r=a("bs_curry")._2(q,u,t[0]);continue}else return u}}function h(q,r,s){if(r)return a("bs_curry")._2(q,r[0],h(q,r[1],s));else return s}function i(q,r,s){if(r)if(s){var t=a("bs_curry")._2(q,r[0],s[0]);return[t,i(q,r[1],s[1])]}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.map2"];else if(s)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.map2"];else return 0}function oa(q,r,s){__p&&__p();var t=0,u=r,v=s;while(true){var w=v,x=u,y=t;if(x)if(w){v=w[1];u=x[1];t=[a("bs_curry")._2(q,x[0],w[0]),y];continue}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.rev_map2"];else if(w)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.rev_map2"];else return y}}function pa(q,r,s){__p&&__p();while(true){var t=s,u=r;if(u)if(t){a("bs_curry")._2(q,u[0],t[0]);s=t[1];r=u[1];continue}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.iter2"];else if(t)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.iter2"];else return 0}}function qa(q,r,s,t){__p&&__p();while(true){var u=t,v=s,w=r;if(v)if(u){t=u[1];s=v[1];r=a("bs_curry")._3(q,w,v[0],u[0]);continue}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.fold_left2"];else if(u)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.fold_left2"];else return w}}function j(q,r,s,t){if(r)if(s)return a("bs_curry")._3(q,r[0],s[0],j(q,r[1],s[1],t));else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.fold_right2"];else if(s)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.fold_right2"];else return t}function ra(q,r){__p&&__p();while(true){var s=r;if(s)if(a("bs_curry")._1(q,s[0])){r=s[1];continue}else return 0;else return 1}}function sa(q,r){__p&&__p();while(true){var s=r;if(s)if(a("bs_curry")._1(q,s[0]))return 1;else{r=s[1];continue}else return 0}}function ta(q,r,s){__p&&__p();while(true){var t=s,u=r;if(u)if(t)if(a("bs_curry")._2(q,u[0],t[0])){s=t[1];r=u[1];continue}else return 0;else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.for_all2"];else if(t)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.for_all2"];else return 1}}function ua(q,r,s){__p&&__p();while(true){var t=s,u=r;if(u)if(t)if(a("bs_curry")._2(q,u[0],t[0]))return 1;else{s=t[1];r=u[1];continue}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.exists2"];else if(t)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.exists2"];else return 0}}function va(q,r){__p&&__p();while(true){var s=r;if(s)if(a("bs_caml_obj").caml_compare(s[0],q)){r=s[1];continue}else return 1;else return 0}}function wa(q,r){__p&&__p();while(true){var s=r;if(s)if(s[0]===q)return 1;else{r=s[1];continue}else return 0}}function xa(q,r){__p&&__p();while(true){var s=r;if(s){var t=s[0];if(a("bs_caml_obj").caml_compare(t[0],q)){r=s[1];continue}else return t[1]}else throw a("bs_caml_builtin_exceptions").not_found}}function ya(q,r){__p&&__p();while(true){var s=r;if(s){var t=s[0];if(t[0]===q)return t[1];else{r=s[1];continue}}else throw a("bs_caml_builtin_exceptions").not_found}}function za(q,r){__p&&__p();while(true){var s=r;if(s)if(a("bs_caml_obj").caml_compare(s[0][0],q)){r=s[1];continue}else return 1;else return 0}}function Aa(q,r){__p&&__p();while(true){var s=r;if(s)if(s[0][0]===q)return 1;else{r=s[1];continue}else return 0}}function k(q,r){if(r){var s=r[1],t=r[0];if(a("bs_caml_obj").caml_compare(t[0],q))return[t,k(q,s)];else return s}else return 0}function l(q,r){if(r){var s=r[1],t=r[0];if(t[0]===q)return s;else return[t,l(q,s)]}else return 0}function Ba(q,r){__p&&__p();while(true){var s=r;if(s){var t=s[0];if(a("bs_curry")._1(q,t))return t;else{r=s[1];continue}}else throw a("bs_caml_builtin_exceptions").not_found}}function Ca(q){__p&&__p();return function(r){__p&&__p();var s=0,t=r;while(true){var u=t,v=s;if(u){var w=u[1],x=u[0];if(a("bs_curry")._1(q,x)){t=w;s=[x,v];continue}else{t=w;continue}}else return d(v,0)}}}function Da(q,r){__p&&__p();var s=0,t=0,u=r;while(true){var v=u,w=t,x=s;if(v){var y=v[1],z=v[0];if(a("bs_curry")._1(q,z)){u=y;s=[z,x];continue}else{u=y;t=[z,w];continue}}else return[d(x,0),d(w,0)]}}function Ea(q){if(q){var r=q[0],s=Ea(q[1]);return[[r[0],s[0]],[r[1],s[1]]]}else return[0,0]}function Fa(q,r){if(q)if(r)return[[q[0],r[0]],Fa(q[1],r[1])];else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.combine"];else if(r)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.combine"];else return 0}function m(q,r,s){if(r)if(s){var t=s[0],u=r[0];if(a("bs_curry")._2(q,u,t)<=0)return[u,m(q,r[1],s)];else return[t,m(q,r,s[1])]}else return r;else return s}function n(q,r){__p&&__p();while(true){var s=r,t=q;if(t)if(s){r=s[1];q=t-1|0;continue}else throw[a("bs_caml_builtin_exceptions").assert_failure,["list.ml",223,11]];else return s}}function o(q,r){__p&&__p();var p=function p(u,r){__p&&__p();var v=0;if(u!==2)if(u!==3)v=1;else if(r){var w=r[1];if(w){var x=w[1];if(x){var y=x[0],z=w[0],A=r[0];if(a("bs_curry")._2(q,A,z)<=0)if(a("bs_curry")._2(q,z,y)<=0)return[A,[z,[y,0]]];else if(a("bs_curry")._2(q,A,y)<=0)return[A,[y,[z,0]]];else return[y,[A,[z,0]]];else if(a("bs_curry")._2(q,A,y)<=0)return[z,[A,[y,0]]];else if(a("bs_curry")._2(q,z,y)<=0)return[z,[y,[A,0]]];else return[y,[z,[A,0]]]}else v=1}else v=1}else v=1;else if(r){var B=r[1];if(B){var C=B[0],D=r[0];if(a("bs_curry")._2(q,D,C)<=0)return[D,[C,0]];else return[C,[D,0]]}else v=1}else v=1;if(v===1){var E=u>>1,F=u-E|0,G=n(E,r),H=s(E,r),I=s(F,G),J=H,K=I,L=0;while(true){var M=L,N=K,O=J;if(O)if(N){var P=N[0],Q=O[0];if(a("bs_curry")._2(q,Q,P)>0){L=[Q,M];J=O[1];continue}else{L=[P,M];K=N[1];continue}}else return d(O,M);else return d(N,M)}}},s=function s(u,r){__p&&__p();var v=0;if(u!==2)if(u!==3)v=1;else if(r){var w=r[1];if(w){var x=w[1];if(x){var y=x[0],z=w[0],A=r[0];if(a("bs_curry")._2(q,A,z)>0)if(a("bs_curry")._2(q,z,y)>0)return[A,[z,[y,0]]];else if(a("bs_curry")._2(q,A,y)>0)return[A,[y,[z,0]]];else return[y,[A,[z,0]]];else if(a("bs_curry")._2(q,A,y)>0)return[z,[A,[y,0]]];else if(a("bs_curry")._2(q,z,y)>0)return[z,[y,[A,0]]];else return[y,[z,[A,0]]]}else v=1}else v=1}else v=1;else if(r){var B=r[1];if(B){var C=B[0],D=r[0];if(a("bs_curry")._2(q,D,C)>0)return[D,[C,0]];else return[C,[D,0]]}else v=1}else v=1;if(v===1){var E=u>>1,F=u-E|0,G=n(E,r),H=p(E,r),I=p(F,G),J=H,K=I,L=0;while(true){var M=L,N=K,O=J;if(O)if(N){var P=N[0],Q=O[0];if(a("bs_curry")._2(q,Q,P)<=0){L=[Q,M];J=O[1];continue}else{L=[P,M];K=N[1];continue}}else return d(O,M);else return d(N,M)}}},t=c(r);if(t<2)return r;else return p(t,r)}function Ga(q,r){__p&&__p();var p=function p(u,r){__p&&__p();var v=0;if(u!==2)if(u!==3)v=1;else if(r){var w=r[1];if(w){var x=w[1];if(x){var y=x[0],z=w[0],A=r[0],B=a("bs_curry")._2(q,A,z);if(B)if(B<0){var C=a("bs_curry")._2(q,z,y);if(C)if(C<0)return[A,[z,[y,0]]];else{var D=a("bs_curry")._2(q,A,y);if(D)if(D<0)return[A,[y,[z,0]]];else return[y,[A,[z,0]]];else return[A,[z,0]]}else return[A,[z,0]]}else{var E=a("bs_curry")._2(q,A,y);if(E)if(E<0)return[z,[A,[y,0]]];else{var F=a("bs_curry")._2(q,z,y);if(F)if(F<0)return[z,[y,[A,0]]];else return[y,[z,[A,0]]];else return[z,[A,0]]}else return[z,[A,0]]}else{var G=a("bs_curry")._2(q,z,y);if(G)if(G<0)return[z,[y,0]];else return[y,[z,0]];else return[z,0]}}else v=1}else v=1}else v=1;else if(r){var H=r[1];if(H){var I=H[0],J=r[0],K=a("bs_curry")._2(q,J,I);if(K)if(K<0)return[J,[I,0]];else return[I,[J,0]];else return[J,0]}else v=1}else v=1;if(v===1){var L=u>>1,M=u-L|0,N=n(L,r),O=s(L,r),P=s(M,N),Q=O,R=P,S=0;while(true){var T=S,U=R,V=Q;if(V)if(U){var W=U[1],X=U[0],Y=V[1],Z=V[0],$=a("bs_curry")._2(q,Z,X);if($)if($>0){S=[Z,T];Q=Y;continue}else{S=[X,T];R=W;continue}else{S=[Z,T];R=W;Q=Y;continue}}else return d(V,T);else return d(U,T)}}},s=function s(u,r){__p&&__p();var v=0;if(u!==2)if(u!==3)v=1;else if(r){var w=r[1];if(w){var x=w[1];if(x){var y=x[0],z=w[0],A=r[0],B=a("bs_curry")._2(q,A,z);if(B)if(B>0){var C=a("bs_curry")._2(q,z,y);if(C)if(C>0)return[A,[z,[y,0]]];else{var D=a("bs_curry")._2(q,A,y);if(D)if(D>0)return[A,[y,[z,0]]];else return[y,[A,[z,0]]];else return[A,[z,0]]}else return[A,[z,0]]}else{var E=a("bs_curry")._2(q,A,y);if(E)if(E>0)return[z,[A,[y,0]]];else{var F=a("bs_curry")._2(q,z,y);if(F)if(F>0)return[z,[y,[A,0]]];else return[y,[z,[A,0]]];else return[z,[A,0]]}else return[z,[A,0]]}else{var G=a("bs_curry")._2(q,z,y);if(G)if(G>0)return[z,[y,0]];else return[y,[z,0]];else return[z,0]}}else v=1}else v=1}else v=1;else if(r){var H=r[1];if(H){var I=H[0],J=r[0],K=a("bs_curry")._2(q,J,I);if(K)if(K>0)return[J,[I,0]];else return[I,[J,0]];else return[J,0]}else v=1}else v=1;if(v===1){var L=u>>1,M=u-L|0,N=n(L,r),O=p(L,r),P=p(M,N),Q=O,R=P,S=0;while(true){var T=S,U=R,V=Q;if(V)if(U){var W=U[1],X=U[0],Y=V[1],Z=V[0],$=a("bs_curry")._2(q,Z,X);if($)if($<0){S=[Z,T];Q=Y;continue}else{S=[X,T];R=W;continue}else{S=[Z,T];R=W;Q=Y;continue}}else return d(V,T);else return d(U,T)}}},t=c(r);if(t<2)return r;else return p(t,r)}var Ha=a("bs_pervasives").$at,Ia=e,Ja=Ca,p=o,Ka=o;b.length=c;b.hd=fa;b.tl=ga;b.nth=ha;b.rev=ia;b.append=Ha;b.rev_append=d;b.concat=Ia;b.flatten=e;b.iter=la;b.iteri=ma;b.map=f;b.mapi=ja;b.rev_map=ka;b.fold_left=na;b.fold_right=h;b.iter2=pa;b.map2=i;b.rev_map2=oa;b.fold_left2=qa;b.fold_right2=j;b.for_all=ra;b.exists=sa;b.for_all2=ta;b.exists2=ua;b.mem=va;b.memq=wa;b.find=Ba;b.filter=Ja;b.find_all=Ca;b.partition=Da;b.assoc=xa;b.assq=ya;b.mem_assoc=za;b.mem_assq=Aa;b.remove_assoc=k;b.remove_assq=l;b.split=Ea;b.combine=Fa;b.sort=p;b.stable_sort=o;b.fast_sort=Ka;b.sort_uniq=Ga;b.merge=m}),null);
__d("bs_bytes",["bs_char","bs_list","bs_curry","bs_caml_obj","bs_caml_int32","bs_pervasives","bs_caml_string","bs_caml_builtin_exceptions"],(function a(aa,b,ba,ca,da,c){"use strict";__p&&__p();function d(P,Q){var R=b("bs_caml_string").caml_create_string(P);b("bs_caml_string").caml_fill_string(R,0,P,Q);return R}function e(P,Q){var R=b("bs_caml_string").caml_create_string(P);for(var S=0,T=P-1|0;S<=T;++S)R[S]=b("bs_curry")._1(Q,S);return R}var f=[];function g(P){var Q=P.length,R=b("bs_caml_string").caml_create_string(Q);b("bs_caml_string").caml_blit_bytes(P,0,R,0,Q);return R}function h(P){return b("bs_caml_string").bytes_to_string(g(P))}function i(P){return g(b("bs_caml_string").bytes_of_string(P))}function j(P,Q,R){if(Q<0||R<0||Q>(P.length-R|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.sub / Bytes.sub"];else{var S=b("bs_caml_string").caml_create_string(R);b("bs_caml_string").caml_blit_bytes(P,Q,S,0,R);return S}}function k(P,Q,R){return b("bs_caml_string").bytes_to_string(j(P,Q,R))}function l(P,Q,R){var S=(P.length+Q|0)+R|0,T=b("bs_caml_string").caml_create_string(S),U=Q<0?[-Q|0,0]:[0,Q],V=U[1],W=U[0],X=b("bs_pervasives").min(P.length-W|0,S-V|0);if(X>0)b("bs_caml_string").caml_blit_bytes(P,W,T,V,X);return T}function m(P,Q,R,S){if(Q<0||R<0||Q>(P.length-R|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.fill / Bytes.fill"];else return b("bs_caml_string").caml_fill_string(P,Q,R,S)}function n(P,Q,R,S,T){if(T<0||Q<0||Q>(P.length-T|0)||S<0||S>(R.length-T|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bytes.blit"];else return b("bs_caml_string").caml_blit_bytes(P,Q,R,S,T)}function o(P,Q,R,S,T){if(T<0||Q<0||Q>(P.length-T|0)||S<0||S>(R.length-T|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.blit / Bytes.blit_string"];else return b("bs_caml_string").caml_blit_string(P,Q,R,S,T)}function p(P,Q){for(var R=0,S=Q.length-1|0;R<=S;++R)b("bs_curry")._1(P,Q[R]);return 0}function q(P,Q){for(var R=0,S=Q.length-1|0;R<=S;++R)b("bs_curry")._2(P,R,Q[R]);return 0}function r(P,Q){__p&&__p();if(Q){var R=Q[0],S=[0],T=[0];b("bs_list").iter(function(W){S[0]=S[0]+1|0;T[0]=T[0]+W.length|0;return 0},Q);var U=b("bs_caml_string").caml_create_string(T[0]+b("bs_caml_int32").imul(P.length,S[0]-1|0)|0);b("bs_caml_string").caml_blit_bytes(R,0,U,0,R.length);var V=[R.length];b("bs_list").iter(function(W){b("bs_caml_string").caml_blit_bytes(P,0,U,V[0],P.length);V[0]=V[0]+P.length|0;b("bs_caml_string").caml_blit_bytes(W,0,U,V[0],W.length);V[0]=V[0]+W.length|0;return 0},Q[1]);return U}else return f}function s(P,Q){return P.concat(Q)}function t(P){var Q=P-9|0;if(Q>4||Q<0)if(Q!==23)return 0;else return 1;else if(Q!==2)return 1;else return 0}function u(P){var Q=P.length,R=0;while(R<Q&&t(P[R]))R=R+1|0;var S=Q-1|0;while(S>=R&&t(P[S]))S=S-1|0;if(S>=R)return j(P,R,(S-R|0)+1|0);else return f}function v(P){__p&&__p();var Q=0;for(var R=0,S=P.length-1|0;R<=S;++R){var T=P[R],U;if(T>=32){var V=T-34|0;U=V>58||V<0?V>=93?4:1:V>57||V<1?2:1}else U=T>=11?T!==13?4:2:T>=8?2:4;Q=Q+U|0}if(Q===P.length)return g(P);else{var W=b("bs_caml_string").caml_create_string(Q);Q=0;for(var X=0,Y=P.length-1|0;X<=Y;++X){var Z=P[X],$=0;if(Z>=35)if(Z!==92)if(Z>=127)$=1;else W[Q]=Z;else $=2;else if(Z>=32)if(Z>=34)$=2;else W[Q]=Z;else if(Z>=14)$=1;else switch(Z){case 8:W[Q]=92;Q=Q+1|0;W[Q]=98;break;case 9:W[Q]=92;Q=Q+1|0;W[Q]=116;break;case 10:W[Q]=92;Q=Q+1|0;W[Q]=110;break;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:$=1;break;case 13:W[Q]=92;Q=Q+1|0;W[Q]=114;break}switch($){case 1:W[Q]=92;Q=Q+1|0;W[Q]=48+(Z/100|0)|0;Q=Q+1|0;W[Q]=48+(Z/10|0)%10|0;Q=Q+1|0;W[Q]=48+Z%10|0;break;case 2:W[Q]=92;Q=Q+1|0;W[Q]=Z;break}Q=Q+1|0}return W}}function w(P,Q){var R=Q.length;if(R){var S=b("bs_caml_string").caml_create_string(R);for(var T=0,U=R-1|0;T<=U;++T)S[T]=b("bs_curry")._1(P,Q[T]);return S}else return Q}function x(P,Q){var R=Q.length;if(R){var S=b("bs_caml_string").caml_create_string(R);for(var T=0,U=R-1|0;T<=U;++T)S[T]=b("bs_curry")._2(P,T,Q[T]);return S}else return Q}function y(P){return w(b("bs_char").uppercase,P)}function z(P){return w(b("bs_char").lowercase,P)}function A(P,Q){if(Q.length){var R=g(Q);R[0]=b("bs_curry")._1(P,Q[0]);return R}else return Q}function B(P){return A(b("bs_char").uppercase,P)}function C(P){return A(b("bs_char").lowercase,P)}function D(P,Q,R,S){__p&&__p();while(true){var T=R;if(T>=Q)throw b("bs_caml_builtin_exceptions").not_found;else if(P[T]===S)return T;else{R=T+1|0;continue}}}function E(P,Q){return D(P,P.length,0,Q)}function F(P,Q,R){var S=P.length;if(Q<0||Q>S)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.index_from / Bytes.index_from"];else return D(P,S,Q,R)}function G(P,Q,R){__p&&__p();while(true){var S=Q;if(S<0)throw b("bs_caml_builtin_exceptions").not_found;else if(P[S]===R)return S;else{Q=S-1|0;continue}}}function H(P,Q){return G(P,P.length-1|0,Q)}function I(P,Q,R){if(Q<-1||Q>=P.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rindex_from / Bytes.rindex_from"];else return G(P,Q,R)}function J(P,Q,R){var S=P.length;if(Q<0||Q>S)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.contains_from / Bytes.contains_from"];else try{D(P,S,Q,R);return 1}catch(T){if(T===b("bs_caml_builtin_exceptions").not_found)return 0;else throw T}}function K(P,Q){return J(P,0,Q)}function L(P,Q,R){if(Q<0||Q>=P.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rcontains_from / Bytes.rcontains_from"];else try{G(P,Q,R);return 1}catch(S){if(S===b("bs_caml_builtin_exceptions").not_found)return 0;else throw S}}var M=b("bs_caml_obj").caml_compare,N=b("bs_caml_string").bytes_to_string,O=b("bs_caml_string").bytes_of_string;c.make=d;c.init=e;c.empty=f;c.copy=g;c.of_string=i;c.to_string=h;c.sub=j;c.sub_string=k;c.extend=l;c.fill=m;c.blit=n;c.blit_string=o;c.concat=r;c.cat=s;c.iter=p;c.iteri=q;c.map=w;c.mapi=x;c.trim=u;c.escaped=v;c.index=E;c.rindex=H;c.index_from=F;c.rindex_from=I;c.contains=K;c.contains_from=J;c.rcontains_from=L;c.uppercase=y;c.lowercase=z;c.capitalize=B;c.uncapitalize=C;c.compare=M;c.unsafe_to_string=N;c.unsafe_of_string=O}),null);
__d("bs_string",["bs_list","bs_bytes","bs_caml_int32","bs_caml_string"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(H,I){return c("bs_caml_string").bytes_to_string(c("bs_bytes").make(H,I))}function i(H,I){return c("bs_caml_string").bytes_to_string(c("bs_bytes").init(H,I))}function j(H){return c("bs_caml_string").bytes_to_string(c("bs_bytes").copy(c("bs_caml_string").bytes_of_string(H)))}function k(H,I,J){return c("bs_caml_string").bytes_to_string(c("bs_bytes").sub(c("bs_caml_string").bytes_of_string(H),I,J))}function l(H,I){__p&&__p();if(I){var J=I[0],K=[0],L=[0];c("bs_list").iter(function(O){K[0]=K[0]+1|0;L[0]=L[0]+O.length|0;return 0},I);var M=c("bs_caml_string").caml_create_string(L[0]+c("bs_caml_int32").imul(H.length,K[0]-1|0)|0);c("bs_caml_string").caml_blit_string(J,0,M,0,J.length);var N=[J.length];c("bs_list").iter(function(O){c("bs_caml_string").caml_blit_string(H,0,M,N[0],H.length);N[0]=N[0]+H.length|0;c("bs_caml_string").caml_blit_string(O,0,M,N[0],O.length);N[0]=N[0]+O.length|0;return 0},I[1]);return c("bs_caml_string").bytes_to_string(M)}else return""}function m(H,I){return c("bs_bytes").iter(H,c("bs_caml_string").bytes_of_string(I))}function n(H,I){return c("bs_bytes").iteri(H,c("bs_caml_string").bytes_of_string(I))}function o(H,I){return c("bs_caml_string").bytes_to_string(c("bs_bytes").map(H,c("bs_caml_string").bytes_of_string(I)))}function p(H,I){return c("bs_caml_string").bytes_to_string(c("bs_bytes").mapi(H,c("bs_caml_string").bytes_of_string(I)))}function q(H){var I=H-9|0;if(I>4||I<0)if(I!==23)return 0;else return 1;else if(I!==2)return 1;else return 0}function r(H){if(H===""||!(q(H.charCodeAt(0))||q(H.charCodeAt(H.length-1|0))))return H;else return c("bs_caml_string").bytes_to_string(c("bs_bytes").trim(c("bs_caml_string").bytes_of_string(H)))}function s(H){__p&&__p();var I=function I(J){__p&&__p();while(true){var K=J;if(K>=H.length)return 0;else{var L=H.charCodeAt(K);if(L>=32){var M=L-34|0;if(M>58||M<0)if(M>=93)return 1;else{J=K+1|0;continue}else if(M>57||M<1)return 1;else{J=K+1|0;continue}}else return 1}}};if(I(0))return c("bs_caml_string").bytes_to_string(c("bs_bytes").escaped(c("bs_caml_string").bytes_of_string(H)));else return H}function t(H,I){return c("bs_bytes").index(c("bs_caml_string").bytes_of_string(H),I)}function u(H,I){return c("bs_bytes").rindex(c("bs_caml_string").bytes_of_string(H),I)}function v(H,I,J){return c("bs_bytes").index_from(c("bs_caml_string").bytes_of_string(H),I,J)}function w(H,I,J){return c("bs_bytes").rindex_from(c("bs_caml_string").bytes_of_string(H),I,J)}function x(H,I){return c("bs_bytes").contains(c("bs_caml_string").bytes_of_string(H),I)}function y(H,I,J){return c("bs_bytes").contains_from(c("bs_caml_string").bytes_of_string(H),I,J)}function z(H,I,J){return c("bs_bytes").rcontains_from(c("bs_caml_string").bytes_of_string(H),I,J)}function A(H){return c("bs_caml_string").bytes_to_string(c("bs_bytes").uppercase(c("bs_caml_string").bytes_of_string(H)))}function B(H){return c("bs_caml_string").bytes_to_string(c("bs_bytes").lowercase(c("bs_caml_string").bytes_of_string(H)))}function C(H){return c("bs_caml_string").bytes_to_string(c("bs_bytes").capitalize(c("bs_caml_string").bytes_of_string(H)))}function D(H){return c("bs_caml_string").bytes_to_string(c("bs_bytes").uncapitalize(c("bs_caml_string").bytes_of_string(H)))}var E=c("bs_caml_string").caml_string_compare,F=c("bs_bytes").fill,G=c("bs_bytes").blit_string;g.make=h;g.init=i;g.copy=j;g.sub=k;g.fill=F;g.blit=G;g.concat=l;g.iter=m;g.iteri=n;g.map=o;g.mapi=p;g.trim=r;g.escaped=s;g.index=t;g.rindex=u;g.index_from=v;g.rindex_from=w;g.contains=x;g.contains_from=y;g.rcontains_from=z;g.uppercase=A;g.lowercase=B;g.capitalize=C;g.uncapitalize=D;g.compare=E}),null);
__d("utilsRe",["bs_array","bs_curry","bs_js_boolean","bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(q){if(q==null)return 0;else return+q}function i(q,r){if(q)return q[0];else return r}function j(q){return+((q==null?0:[q])!==0)}function k(q){if(q)return q[0];else return 0}function l(q){if(q==null)return 0;else return[+q]}function m(q){if(q)return c("bs_js_boolean").to_js_boolean(q[0]);else return undefined}function n(q){if(q)return c("bs_js_boolean").to_js_boolean(q[0]);else return false}function o(q,r){__p&&__p();var s=q,t=r,u=0;while(true){var v=u,w=t;if(w){var x=w[1],y=c("bs_curry")._1(s,w[0]);if(y){u=[y[0],v];t=x;continue}else{t=x;continue}}else return v}}function p(q){return c("bs_array").map(function(r){if(r)return r[0];else throw[c("bs_caml_builtin_exceptions").invalid_argument,"arrayCompact: sorry, something went wrong."]},q.filter(function(r){if(r)return 1;else return 0}))}g.isTruthy=h;g.$pipe$unknown=i;g.isDefined=j;g.isSomeTrue=k;g.nullUndefinedBooleanToOptionBool=l;g.optionBoolToNullUndefinedBoolean=m;g.optionBoolToBoolean=n;g.listFilterMap=o;g.arrayCompact=p}),null);
__d("messengerStoryAttachmentTransformerRe",["fbt","URI","bs_array","bs_string","utilsRe","bs_caml_array","bs_js_boolean","bs_caml_format","CurrentUser","bs_js_primitive","FundsAvailability","bs_js_null_undefined","P2PTransferStatus","MNCommerceBubbleType","PaymentModulesClient","MercuryAttachmentType","bs_caml_builtin_exceptions","P2PPaymentRequestStatus","ServicesCalendarSyncType","MNCommerceCallToActionType","LeadGenInfoFieldTypes"],(function aa(ba,a,ca,da,ea,b,c){"use strict";__p&&__p();function d(C){return a("bs_array").map(function(D){var E=D.user_confirmation,F=E==null?[null,null,null,null,false]:[E.cancel_button_label,E.continue_button_label,E.confirmation_message,E.confirmation_title,true],G=D.payment_metadata;return{action_link:D.action_link,action_type:a("bs_js_null_undefined").from_opt(a("bs_js_primitive").undefined_to_opt(a("MNCommerceCallToActionType")[D.action_open_type])),action_objects:D.action_objects,title:D.title,confirmation_cancel_label:F[0],confirmation_continue_label:F[1],confirmation_message:F[2],confirmation_title:F[3],id:D.id,is_disabled:D.is_disabled,is_mutable_by_server:D.is_mutable_by_server,payment_metadata:G==null?{payment_module_config:null,total_price:null}:{payment_module_config:G.payment_module_config,total_price:G.total_price},render_style:D.render_style,webview_metadata:{fallback_url:D.webview_metadata.fallback_url,messenger_extensions:D.webview_metadata.messenger_extensions,webview_height_ratio:D.webview_metadata.webview_height_ratio,webview_share_button:D.webview_metadata.webview_share_button},should_show_user_confirmation:F[4],page_id:D.page_id}},C)}function e(C){return a("bs_array").map(function(D){var E=D.url,F=E==null?null:new(a("URI"))(E).getUnqualifiedURI().toString();return{title:D.title,uri:F}},C)}function fa(C){if(!(C==null)&&C!=="")return"#"+a("bs_string").sub(C,2,C.length-2|0);else return null}function ga(C){if(C==null)return null;else return{url:C.uri,src:C.uri,width:C.width,height:C.height}}function f(C,D){var E=D.cover_photo,F;if(E==null)F=[null,null,null];else{var G=E.photo.image,H=G==null?[null,null]:[G.uri,{height:G.height,width:G.width}];F=[E.photo.id,H[0],H[1]]}var I=D.location,J=I==null?[null,null]:[I.latitude,I.longitude],K=D.overall_star_rating;return{address:D.address.single_line_full_address,category:D.top_category_name,coverPhotoID:F[0],coverPhotoURL:F[1],coverPhotoDimensions:F[2],latitude:J[0],longitude:J[1],name:D.name,rating:K==null?null:K.value,pageID:D.id,priceRange:D.price_range_description,viewerID:C}}function g(C){var D=C.group_commerce_item_seller,E=C.primary_photo,F;if(E==null)F=null;else{var G=E.image;F=G==null?null:G.uri}return{caption:C.group_commerce_item_description.text,desc:C.group_commerce_item_description.text,owner_id:D==null?null:D.id,price:C.formatted_price.text,text:C.group_commerce_item_description.text,title:C.group_commerce_item_title,thumb_url:F,url:C.url}}function h(C){return{app_name:C.application_name,artists:C.artist_names,audio_url:C.audio_url,duration_ms:C.duration_ms,title:C.music_title}}function i(C){var D=C.payment;return{id:C.id,desc:C.desc,display_total_cost:C.total_cost,merchant_name:C.merchant_name,target_url:C.target_url,thumb_url:C.thumb_url,raw_amount:C.raw_amount,payment_id:D==null?null:D.id,total_cost:{amount:a("bs_caml_format").caml_float_of_string(C.price_amount),currency:C.price_currency},name:C.name}}function j(C){return{fundraiserID:C.fundraiserID,canDonate:C.canDonate,hasViewerDonated:C.hasViewerDonated,fundraiserDetailedProgressText:C.fundraiserDetailedProgressText,fundraiserSubtitleText:C.fundraiserSubtitleText,focusedCoverPhoto:C.focusedCoverPhoto}}function k(C){return{id:C.id,name:C.name,desc:C.desc,thumb_url:C.thumb_url,item_url:C.item_url,title:C.name,text:C.desc,source:C.source,image_aspect_ratio:C.image_aspect_ratio,metalines:{metaline_1:C.first_metaline,metaline_2:C.second_metaline,metaline_3:C.third_metaline},default_action:C.default_action,call_to_actions:d(C.call_to_actions)}}function l(C){var D=C.guestStatus,E=C.event_place,F=C.social_context;return{eventID:C.eventID,guestStatus:D==null?"unknown":a("bs_string").lowercase(D),canViewerJoin:C.canViewerJoin,timeString:C.timeString,locationString:E==null?null:E.name,socialOrTimeContextString:F==null?null:F.text,connectedButtonText:c._("Joined"),unconnectedButtonText:c._("Going"),watchStatus:a("bs_string").lowercase(C.watchStatus),showInterestedAction:a("bs_js_boolean").to_js_boolean(+(C.connection_style==="INTERESTED")),canViewerWatch:C.canViewerWatch}}function m(C){__p&&__p();var D=function D($){var F=$.page_call_to_action;if(F==null)return undefined;else return F.id},E=function E($){var F=$.page_call_to_action;if(F==null)return false;else{var G=F.component_flow_service_config;if(G==null)return false;else return true}},F=C.page,G=F==null?[undefined,undefined,undefined,false]:[F.id,a("bs_js_null_undefined").from_opt(a("bs_js_primitive").undefined_to_opt(a("ServicesCalendarSyncType")[F.calendar_sync_type])),D(F),E(F)],H=C.native_component_flow_request,I;if(H==null)I=null;else{var J=H.page,K=H.page,L=H.page,M;if(L==null)M=undefined;else{var N=L.profile_picture;M=N==null?undefined:N.uri}var O=H.suggested_time_range,P=H.product_item,Q=H.product_item,R=H.product_item,S=H.product_item,T;if(S==null)T=undefined;else{var U=S.profile_picture;T=U==null?undefined:U.uri}var V=H.user,W=H.user,X=H.job_application,ha=H.user,Y;if(ha==null)Y=undefined;else{var ia=ha.profile_picture;Y=ia==null?undefined:ia.uri}I={additionalInfo:H.additional_info,availability:H.availability,hasSavedToCalendar:H.has_saved_to_calendar,requestFlowType:H.request_flow_type,generalInfo:H.service_general_info,id:H.id,pageID:J==null?undefined:J.id,pageName:K==null?undefined:K.name,pageProfilePic:M,preferredTimeRange:O==null?null:{end:O.end,start:O.start},price:P==null?null:P.experimental_freeform_price,duration:Q==null?null:Q.duration_in_seconds,requestAdminApprovalType:H.request_admin_approval_type,requestedTime:H.requested_time,serviceName:R==null?null:R.name,serviceProfilePic:T,specialRequest:H.special_request,status:H.booking_status_value,statusLabel:H.status,userID:V==null?undefined:V.id,username:W==null?undefined:W.short_name,jobApplicationID:X==null?undefined:X.id,userProfilePic:Y}}var ja=C.message_bubble_type,Z;switch(ja){case"CANCELLED":Z=["Cancelled",c._("Cancelled")];break;case"DECLINED":Z=["Declined",c._("Declined")];break;case"REQUESTED":Z=["Requested",c._("Requested")];break;case"SCHEDULEED":Z=["Scheduled",c._("Scheduled")];break;default:throw[a("bs_caml_builtin_exceptions").invalid_argument,"Erroneous target status"]}return{id:C.id,pageID:G[0],calendarSyncType:G[1],ctaID:G[2],hasServiceConfig:G[3],userID:C.user.id,status:Z[0],statusLabel:Z[1],viewerID:a("CurrentUser").getAccountID(),requestMetadata:I}}function n(C){return{live_location_id:C.live_location_id,is_expired:a("bs_js_boolean").to_js_boolean(C.is_expired),expiration_time:C.expiration_time,sender:C.sender,coordinate:C.coordinate,location_title:C.location_title,sender_destination:C.sender_destination,stop_reason:C.stop_reason}}function o(C){var D=C.first_metaline;return{desc:C.description,id:C.id,image_aspect_ratio:C.image_aspect_ratio,item_url:C.target_url,metalines:D==null?{}:{metaline_1:D},name:C.name,source:C.source_name,text:C.description,thumb_url:C.image_url,title:C.name,default_action:C.default_action,call_to_actions:d(C.call_to_actions),media_blob_attachments:C.media_blob_attachments}}function p(C){var D=a("bs_array").map(o,C.business_items.nodes),E=d(C.call_to_actions);return{message:C.message,call_to_actions:E,items:D}}function q(C){return{message:C.message,call_to_actions:d(C.call_to_actions),items:a("bs_array").map(o,C.promotion_items.nodes)}}function r(C){var D=C.structured_address.streets,E=C.partner_logo;return{account_holder_name:C.account_holder_name,adjustments:a("bs_array").map(function(F){return{adjustment_type:F.adjustment_type,display_adjustment_amount:F.adjustment_amount}},C.adjustments),cancellation_url:C.cancellation_url,items:a("bs_array").map(o,C.items.nodes),merchant_name:C.merchant_name,messenger_commerce_bubble_type:a("bs_js_null_undefined").from_opt(a("bs_js_primitive").undefined_to_opt(a("MNCommerceBubbleType")[C.messenger_commerce_bubble_type])),order_id:C.order_id,order_time:C.order_time,order_url:C.order_url,payment_method:C.payment_method,receipt_id:C.receipt_id,recipient_name:C.recipient_name,shipping_cost:C.shipping_cost,shipping_method:C.shipping_method,status:C.status,structured_address:{city:C.structured_address.city,state:C.structured_address.state,country:C.structured_address.country,postal_code:C.structured_address.postal_code,street_1:a("bs_caml_array").caml_array_get(D,0),street_2:a("bs_caml_array").caml_array_get(D,1)},subtotal:C.subtotal,total_cost:C.total_cost,total_tax:C.total_tax,partner_logo:E==null?undefined:E.uri}}function s(C,D){return{payment_modules_client:a("bs_js_null_undefined").from_opt(a("bs_js_primitive").undefined_to_opt(a("PaymentModulesClient")[D.payment_modules_client])),is_viewer_seller:D.is_viewer_seller,payment_snippet:D.payment_snippet,item_list:a("bs_array").map(function(E){return{item_id:E.item_id,name:E.name,subtitle:E.subtitle,description:E.description,unit_price:E.unit_price,image_urls:a("bs_array").map(function(F){return F.uri},E.images),quantity:E.quantity}},D.item_list),components:D.components,payment_call_to_actions:D.payment_call_to_actions,click_action:D.click_action,actor_id:C,invoicer_id:D.invoicer_id}}var t=function t(C){__p&&__p();var D=a("LeadGenInfoFieldTypes"),E={},F=[];for(var G=C.field_data_list,H=Array.isArray(G),I=0,G=H?G:G[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var J;if(H){if(I>=G.length)break;J=G[I++]}else{I=G.next();if(I.done)break;J=I.value}var K=J,L=K.field_type,M=K.label,N=K.values;if(L===D.CUSTOM||L===D.ZIP)F.push({label:M,values:N});else E[L]={label:M,values:N}}E.questions=F;return E};function u(C,D){var E=D.invite_recipient,F=E==null?null:E.id,G=D.invite_sender,H=G==null?null:G.id;return{quick_invite_id:D.id,recipient_id:F,sender_id:H,is_viewer_recipient:a("bs_js_boolean").to_js_boolean(+(C===F))}}function v(C){var D=function D(G){if(G==null)return null;else return G.uri},E=C.listing_category,F=E==null?[null,null]:[E.offer_image,E.request_image];return{listingType:C.listing_type,mapURI:D(C.map_image),offerURI:D(F[0]),requestURI:D(F[1])}}function w(C){return{sender:C.sender,receiver:C.receiver,transfer_id:C.transfer_id,bubbleView:C.bubble_view}}function x(C){__p&&__p();var D=C.receiver_profile,E;if(D==null)E=null;else{var F=D.profile_picture;E={id:D.id,name:D.short_name,full_name:D.name,picture:F==null?null:F.uri,profile_url:D.url}}var G=C.sender,H;if(G==null)H={};else{var I=G.profile_picture;H={id:G.id,name:G.name,full_name:G.full_name,picture:I==null?null:I.uri,profile_uri:G.url}}var J=C.transfer_context,K;if(J==null)K=[null,null,null];else{var L=J.transfer_theme;K=[J.memoText,a("bs_array").map(function(O){var D=O.image;if(D==null)return null;else return D.uri},J.memo_images),L==null?null:L.id]}var M=C.platform_item,N=M==null?null:{name:M.name,description:M.description,image:a("bs_array").map(function(O){var D=O.image;if(D==null)return null;else return D.uri},M.photos),refURL:M.url};return{sender:H,amountWithSymbol:C.transaction_amount.formatted_amount,status:a("bs_js_null_undefined").from_opt(a("bs_js_primitive").undefined_to_opt(a("P2PTransferStatus")[C.transfer_status])),receiver:E,transfer_id:C.transfer_id,completedTime:C.completedTime,updatedTime:C.updatedTime,creationTime:C.creationTime,amount:C.transaction_amount.amount,memoText:K[0],memoPhotoURLs:K[1],themeID:K[2],discountAmount:C.amount_fb_discount.formatted,fundsAvailability:a("bs_js_null_undefined").from_opt(a("bs_js_primitive").undefined_to_opt(a("FundsAvailability")[C.funds_availability])),groupThreadFBID:C.group_thread_fbid,platform_item:N,statusDescription:{markup:C.status_description},bubbleView:C.bubble_view}}function y(C){__p&&__p();var D=C.requester,E;if(D==null)E=undefined;else{var F=D.profile_picture;E={id:D.id,name:D.short_name,full_name:D.name,picture:F==null?null:F.uri,profile_url:D.url}}var G=C.requestee,H;if(G==null)H=undefined;else{var I=G.profile_picture;H={id:G.id,name:G.short_name,full_name:G.name,picture:I==null?null:I.uri,profile_url:G.url}}var J=a("bs_js_null_undefined").from_opt(a("bs_js_primitive").undefined_to_opt(a("P2PPaymentRequestStatus")[C.request_status])),K=C.transfer,L=K==null?[null,""]:[x(K),K.id],M=C.request_theme;return{amount:C.transaction_amount.amount,amountWithSymbol:C.amount.formatted,requestee:H,requester:E,currentStatus:J,currency:C.amount.currency,creationTime:C.creation_time,groupThreadFBID:C.group_thread_fbid,id:C.id,memoText:C.memo_text,themeID:M==null?null:M.id,transfer:L[0],transferID:L[1],updatedTime:C.updated_time,statusDescription:{markup:C.status_description}}}function z(C){var D=y({amount:C.amount,transaction_amount:C.transaction_amount,requester:C.requester,requestee:C.requestee,request_status:C.request_status,request_theme:C.request_theme,id:C.id,memo_text:C.memo_text,transfer:C.transfer,creation_time:C.creation_time,group_thread_fbid:C.group_thread_fbid,updated_time:C.updated_time,status_description:C.status_description}),E={individualRequests:a("bs_array").map(y,C.individual_requests)};return Object.assign(D,E)}function A(C,D){__p&&__p();var E=D.media,F=E==null?null:E.animated_image,G=E==null?null:E.image,H={};a("bs_array").iter(function(V){var I=V.value;H[V.key]=I==null?null:I.text;return 0},D.properties);var I=D.target,J;if(I==null)J=null;else switch(I.tag|0){case 0:J=v(I[0]);break;case 1:J=w(I[0]);break;case 2:J=x(I[0]);break;case 3:J=z(I[0]);break;case 4:J=s(C,I[0]);break;case 7:J=q(I[0]);break;case 8:J=p(I[0]);break;case 10:J=t(I[0]);break;case 11:J=n(I[0]);break;case 12:J=u(C,I[0]);break;case 13:J=m(I[0]);break;case 14:var K=I[0],L=K.genie_sender,M=L==null?[null,null]:[L.messaging_actor.id,L.messaging_actor.name],N=M[0],O=K.story_attachment,P=O==null?null:B(C,{legacy_attachment_id:N,story_attachment:{action_links:O.action_links,messaging_attribution:O.messaging_attribution,messenger_call_to_actions:O.messenger_call_to_actions,deduplication_key:O.deduplication_key,description:O.description,media:O.media,properties:O.properties,source:O.source,style_list:O.style_list,title_with_entities:O.title_with_entities,url:O.url,subattachments:[],target:null}});J={genie_id:N,genie_name:M[1],attachment:P};break;case 15:J=l(I[0]);break;case 16:J=h(I[0]);break;case 18:J=k(I[0]);break;case 19:J=i(I[0]);break;case 20:J=j(I[0]);break;case 21:J=r(I[0]);break;case 23:J=g(I[0]);break;case 24:J=f(C,I[0]);break;default:J=I[0]}var Q=D.target,R=!(Q==null)&&Q.tag===7?0:null,S=D.description,T=D.source,U=D.title_with_entities;return{description:S==null?null:S.text,media:{animated_image:F==null?null:F.uri,animated_image_size:F==null?{height:null,width:null}:{height:F.height,width:F.width},image:G==null?null:G.uri,image_size:G==null?{height:null,width:null}:{height:G.height,width:G.width},duration:E==null?null:E.playable_duration,playable:E==null?null:E.is_playable,source:E==null?null:E.playable_url},source:T==null?null:T.text,style_list:D.style_list,title:U==null?null:U.text,action_links:e(D.action_links),messaging_attribution:D.messaging_attribution,messenger_ctas:a("bs_array").map(function(V){return{id:V.id,page_id:a("utilsRe").$pipe$unknown(a("bs_js_primitive").null_undefined_to_opt(V.page_id),""),action_title:V.title,action_url:V.action_link,action_open_type:a("bs_js_null_undefined").from_opt(a("bs_js_primitive").undefined_to_opt(a("MNCommerceCallToActionType")[V.action_open_type])),is_high_confidence:a("utilsRe").$pipe$unknown(a("bs_js_primitive").null_undefined_to_opt(V.is_high_confidence),false),is_mutable_by_server:V.is_mutable_by_server,native_url:V.native_url,is_disabled:V.is_disabled,webview_metadata:{fallback_url:V.webview_metadata.fallback_url,messenger_extensions:V.webview_metadata.messenger_extensions,webview_height_ratio:V.webview_metadata.webview_height_ratio,webview_share_button:V.webview_metadata.webview_share_button}}},D.messenger_call_to_actions),properties:H,uri:D.url,deduplication_key:D.deduplication_key,target:J,label:R}}function B(C,D){var E=D.story_attachment,F;if(E==null)F=null;else{var G={share_id:D.legacy_attachment_id,subattachments:a("bs_array").map(function(I){return A(C,I)},E.subattachments)},H={description:E.description,media:E.media,source:E.source,style_list:E.style_list,title_with_entities:E.title_with_entities,properties:E.properties,url:E.url,deduplication_key:E.deduplication_key,action_links:E.action_links,messaging_attribution:E.messaging_attribution,messenger_call_to_actions:E.messenger_call_to_actions,target:E.target};F=Object.assign(G,A(C,H))}return{app_attribution:null,attach_type:a("MercuryAttachmentType").SHARE,name:null,url:null,rel:null,preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:null,metadata:null,share:F,thumbnail_url:null}}b._getCallToActions=d;b._getActionLinks=e;b._getColor=fa;b._getLogo=ga;b._getPageTarget=f;b._getGroupCommerceProductItemTarget=g;b._getExternalSongTarget=h;b._getAgentSuggestionItemTarget=i;b._getFundraiserTarget=j;b._getRetailItemTarget=k;b._getEventTarget=l;b._getPagesPlatformBookingMessageTarget=m;b._getMessageLiveLocationTarget=n;b._getBusinessRetailItem=o;b._getMessengerBusinessMessageTarget=p;b._getMessengerRetailPromotionTarget=q;b._getMessengerRetailReceiptTarget=r;b._getPagesPlatformAttachmentTarget=s;b._getPagesPlatformLeadGenInfoTarget=t;b._getQuickInviteTarget=u;b._getCrisisListingTarget=v;b._getMoneyTransferTarget=w;b._getP2PTransferTarget=x;b._getP2PTransferRequestTarget=y;b._getP2PTransferRequestWithIndividualRequests=z;b.transformStoryAttachment=A;b.getExtensibleAttachmentPayload=B}),null);
__d("messengerAttachmentTransformerRe",["fbt","bs_array","bs_js_boolean","bs_pervasives","MercuryAttachmentType","MercuryAttachmentContentType","messengerStoryAttachmentTransformerRe"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(q){__p&&__p();if(q.is_malicious)return{app_attribution:null,icon_type:c("MercuryAttachmentContentType").UNKNOWN,metadata:null,name:null,preview_height:null,preview_url:null,preview_width:null,rel:null,share:null,thumbnail_url:null,url:null,attach_type:c("MercuryAttachmentType").ERROR,error_msg:h._("This attachment has been marked as malicious."),message_file_fbid:null,url_shimhash:null,url_skipshim:null};else{var r=q.attribution_app,s;if(r==null)s=null;else{var t=r.square_logo;s={id:r.id,icon_url:t==null?null:t.uri,metadata:q.attribution_metadata,name:r.name}}var u=q.url;return{app_attribution:s,icon_type:q.content_type,metadata:null,name:q.filename,preview_height:null,preview_url:null,preview_width:null,rel:"ignore",share:null,thumbnail_url:null,url:u==null?null:u,attach_type:c("MercuryAttachmentType").FILE,error_msg:undefined,message_file_fbid:q.message_file_fbid,url_shimhash:q.url_shimhash,url_skipshim:q.url_skipshim}}}function j(q,r,s){var t=q.chat_image,u=t==null?[null,null,null]:[t.uri,t.width,t.height],v=u[0],w=q.chat_image,x=w==null?null:{width:w.width,height:w.height},y=q.large_image,z=y==null?[null,null]:[y.uri,{width:y.width,height:y.height}],A=q.inbox_image,B=A==null?[null,null]:[A.uri,{width:A.width,height:A.height}],C=q.attribution_app,D;if(C==null)D=null;else{var E=C.square_logo;D={id:C.id,icon_url:E==null?null:E.uri,metadata:q.attribution_metadata,name:C.name}}return{app_attribution:D,attach_type:c("MercuryAttachmentType").VIDEO,name:q.filename,url:q.playable_url,rel:"async",preview_url:v,preview_width:u[1],preview_height:u[2],large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:c("MercuryAttachmentContentType").VIDEO,metadata:{fbid:q.legacy_attachment_id,render_as_sticker:c("bs_js_boolean").to_js_boolean(+(q.video_type==="SPEAKING_STICKER")),dimensions:{width:q.original_dimensions.x,height:q.original_dimensions.y},duration:q.playable_duration_in_ms,large_size:z[1],large_preview:z[0],chat_size:x,chat_preview:v,inbox_size:B[1],inbox_preview:B[0],pageid:s?r:undefined},thumbnail_url:v,share:null}}function k(q){var r=q.attribution_app,s;if(r==null)s=null;else{var t=r.square_logo;s={id:r.id,icon_url:t==null?null:t.uri,metadata:q.attribution_metadata,name:r.name}}return{app_attribution:s,attach_type:c("MercuryAttachmentType").FILE,name:q.filename,url:q.playable_url,rel:"ignore",preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:c("MercuryAttachmentContentType").MUSIC,metadata:{duration:q.playable_duration_in_ms,isVoicemail:q.is_voicemail?"1":"0",type:q.audio_type==="VOICE_MESSAGE"?"fb_voice_message":q.audio_type==="VOICE_MESSAGE_WITH_TRANSCRIPT"?"fb_voice_message_with_transcript":"file_attachment"},thumbnail_url:null,share:null,url_shimhash:q.url_shimhash,url_skipshim:q.url_skipshim}}function l(q,r,s){var t=q.preview_image,u=t==null?[null,null,null]:[t.uri,t.width,t.height],v=q.animated_image,w=v==null?null:v.uri,x=q.attribution_app,y;if(x==null)y=null;else{var z=x.square_logo;y={id:x.id,icon_url:z==null?null:z.uri,metadata:q.attribution_metadata,name:x.name}}return{app_attribution:y,attach_type:c("MercuryAttachmentType").ANIMATED_IMAGE,name:q.filename,url:w,rel:"async",preview_url:u[0],preview_width:u[1],preview_height:u[2],large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:c("MercuryAttachmentContentType").PHOTO,metadata:{fbid:q.legacy_attachment_id,image:w,dimensions:c("bs_pervasives").string_of_int(q.original_dimensions.x)+(","+c("bs_pervasives").string_of_int(q.original_dimensions.y)),pageid:s?r:undefined},thumbnail_url:w,share:null}}function m(q){__p&&__p();var r=q.original_extension==="gif"?c("MercuryAttachmentType").ANIMATED_IMAGE:q.render_as_sticker?c("MercuryAttachmentType").THIRDPARTYSTICKER:c("MercuryAttachmentType").PHOTO,s=q.preview,t=s==null?[null,null,null]:[s.uri,s.width,s.height],u;if(r===c("MercuryAttachmentType").PHOTO){var v=q.large_preview;u=v==null?[null,null,null]:[v.uri,v.width,v.height]}else u=[null,null,null];var w=q.attribution_app,x;if(w==null)x=null;else{var y=w.square_logo;x={id:w.id,icon_url:y==null?null:y.uri,metadata:q.attribution_metadata,name:w.name}}var z=q.thumbnail;return{app_attribution:x,attach_type:r,name:q.filename,url:null,rel:"async",preview_url:t[0],preview_width:t[1],preview_height:t[2],large_preview_url:u[0],large_preview_width:u[1],large_preview_height:u[2],icon_type:c("MercuryAttachmentContentType").PHOTO,metadata:{fbid:q.legacy_attachment_id,dimensions:c("bs_pervasives").string_of_int(q.original_dimensions.x)+(","+c("bs_pervasives").string_of_int(q.original_dimensions.y))},thumbnail_url:z==null?null:z.uri,share:null,photo_encodings:q.photo_encodings}}function n(q,r){var s=r,t=q;if(q>=r){var u=c("bs_pervasives").min(120,t/2),v=u/(t/2);return[u|0,s/2*v|0]}else{var w=c("bs_pervasives").min(120,s/2),x=w/(s/2);return[t/2*x|0,w|0]}}function o(q){var r=n(q.width,q.height),s=q.pack,t=q.sprite_image,u=q.sprite_image_2x,v=q.padded_sprite_image,w=q.padded_sprite_image_2x;return{app_attribution:null,attach_type:c("MercuryAttachmentType").STICKER,name:null,url:q.url,rel:null,preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:c("MercuryAttachmentContentType").UNKNOWN,metadata:{accessibilityLabel:q.label,stickerID:q.id,packID:s==null?null:s.id,frameCount:q.frame_count,frameRate:q.frame_rate,framesPerRow:q.frame_count>1?q.frames_per_row:1,framesPerCol:q.frame_count>1?q.frames_per_column:1,height:r[1],width:r[0],spriteURI:t==null?null:t.uri,spriteURI2x:u==null?null:u.uri,paddedSpriteURI:v==null?null:v.uri,paddedSpriteURI2x:w==null?null:w.uri,thumbnail_url:null,share:null}}}function p(q,r,s){__p&&__p();var t=[],u=r.extensible_attachment;if(!(u==null))t.push(c("messengerStoryAttachmentTransformerRe").getExtensibleAttachmentPayload(q,u));var v=r.sticker;if(!(v==null))t.push(o(v));var w=r.blob_attachments;if(!(w==null))c("bs_array").iter(function(x){__p&&__p();switch(x.tag|0){case 0:t.push(m(x[0]));return 0;case 1:t.push(l(x[0],q,s));return 0;case 2:t.push(k(x[0]));return 0;case 3:t.push(j(x[0],q,s));return 0;case 4:t.push(i(x[0]));return 0}},w);return t}g._getFilePayload=i;g._getVideoPayload=j;g._getAudioPayload=k;g._getAnimatedImagePayload=l;g._getImagePayload=m;g._getStickerDimensions=n;g._getStickerPayload=o;g.transformAttachment=p}),null);
__d("InstantGameUpdateXMATUpdateType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNKNOWN:"unknown",GAME_SCORE:"game_score",CUSTOM_MESSAGE:"custom_message"})}),null);
__d("MNCommerceMessageType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TEXT:"text",IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file",ROBOT_TEXT:"robot_text",LOCATION:"location",FORCED_FETCH_MESSAGE:"forced_fetch_message",SENDER_ACTION:"sender_action",RETAIL_PRODUCT_SUBSCRIPTION:"retail_product_subscription",RETAIL_PROMOTION:"retail_promotion",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_SHIPMENT:"retail_shipment",SHIPMENT_TRACKING_EVENT:"shipment_tracking_event",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_CHECKIN:"airline_checkin",AIRLINE_BOARDINGPASS:"airline_boardingpass",AIRLINE_UPDATE:"airline_update",AIRLINE_ITINERARY:"airline_itinerary",CONTENT_SUBSCRIPTION:"content_subscription",AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble",NON_AD:"non_ad",UNKNOWN:"unknown",OTHER:"other",TEMPLATE:"template",OPEN_GRAPH:"open_graph",GENERIC:"generic",LIST:"list",COMPACT_LIST:"compact_list",BUTTON:"button",RECEIPT:"receipt",GENERIC_LEGACY:"generic_legacy",ICE_BREAKER:"ice_breaker",FALLBACK:"fallback",RIDE_INTENT:"ride_intent",RIDE_SIGNUP:"ride_signup",RIDE_WELCOME:"ride_welcome",RIDE_ORDER_CONFIRMATION:"ride_order_confirmation",RIDE_REQUESTED:"ride_requested",RIDE_DRIVER_ON_THE_WAY:"ride_driver_on_the_way",RIDE_NO_DRIVER:"ride_no_driver",RIDE_DRIVER_ARRIVING:"ride_driver_arriving",RIDE_DRIVER_CANCELED:"ride_driver_canceled",RIDE_RIDER_CANCELED:"ride_rider_canceled",RIDE_COMPLETE:"ride_complete",RIDE_ADMIN_MESSAGE:"ride_admin_message",RIDE_RECEIPT:"ride_receipt",RIDE_REENGAGEMENT_FIRST_RIDE:"ride_reengagement_first_ride",GET_RIDE:"give_get_ride",GIVE_RIDE:"send_give_get_ride",REFERER_PROMO:"referer_promo",INSTANT_GAMES_SHARE:"instant_games_share",INSTANT_GAMES_SCORE:"instant_games_score",INSTANT_GAMES_LIVE_STREAM:"instant_games_live_stream",LINK:"link_admin_message",UNLINK:"unlink_admin_message",BLOCK_ALL:"block_all_admin_message",UNBLOCK_ALL:"unblock_all_admin_message",BLOCK_PROMOTION:"block_promotion_admin_message",UNBLOCK_PROMOTION:"unblock_promotion_admin_message",INITIAL_PROMOTION:"initial_promotion_admin_message",WEAK_CONSENT_ADMIN_MESSAGE:"weak_consent_admin_message",MESSENGER_TEAM_BOT_MESSAGE:"messenger_team_bot",MESSENGER_BOT_BASE_GENERIC:"messenger_bot_base_generic",COMMERCE_COMPACT_LIST:"commerce_compact_list",MEDIA:"media",PLACE_CARD:"place_card"})}),null);
__d("MessagingGenericAdminTextType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALOHA_AUTOCONNECT_INVITED:"aloha_autoconnect_invited",ALOHA_CONTACT_ADDED:"aloha_contact_added",ALOHA_CONTACT_ADDED_TO_ALOHA_PROXY_USER:"aloha_contact_added_to_aloha_proxy_user",ALOHA_CONTACT_REMOVED:"aloha_contact_removed",ALOHA_INVITE_OWNER_ACCEPT:"aloha_invite_owner_accept",ALOHA_INVITE_OWNER_DECLINE:"aloha_invite_owner_decline",ALOHA_MEDIA_ADDED:"aloha_media_added",ALOHA_MEDIA_SENT:"aloha_media_sent",ALOHA_VISUAL_MEDIA_SENT:"aloha_visual_media_sent",ALOHA_OWNER_INVITED:"aloha_owner_invited",ALOHA_PROXY_USER_NAME_SET:"aloha_proxy_user_name_set",ALOHA_PROXY_USER_PROFILE_PHOTO_SET:"aloha_proxy_user_profile_photo_set",ALOHA_WIFI_CREDENTIALS_SET:"aloha_wifi_credentials_set",MADE_POLL_VOTE:"made_poll_vote",ALOHA_USER_JOINED_CALL_ON_ALOHA:"aloha_user_joined_call_on_aloha",ALOHA_CALL_ENDED_ON_ALOHA:"aloha_call_ended_on_aloha",GROUP_POLL:"group_poll",GENERIC_NEW_CONNECTION:"generic_new_connection",CONFIRM_FRIEND_REQUEST:"confirm_friend_request",THREAD_CUSTOMIZATION_UPSELL:"thread_customization_upsell",PHONE_CONTACT_UPLOAD:"phone_contact_upload",RELATIONSHIP_CREATED:"relationship_created",ACCEPT_PENDING_THREAD:"accept_pending_thread",RAMP_UP_WELCOME_MESSAGE:"ramp_up_welcome_message",CHANGE_THREAD_THEME:"change_thread_theme",CHANGE_THREAD_ICON:"change_thread_icon",GROUP_THREAD_CREATED:"group_thread_created",THREAD_EPHEMERAL_SEND_MODE:"thread_ephemeral_send_mode",INVITE_ACCEPTED:"invite_accepted",MESSENGER_INVITE_SENT:"messenger_invite_sent",TURN_ON_PUSH:"turn_on_push",JOURNEY_PROMPT_COLOR:"journey_prompt_color",JOURNEY_PROMPT_LIKE:"journey_prompt_like",JOURNEY_PROMPT_NICKNAME:"journey_prompt_nickname",JOURNEY_PROMPT_SETUP:"journey_prompt_setup",CHANGE_THREAD_NICKNAME:"change_thread_nickname",NOTIFY_GROUP_MAYORSHIP:"notify_group_mayorship",PROMPT_GROUP_MAYORSHIP_CUSTOMIZATION:"prompt_group_mayorship_customization",MESSAGE_COUNT_MILESTONE_MESSAGE:"message_count_milestone_message",BOT_THREAD_SUBSCRIPTION:"bot_thread_subscription",RTC_CALL_LOG:"rtc_call_log",RTC_INSTANT_VIDEO_LIFECYCLE:"rtc_instant_video_lifecycle",JOURNEY_PROMPT_BOT:"journey_prompt_bot",RIDE_ORDERED_MESSAGE:"ride_ordered_message",DESTINATION_ETA_MESSAGE:"destination_eta_message",RIDE_ARRIVED_MESSAGE:"ride_arrived_message",JOURNEY_PROMPT_NEW_SETUP:"journey_prompt_new_setup",LIGHTWEIGHT_EVENT_CREATE:"lightweight_event_create",LIGHTWEIGHT_EVENT_DELETE:"lightweight_event_delete",LIGHTWEIGHT_EVENT_NOTIFY:"lightweight_event_notify",LIGHTWEIGHT_EVENT_NOTIFY_BEFORE_EVENT:"lightweight_event_notify_before_event",LIGHTWEIGHT_EVENT_RSVP:"lightweight_event_rsvp",LIGHTWEIGHT_EVENT_UPDATE:"lightweight_event_update",LIGHTWEIGHT_EVENT_UPDATE_LOCATION:"lightweight_event_update_location",LIGHTWEIGHT_EVENT_UPDATE_TIME:"lightweight_event_update_time",LIGHTWEIGHT_EVENT_UPDATE_TITLE:"lightweight_event_update_title",SAFETY_LOCATION_REQUEST_SENT:"safety_location_request_sent",SAFETY_LOCATION_REQUEST_RESPONDED:"safety_location_request_responded",SAFETY_LOCATION_REQUEST_DENIED:"safety_location_request_denied",AD_MANAGE_MESSAGE:"ad_manage_message",AD_REPLY_MESSAGE:"ad_reply_message",TAGGED_PHOTO:"tagged_photo",GAME_SCORE:"game_score",INSTANT_GAME_UPDATE:"instant_game_update",INSTANT_GAME_BOT_INTRO:"instant_game_bot_intro",MEDIA_SUBSCRIPTION_MANAGE:"media_subscription_manage",M_AI_SURVEY:"m_ai_survey",PHONE_NUMBER_LOOKUP_NOTICE:"phone_number_lookup_notice",MESSENGER_PRECHECKED_PLUGIN:"messenger_prechecked_plugin",ADD_CONTACT:"add_contact",PRODUCT_INVOICE_RECEIPT_REJECTED:"product_invoice_receipt_rejected",PRODUCT_INVOICE_PAID:"product_invoice_paid",PRODUCT_INVOICE_VOIDED:"product_invoice_voided",PRODUCT_INVOICE_SHIPPED:"product_invoice_shipped",PRODUCT_INVOICE_PAYMENT_EXPIRED:"product_invoice_payment_expired",PRODUCT_INVOICE_RECEIPT_UPLOADED:"product_invoice_receipt_uploaded",CHANGE_JOINABLE_SETTING:"change_joinable_setting",CHANGE_THREAD_ADMINS:"change_thread_admins",CHANGE_THREAD_APPROVAL_MODE:"change_thread_approval_mode",CAPY_SESSION_BEGIN:"capy_session_begin",CAPY_SESSION_BOT_BEGIN:"capy_session_bot_begin",CAPY_SESSION_END:"capy_session_end",CAPY_AGENT_JOIN:"capy_agent_join",CAPY_SESSION_WAIT_TIME:"capy_session_wait_time",GROUP_SMS_PARTICIPANT_JOINED:"group_sms_participant_joined",GROUP_SMS_PARTICIPANT_CAPPED:"group_sms_participant_capped",SMS_PHONE_NUMBER_CHECK:"sms_phone_number_check",MESSENGER_BOT_REVIEW_SENT:"messenger_bot_review_sent",MESSENGER_CODE_SCAN:"messenger_code_scan",MESSENGER_LIVECHAT_PLUGIN_OPEN:"messenger_livechat_plugin_open",MINGLE_MATCH_SUCCESS:"mingle_match_success",MINGLE_PARTICIPANT_MATCHED:"mingle_participant_matched",MN_ACCOUNT_LINKING_TEXT:"mn_account_linking_text",MN_ACCOUNT_UNLINKING_TEXT:"mn_account_unlinking_text",MN_ACCOUNT_FORCED_UNLINKING_TEXT:"mn_account_forced_unlinking_text",MN_REF_SEND_TEXT:"mn_ref_send_text",ADS_WELCOME_MSG:"ads_welcome_msg",THREAD_JOINABLE_PROMOTION_TEXT:"thread_joinable_promotion_text",PAGES_PLATFORM_REQUEST_TEXT:"pages_platform_request_text",MESSENGER_NEW_USER_GET_STARTED:"messenger_new_user_get_started",SMS_PHONE_NUMBER_TOGGLE:"sms_phone_number_toggle",PAGES_PLATFORM_CREATE_APPOINTMENT:"Pages_Platform_create_appointment",INTERNAL_CAREER_JOBSY_REACHOUT_CONNECTED:"internal_career_jobsy_reachout_connected",JOINABLE_GROUP_THREAD_CREATED:"joinable_group_thread_created",JOINABLE_ROOM_CREATED_WITH_CO_CREATORS:"joinable_room_created_with_co_creators",PAGES_PLATFORM_ACCEPT_APPOINTMENT:"pages_platform_accept_appointment",PAGES_PLATFORM_REFERRAL_CONFIRMED_APPOINTMENT:"pages_platform_referral_confirmed_appointment",PAGES_PLATFORM_DECLINE_APPOINTMENT:"pages_platform_decline_appointment",PAGES_PLATFORM_USER_CANCEL:"pages_platform_user_cancel",PAGES_PLATFORM_ADMIN_CANCEL:"pages_platform_admin_cancel",MESSENGER_OMNIM_CREATE_FLOW:"messenger_omnim_create_flow",MESSENGER_OMNIM_UPDATE_FLOW:"messenger_omnim_update_flow",MESSENGER_OMNIM_UPDATE_FLOW_STATE:"messenger_omnim_update_flow_state",MESSENGER_GROUP_DESCRITPION_UPDATE:"messenger_group_description_update",MESSENGER_EXTENSION_ADD_CART:"messenger_extension_add_cart",MESSENGER_EXTENSION_ADD_FAVORITE:"messenger_extension_add_favorite",MESSENGER_AD_CONTEXT:"messenger_ad_context",PAGES_PLATFORM_APPOINTMENT_REMINDER:"pages_platform_appointment_reminder",PAGES_PLATFORM_ADMIN_DECLINE:"pages_platform_admin_decline",POKE_RECEIVED:"poke_received",MESSENGER_STATION_SUBSCRIPTION:"messenger_station_subscription",MESSENGER_USER_ALSO_ON_MESSENGER:"messenger_user_also_on_messenger",MESSENGER_INBOX2_BIRTHDAY_BUMP:"messenger_inbox2_birthday_bump",STARTED_SHARING_VIDEO:"started_sharing_video",LIVE_VIDEO_CHAT:"live_video_chat",PARTICIPANT_JOINED_GROUP_CALL:"participant_joined_group_call",MESSENGER_ONLY_PHONE_JOINED_WITH_NEW_ACCOUNT:"messenger_only_phone_joined_with_new_account",PAGES_COMMERCE_PAYMENT_ENABLED:"pages_commerce_payment_enabled",GROUP_PAYMENT_REQUEST:"group_payment_request",P2P_CALL_ESCALATED_TO_GROUP_CALL:"p2p_call_escalated_to_group_call",INVITED_TO_ESCALATED_P2P_CALL:"invited_to_escalated_p2p_call",EVENT_UPCOMING:"event_upcoming",PAGES_VISITOR_POST_SEND_MESSAGE_UPSELL:"pages_visitor_post_send_message_upsell",PAGES_LOW_MESSAGE_RESPONSE_RATE:"pages_low_message_response_rate",PAGES_START_CALL:"pages_start_call",PARTIES_INVITE:"parties_invite",PAGES_JOIN_LOYALTY_PROGRAM:"pages_join_loyalty_program",WORK_INVITE_CLAIMED:"work_invite_claimed",P2P_PAYMENT_REQUEST_REMINDER:"p2p_payment_request_reminder",PHOTO_TAG_BUMP:"photo_tag_bump",MESSENGER_CALL_UPGRADE_LEGACY_CLIENT:"messenger_call_upgrade_legacy_client",DIRECTED_WALL_POST:"directed_wall_post",MESSENGER_CALL_LOG:"messenger_call_log",P2P_PAYMENT_MONEY_RAIN_GAME_ENTRY_POINT:"p2p_payment_money_rain_game_entry_point",MESSENGER_MONTAGE_MENTIONS:"messenger_montage_mentions",PAGES_MESSAGING_BLOCK_WORDS:"pages_messaging_block_words",ALOHA_CALL_INVITE:"aloha_call_invite",SHIPPO_TRACKING_UPDATES:"shippo_tracking_updates",NEO_APPROVED_CONNECTION_ADDED:"neo_approved_connection_added",CHANGE_FAVORITE_COLOR:"change_favorite_color",MARKETPLACE_ITEM_CHANGED:"marketplace_item_changed",SERVICES_VERTICAL_REDEEMED_REFERRAL:"services_vertical_redeemed_referral",PAGES_MARK_AS_PAID:"pages_mark_as_paid",MIGRATED_TO_WORKPLACE:"migrated_to_workplace",MESSENGER_GROUP_EVENT_STATUS_UPDATE:"messenger_group_event_status_update",NEO_APPROVED_USER_REMOVED_FROM_GROUP:"neo_approved_user_removed_from_group",LIVE_CHAT_SUPPORT_AGENT_JOIN:"live_chat_support_agent_join",LIVE_CHAT_SUPPORT_SESSION_BEGIN:"live_chat_support_session_begin",LIVE_CHAT_SUPPORT_SESSION_END:"live_chat_support_session_end",MONTAGE_DIRECT_KEEP:"montage_direct_keep",CHSBOT_CONVERSATION_ENDED:"chsbot_conversation_ended",CHSBOT_LIVE_CHAT_SUPPORT_AGENT_BEGIN:"chsbot_live_chat_support_agent_begin",CHSBOT_LIVE_CHAT_SUPPORT_AGENT_END:"chsbot_live_chat_support_agent_end",CHSBOT_SUPPORT_REQUESTED:"chsbot_support_requested",MESSENGER_SUBSCRIBE_TO_UPDATES:"messenger_subscribe_to_updates",MESSENGER_UNSUBSCRIBE_FROM_UPDATES:"messenger_unsubscribe_from_updates",MESSENGER_BLOCK_MESSAGES:"messenger_block_messages",MESSENGER_UNBLOCK_MESSAGES:"messenger_unblock_messages",THANKS_FOR_SHARING_MESSAGE_CONTEXT:"thanks_for_sharing_message_context",GROUP_ADMIN_MODEL_NUX:"group_admin_model_nux",MESSENGER_PAYMENT_INCENTIVE_INFO:"messenger_payment_incentive_info",MESSENGER_GROUP_SYNC_OPT_IN:"messenger_group_sync_opt_in"})}),null);
__d("MessagingSourceEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHAT_ORCA:"source:chat:orca",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",CONTACT_ADD_MUTATION:"source:contact_add:graphql_mutation",CONTACT_ADD_CYMK:"source:contact_add:cymk_suggestion",CUSTOMER_CHAT_PLUGIN:"source:discovery:customer_chat_plugin",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",EVENT_TICKETING:"source:event_ticket",EVENT_REMINDERS:"source:event_reminders",FUNDRAISER_MESSAGE_BLAST:"source:fundraiser_message_blast",GENERIC_ADMIN_TEXT:"source:generic_admin_text",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",INVITE:"source:invite",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",MESSENGER_WEB_SEARCH:"source:messenger:web_search",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",PAGE_UNIFIED_INBOX:"source:page_unified_inbox",UNKNOWN:"source:unknown",WEB:"source:web",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",MESSENGER_EMPLOYEE_ONLY_BOT:"source:bot:employee_only",MESSENGER_OMNIM:"source:messenger:omnim",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MESSENGER_LEAD_GEN:"source:messenger:lead_gen",PAGES_MESSAGE_SHORTLINK:"source:pages:message_shortlink",STICKER_SUBSCRIBE:"source:messenger:sticker_subscribe",PHOTO_TAG:"source:messenger:photo_tag",INTERNAL_TEST_PENDING:"source:internal:test_pending",JOB_SEARCH_APPLICATION:"source:job_search:application",MESSENGER_JOINABLE_LINK:"source:messenger:joinable_link",MESSENGER_ADD_WITH_APPROVAL:"source:messenger:add_with_approval",MESSENGER_SMS_BRIDGE_CONVERT:"source:messenger:sms_bridge_conversion",TINCAN_ORCA:"source:tincan:orca",TINCAN_IOS:"source:tincan:ios",TINCAN_UNKNOWN:"source:tincan:unknown",FACEBOOK_GROUPS_CHANNELS:"source:groups:channels",GROUP_COMMERCE:"source:group_commerce",INTERNAL_TOOL:"source:internal:tool",PAGES_PLATFORM:"source:pages:platform",PAGES_RECOMMENDATION:"source:pages:recommendation",PAGES_ORDER_MANAGEMENT:"source:pages:order_management",PAGE_AUTO_RESPONSE:"source:pages:auto_response",PAGES_INVITE:"source:pages:invite",PAGES_CHAT_EXTENSION:"source:pages:chat_extension",SAVED_CHAT_EXTENSION:"source:saved:chat_extension",CREATOR_PAGE_INITIATE_TO_CREATOR_PAGE:"source:pages:creator_page_initiate_to_creator_page",LIVE_VIDEO_CHAT:"source:live_video_chat",FRIENDING_ADMIN_BUMP:"source:messenger_growth:friending_admin_bump",NEW_MESSENGER_USER_ADMIN_BUMP:"source:messenger_growth:new_messenger_user_admin_bump",EVENT_UPCOMING_BUMP:"source:messenger_growth:event_upcoming_bump",PHOTO_TAG_BUMP:"source:messenger_growth:photo_tag_bump",WALL_POST_BUMP:"source:messenger_growth:wall_post_bump",CUSTOMIZATION_UPSELL_BUMP:"source:messenger_growth:customization_upsell_bump",PAGE_COMMENT_MSG:"source:pages:question_triggered_convo",COMMENT_PIVOT:"source:messenger_growth:comment_pivot",PAGE_HOVERCARD:"source:pages:hovercard",INSTANT_GAMES:"source:instant_games",PAGE_EMAIL_REPLY:"source:pages:email_reply",PAGE_HOME_PAGE_PANEL:"source:page_home_page_panel",GROUPSYNC_MESSENGER_GROUP_CREATE:"source:groupsync:messenger_group_create",GROUPSYNC_SYNC_FROM_FB:"source:groupsync:sync_from_fb",GROUPSYNC_NAMING:"source:groupsync:naming",PAGE_PQI_MESSAGE:"source:pages:pqi_message"})}),null);
__d("MercuryMessageSourceTags",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHAT:"source:chat",EMAIL:"source:email",MESSENGER:"source:messenger",MOBILE:"source:mobile"})}),null);
__d("MessagingTagUtils",["MessagingSourceEnum","MessagingTagConstants","MercuryMessageSourceTags","Set"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("Set"))(Object.values(c("MessagingSourceEnum")));function i(l){__p&&__p();for(var m=l,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(h.has(q))return q}return c("MessagingSourceEnum").UNKNOWN}function j(l){__p&&__p();for(var m=l,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p,r=q.split(c("MessagingTagConstants").app_id_root);if(r.length>1)return r[1].trim()}return null}function k(l,m){__p&&__p();var n=[],o=j(l);if(o&&c("MessagingTagConstants").orca_app_ids.indexOf(o)!==-1)n.push(c("MercuryMessageSourceTags").MESSENGER);if(c("MessagingTagConstants").chat_sources.indexOf(m)!==-1)n.push(c("MercuryMessageSourceTags").CHAT);if(c("MessagingTagConstants").email_source===m)n.push(c("MercuryMessageSourceTags").EMAIL);if(c("MessagingTagConstants").mobile_sources.indexOf(m)!==-1)n.push(c("MercuryMessageSourceTags").MOBILE);return n}f.exports={getSourceFromTags:i,getSourceTags:k}}),null);
__d("P2PPaymentLogMessageSubtype",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail",REQUEST_CANCELED_BY_REQUESTER:"request_canceled_by_requester",REQUEST_DECLINED_BY_REQUESTEE:"request_declined_by_requestee",REQUEST_EXPIRED:"request_expired",REQUEST_REMINDER:"request_reminder",MONEY_RAIN_GAME_ENTRY_POINT:"money_rain_game_entry_point"})}),null);
__d("messengerMessageTransformerRe",["bs_array","bs_block","bs_string","FBIDCheck","getByPath","bs_js_boolean","MercuryIDs","bs_pervasives","bs_caml_format","CurrentUser","bs_js_primitive","MessagingTag","bs_js_null_undefined","MercuryActionType","MessagingTagUtils","MessagingSourceEnum","StoryAttachmentStyle","MNCommerceMessageType","MercuryLogMessageType","P2PPaymentLogMessageSubtype","MessagingGenericAdminTextType","InstantGameUpdateXMATUpdateType","messengerAttachmentTransformerRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(o,p,q){__p&&__p();var r;if(o.__typename==="GroupPollExtensibleMessageAdminText"){var s=o.question,t;if(s==null)t=[{},null];else{var u=Object.assign({},s);Object.assign(u,{total_count:o.total_count,options:c("bs_array").map(function(v){var w=Object.assign({},v);return Object.assign(w,{total_count:v.voters.nodes.length,voters:c("bs_array").map(function(x){return x.id},v.voters.nodes)})},s.options.nodes)});t=[u,s.id]}r={message_type:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("MessagingGenericAdminTextType")[p])),untypedData:{event_type:c("bs_string").lowercase(o.event_type),question_id:t[1],question_json:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(JSON.stringify(t[0])))}}}else r=o.__typename==="InstantGameUpdateExtensibleMessageAdminText"?{message_type:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("MessagingGenericAdminTextType")[p])),untypedData:{game_id:c("getByPath")(o,["game","id"]),update_type:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("InstantGameUpdateXMATUpdateType")[o.update_type])),collapsed_text:o.collapsed_text,expanded_text:o.expanded_text,cta_url:c("getByPath")(o,["instant_game_update_data","cta_url"]),cta_title:c("getByPath")(o,["instant_game_update_data","cta_title"]),custom_image_url:c("getByPath")(o,["instant_game_update_data","photo","image","uri"]),template:c("getByPath")(o,["instant_game_update_data","template"])}}:o.__typename==="MessengerAdContextAdminText"?{message_type:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("MessagingGenericAdminTextType")[p])),untypedData:{ad_url:o.ad_url}}:o.__typename==="AdExtensibleMessageAdminText"?{message_type:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("MessagingGenericAdminTextType")[p])),untypedData:{ad_client_token:o.ad_client_token,ad_id:o.ad_id,ad_preferences_link:o.ad_preferences_link,ad_properties:o.ad_properties}}:o.__typename==="ThemeColorExtensibleMessageAdminText"||o.__typename==="ThreadIconExtensibleMessageAdminText"||o.__typename==="ThreadNicknameExtensibleMessageAdminText"||o.__typename==="AcceptPendingThreadExtensibleMessageAdminText"||o.__typename==="AddContactExtensibleMessageAdminText"||o.__typename==="RtcCallLogExtensibleMessageAdminText"||o.__typename==="GameScoreExtensibleMessageAdminText"||o.__typename==="ConfirmFriendRequestExtensibleMessageAdminText"||o.__typename==="PartiesInviteExtensibleMessageAdminText"||o.__typename==="AppointmentReminderExtensibleMessageAdminText"?{message_type:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("MessagingGenericAdminTextType")[p])),untypedData:Object.assign({},o)}:{message_type:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("MessagingGenericAdminTextType")[p])),untypedData:undefined};return{log_message_body:q,log_message_data:r,log_message_type:c("MercuryLogMessageType").GENERIC_ADMIN_TEXT}}function i(o){return c("bs_array").map(function(p){if(p==="p2p_transfer")return c("StoryAttachmentStyle").ORION;else if(p==="p2p_payment_request")return c("StoryAttachmentStyle").ORION_REQUEST;else return p},o)}function j(o){__p&&__p();var p=o.target,q;if(p==null)q=null;else if(p.__typename==="CrisisListing")q=c("bs_block").__(0,[{listing_type:p.listing_type,listing_category:p.listing_category,map_image:p.map_image}]);else if(p.__typename==="MoneyTransfer")q=c("bs_block").__(1,[{sender:p.sender,receiver:p.receiver,transfer_id:p.transfer_id,bubble_view:p.bubble_view}]);else if(p.__typename==="PeerToPeerTransfer")q=c("bs_block").__(2,[{sender:p.sender,receiver_profile:p.receiver_profile,transaction_amount:p.transaction_amount,transfer_status:p.transfer_status,transfer_id:p.transfer_id,completedTime:p.completedTime,updatedTime:p.updatedTime,creationTime:p.creationTime,transfer_context:p.transfer_context,amount_fb_discount:p.amount_fb_discount,funds_availability:p.funds_availability,group_thread_fbid:p.group_thread_fbid,platform_item:p.platform_item,id:p.id,status_description:p.status_description,bubble_view:p.bubble_view}]);else if(p.__typename==="PeerToPeerPaymentRequest")q=c("bs_block").__(3,[{amount:p.amount,transaction_amount:p.transaction_amount,requester:p.requester,requestee:p.requestee,request_status:p.request_status,request_theme:p.request_theme,id:p.id,memo_text:p.memo_text,transfer:p.transfer,creation_time:p.creation_time,group_thread_fbid:p.group_thread_fbid,updated_time:p.updated_time,status_description:p.status_description,individual_requests:p.individual_requests}]);else if(p.__typename==="PaymentPlatformAttachment")q=c("bs_block").__(4,[{payment_modules_client:p.payment_modules_client,is_viewer_seller:p.is_viewer_seller,payment_snippet:p.payment_snippet,item_list:p.item_list,components:p.components,payment_call_to_actions:p.payment_call_to_actions,click_action:p.click_action,invoicer_id:p.invoicer_id}]);else if(p.__typename==="MomentsAppMessengerInvitation")q=c("bs_block").__(5,[{snippet:p.snippet}]);else if(p.__typename==="MomentsAppMessengerPhotoRequest")q=c("bs_block").__(6,[{snippet:p.snippet}]);else if(p.__typename==="MessengerRetailPromotion")q=c("bs_block").__(7,[{message:p.message,call_to_actions:p.call_to_actions,promotion_items:p.promotion_items}]);else if(p.__typename==="MessengerBusinessMessage")q=c("bs_block").__(8,[{message:p.message,call_to_actions:p.call_to_actions,business_items:p.business_items}]);else if(p.__typename==="Video")q=c("bs_block").__(9,[{video_id:p.video_id}]);else if(p.__typename==="PagesPlatformLeadGenInfo")q=c("bs_block").__(10,[{field_data_list:p.field_data_list}]);else if(p.__typename==="MessageLiveLocation")q=c("bs_block").__(11,[{live_location_id:p.live_location_id,is_expired:p.is_expired,expiration_time:p.expiration_time,sender:p.sender,coordinate:p.coordinate,location_title:p.location_title,sender_destination:p.sender_destination,stop_reason:p.stop_reason}]);else if(p.__typename==="QuickInvite")q=c("bs_block").__(12,[{id:p.id,invite_sender:p.invite_sender,invite_recipient:p.invite_recipient}]);else if(p.__typename==="PagesPlatformBookingMessage")q=c("bs_block").__(13,[{id:p.id,page:p.page,message_bubble_type:p.message_bubble_type,user:p.user,native_component_flow_request:p.native_component_flow_request}]);else if(p.__typename==="GenieMessage")q=c("bs_block").__(14,[{genie_sender:p.genie_sender,story_attachment:p.story_attachment}]);else if(p.__typename==="Event")q=c("bs_block").__(15,[{eventID:p.eventID,guestStatus:p.guestStatus,canViewerJoin:p.canViewerJoin,timeString:p.timeString,event_place:p.event_place,social_context:p.social_context,watchStatus:p.watchStatus,connection_style:p.connection_style,canViewerWatch:p.canViewerWatch}]);else if(p.__typename==="ExternalSong")q=c("bs_block").__(16,[{application_name:p.application_name,artist_names:p.artist_names,audio_url:p.audio_url,duration_ms:p.duration_ms,music_title:p.music_title}]);else if(p.__typename==="LightweightAction")q=c("bs_block").__(17,[{lwa_state:p.lwa_state,lwa_type:p.lwa_type}]);else if(p.__typename==="MessengerRetailItem")q=c("bs_block").__(18,[{id:p.id,name:p.name,desc:p.desc,thumb_url:p.thumb_url,item_url:p.item_url,source:p.source,image_aspect_ratio:p.image_aspect_ratio,first_metaline:p.first_metaline,second_metaline:p.second_metaline,third_metaline:p.third_metaline,default_action:p.default_action,call_to_actions:p.call_to_actions}]);else if(p.__typename==="AgentItemSuggestion")q=c("bs_block").__(19,[{id:p.id,desc:p.desc,total_cost:p.total_cost,merchant_name:p.merchant_name,target_url:p.target_url,thumb_url:p.thumb_url,raw_amount:p.raw_amount,payment:p.payment,price_amount:p.price_amount,price_currency:p.price_currency,name:p.name}]);else if(p.__typename==="FundraiserPersonToCharity"||p.__typename==="FundraiserPersonForPerson"){var r=p.fundraiser_detailed_progress_text,s=p.fundraiser_subtitle_text,t=p.focused_cover_photo;q=c("bs_block").__(20,[{fundraiserID:p.id,canDonate:p.can_donate,hasViewerDonated:p.has_viewer_donated,fundraiserDetailedProgressText:r==null?null:r.text,fundraiserSubtitleText:s==null?null:s.text,focusedCoverPhoto:t==null?null:{src:t.photo.image.uri,data:{height:t.photo.image.height,width:t.photo.image.width}}}])}else q=p.__typename==="MessengerRetailReceipt"?c("bs_block").__(21,[{account_holder_name:p.account_holder_name,adjustments:p.retail_adjustments,cancellation_url:p.cancellation_url,items:p.retail_items,merchant_name:p.merchant_name,messenger_commerce_bubble_type:p.bubble_type,order_id:p.receipt_id,order_time:p.order_time_for_display,order_url:p.receipt_url,payment_method:p.order_payment_method,receipt_id:p.id,recipient_name:p.recipient_name,shipping_cost:p.shipping_cost,shipping_method:p.shipping_method,status:p.status,structured_address:p.structured_address,subtotal:p.subtotal,total_cost:p.total,total_tax:p.tax,partner_logo:p.partner_log}]):p.__typename==="JobApplication"?c("bs_block").__(22,[{id:p.id}]):p.__typename==="GroupCommerceProductItem"?c("bs_block").__(23,[{group_commerce_item_description:p.group_commerce_item_description,group_commerce_item_seller:p.group_commerce_item_seller,formatted_price:p.formatted_price,group_commerce_item_title:p.group_commerce_item_title,primary_photo:p.primary_photo,url:p.url}]):p.__typename==="Page"?c("bs_block").__(24,[{address:p.address,top_category_name:p.top_category_name,cover_photo:p.cover_photo,location:p.location,name:p.name,overall_star_rating:p.overall_star_rating,id:p.id,price_range_description:p.price_range_description}]):p.__typename==="MessengerEventReminder"?c("bs_block").__(25,[{is_active:p.is_active}]):p.__typename==="AirlineBoardingPassCollectionMessageAttachment"?c("bs_block").__(26,[{tint_color:p.tint_color,logo:p.logo,flight_label:p.flight_label,boarding_time_label:p.boarding_time_label,departure_label:p.departure_label,passenger_names_label:p.passenger_names_label,passenger_seat_label:p.passenger_seat_label,flight_terminal_label:p.flight_terminal_label,flight_gate_label:p.flight_gate_label,view_boarding_pass_cta_label:p.view_boarding_pass_cta_label,boarding_passes:p.boarding_passes,share_cta_label:p.share_cta_label,message_cta_label:p.message_cta_label,boarding_pass_title_label:p.boarding_pass_title_label,boarding_pass_error_title_label:p.boarding_pass_error_title_label}]):p.__typename==="AirlineCheckInReminderMessageAttachment"?c("bs_block").__(27,[{pnr_number:p.pnr_number,tint_color:p.tint_color,checkin_url:p.checkin_url,booking_number_label:p.booking_number_label,flight_label:p.flight_label,arrival_time_label:p.arrival_time_label,departure_time_label:p.departure_time_label,checkin_cta_label:p.checkin_cta_label,logo:p.logo,flight_infos:p.flight_infos}]):p.__typename==="AirlineUpdateMessageAttachment"?c("bs_block").__(28,[{pnr_number:p.pnr_number,tint_color:p.tint_color,update_type:p.update_type,departure_time_label:p.departure_time_label,arrival_time_label:p.arrival_time_label,booking_number_label:p.booking_number_label,flight_gate_label:p.flight_gate_label,flight_label:p.flight_label,flight_status_label:p.flight_status_label,passenger_names_label:p.passenger_names_label,passenger_seat_label:p.passenger_seat_label,logo:p.logo,flight_info:p.flight_info,hightlighted_labels:p.hightlighted_labels}]):p.__typename==="AirlineItineraryMessageAttachment"?c("bs_block").__(29,[{confirmation_number:p.confirmation_number,pnr_number:p.pnr_number,tint_color:p.tint_color,formatted_total:p.formatted_total,itemized_price_infos:p.itemized_price_infos,formatted_tax:p.formatted_tax,formatted_base_price:p.formatted_base_price,passenger_infos:p.passenger_infos,logo:p.logo,aircraft_type_label:p.aircraft_type_label,arrival_time_label:p.arrival_time_label,base_price_label:p.base_price_label,booking_number_label:p.booking_number_label,cabin_type_label:p.cabin_type_label,departure_time_label:p.departure_time_label,flight_confirmation_label:p.flight_confirmation_label,flight_date_label:p.flight_date_label,flight_label:p.flight_label,flight_terminal_label:p.flight_terminal_label,itinerary_error_title_label:p.itinerary_error_title_label,itinerary_title_label:p.itinerary_title_label,passenger_name_label:p.passenger_name_label,passenger_names_label:p.passenger_names_label,passenger_seat_label:p.passenger_seat_label,purchase_summary_label:p.purchase_summary_label,taxes_label:p.taxes_label,total_label:p.total_label,view_details_cta_label:p.view_details_cta_label,itinerary_legs:p.itinerary_legs}]):p.__typename==="MessengerRetailShipmentTrackingEvent"?c("bs_block").__(30,[{id:p.id,shipment:p.shipment,tracking_event_time_for_display:p.tracking_event_time_for_display,shipment_tracking_event_type:p.shipment_tracking_event_type,messenger_commerce_location:p.messenger_commerce_location,tracking_event_description:p.tracking_event_description,bubble_type:p.bubble_type}]):p.__typename==="MessengerRetailShipment"?c("bs_block").__(31,[{id:p.id,tracking_number:p.tracking_number,shipdate_for_display:p.shipdate_for_display,estimated_delivery_time_for_display:p.estimated_delivery_time_for_display,commerce_origin:p.commerce_origin,commerce_destination:p.commerce_destination,retail_carrier:p.retail_carrier,shipment_tracking_events:p.shipment_tracking_events,receipt:p.receipt,recipient:p.recipient,retail_shipment_items:p.retail_shipment_items,bubble_type:p.bubble_type}]):p.__typename==="TicketOrderAttachment"?c("bs_block").__(33,[{ticket_order_id:p.ticket_order_id,event:p.event}]):p.__typename==="LeadGenDeepLinkData"?c("bs_block").__(32,[{id:p.id,cover_image:p.cover_image,headline:p.headline,name:p.name,page:p.page}]):p.__typename==="UserLeadGenInfo"?c("bs_block").__(34,[{id:p.id,field_data:p.field_data}]):p.__typename==="IceBreakerMessageAttachment"?c("bs_block").__(35,[{ice_breaker_title:p.ice_breaker_title,ice_breaker_messages:p.ice_breaker_messages,ad_id:p.ad_id}]):null;return{description:o.description,media:o.media,source:o.source,style_list:i(o.style_list),title_with_entities:o.title_with_entities,properties:o.properties,url:o.url,deduplication_key:o.deduplication_key,action_links:o.action_links,messaging_attribution:o.messaging_attribution,messenger_call_to_actions:o.messenger_call_to_actions,target:q}}function k(o){var p=j({description:o.description,media:o.media,source:o.source,style_list:o.style_list,title_with_entities:o.title_with_entities,properties:o.properties,url:o.url,deduplication_key:o.deduplication_key,action_links:o.action_links,messaging_attribution:o.messaging_attribution,messenger_call_to_actions:o.messenger_call_to_actions,target:o.target});if(p==null)return null;else{var q=c("bs_array").map(j,o.subattachments);return Object.assign({subattachments:q},p)}}function l(o){__p&&__p();var p=o.blob_attachments,q=[];if(!(p==null))c("bs_array").iter(function(r){__p&&__p();if(r.__typename==="MessageImage"){q.push(c("bs_block").__(0,[{attribution_app:r.attribution_app,attribution_metadata:r.attribution_metadata,filename:r.filename,preview:r.preview,large_preview:r.large_preview,thumbnail:r.thumbnail,legacy_attachment_id:r.legacy_attachment_id,original_dimensions:r.original_dimensions,original_extension:r.original_extension,render_as_sticker:r.render_as_sticker,photo_encodings:r.photo_encodings}]));return 0}else if(r.__typename==="MessageAnimatedImage"){q.push(c("bs_block").__(1,[{attribution_app:r.attribution_app,attribution_metadata:r.attribution_metadata,filename:r.filename,animated_image:r.animated_image,legacy_attachment_id:r.legacy_attachment_id,preview_image:r.preview_image,original_dimensions:r.original_dimensions}]));return 0}else if(r.__typename==="MessageAudio"){q.push(c("bs_block").__(2,[{attribution_app:r.attribution_app,attribution_metadata:r.attribution_metadata,filename:r.filename,playable_url:r.playable_url,playable_duration_in_ms:r.playable_duration_in_ms,is_voicemail:r.is_voicemail,audio_type:r.audio_type,url_shimhash:r.url_shimhash,url_skipshim:r.url_skipshim}]));return 0}else if(r.__typename==="MessageVideo"){q.push(c("bs_block").__(3,[{attribution_app:r.attribution_app,attribution_metadata:r.attribution_metadata,filename:r.filename,playable_url:r.playable_url,playable_duration_in_ms:r.playable_duration_in_ms,legacy_attachment_id:r.legacy_attachment_id,chat_image:r.chat_image,video_type:r.video_type,original_dimensions:r.original_dimensions,large_image:r.large_image,inbox_image:r.inbox_image}]));return 0}else if(r.__typename==="MessageFile"){q.push(c("bs_block").__(4,[{attribution_app:r.attribution_app,attribution_metadata:r.attribution_metadata,filename:r.filename,url:r.url,content_type:r.content_type,is_malicious:r.is_malicious,message_file_fbid:r.message_file_fbid,url_shimhash:r.url_shimhash,url_skipshim:r.url_skipshim}]));return 0}else return 0},p);return q}function m(o){__p&&__p();var p=o.message;if(p==null)return[];else{var q=[];c("bs_array").iter(function(r){__p&&__p();var p=r.entity;if(p==null)return 0;else{var s=p.id,t=p.thread_key;if(s==null)if(t==null)return 0;else{var u=t.thread_fbid;if(u==null)return 0;else{q.push({id:u,offset:r.offset,length:r.length,type:r.__typename});return 0}}else{q.push({id:s,offset:r.offset,length:r.length,type:r.__typename});return 0}}},p.ranges);return q}}function n(o,p,q,r){__p&&__p();var s={};c("bs_array").iter(function(X){s[X.user.id]=X.reaction;return 0},p.message_reactions);var t=+c("FBIDCheck").isUser_deprecated(p.message_sender.id),u=t?c("MessagingTagUtils").getSourceFromTags(p.tags_list):c("MessagingSourceEnum").UNKNOWN,v=t?c("MessagingTagUtils").getSourceTags(p.tags_list,u):[],w=p.commerce_message_type,x=p.customizations,y={thread_id:q.thread_id,thread_fbid:q.thread_fbid,other_user_fbid:q.other_user_fbid,action_type:p.__typename==="UserMessage"?c("MercuryActionType").USER_GENERATED_MESSAGE:c("MercuryActionType").LOG_MESSAGE,message_id:p.message_id,threading_id:null,offline_threading_id:p.offline_threading_id,author:c("MercuryIDs").getParticipantIDFromUserID(p.message_sender.id),author_email:p.message_sender.email,ephemeral_ttl_mode:p.ttl,timestamp:c("bs_caml_format").caml_float_of_string(p.timestamp_precise),is_unread:p.unread,is_filtered_content:c("bs_js_boolean").to_js_boolean(+(p.tags_list.indexOf(c("MessagingTag").FILTERED_CONTENT)!==-1)),is_filtered_content_bh:c("bs_js_boolean").to_js_boolean(+(p.tags_list.indexOf(c("MessagingTag").FILTERED_CONTENT_BH)!==-1)),is_filtered_content_account:c("bs_js_boolean").to_js_boolean(+(p.tags_list.indexOf(c("MessagingTag").FILTERED_CONTENT_ACCOUNT)!==-1)),is_filtered_content_quasar:c("bs_js_boolean").to_js_boolean(+(p.tags_list.indexOf(c("MessagingTag").FILTERED_CONTENT_QUASAR)!==-1)),is_filtered_content_invalid_app:c("bs_js_boolean").to_js_boolean(+(p.tags_list.indexOf(c("MessagingTag").FILTERED_CONTENT_INVALID_APP)!==-1)),is_sponsored:p.is_sponsored,ad_id:p.ad_id,ad_client_token:p.ad_client_token,commerce_message_type:w==null?null:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("MNCommerceMessageType")[w])),customizations:x==null?[]:x,source:u,source_tags:v,tags:p.tags_list,is_spoof_warning:c("bs_js_boolean").to_js_boolean(+(p.tags_list.indexOf(c("MessagingTag").DOMAIN_AUTH_FAIL)!==-1||p.tags_list.indexOf(c("MessagingTag").SPAM_SPOOFING)!==-1||p.tags_list.indexOf(c("MessagingTag").SPOOF_WARNING)!==-1)),folder:q.folder,platform_xmd:p.platform_xmd_encoded,message_source:p.message_source_data,montage_reply_data:p.montage_reply_data,skip_bump_thread:false,profile_ranges:m(p),reactions:s};if(p.__typename==="UserMessage"){var z=l(p),A=p.extensible_attachment,B;if(A==null)B=null;else{var C=A.story_attachment;B={legacy_attachment_id:A.legacy_attachment_id,story_attachment:C==null?null:k(C)}}var D=c("messengerAttachmentTransformerRe").transformAttachment(o,{extensible_attachment:B,blob_attachments:z,sticker:p.sticker},r),E=p.message,F=p.page_admin_sender;Object.assign(y,{body:E==null?null:E.text,creator_info:F==null?null:{creatorID:F.admin_id,creatorName:F.name,creatorType:F.sender_type,labelType:F.label_type,pageID:F.page_id,profileURI:F.profile_uri},subject:null,has_attachment:c("bs_js_boolean").to_js_boolean(+(D.length>0)),attachments:D,raw_attachments:null,ranges:undefined,meta_ranges:p.meta_ranges.map(function(X){return babelHelpers["extends"]({},X,{data:JSON.parse(X.data)})})})}else if(p.__typename==="VoiceCallMessage"||p.__typename==="VideoCallMessage"){var G=p.__typename,H=G==="VoiceCallMessage"?c("MercuryLogMessageType").PHONE_CALL:c("MercuryLogMessageType").VIDEO_CALL,I=p.message_sender.id,J=q.other_user_fbid,K=J==null?null:c("MercuryIDs").getParticipantIDFromUserID(I===J?c("CurrentUser").getID():J),L=p.answered;Object.assign(y,{log_message_type:H,log_message_data:{answered:L==null?false:L,caller:c("MercuryIDs").getParticipantIDFromUserID(I),callee:K},log_message_body:p.snippet})}else if(p.__typename==="ThreadNameMessage")Object.assign(y,{log_message_type:c("MercuryLogMessageType").THREAD_NAME,log_message_data:{name:p.thread_name},log_message_body:p.snippet});else if(p.__typename==="ThreadImageMessage"){var M=p.image_with_metadata,N;if(M==null)N=null;else{var O=M.preview;N={preview_url:O==null?null:O.uri,metadata:{fbid:M.legacy_attachment_id,dimensions:c("bs_pervasives").string_of_int(M.original_dimensions.x)+(","+c("bs_pervasives").string_of_int(M.original_dimensions.y))}}}Object.assign(y,{log_message_type:c("MercuryLogMessageType").THREAD_IMAGE,log_message_data:{image:N},log_message_body:p.snippet})}else if(p.__typename==="ParticipantsAddedMessage"){var P=p.participants_added;Object.assign(y,{log_message_type:c("MercuryLogMessageType").SUBSCRIBE,log_message_data:{added_participants:P==null?[]:c("bs_array").map(function(X){return c("MercuryIDs").getParticipantIDFromUserID(X.id)},P)},log_message_body:p.snippet})}else if(p.__typename==="ParticipantLeftMessage"){var Q=p.participants_removed;Object.assign(y,{log_message_type:c("MercuryLogMessageType").UNSUBSCRIBE,log_message_data:{removed_participants:Q==null?[]:c("bs_array").map(function(X){return c("MercuryIDs").getParticipantIDFromUserID(X.id)},Q)},log_message_body:p.snippet})}else if(p.__typename==="GenericAdminTextMessage"){var R=p.extensible_message_admin_text,S=p.extensible_message_admin_text_type;if(R==null){if(!(S==null))Object.assign(y,{log_message_body:p.snippet,log_message_data:{message_type:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("MessagingGenericAdminTextType")[S])),untypedData:undefined},log_message_type:c("MercuryLogMessageType").GENERIC_ADMIN_TEXT})}else if(!(S==null))Object.assign(y,h(R,S,p.snippet))}else if(p.__typename==="P2PPaymentRequestMessage"){var T=p.p2p_sender,U=p.p2p_receiver,V=p.amount,W=p.message_type;Object.assign(y,{log_message_body:p.snippet,log_message_data:{transfer_id:p.transfer_id,senderId:T==null?null:c("MercuryIDs").getParticipantIDFromUserID(T.id),receiverId:U==null?null:c("MercuryIDs").getParticipantIDFromUserID(U.id),formattedAmount:V==null?null:V.formatted,subtype:W==null?null:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("P2PPaymentLogMessageSubtype")[W]))},log_message_type:c("MercuryLogMessageType").ORION})}return y}g._getGenericAdminTextMessage=h;g._getStyleList=i;g.unsafeCastExtensibleAttachmentWithoutSubattachments=j;g.unsafeCastExtensibleAttachment=k;g.unsafeCastBlobAttachments=l;g._getProfileRanges=m;g.transformMessage=n}),null);
__d("messengerAttachmentTransformerForSendRe",["bs_array","bs_caml_array","MercuryAttachmentType","messengerMessageTransformerRe","messengerAttachmentTransformerRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k,l){__p&&__p();var m=k.node;if(m==null)return{attach_type:c("MercuryAttachmentType").ERROR};else{var n;if(m.__typename==="ExtensibleMessageAttachment"){var o=m.story_attachment;n={legacy_attachment_id:m.legacy_attachment_id,story_attachment:o==null?null:c("messengerMessageTransformerRe").unsafeCastExtensibleAttachment(o)}}else n=null;var p=m.__typename==="Sticker"?m:null,q=m.__typename,r;switch(q){case"MessageAnimatedImage":case"MessageAudio":case"MessageFile":case"MessageImage":case"MessageVideo":r=[m];break;default:r=null}var s=c("messengerMessageTransformerRe").unsafeCastBlobAttachments({blob_attachments:r}),t=c("messengerAttachmentTransformerRe").transformAttachment(j,{extensible_attachment:n,blob_attachments:s,sticker:p},l);if(t.length)return c("bs_caml_array").caml_array_get(t,0);else return{}}}function i(j,k,l){return c("bs_array").map(function(m){return h(j,m,l)},k)}g._transform=h;g.transform=i}),null);
__d("MercuryServerSendMessageQueue",["fbt","BanzaiODS","ChatReliabilityInstrumentation","LogHistory","MercuryLoggingHelper","MercuryServerRequestsConfig","messengerAttachmentTransformerForSendRe","Run","MercuryServerDispatcher","MercuryServerSendMessageQueueSimulatedError","XMessagingSendController","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("LogHistory").getInstance("mercury_server_send_message_queue");function j(k,l,m,n){__p&&__p();var o;this.pending_message=null;this.queue=[];this.$MercuryServerSendMessageQueue5=function(){if(this.queue.length||this.pending_message)return h._("You haven't sent your message yet. Do you want to leave without sending?");return undefined}.bind(this);this.sender_id=k;this.queue_id=l;this.$MercuryServerSendMessageQueue2=m.success_handler;this.$MercuryServerSendMessageQueue1=m.error_handler;this.$MercuryServerSendMessageQueue4=m.transport_error_handler;this.$MercuryServerSendMessageQueue3=m.timeout_handler;this.client=n;c("Run").onBeforeUnload(this.$MercuryServerSendMessageQueue5,false);var p=null;if(c("MercuryServerRequestsConfig").msgrRegion)p={name:"X-MSGR-Region",value:c("MercuryServerRequestsConfig").msgrRegion};var q=c("XMessagingSendController").getURIBuilder().getURI().toString(),r=(o={},o[q]={request_user_id:this.sender_id,endpoint_id:this.queue_id,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:p,handler:this.handleSuccess.bind(this),error_handler:this.handleError.bind(this),transport_error_handler:this.handleTransportError.bind(this),timeout:m.timeout,timeout_handler:this.handleTimeout.bind(this),connection_retries:m.connection_retries},o);c("MercuryServerDispatcher").registerEndpoints(r)}j.prototype.enqueue=function(k){this.queue.push(k);this.$MercuryServerSendMessageQueue6()};j.prototype.$MercuryServerSendMessageQueue6=function(){__p&&__p();if(this.pending_message||!this.queue.length){if(this.pending_message)this.$MercuryServerSendMessageQueue7();return}this.pending_message=this.queue.shift();var k={client:this.client,action_type:this.pending_message.action_type,app_id:this.pending_message.app_id,audio_ids:this.pending_message.audio_ids,body:this.pending_message.body,client_thread_id:this.pending_message.client_thread_id,content_attachment:this.pending_message.content_attachment,ephemeral_ttl_mode:this.pending_message.ephemeral_ttl_mode,file_ids:this.pending_message.file_ids,gif_ids:this.pending_message.gif_ids,has_attachment:this.pending_message.has_attachment,image_ids:this.pending_message.image_ids,location_attachment:this.pending_message.location_attachment,lightweight_action_attachment:this.pending_message.lightweight_action_attachment,log_message_data:this.pending_message.log_message_data,log_message_type:this.pending_message.log_message_type,message_id:this.pending_message.message_id,message_source_data:this.pending_message.message_source_data,montage_reply_data:this.pending_message.montage_reply_data,offline_threading_id:this.pending_message.offline_threading_id,other_user_fbid:this.pending_message.other_user_fbid,photo_fbids:this.pending_message.photo_fbids,shareable_attachment:this.pending_message.shareable_attachment,signature_id:this.pending_message.signatureID,source:this.pending_message.source,specific_to_list:this.pending_message.specific_to_list,sticker_id:this.pending_message.sticker_id,tags:this.pending_message.tags,thread_fbid:this.pending_message.thread_fbid,timestamp:this.pending_message.timestamp,ui_push_phase:this.pending_message.ui_push_phase,video_ids:this.pending_message.video_ids,platform_xmd:this.pending_message.platform_xmd,profile_xmd:this.pending_message.profile_xmd};for(var l in k)if(k[l]===undefined||k[l]===null)delete k[l];if(!k.action_type){var m=c("MercuryLoggingHelper").obfuscateMessage(k);c("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller");i.debug("missing_action_type",JSON.stringify(m))}if(!k.message_id){var n=c("MercuryLoggingHelper").obfuscateMessage(k);c("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller"+JSON.stringify(n));i.debug("missing_message_id",JSON.stringify(n))}c("MercuryServerDispatcher").trySend(c("XMessagingSendController").getURIBuilder().getURI().toString(),k,null,this.sender_id,this.queue_id)};j.prototype.$MercuryServerSendMessageQueue8=function(){while(this.queue.length)this.$MercuryServerSendMessageQueue9(this.queue.shift())};j.prototype.$MercuryServerSendMessageQueue9=function(k){this.$MercuryServerSendMessageQueue1(c("MercuryServerSendMessageQueueSimulatedError").create(k));i.error("mark_as_failed",JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,message:c("MercuryLoggingHelper").obfuscateMessage(k)}))};j.prototype.handleSuccess=function(k,l){__p&&__p();var m=(k.actions||[]).map(function(n){__p&&__p();var o,p=babelHelpers["extends"]({},n);if(n.graphql_payload&&n.graphql_payload.length>0){var q=c("messengerAttachmentTransformerForSendRe").transform(this.sender_id,n.graphql_payload,n.for_page);p=Object.assign(p,{attachments:q})}var r=(o=n)!=null?(o=o.log_message_data)!=null?o.graphql_image:o:o;if(r){var s=c("messengerAttachmentTransformerForSendRe").transform(this.sender_id,[r],n.for_page);p=Object.assign(p,{log_message_data:{image:s[0]}})}return p}.bind(this));k.actions=m;this.$MercuryServerSendMessageQueue2(k,l);this.pending_message=null;this.$MercuryServerSendMessageQueue6()};j.prototype.handleError=function(k){this.$MercuryServerSendMessageQueue1(k);this.$MercuryServerSendMessageQueue8();this.pending_message=null};j.prototype.handleTransportError=function(k){this.$MercuryServerSendMessageQueue4(k);this.$MercuryServerSendMessageQueue8();this.pending_message=null};j.prototype.handleTimeout=function(k){this.$MercuryServerSendMessageQueue3(k);this.$MercuryServerSendMessageQueue8();this.pending_message=null};j.prototype.$MercuryServerSendMessageQueue7=function(){i.debug("maybe_send_next_pending_message",JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,pending_message:c("MercuryLoggingHelper").obfuscateMessage(this.pending_message),queue:this.queue.map(function(l){return c("MercuryLoggingHelper").obfuscateMessage(l)})}));var k="send_queue.delayed.queue_length."+this.queue.length.toString();c("BanzaiODS").bumpEntityKey("chat.web",k)};f.exports=j}),null);
__d("MercurySingletonMixin",["CurrentUser"],(function a(b,c,d,e,f,g){__p&&__p();var h={_getInstances:function i(){if(!this._instances)this._instances={};return this._instances},get:function i(){return this.getForFBID(c("CurrentUser").getID())},getForFBID:function i(j){var k=this._getInstances();if(!k[j])k[j]=new this(j);return k[j]}};f.exports=h}),null);
__d("MercuryServerSendMessageQueueRouter",["BanzaiODS","LogHistory","Map","MercuryServerSendMessageQueue","MercurySingletonMixin"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("LogHistory").getInstance("mercury_server_send_message_queue_router"),i="chat.web.send_queue_router";c("BanzaiODS").setEntitySample(i,.1);function j(k){"use strict";this.queues=new(c("Map"))();this.fbid=k}j.prototype.enqueue=function(k,l,m,n){"use strict";var o=this.queues.get(k);if(o===undefined){o=new(c("MercuryServerSendMessageQueue"))(this.fbid,k,l,m);this.queues.set(k,o);h.debug("added queue",JSON.stringify({fbid:this.fbid,queue_id:k}));c("BanzaiODS").bumpEntityKey(i,"new_queue")}o.enqueue(n)};Object.assign(j,c("MercurySingletonMixin"));f.exports=j}),null);
__d("MercurySourceType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHAT_ORCA:"source:chat:orca",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",CONTACT_ADD_MUTATION:"source:contact_add:graphql_mutation",CONTACT_ADD_CYMK:"source:contact_add:cymk_suggestion",CUSTOMER_CHAT_PLUGIN:"source:discovery:customer_chat_plugin",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",EVENT_TICKETING:"source:event_ticket",EVENT_REMINDERS:"source:event_reminders",FUNDRAISER_MESSAGE_BLAST:"source:fundraiser_message_blast",GENERIC_ADMIN_TEXT:"source:generic_admin_text",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",INVITE:"source:invite",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",MESSENGER_WEB_SEARCH:"source:messenger:web_search",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",PAGE_UNIFIED_INBOX:"source:page_unified_inbox",UNKNOWN:"source:unknown",WEB:"source:web",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",MESSENGER_EMPLOYEE_ONLY_BOT:"source:bot:employee_only",MESSENGER_OMNIM:"source:messenger:omnim",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MESSENGER_LEAD_GEN:"source:messenger:lead_gen",PAGES_MESSAGE_SHORTLINK:"source:pages:message_shortlink",STICKER_SUBSCRIBE:"source:messenger:sticker_subscribe",PHOTO_TAG:"source:messenger:photo_tag",INTERNAL_TEST_PENDING:"source:internal:test_pending",JOB_SEARCH_APPLICATION:"source:job_search:application",MESSENGER_JOINABLE_LINK:"source:messenger:joinable_link",MESSENGER_ADD_WITH_APPROVAL:"source:messenger:add_with_approval",MESSENGER_SMS_BRIDGE_CONVERT:"source:messenger:sms_bridge_conversion",TINCAN_ORCA:"source:tincan:orca",TINCAN_IOS:"source:tincan:ios",TINCAN_UNKNOWN:"source:tincan:unknown",FACEBOOK_GROUPS_CHANNELS:"source:groups:channels",GROUP_COMMERCE:"source:group_commerce",INTERNAL_TOOL:"source:internal:tool",PAGES_PLATFORM:"source:pages:platform",PAGES_RECOMMENDATION:"source:pages:recommendation",PAGES_ORDER_MANAGEMENT:"source:pages:order_management",PAGE_AUTO_RESPONSE:"source:pages:auto_response",PAGES_INVITE:"source:pages:invite",PAGES_CHAT_EXTENSION:"source:pages:chat_extension",SAVED_CHAT_EXTENSION:"source:saved:chat_extension",CREATOR_PAGE_INITIATE_TO_CREATOR_PAGE:"source:pages:creator_page_initiate_to_creator_page",LIVE_VIDEO_CHAT:"source:live_video_chat",FRIENDING_ADMIN_BUMP:"source:messenger_growth:friending_admin_bump",NEW_MESSENGER_USER_ADMIN_BUMP:"source:messenger_growth:new_messenger_user_admin_bump",EVENT_UPCOMING_BUMP:"source:messenger_growth:event_upcoming_bump",PHOTO_TAG_BUMP:"source:messenger_growth:photo_tag_bump",WALL_POST_BUMP:"source:messenger_growth:wall_post_bump",CUSTOMIZATION_UPSELL_BUMP:"source:messenger_growth:customization_upsell_bump",PAGE_COMMENT_MSG:"source:pages:question_triggered_convo",COMMENT_PIVOT:"source:messenger_growth:comment_pivot",PAGE_HOVERCARD:"source:pages:hovercard",INSTANT_GAMES:"source:instant_games",PAGE_EMAIL_REPLY:"source:pages:email_reply",PAGE_HOME_PAGE_PANEL:"source:page_home_page_panel",GROUPSYNC_MESSENGER_GROUP_CREATE:"source:groupsync:messenger_group_create",GROUPSYNC_SYNC_FROM_FB:"source:groupsync:sync_from_fb",GROUPSYNC_NAMING:"source:groupsync:naming",PAGE_PQI_MESSAGE:"source:pages:pqi_message"})}),null);
__d("MercurySyncConstants",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({ARBITER_EVENT_INVALID_STATE:"SYNC:INVALID_STATE",ARBITER_EVENT_INVALID_STATE_RETRY:"SYNC:INVALID_STATE_RETRY",ARBITER_EVENT_INVALID_STATE_RECOVER:"SYNC:INVALID_STATE_RECOVER",ARBITER_EVENT_SERVER_REQUESTS_FAIL:"NET:SERVER_REQUESTS_FAIL",ARBITER_EVENT_SERVER_REQUESTS_RECOVER:"NET:SERVER_REQUESTS_RECOVER"});f.exports=h}),null);
__d("MercurySyncDeltaHolder",["Map","MercurySingletonProvider"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$MercurySyncDeltaHolder2=new(c("Map"))();this.$MercurySyncDeltaHolder3=[];this.$MercurySyncDeltaHolder1=0}h.getForFBID=function(j){return i.getForFBID(j)};h.get=function(){return i.get()};h.prototype.peek=function(){this.$MercurySyncDeltaHolder3=this.$MercurySyncDeltaHolder3.sort(function(j,k){return j-k});return this.$MercurySyncDeltaHolder3[0]};h.prototype.getTop=function(){this.$MercurySyncDeltaHolder3=this.$MercurySyncDeltaHolder3.sort(function(j,k){return j-k});return this.$MercurySyncDeltaHolder3.reverse()[0]};h.prototype.pop=function(){this.$MercurySyncDeltaHolder3=this.$MercurySyncDeltaHolder3.sort(function(l,m){return l-m});if(this.$MercurySyncDeltaHolder3.length===0)return undefined;var j=this.$MercurySyncDeltaHolder3.shift(),k=this.$MercurySyncDeltaHolder2.get(j);this.$MercurySyncDeltaHolder2["delete"](j);return{seqID:j,delta:k}};h.prototype.push=function(j,k){if(this.$MercurySyncDeltaHolder2.has(j))return;this.$MercurySyncDeltaHolder2.set(j,k);this.$MercurySyncDeltaHolder3.push(j)};h.prototype.getLastSeqID=function(){return this.$MercurySyncDeltaHolder1};h.prototype.updateLastSeqID=function(j){this.$MercurySyncDeltaHolder1=j};var i=new(c("MercurySingletonProvider"))(h);f.exports=h}),null);
__d("PageMessageEnumTag",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FLAG:"flag",IMPORTANT:"important",LOW_VALUE:"low_value",SPAM_SPOOFING:"spam_spoofing",JOB_APPLICATION:"job_application",CONFIRMED_APPOINTMENT:"confirmed_appointment",PENDING_APPOINTMENT:"pending_appointment",REQUESTED_APPOINTMENT:"requested_appointment",MESSENGER_ADS:"messenger_ads"})}),null);
__d("XMercuryUnseenThreadIDsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/mercury/unseen_thread_ids/",{})}),null);
__d("XMessagingChangeMentionsMuteModeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/mercury/change_mentions_mute_thread/",{})}),null);
__d("XMessagingChangeReactionsMuteModeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/mercury/change_reactions_mute_thread/",{})}),null);
__d("MercuryServerRequests",["errorCode","invariant","Arbiter","AsyncResponse","BanzaiODS","ChannelConstants","ChatReliabilityInstrumentation","CurrentUser","FBJSON","EventProfiler","LogHistory","MercuryActionStatus","MercuryActionType","MercuryAPIArgsSource","MercuryAssert","MercuryConfig","MercuryDispatcher","MercuryErrorType","MercuryGlobalActionType","MercuryIDs","MercuryLogMessageType","MercuryMessageClientState","MercuryPayloadSource","MercurySendErrorLogger","MercuryServerPayloadPreprocessor","MercuryServerRequestsConfig","MercuryServerSendMessageQueueRouter","MercuryServerURIs","MercurySingletonProvider","MercurySourceType","MercurySyncDeltaHolder","MercurySyncConstants","MercuryThreadIDMap","MercuryThreadlistConstants","MercuryMessageIDsRe","MessagingConfig","MessagingTag","PageMessageEnumTag","MercuryServerSendMessageQueueOptions","MercuryServerDispatcher","Set","XMercuryUnseenThreadIDsController","XMessagingChangeMentionsMuteModeController","XMessagingChangeReactionsMuteModeController","createObjectFrom","gkx","ifRequired","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("LogHistory").getInstance("mercury_server"),k=c("MercuryAPIArgsSource").MERCURY,l=1e3,m=30*1e3,n=true;function o(z){return z.getError()?"_"+z.getError():""}function p(z,A){__p&&__p();var B=babelHelpers["extends"]({},z),C=void 0;if(A.threads){if(!B.threads)B.threads={};for(C in A.threads)B.threads[C]=Object.keys(c("createObjectFrom")((B.threads[C]||[]).concat(A.threads[C]||[])))}if(A.messages){if(!B.messages)B.messages={};for(C in A.messages){if(!B.messages[C])B.messages[C]={};for(var D in A.messages[C])if(B.messages[C][D])B.messages[C][D]=t(B.messages[C][D],A.messages[C][D]);else B.messages[C][D]=A.messages[C][D]}}B.client=z.client||A.client;return B}function q(z,A){var B=Object.assign(c("createObjectFrom")(z.folders,true),c("createObjectFrom")(A.folders,true)),C=z.client||A.client;return{folders:Object.keys(B),client:C}}function r(z,A){for(var B in A)if(z[B]&&typeof z[B]==="object")z[B]=t(z[B],A[B]);else if(A[B]&&typeof A[B]==="object"){var C={};Object.assign(C,A[B]);z[B]=C}return z}function s(z,A){return A}function t(z,A){var B=z.offset<A.offset?z.offset:A.offset,C=z.offset+z.limit,D=A.offset+A.limit,E=C>D?C:D,F=E-B,G=z.timestamp>A.timestamp?z.timestamp:A.timestamp;return{offset:B,limit:F,timestamp:G}}function u(z,A){var B=z.client||A.client,C={ids:{},client:B};Object.assign(C.ids,z.ids,A.ids);return C}function v(z,A){__p&&__p();var B={},C=void 0,D=z.client||A.client;delete z.client;delete A.client;for(C in z)Object.assign(B,c("createObjectFrom")(z[C],C));for(C in A)Object.assign(B,c("createObjectFrom")(A[C],C));var E={client:D};for(var F in B){C=B[F];if(!E[C])E[C]=[];E[C].push(F)}return E}function w(z,A){var B=z.client||A.client,C=c("createObjectFrom")(z.ids,true),D=c("createObjectFrom")(A.ids,true),E=Object.assign(C,D);return{ids:Object.keys(E),client:B}}function x(z){__p&&__p();this.$MercuryServerRequests1=z;this.$MercuryServerRequests2=0;this.$MercuryServerRequests3={};this.$MercuryServerRequests4={};this.$MercuryServerRequests9=new(c("Set"))();this.__threadIDMap=c("MercuryThreadIDMap").getForFBID(this.$MercuryServerRequests1);this.$MercuryServerRequests5=c("MercuryDispatcher").getForFBID(this.$MercuryServerRequests1);this.$MercuryServerRequests6=c("MercuryServerPayloadPreprocessor").getForFBID(this.$MercuryServerRequests1);this.$MercuryServerRequests7=new(c("MercuryServerSendMessageQueueOptions"))(function(A,B){this.__handleUpdate(A,B)}.bind(this),function(A){return this.$MercuryServerRequests10(A)}.bind(this),function(A){this.$MercuryServerRequests11(A)}.bind(this),function(A){return this.$MercuryServerRequests12(A)}.bind(this),c("MercuryServerRequestsConfig").sendMessageTimeout,c("MessagingConfig").SEND_CONNECTION_RETRIES);this.$MercuryServerRequests8=c("MercurySyncDeltaHolder").getForFBID(this.$MercuryServerRequests1);this.$MercuryServerRequests13()}x.getForFBID=function(z){return y.getForFBID(z)};x.get=function(){return y.get()};x.prototype.fetchThreadlistInfo=function(z,A){__p&&__p();var B=arguments.length<=2||arguments[2]===undefined?c("MessagingTag").INBOX:arguments[2],C=arguments[3],D=arguments.length<=4||arguments[4]===undefined?k:arguments[4],E=arguments[5];if(n){n=false;c("EventProfiler").tagCurrentActiveInteractionsAs("FirstMercuryThreadFetch")}var F=C?c("MercuryServerDispatcher").IMMEDIATE:null;if(c("MercuryConfig").MessengerInboxRequests&&!F&&c("gkx")("AT6k4q_FpxHOg5pke0cIeoOSz9TDOKLGTv6uQmXW3Apzeacou2FfBIyiYS2xi1X396k4nIwSLJ6rBI1n0hbeA_ij"))F=c("MercuryServerDispatcher").BATCH_DEFERRED_MULTI;var G={client:D};G[B]={offset:z,limit:A,filter:C,before:E};this.__sendRequest(c("MercuryServerURIs").THREADLIST_INFO,G,F)};x.prototype.fetchUnseenThreadIDs=function(){var z=arguments.length<=0||arguments[0]===undefined?c("MessagingTag").INBOX:arguments[0],A=arguments.length<=1||arguments[1]===undefined?k:arguments[1];this.__sendRequest(c("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString(),{})};x.prototype.fetchUnreadThreadIDs=function(z){var A=arguments.length<=1||arguments[1]===undefined?k:arguments[1];this.__sendRequest(c("MercuryServerURIs").UNREAD_THREADS,{folders:[z],client:A})};x.prototype.fetchThreadData=function(z){__p&&__p();var A=arguments.length<=1||arguments[1]===undefined?k:arguments[1];c("MercuryAssert").allThreadID(z);var B={threads:{},client:A},C=[],D=[];z.forEach(function(F){__p&&__p();if(this.$MercuryServerRequests3[F])return;this.$MercuryServerRequests3[F]=true;var G=this.__threadIDMap.getServerIDFromClientIDNow(F),H=c("MercuryIDs").tokenize(F);if(H.type=="user"){C.push(H.value);B.threads.user_ids=C}else if(H.type=="thread"){if(G)D.push(G);else D.push(H.value);B.threads.thread_fbids=D}else if(H.type=="root"){if(G){D.push(G);B.threads.thread_fbids=D}}else if(H.type!="pending")throw new Error("Unknown thread type",H)}.bind(this));this.$MercuryServerRequests5.inform("fetch-thread-data",B);if(B.threads.user_ids)B.threads.user_ids.forEach(function(F){if(!F){j.error("empty user id",JSON.stringify(C));c("ChatReliabilityInstrumentation").logERROR("Invalid user ID sent to thread_info.php: "+JSON.stringify(C))}});if(B.threads.thread_fbids)B.threads.thread_fbids.forEach(function(F){if(!F)c("ChatReliabilityInstrumentation").logERROR("Invalid FBID sent to thread_info.php: "+JSON.stringify(z))});for(var E in B.threads){this.__sendRequest(c("MercuryServerURIs").THREAD_INFO,B);break}};x.prototype.ensureThreadIsFetched=function(z){__p&&__p();var A=arguments.length<=1||arguments[1]===undefined?k:arguments[1];if(!this.__threadIDMap.getClientIDFromServerIDNow(z)&&!this.$MercuryServerRequests3[z]){if(!z){c("ChatReliabilityInstrumentation").logERROR("Ensure invalid FBID sent to thread_info.php");j.error("attempting to fetch empty thread_fbid. Bad idea!");return}this.$MercuryServerRequests3[z]=true;this.__sendRequest(c("MercuryServerURIs").THREAD_INFO,{threads:{thread_fbids:[z]},client:A})}};x.prototype.fetchThreadMessages=function(z,A,B,C,D){__p&&__p();var E=arguments.length<=5||arguments[5]===undefined?k:arguments[5];c("MercuryAssert").isThreadID(z);var F=void 0,G=void 0,H=c("MercuryIDs").tokenize(z),I=this.__threadIDMap.getServerIDFromClientIDNow(z),J=false;if(I){F=I;G=H.type=="user"?"user_ids":"thread_fbids"}else{F=H.value;switch(H.type){case"user":G="user_ids";J=true;break;case"thread":G="thread_fbids";break}}var K={messages:{},threads:{},client:E};if(G){K.messages[G]={};K.messages[G][F]={offset:A,timestamp:C,limit:B};if(J)K.threads[G]=[F];this.__sendRequest(c("MercuryServerURIs").THREAD_INFO,K,D)}else this.__threadIDMap.getServerIDFromClientID(z,function(L){K.messages.thread_fbids={};K.messages.thread_fbids[L]={offset:A,timestamp:C,limit:B};this.__sendRequest(c("MercuryServerURIs").THREAD_INFO,K,D)}.bind(this))};x.prototype.handleThreadInfoError=function(z,A){__p&&__p();var B,C=this,D=z.getData(),E=[];if(D.messages){for(var F in D.messages.thread_fbids){var G=this.__threadIDMap.getClientIDFromServerIDNow(F);if(G)E.push(this.$MercuryServerRequests14(G))}for(var H in D.messages.user_ids)E.push(this.$MercuryServerRequests14("user:"+H));for(var I in D.messages.group_ids)E.push(this.$MercuryServerRequests14("group:"+I))}if(E.length)this.$MercuryServerRequests5.handleUpdate({actions:E,from_client:true,payload_source:c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});if(D.threads&&(D.threads.user_ids||D.threads.thread_fbids||D.threads.group_ids||D.threads.thread_ids)){var J=5,K=true;if(!D.retry_count){D.retry_count=0;if(D.messages)delete D.messages}else if(D.retry_count>=J&&(!A||!c("gkx")("AT64J9YhwkyrHxbLybCQFLyzjkGHk3oI2YIajEOuOFur_lZPJRPR_CognCbUbaH7Kn5DndmAaaKKt6FL7dls2Aba"))){K=false;(D.threads.thread_ids||[]).concat(D.threads.thread_fbids||[]).forEach(function(M){if(M in this.$MercuryServerRequests3)delete this.$MercuryServerRequests3[M]},this)}[].concat(D.threads.thread_ids||[],D.threads.thread_fbids||[],D.threads.user_ids||[],D.threads.group_ids||[]).forEach(function(M){if(M)this.$MercuryServerRequests9.add(M);else c("ChatReliabilityInstrumentation").logERROR("lost a thread id somehow")}.bind(this));if(K){var L=Math.pow(2,Math.min(D.retry_count,J))*1e3;c("setTimeoutAcrossTransitions")(function(){j.log("retry_thread","{}");this.__sendRequest(c("MercuryServerURIs").THREAD_INFO,D)}.bind(this),L);D.retry_count++}if(this.$MercuryServerRequests9.size)(function(){var M=[];C.$MercuryServerRequests9.forEach(function(N){return M.push(N)});j.debug("failed threads",JSON.stringify(M));c("Arbiter").inform(c("MercurySyncConstants").ARBITER_EVENT_SERVER_REQUESTS_FAIL,M)})()}};x.prototype.markFolderAsRead=function(z){this.__sendRequest(c("MercuryServerURIs").MARK_FOLDER_READ,{folder:z});var A=[{action_type:c("MercuryGlobalActionType").MARK_ALL_READ,folder:z}];this.$MercuryServerRequests5.handleUpdate({global_actions:A,from_client:true,payload_source:c("MercuryPayloadSource").CLIENT_CHANGE_READ_STATUS})};x.prototype.changeThreadReadStatus=function(z,A,B,C,D,E){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(F){var G,H={ids:(G={},G[F]=A,G),source:B,watermarkTimestamp:C,shouldSendReadReceipt:D,commerce_last_message_type:E};j.log("initiate_change_read_status",JSON.stringify({thread_id:z,thread_fbid:F,mark_as_read:A,watermarkTimestamp:C}));this.__sendRequest(c("MercuryServerURIs").CHANGE_READ_STATUS,H)}.bind(this))};x.prototype.changeThreadArchivedStatus=function(z,A,B){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(C){var D={ids:{},source:B};D.ids[C]=A;this.__sendRequest(c("MercuryServerURIs").CHANGE_ARCHIVED_STATUS,D)}.bind(this))};x.prototype.changeThreadPageFollowUpStatus=function(z,A,B){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(C){var D={ids:{},source:B};D.ids[C]=A;this.__sendRequest(c("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS,D)}.bind(this))};x.prototype.changeThreadFolder=function(z,A){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(B){var C={};C[A]=[B];this.__sendRequest(c("MercuryServerURIs").MOVE_THREAD,C)}.bind(this))};x.prototype.changeMutingOnThread=function(z,A){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(B){this.__sendRequest(c("MercuryServerURIs").CHANGE_MUTE_THREAD,{thread_fbid:B,mute_settings:A,payload_source:k})}.bind(this))};x.prototype.changeMentionsMutingOnThread=function(z,A){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(B){this.__sendRequest(c("XMessagingChangeMentionsMuteModeController").getURIBuilder().getURI(),{thread_fbid:B,mentions_mute_mode:A,payload_source:k})}.bind(this))};x.prototype.changeReactionsMutingOnThread=function(z,A){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(B){this.__sendRequest(c("XMessagingChangeReactionsMuteModeController").getURIBuilder().getURI(),{thread_fbid:B,reactions_mute_mode:A,payload_source:k})}.bind(this))};x.prototype.markThreadSpam=function(z,A){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(B){this.__sendRequest(c("MercuryServerURIs").MARK_SPAM,{id:B,source:A})}.bind(this))};x.prototype.unmarkThreadSpam=function(z,A){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(B){this.__sendRequest(c("MercuryServerURIs").UNMARK_SPAM,{id:B,source:A})}.bind(this))};x.prototype.deleteThread=function(z,A){c("MercuryAssert").isThreadID(z);this.__threadIDMap.getServerIDFromClientID(z,function(B){var C={ids:[B],source:A};this.__sendRequest(c("MercuryServerURIs").DELETE_THREAD,C)}.bind(this))};x.prototype.deleteMessages=function(z,A){c("MercuryMessageIDsRe").getServerIDs(A||[],function(B){this.__sendRequest(c("MercuryServerURIs").DELETE_MESSAGES,{message_ids:B})}.bind(this))};x.prototype.sendDeliveryReceipts=function(z,A){c("MercuryMessageIDsRe").getServerIDs(z||[],function(B){this.__sendRequest(c("MercuryServerURIs").DELIVERY_RECEIPTS,{message_ids:B,thread_ids:A})}.bind(this))};x.prototype.sendNewMessage=function(z){__p&&__p();var A=arguments.length<=1||arguments[1]===undefined?k:arguments[1];if(!z.offline_threading_id)c("BanzaiODS").bumpEntityKey("chat.web","missing_otid_on_send");if(z.client_state&&z.client_state!==c("MercuryMessageClientState").SEND_TO_SERVER)return;var B=c("MercuryIDs").tokenize(z.thread_id),C=B.type,D=babelHelpers["extends"]({},z);D.thread_id=null;if(C=="user"){D.other_user_fbid=B.value;this.$MercuryServerRequests15(D,A)}else if(C=="thread"){D.thread_fbid=B.value;this.$MercuryServerRequests15(D,A)}else if(C=="root"&&B.value==D.offline_threading_id){D.client_thread_id=z.thread_id;this.$MercuryServerRequests15(D,A)}else{c("MercuryIDs").isLocalThread(z.thread_id)||i(0);this.__threadIDMap.getServerIDFromClientID(z.thread_id,function(E){D.thread_fbid=E;this.$MercuryServerRequests15(D,A)}.bind(this))}c("ChatReliabilityInstrumentation").logMESSAGE_SEND_START(c("FBJSON").stringify({otid:D.offline_threading_id,message_id:D.message_id,other_user_fbid:D.other_user_fbid,viewer_page_fbid:!D.creator_info?null:D.creator_info.pageID}))};x.prototype.$MercuryServerRequests15=function(z,A){c("Arbiter").inform(c("ChannelConstants").ATTEMPT_RECONNECT);this.$MercuryServerRequests4[z.message_id]=Date.now();c("MercuryServerSendMessageQueueRouter").getForFBID(this.$MercuryServerRequests1).enqueue(z.other_user_fbid||z.thread_fbid||z.client_thread_id,this.$MercuryServerRequests7,A,z)};x.prototype.markSeen=function(){var z=this.$MercuryServerRequests2;this.__sendRequest(c("MercuryServerURIs").MARK_SEEN,{seen_timestamp:z})};x.prototype.$MercuryServerRequests16=function(z,A,B,C){__p&&__p();var D=z.getData(),E=D.message_batch||[D];j.debug("handle_send_message_error_common",JSON.stringify({reliability_error_status:B,request_error_status:A,error_data:C,message_list:E}));var F=E.map(function(H){var I={action_type:c("MercuryActionType").SEND_MESSAGE,other_user_fbid:H.other_user_fbid,thread_fbid:H.thread_fbid,client_message_id:H.message_id,message_id:H.message_id,client_thread_id:H.client_thread_id,status:A,error_data:C};return I});F.forEach(function(H){if(H.action_type===c("MercuryActionType").SEND_MESSAGE&&H.status===c("MercuryActionStatus").ERROR)this.__logMercurySendError(H)},this);var G={actions:F,payload_source:c("MercuryPayloadSource").CLIENT_HANDLE_ERROR};this.$MercuryServerRequests6.handleUpdate(G)};x.prototype.handleSendMessageError=function(z){__p&&__p();var A=z.getPayload(),B=null,C=null;if(A&&A.error_payload){B=c("MercuryActionStatus").UNCONFIRMED;C="send_error"}else{B=c("MercuryActionStatus").ERROR;C="request_error"+o(z)}var D=z.error;if(D===1404102)c("AsyncResponse").verboseErrorHandler(z);var E=/<.*>/.test(z.getErrorDescription())?z.getErrorSummary():z.getErrorDescription();this.$MercuryServerRequests16(z.getRequest(),B,C,{type:c("MercuryErrorType").SERVER,code:z.getError(),description:E,is_transient:z.isTransient()})};x.prototype.handleSendMessageTransportError=function(z){this.$MercuryServerRequests16(z.getRequest(),c("MercuryActionStatus").ERROR,"transport_error"+o(z),{type:c("MercuryErrorType").TRANSPORT,code:z.getError(),is_transient:true})};x.prototype.handleSendMessageTimeout=function(z){this.$MercuryServerRequests16(z,c("MercuryActionStatus").ERROR,"transport_timeout",{type:c("MercuryErrorType").TIMEOUT,is_transient:true})};x.prototype.getLastActionTimestamp=function(){return this.$MercuryServerRequests2};x.prototype.__logMercurySendError=function(z){c("MercurySendErrorLogger").log(z)};x.prototype.updateLastActionTimestamp=function(z){var A=Date.now()-1e3*60*60*24;if(z&&z>A)this.$MercuryServerRequests2=Math.max(this.$MercuryServerRequests2,z)};x.prototype.markThreadFetched=function(z){delete this.$MercuryServerRequests3[z];if(this.$MercuryServerRequests9["delete"](z)&&!this.$MercuryServerRequests9.size){j.debug("no_failed_threads","{}");c("Arbiter").inform(c("MercurySyncConstants").ARBITER_EVENT_SERVER_REQUESTS_RECOVER)}};x.prototype.$MercuryServerRequests14=function(z){return{action_type:c("MercuryActionType").LOG_MESSAGE,thread_id:z,message_id:z,timestamp:Date.now(),is_unread:false,source:c("MercurySourceType").UNKNOWN,log_message_body:"",log_message_type:c("MercuryLogMessageType").SERVER_ERROR,log_message_data:{}}};x.prototype.__getForAsyncRequest=function(z){var A=z.getData(),B=A.request_user_id?A.request_user_id:c("CurrentUser").getID();return x.getForFBID(B)};x.prototype.__handleUpdate=function(z,A){this.__getForAsyncRequest(A).$MercuryServerRequests6.handleUpdate(z)};x.prototype.$MercuryServerRequests17=function(z){var A=this.__getForAsyncRequest(z);A.handleThreadInfoError(z)};x.prototype.$MercuryServerRequests18=function(z){var A=this.__getForAsyncRequest(z);A.handleThreadInfoError(z,true)};x.prototype.$MercuryServerRequests10=function(z){var A=this.__getForAsyncRequest(z.getRequest());A.handleSendMessageError(z)};x.prototype.$MercuryServerRequests11=function(z){var A=this.__getForAsyncRequest(z.getRequest());A.handleSendMessageTransportError(z)};x.prototype.$MercuryServerRequests12=function(z){var A=this.__getForAsyncRequest(z);A.handleSendMessageTimeout(z)};x.prototype.$MercuryServerRequests13=function(){__p&&__p();var z,A=null;if(c("MercuryServerRequestsConfig").msgrRegion)A={name:"X-MSGR-Region",value:c("MercuryServerRequestsConfig").msgrRegion};var B=(z={},z[c("MercuryServerURIs").THREAD_INFO]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").BATCH_DEFERRED_MULTI,customHeader:A,batch_function:p,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this),error_handler:function(F){return this.$MercuryServerRequests17(F.getRequest())}.bind(this),timeout_handler:function(F){return this.$MercuryServerRequests18(F)}.bind(this),timeout:m},z[c("MercuryServerURIs").MARK_FOLDER_READ]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").CHANGE_READ_STATUS]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){this.__handleUpdate(F,G);var H=(F.threads||[]).map(function(I){return I&&I.thread_id});j.log("response_change_read_status",JSON.stringify({threads:H}))}.bind(this)},z[c("MercuryServerURIs").MARK_SEEN]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:A,batch_function:s,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").THREADLIST_INFO]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:A,batch_function:r,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").MARK_SPAM]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").UNMARK_SPAM]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").UNREAD_THREADS]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:A,batch_function:q,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").CHANGE_ARCHIVED_STATUS]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:A,batch_function:u,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:A,batch_function:u,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").DELETE_THREAD]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:A,batch_function:w,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").DELETE_MESSAGES]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").DELIVERY_RECEIPTS]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").MOVE_THREAD]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:A,batch_function:v,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z[c("MercuryServerURIs").CHANGE_MUTE_THREAD]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)},z),C=c("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString();B[C]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)};var D=c("XMessagingChangeMentionsMuteModeController").getURIBuilder().getURI().toString();B[D]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)};var E=c("XMessagingChangeReactionsMuteModeController").getURIBuilder().getURI().toString();B[E]={request_user_id:this.$MercuryServerRequests1,mode:c("MercuryServerDispatcher").IMMEDIATE,customHeader:A,handler:function(F,G){return this.__handleUpdate(F,G)}.bind(this)};c("MercuryServerDispatcher").registerEndpoints(B)};x.prototype.__sendRequest=function(z,A,B){if(c("gkx")("AT5ciOxCuhvQiPHB-OF0aBC8VDwgTuUgU0qCNeLTy9HW8OGAaj6YECdnrVkZOqNRHzX5-Wxrb9FeQ1ToJxYOvCPs"))switch(z){case c("MercuryServerURIs").THREADLIST_INFO:case c("MercuryServerURIs").THREAD_INFO:A.cachius_min_seq_id=this.$MercuryServerRequests8.getLastSeqID();break;default:break}c("MercuryServerDispatcher").trySend(z,A,B,this.$MercuryServerRequests1)};x.prototype.__getFBID=function(){return this.$MercuryServerRequests1};var y=new(c("MercurySingletonProvider"))(x);f.exports=x}),null);
__d("MercuryThreadIDMap",["KeyedCallbackManager","MercuryAssert","MercuryIDs","MercurySingletonProvider"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){this.$MercuryThreadIDMap1=j;this.$MercuryThreadIDMap2=new(c("KeyedCallbackManager"))();this.$MercuryThreadIDMap3=new(c("KeyedCallbackManager"))()}h.getForFBID=function(j){return i.getForFBID(j)};h.get=function(){return i.get()};h.prototype.setServerIDToClientID=function(j,k){var l=this.getClientIDFromServerIDNow(j);if(l){l!==k;return}this.forceSetServerIDToClientID(j,k)};h.prototype.forceSetServerIDToClientID=function(j,k){this.$MercuryThreadIDMap2.setResource(j,k);this.$MercuryThreadIDMap3.setResource(k,j)};h.prototype.setDeprecatedServerIDToClientID=function(j,k){if(j)this.$MercuryThreadIDMap2.setResource(j,k)};h.prototype.getClientIDFromServerIDNow=function(j){return this.$MercuryThreadIDMap2.getResource(j)};h.prototype.getClientIDFromServerID=function(j,k){this.$MercuryThreadIDMap2.executeOrEnqueue(j,k);e(["MercuryServerRequests"],function(l){l.getForFBID(this.$MercuryThreadIDMap1).ensureThreadIsFetched(j)}.bind(this))};h.prototype.getServerIDFromClientIDNow=function(j){return this.$MercuryThreadIDMap3.getResource(j)};h.prototype.getServerIDFromClientID=function(j,k){c("MercuryAssert").isThreadID(j);var l=this.$MercuryThreadIDMap3.executeOrEnqueue(j,k);e(["MercuryServerRequests"],function(m){var n=this.$MercuryThreadIDMap3.getUnavailableResources(l),o=c("MercuryIDs").tokenize(j);if(n.length&&o.type!="root")m.getForFBID(this.$MercuryThreadIDMap1).fetchThreadData(n)}.bind(this))};h.prototype.hasClientIDForServerID=function(j){return!!this.getClientIDFromServerIDNow(j)};h.prototype.convertThreadIDIfAvailable=function(j){var k=this.getClientIDFromServerIDNow(j);return k||j};h.prototype.canLinkExternally=function(j){c("MercuryAssert").isThreadID(j);var k=c("MercuryIDs").tokenize(j);return k.type=="user"||!!this.getServerIDFromClientIDNow(j)};var i=new(c("MercurySingletonProvider"))(h);f.exports=h}),null);
__d("MercuryParticipantFetcher",["LogHistory","MercuryIDs","MercuryPayloadSource","MercuryServerPayloadPreprocessor","Set","ShortProfiles","setImmediate","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("LogHistory").getInstance("short_profiles");function i(k){this.$MercuryParticipantFetcher4=c("MercuryServerPayloadPreprocessor").getForFBID(k);this.$MercuryParticipantFetcher1=false;this.$MercuryParticipantFetcher2=new(c("Set"))();this.$MercuryParticipantFetcher3=new(c("Set"))();this.$MercuryParticipantFetcher5=setInterval(this.$MercuryParticipantFetcher7.bind(this),20*1e3)}i.prototype.fetch=function(k){this.$MercuryParticipantFetcher8(k);this.$MercuryParticipantFetcher7()};i.prototype.fetchMulti=function(k){if(k.length){k.forEach(function(l){return this.$MercuryParticipantFetcher8(l)}.bind(this));this.$MercuryParticipantFetcher7()}};i.prototype.$MercuryParticipantFetcher8=function(k){if(!this.$MercuryParticipantFetcher3.has(k))this.$MercuryParticipantFetcher2.add(k)};i.prototype.$MercuryParticipantFetcher7=function(){__p&&__p();if(this.$MercuryParticipantFetcher1||this.$MercuryParticipantFetcher2.size===0)return;this.$MercuryParticipantFetcher1=true;c("setImmediate")(function(){__p&&__p();this.$MercuryParticipantFetcher1=false;this.$MercuryParticipantFetcher2.forEach(function(k){return this.$MercuryParticipantFetcher3.add(k)}.bind(this));this.$MercuryParticipantFetcher9(this.$MercuryParticipantFetcher2,function(k){k.forEach(function(l){return this.$MercuryParticipantFetcher3["delete"](l.id)}.bind(this));this.$MercuryParticipantFetcher10(k);if(this.$MercuryParticipantFetcher6)clearTimeout(this.$MercuryParticipantFetcher6)}.bind(this));this.$MercuryParticipantFetcher11();this.$MercuryParticipantFetcher2.clear()}.bind(this))};i.prototype.$MercuryParticipantFetcher11=function(){this.$MercuryParticipantFetcher6=c("setTimeoutAcrossTransitions")(function(){this.$MercuryParticipantFetcher3.forEach(function(k){return this.$MercuryParticipantFetcher2.add(k)}.bind(this));this.$MercuryParticipantFetcher3.clear()}.bind(this),11*1e3)};i.prototype.$MercuryParticipantFetcher9=function(k,l){__p&&__p();var m=[];k.forEach(function(n){var o=c("MercuryIDs").tokenize(n),p=o.type,q=o.value;p==="fbid"&&m.push(q)});if(m.length>0){c("ShortProfiles").getMulti(m,function(n){var o=[];for(var p in n)o.push(j(n[p],p));l(o);if(o.length!==m.length)h.error("server_fetch_participant_count_error",JSON.stringify({expectedIDs:m,receivedIDs:Object.keys(n)}))});h.debug("client_fetch_participants",JSON.stringify({userIDs:m}))}};i.prototype.$MercuryParticipantFetcher10=function(k){this.$MercuryParticipantFetcher4.handleUpdate({participants:k,from_client:false,payload_source:c("MercuryPayloadSource").SERVER_FETCH_PARTICIPANTS})};function j(k,l){__p&&__p();var m=babelHelpers["extends"]({gender:k.gender,fbid:k.id||l,href:k.uri,id:c("MercuryIDs").getParticipantIDFromUserID(k.id||l),image_src:k.thumbSrc,name:k.name,short_name:k.firstName,employee:k.employee,is_employee_away:k.is_employee_away,type:k.type,vanity:k.vanity,is_friend:k.is_friend,is_messenger_user:k.is_messenger_user,is_coworker:k.is_coworker},{});if(k.officeStatus){m.officeStatus=k.officeStatus;m.officeStatusEndDate=k.officeStatusEndDate;m.officeStatusComment=k.officeStatusComment;m.officeStatusLocation=k.officeStatusLocation}if(k.timezone||k.timezone===0)m.timezone=k.timezone;if(k.personal_id)m.personal_id=k.personal_id;if(k.work_id)m.work_id=k.work_id;return m}f.exports=i}),null);
__d("mercuryVanityIDMapRe",["bs_string","bs_js_primitive","MercuryAssert","bs_js_null_undefined"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={},i={};function j(o){return c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(h[c("bs_string").lowercase(o)]))}function k(o){return c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(i[o]))}function l(o){var p=i[o];if(p!==undefined)return true;else return false}function m(o){var p=h[c("bs_string").lowercase(o)];if(p!==undefined)return true;else return false}function n(o,p){c("MercuryAssert").isParticipantID(p);var q=c("bs_string").lowercase(o);h[q]=p;i[p]=q;return 0}g.vanityToID=h;g.idToVanity=i;g.getID=j;g.getVanity=k;g.hasID=l;g.hasVanity=m;g.set=n}),null);
__d("MercuryParticipants",["fbt","CurrentUser","EventEmitter","ImageSourceRequest","ImageSourceType","ImmutableObject","KeyedCallbackManager","MercuryAssert","MercuryIDs","MercuryParticipantFetcher","MercuryParticipantTypes","MercuryParticipantsConstants","MercuryDispatcher","mercuryVanityIDMapRe","PhotoResizeModeConst","Set","createObjectFrom"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="change";function j(l){__p&&__p();this.$MercuryParticipants1=l;this.$MercuryParticipants2=new(c("EventEmitter"))();this.$MercuryParticipants3=new(c("KeyedCallbackManager"))();this.$MercuryParticipants4=new(c("MercuryParticipantFetcher"))(this.$MercuryParticipants1);this.$MercuryParticipants5=c("MercuryDispatcher").getForFBID(this.$MercuryParticipants1);this.$MercuryParticipants5.subscribe("update-participants",function(m,n){if(n.participants&&n.participants.length>0)this.$MercuryParticipants6(n.participants)}.bind(this));this.$MercuryParticipants5.subscribe("invalidate-global-state",function(){this.$MercuryParticipants7()}.bind(this))}j.prototype.addListener=function(l,m){return this.$MercuryParticipants2.addListener(l,m)};j.prototype.getIDFromVanityOrFBID=function(l){if(!l)return null;if(c("mercuryVanityIDMapRe").hasVanity(l))return c("mercuryVanityIDMapRe").getID(l);if(/^\d+$/.test(l))return c("MercuryIDs").getParticipantIDFromUserID(l);return undefined};j.prototype.getNow=function(l){return this.$MercuryParticipants8(l)};j.prototype.getOrFetch=function(l){var m=this.$MercuryParticipants8(l);if(!m)this.$MercuryParticipants4.fetch(l);return m};j.prototype.get=function(l,m){c("MercuryAssert").isParticipantID(l);return this.$MercuryParticipants9([l],function(n){m(n[l])})};j.prototype.getMulti=function(l,m){return this.$MercuryParticipants9(l,m)};j.prototype.getBigImageMulti=function(l,m){__p&&__p();var n=arguments.length<=2||arguments[2]===undefined?c("MercuryParticipantsConstants").BIG_IMAGE_SIZE:arguments[2];c("MercuryAssert").allParticipantIDs(l);var o=false,p=this.$MercuryParticipants9(l,function(q){__p&&__p();var r={},s=0,t=new(c("Set"))(),u=function(w,y){s++;r[w]=y;if(s===l.length){if(!o)m(r);if(t.size>0)this.$MercuryParticipants10(t)}}.bind(this),v=function(w,y){var z=this.$MercuryParticipants3.getResource(w);if(!z)return;this.$MercuryParticipants3.setResource(w,c("ImmutableObject").set(z,{big_image_src:y.uri}));t.add(w);u(w,y.uri)}.bind(this);for(var w in q){var x=q[w];if(!x.big_image_src)new(c("ImageSourceRequest"))().setFBID(c("MercuryIDs").getUserIDFromParticipantID(w)).setType(c("ImageSourceType").PROFILE_PICTURE).setDimensions(n,n).setResizeMode(c("PhotoResizeModeConst").COVER).setCallback(v.bind(null,w)).send();else u(x.id,x.big_image_src)}}.bind(this));return{remove:function q(){o=true;p.remove()}}};j.prototype.getOrderedBigImageMulti=function(l,m){return this.getBigImageMulti(l,function(n){m(l.map(function(o){return n[o]}))})};j.prototype.$MercuryParticipants9=function(l,m){__p&&__p();c("MercuryAssert").allParticipantIDs(l);var n=this.$MercuryParticipants3.executeOrEnqueue(l,m),o=this.$MercuryParticipants3.getUnavailableResources(n).filter(function(p){__p&&__p();var q=c("MercuryIDs").tokenize(p),r=q.type,s=q.value;if(r==="email"){this.$MercuryParticipants11(p,s);return false}if(r==="name"){this.$MercuryParticipants12(p,s);return false}return true}.bind(this));this.$MercuryParticipants4.fetchMulti(o);return this.$MercuryParticipants13(n)};j.prototype.$MercuryParticipants8=function(l){var m=this.$MercuryParticipants3.getResource(l);if(!m){var n=c("MercuryIDs").tokenize(l),o=n.type,p=n.value;if(o==="email")m=this.$MercuryParticipants11(l,p);if(o==="name")m=this.$MercuryParticipants12(l,p)}return m};j.prototype.$MercuryParticipants11=function(l,m){var n=new(c("ImmutableObject"))(k(l,m));this.$MercuryParticipants3.setResource(l,n);return n};j.prototype.$MercuryParticipants12=function(l,m){var n=new(c("ImmutableObject"))({gender:c("MercuryParticipantsConstants").UNKNOWN_GENDER,href:null,id:l,image_src:c("MercuryParticipantsConstants").EMAIL_IMAGE,big_image_src:c("MercuryParticipantsConstants").EMAIL_IMAGE,name:m,short_name:m,employee:false});this.$MercuryParticipants3.setResource(l,n);return n};j.prototype.$MercuryParticipants10=function(l){this.$MercuryParticipants2.emit(i,l)};j.prototype.$MercuryParticipants6=function(l){var m=l.map(function(n){return n.id});l=l.map(function(n){if(n.vanity)c("mercuryVanityIDMapRe").set(n.vanity,n.id);var o=this.$MercuryParticipants3.getResource(n.id);return o?c("ImmutableObject").set(o,n):new(c("ImmutableObject"))(this.$MercuryParticipants14(n))}.bind(this));this.$MercuryParticipants3.addResourcesAndExecute(c("createObjectFrom")(m,l));this.$MercuryParticipants10(new(c("Set"))(m))};j.prototype.$MercuryParticipants14=function(l){var m=l.type===c("MercuryParticipantTypes").USER||l.type===c("MercuryParticipantTypes").FRIEND;if(!m)return l;if(!l.name&&!l.href&&!l.vanity){var n=h._("Facebook User");l.name=n;l.short_name=n}return l};j.prototype.$MercuryParticipants13=function(l){return{remove:function(){this.$MercuryParticipants3.unsubscribe(l)}.bind(this)}};j.prototype.$MercuryParticipants7=function(){this.$MercuryParticipants3=new(c("KeyedCallbackManager"))()};function k(l,m){return{gender:c("MercuryParticipantsConstants").UNKNOWN_GENDER,href:null,id:l,image_src:c("MercuryParticipantsConstants").EMAIL_IMAGE,big_image_src:c("MercuryParticipantsConstants").EMAIL_IMAGE,name:m,short_name:m,employee:false,fbid:undefined,accepts_messenger_user_feedback:undefined,is_business_enabled:undefined,is_messenger_platform_bot:undefined,is_employee_away:undefined,is_friend:undefined,is_messenger_user:undefined,is_verified:undefined,type:undefined,vanity:undefined,timezone:undefined,personal_id:undefined,work_id:undefined}}f.exports=new j(c("CurrentUser").getID())}),null);
__d("EventReminderMembersMap",["CurrentUser","EventReminderConstants","Map","MercuryIDs","MercuryParticipants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("EventReminderConstants").EventGuestStates,i=c("EventReminderConstants").GuestStates;function j(k){this.$EventReminderMembersMap1=k;this.$EventReminderMembersMap2=new(c("Map"))();this.$EventReminderMembersMap3=new(c("Map"))();this.$EventReminderMembersMap4=new(c("Map"))();this.$EventReminderMembersMap5=new(c("Map"))();this.$EventReminderMembersMap6=new(c("Map"))();this.$EventReminderMembersMap7=new(c("Map"))()}j.prototype.setAllMembers=function(k,l){__p&&__p();if(!k)return;this.$EventReminderMembersMap2.set(l,i.INVITED);var m=[],n=[],o=[],p=[];for(var q in k){m.push(c("MercuryIDs").getParticipantIDFromUserID(q));var r=k[q];if(q===c("CurrentUser").getID())this.$EventReminderMembersMap2.set(l,r);var s={fbid:q,guestState:r,imageSrc:""};if(r===i.GOING)n.push(s);else if(r===i.DECLINED)o.push(s);else p.push(s)}var t=n.concat(o,p);this.$EventReminderMembersMap3.set(l,t);this.$EventReminderMembersMap4.set(l,n);this.$EventReminderMembersMap7.set(l,false);this.$EventReminderMembersMap8(l,m,t)};j.prototype.setAllMembersOfAssociatedEvent=function(k,l){__p&&__p();if(!k)return;this.$EventReminderMembersMap2.set(l,h.INITIAL);var m=[],n=[],o=[],p=[];k.map(function(r){__p&&__p();m.push(c("MercuryIDs").getParticipantIDFromUserID(r.participant_id));var s=r.participant_id.toString(),t=r.event_status||h.INITIAL;if(s===c("CurrentUser").getID())this.$EventReminderMembersMap2.set(l,t);var u={fbid:s,guestState:t,imageSrc:""};if(t===h.GOING)n.push(u);else if(t===h.WATCHED)o.push(u);else p.push(u)},this);var q=n.concat(o,p);this.$EventReminderMembersMap3.set(l,q);this.$EventReminderMembersMap4.set(l,n);this.$EventReminderMembersMap5.set(l,o);this.$EventReminderMembersMap6.set(l,p);this.$EventReminderMembersMap7.set(l,false);this.$EventReminderMembersMap8(l,m,q)};j.prototype.clearMembers=function(k){this.$EventReminderMembersMap2["delete"](k);this.$EventReminderMembersMap3["delete"](k);this.$EventReminderMembersMap4["delete"](k);this.$EventReminderMembersMap5["delete"](k);this.$EventReminderMembersMap6["delete"](k)};j.prototype.getAllMembers=function(k){return this.$EventReminderMembersMap3.get(k)};j.prototype.getGoingMembers=function(k){return this.$EventReminderMembersMap4.get(k)};j.prototype.getInterestedMembers=function(k){return this.$EventReminderMembersMap5.get(k)};j.prototype.getSelfGuestState=function(k){if(!this.$EventReminderMembersMap2.has(k))return i.INVITED;return this.$EventReminderMembersMap2.get(k)};j.prototype.getProfileImagesLoaded=function(k){return!!this.$EventReminderMembersMap7.get(k)};j.prototype.$EventReminderMembersMap8=function(k,l,m){c("MercuryParticipants").getBigImageMulti(l,function(n){for(var o=0;o<m.length;o++)if(m[o].fbid)m[o].imageSrc=n[c("MercuryIDs").getParticipantIDFromUserID(m[o].fbid)];this.$EventReminderMembersMap7.set(k,true);this.$EventReminderMembersMap1.__emitChange()}.bind(this))};f.exports=j}),null);
__d("EventReminderStateStore",["EventReminderActions","EventReminderConstants","EventReminderDispatcher","EventReminderMembersMap","EventRemindersGating","FluxStore","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("EventReminderConstants").EventPlanType,k=36e5;h=babelHelpers.inherits(l,c("FluxStore"));i=h&&h.prototype;function l(){i.constructor.call(this,c("EventReminderDispatcher"));this.$EventReminderStateStore1={};this.$EventReminderStateStore2=new(c("EventReminderMembersMap"))(this);this.$EventReminderStateStore3=new(c("Map"))()}l.prototype.getEvent=function(m){return this.$EventReminderStateStore1[m]};l.prototype.getEventMembers=function(m){return this.$EventReminderStateStore2.getAllMembers(m)};l.prototype.getSelfGuestState=function(m){return this.$EventReminderStateStore2.getSelfGuestState(m)};l.prototype.getNumOfGoingMembers=function(m){var n=this.$EventReminderStateStore2.getGoingMembers(m);return n?n.length:0};l.prototype.getNumOfInterestedMembers=function(m){var n=this.$EventReminderStateStore2.getInterestedMembers(m);return n?n.length:0};l.prototype.getProfileImagesLoaded=function(m){return this.$EventReminderStateStore2.getProfileImagesLoaded(m)};l.prototype.shouldShowCTA=function(m,n){var o=this.getEvent(m),p=Date.now(),q=this.$EventReminderStateStore3.get(m);if((!o||!o.exist)&&n>c("EventRemindersGating").eventPlanCTAThreashold&&(!q||p-q>k)&&c("EventRemindersGating").shouldShowCTA){this.$EventReminderStateStore3.set(m,p);return true}else return false};l.prototype.clearEventMembers=function(m){this.$EventReminderStateStore2.clearMembers(m)};l.prototype.getTransformedEvent=function(event){if(event.room_type==="EVENT"){var m=event.event_place&&event.event_place.name,n=event.event_place&&event.event_place.address&&event.event_place.address.single_line_full_address;return{allowRSVP:true,eventDate:event.start_timestamp,eventName:event.name,eventLocationName:m,eventLocationAddress:n,eventID:event.id.toString(),eventType:j.ASSOCIATED_EVENT,exists:true}}return{allowRSVP:!!event.track_rsvp,eventDate:event.event_time,eventName:event.title,eventLocationName:event.location_name,eventLocationAddress:event.location_address,eventID:event.oid.toString(),eventType:event.event_type,exists:true}};l.prototype.__onDispatch=function(m){__p&&__p();var n=c("EventReminderActions").Types,o=m.threadID;switch(m.type){case n.UPDATE_EVENT_REMINDER:var event=m.event;this.$EventReminderStateStore1[o]=this.getTransformedEvent(event);if(this.$EventReminderStateStore1[o].allowRSVP)if(event.room_type==="EVENT")this.$EventReminderStateStore2.setAllMembersOfAssociatedEvent(m.participantsEventStatus,o);else this.$EventReminderStateStore2.setAllMembers(event.event_members,o);break;case n.DELETE_EVENT_REMINDER:this.$EventReminderStateStore1[o].exists=false;this.clearEventMembers(o);break}this.__emitChange()};f.exports=new l()}),null);
__d("MercuryMessageRenderLocations",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({CHAT:"chat",MESSENGER:"messenger",PAGES:"pages"});f.exports=h}),null);
__d("MessengerFormattingUtils",["React","UnicodeUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(p){return{offset:p[1].length,length:c("UnicodeUtils").strlen(p[2])+2,innerOffset:1,innerText:p[2]}}var i={pattern:/([\s_~\'\"(]|^)\*(\S(?:.*?\S)??)\*(?=[\s_~,.;:!?\'\")]|$)/g,nonCapturingPattern:/(?:[\s_~\'\"(]|^)\*(?:\S(?:.*?\S)??)\*(?=[\s_~,.;:!?\'\")]|$)/,formatter:function p(q){return c("React").createElement("b",null,q)},getRangeInMatch:h,recursivelyFormat:true},j={pattern:/([\s*~\'\"(]|^)_(\S(?:.*?\S)??)_(?=[\s*~,.;:!?\'\")]|$)/g,nonCapturingPattern:/(?:[\s*~\'\"(]|^)_(?:\S(?:.*?\S)??)_(?=[\s*~,.;:!?\'\")]|$)/,formatter:function p(q){return c("React").createElement("i",null,q)},getRangeInMatch:h,recursivelyFormat:true},k={pattern:/([\s*_\'\"(]|^)~(\S(?:.*?\S)??)~(?=[\s*_,.;:!?\'\")]|$)/g,nonCapturingPattern:/(?:[\s*_\'\"(]|^)~(?:\S(?:.*?\S)??)~(?=[\s*_,.;:!?\'\")]|$)/,formatter:function p(q){return c("React").createElement("s",null,q)},getRangeInMatch:h,recursivelyFormat:true},l={pattern:/([\s*_~\'\"(]|^)`(\S(?:.*?\S)??)`(?=[\s\w*_~,.;:!?\'\")]|$)/g,nonCapturingPattern:/(?:[\s*_~\'\"(]|^)`(?:\S(?:.*?\S)??)`(?=[\s\w*_~,.;:!?\'\")]|$)/,formatter:function p(q){return c("React").createElement("code",null,q)},getRangeInMatch:h,recursivelyFormat:false},m=[i,j,k,l];function n(p){var q=arguments.length<=1||arguments[1]===undefined?m:arguments[1];for(var r=0;r<q.length;r++){var s=q[r].nonCapturingPattern;if(s.test(p))return true}return false}function o(p){__p&&__p();var q=arguments.length<=1||arguments[1]===undefined?m:arguments[1],r=[];for(var s=0;s<q.length;s++){var t=q[s];t.pattern.lastIndex=0;var u=void 0;while((u=t.pattern.exec(p))!=null){var v=t.getRangeInMatch(u),w=p.substr(0,u.index+v.offset),x=c("UnicodeUtils").strlen(w);r.push({offset:x,length:v.length,innerText:v.innerText,innerOffset:x+v.innerOffset,formatter:t.formatter,recursivelyFormat:t.recursivelyFormat})}}return r}f.exports={defaultFormatConfigs:m,hasMatch:n,getRanges:o,formatConfigs:{bold:i,italic:j,strikethrough:k,code:l}}}),null);
__d("MessengerMathUtils",["UnicodeUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=2,i=/^(?:\$\$|\\\[)[\s\S]*?\S[\s\S]*?(?:\$\$|\\\])$/,j=/\\\([\s\S]*?\S[\s\S]*?\\\)/g;function k(p){return i.test(p)}function l(p){return p.substring(h,p.length-h)}function m(p){j.lastIndex=0;return j.test(p)}function n(p){var q=arguments.length<=1||arguments[1]===undefined?0:arguments[1],r=[];j.lastIndex=0;var s=void 0;while((s=j.exec(p))!==null){var t=p.substring(0,s.index),u=c("UnicodeUtils").strlen(t);r.push({offset:u,length:c("UnicodeUtils").strlen(s[0]),math:true})}return r}function o(p){__p&&__p();var q=p.length,r=0,s=0;for(var t=0;t<q;t++)if(p[t]==="\\")if(p.slice(t,t+6)==="\\begin"){r+=2;s=Math.max(s,r)}else if(p.slice(t,t+4)==="\\end")r-=2;else t++;else if(p[t]==="{"){r++;s=Math.max(s,r)}else if(p[t]==="}")r--;return s}f.exports={MATH_DELIMITER_LENGTH:h,isMathBlock:k,hasInlineMath:m,getInlineMathRanges:n,getMathBlockInner:l,getMaxBraceDepth:o}}),null);
__d("Utf16",[],(function a(b,c,d,e,f,g){var h={decode:function i(j){switch(j.length){case 1:return j.charCodeAt(0);case 2:return 65536|(j.charCodeAt(0)-55296)*1024|j.charCodeAt(1)-56320;default:return null}},encode:function i(j){if(j<65536)return String.fromCharCode(j);else return String.fromCharCode(55296+(j-65536>>10))+String.fromCharCode(56320+j%1024)}};f.exports=h}),null);
__d("MessengerSupportedEmojiUtils",["cx","EmojiImageURL","EmojiLikeConstants","EmojiRenderer","EmoticonEmojiList","Image.react","MessengerSupportedEmoji","React","Utf16","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=65039,j="_fe0f",k=new RegExp("(\r\n|[ \r\n]|s)"),l={getSupportedEmojiKey:function m(n){__p&&__p();if(!n)return null;var o=null,p=this.parse(n);if(p.length===1&&p[0].length===n.length){var q=p[0].emoji.map(function(r){return c("Utf16").decode(r)});q[q.length-1]===i&&q.pop();o=q.map(function(r){return r.toString(16)}).join("_")}return this.isSupportedEmojiKey(o)?o:null},isSupportedEmoji:function m(n){return!!this.getSupportedEmojiKey(n)},isSupportedEmojiKey:function m(n){return!!c("MessengerSupportedEmoji").emoji[n]},getSupportedEmojiCodesArray:function m(n){__p&&__p();if(!n)return null;var o=this.parse(n);if(o.length===1&&o[0].length===n.length){var p=o[0].emoji.map(function(r){return c("Utf16").decode(r)});p[p.length-1]===i&&p.pop();var q=p.map(function(r){return r.toString(16)}).join("_");if(c("MessengerSupportedEmoji").emoji[q])return p}return null},getEmojiKeyFromCodes:function m(n){return n.map(function(o){return o.toString(16)}).join("_")},getClassSizeMap:function m(){var n,o=c("EmojiLikeConstants").size;return n={},n[o.XSMALL]="_2560",n[o.SMALL]="_1ifu",n[o.MEDIUM]="_19_r",n[o.LARGE]="_19_s",n},getEmojiMatchObj:function m(n){__p&&__p();var o=this.parse(n,1);if(o.length!==1)return null;var p=o[0].emoji,q=p.map(function(s){return c("Utf16").decode(s)});if(q[q.length-1]===i)q.pop();var r=q.map(function(s){return s.toString(16)}).join("_");return{emoji_key:r,emoji_str:p.join(""),is_supported:this.isSupportedEmojiKey(r),offset:o[0].offset,length:o[0].length}},getNewEmojiData:function m(n,o){__p&&__p();if(!n)return null;var p=this.getSupportedEmojiKey(n);if(!p)return null;var q=this.getClassSizeMap();o=this.transferSize(o);if(!c("EmojiLikeConstants").sizeMap[o])o=c("EmojiLikeConstants").size.XSMALL;var r=c("joinClasses")(q[o],"_1ift"),s=c("EmojiImageURL").getMessengerURL(p,c("EmojiLikeConstants").sizeMap[o]);return{emoji:c("React").createElement(c("Image.react"),{className:r,src:s}),emoji_key:p,url:s}},getEmojiOnlyContents:function m(n){__p&&__p();var o=n||"",p=[];while(o.length>0&&o.trim().length>0){var q=k.exec(o),r="";while(q&&q.length&&q.index===0){r+=q[0];o=o.replace(k,"");q=k.exec(o)}if(r.length>0)p.push({text:r});var s=c("EmoticonEmojiList").noncapturingRegexp.exec(o);if(s&&s.index===0){var t=c("EmoticonEmojiList").names[s[1]],u=c("EmoticonEmojiList").emote2emojis[t];p.push({emojiKey:u,text:s[1]});o=o.replace(s[1],"")}else{s=this.getEmojiMatchObj(o);if(s&&s.is_supported){p.push({emojiKey:s.emoji_key,text:s.emoji_str});o=o.replace(s.emoji_str,"")}else return null}}return p},getUrl:function m(n,o){if(n.endsWith(j))n=n.replace(j,"");if(!c("MessengerSupportedEmoji").emoji[n])return null;o=this.transferSize(o);return c("EmojiImageURL").getMessengerURL(n,c("EmojiLikeConstants").sizeMap[o])},containsEmoji:function m(n){return this.parse(n,1).length===1},parse:function m(n,o){return c("EmojiRenderer").parse(n,o)},transferSize:function m(n){return c("EmojiLikeConstants").sizeMapTransfer[n]||n}};f.exports=l}),null);
__d("messengerIterateEmoji",["MessengerSupportedEmoji"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k,l){__p&&__p();var m=String(i);while(m){var n=c("MessengerSupportedEmoji").getEmojiMatchObj(m);if(n){var o=n.offset+n.length,p=m.substr(0,n.is_supported?n.offset:o);k(p);if(n.is_supported)j(n.emoji_str,n.emoji_key,l);var q=m.substr(o);m=q}else break}k(m)}f.exports=h}),null);
__d("messengerIterateEmoticons",["EmoticonEmojiList"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k,l){__p&&__p();var m,n,o,p,q,r=String(i);while(r){var s=c("EmoticonEmojiList").regexp.exec(r);if(s){m=s.index+s[1].length;n=r.substr(0,m);o=s[2];p=r.substr(m+o.length);q=c("EmoticonEmojiList").names[o];k(n);j(o,q,l);r=p}else break}k(r)}f.exports=h}),null);
__d("MessengerTextWithEmoticons.react",["cx","fbt","BaseTextWithDecoration.react","EmojiImageURL","EmoticonEmojiList","Image.react","React","messengerIterateEmoji","messengerIterateEmoticons"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;function m(q,r,s){var t=s?128:16,u=c("EmojiImageURL").getMessengerURL(r,t),v=s?"_1ift _5m3a":"_1ift _2560";return c("React").createElement(c("Image.react"),{alt:q,className:v,src:u})}function n(q,r,s){var t=s?128:16,u=c("EmoticonEmojiList").emote2emojis[r],v=u?c("EmojiImageURL").getMessengerURL(u,t):null;if(v){var w=String.fromCodePoint(parseInt(u,t)),x=s?"_1ift _5m3a":"_1ift _2560";return c("React").createElement(c("Image.react"),{alt:w,className:x,src:v})}var y=i._("{emoticonName} emoticon",[i.param("emoticonName",r)]);return c("React").createElement("span",{"aria-label":y},q)}function o(q,r,s){return function(t,u,v){var w=function w(x,y,s){u(r(x,y,s))};q(String(t),w,v,s)}}j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.shouldComponentUpdate=function(q){return q.text!==this.props.text};p.prototype.render=function(){var q=[o(c("messengerIterateEmoji"),m,this.props.customSize),o(c("messengerIterateEmoticons"),n,this.props.customSize)];return c("React").createElement(c("BaseTextWithDecoration.react"),babelHelpers["extends"]({},this.props,{text:this.props.text,decorators:q}))};function p(){j.apply(this,arguments)}p.propTypes={text:l.string,customSize:l.bool};f.exports=p}),null);
__d("MessengerTextWithEntities.react",["Link.react","React","BaseTextWithEntities.react","MessengerTextWithEmoticons.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(l){return l.replace(/<3\b|&hearts;/g,"\u2665")}h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MessengerTextWithEntities1=function(q){if(this.props.renderEmoticons||this.props.renderEmoji)return c("React").createElement(c("MessengerTextWithEmoticons.react"),{text:q,customSize:this.props.customSize,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji});else return j(q)}.bind(this),this.$MessengerTextWithEntities2=function(q,r){if(this.props.interpolator)return this.props.interpolator(q,r);else return c("React").createElement(c("Link.react"),{href:r.entity},q)}.bind(this),m}k.prototype.render=function(){return c("React").createElement(c("BaseTextWithEntities.react"),babelHelpers["extends"]({},this.props,{aggregatedRanges:this.props.aggregatedRanges,imageRanges:this.props.imageRanges,metaRanges:this.props.metaRanges,rangeRenderer:this.$MessengerTextWithEntities2,ranges:this.props.ranges,text:this.props.text,textRenderer:this.$MessengerTextWithEntities1}))};f.exports=k}),null);
__d("P2PTriggersUtils",["P2PGKValues"],(function a(b,c,d,e,f,g){var h=/\$((\d{1,3}(,\d{3})*)|\d+)(\.\d{1,2})?(?=\s|\.\s|\,\s|$|\.$|\,$|\?|\!|\")/,i={canSeeTriggers:function j(k){if(!c("P2PGKValues").P2PEnabled)return false;return true},getMatches:function j(k){return k.match(h)}};f.exports=i}),null);
__d("RedditLinkMatcher",[],(function a(b,c,d,e,f,g){"use strict";var h=new RegExp("(^|\\s)(\\/[ru]\\/\\w{1,21})(?:\\b)","i"),i=function i(l){var m=h.exec(l);if(m===null)return null;return{lnk:m[2],idx:m.index+m[1].length}},j=function j(l){return h.exec(l)!==null},k={match:i,isMatch:j};f.exports=k}),null);
__d("RedditLinkRanges",["RedditLinkMatcher","UnicodeUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={REDDIT_PREFIX:"https://reddit.com",get:function i(j){__p&&__p();var k=arguments.length<=1||arguments[1]===undefined?0:arguments[1],l=j.substr(k),m=c("RedditLinkMatcher").match(l);if(!m)return[];var n=m.lnk,o=m.idx,p=c("UnicodeUtils").strlen(l.substr(0,o));k+=p;var q="";switch(n[1].toLowerCase()){case"r":q=this.REDDIT_PREFIX+n;break;case"u":q=this.REDDIT_PREFIX+n;break;default:return[]}var r=n.length,s=[{offset:k,length:r,entity:{url:q}}];return s.concat(this.get(j,k+r))}};f.exports=h}),null);
__d("TextWithEntitiesMetadataType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:0,CONCEPT:1,INTENT:2})}),null);
__d("URLMatcher",["URLMatcherConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h="!\"#%&'()*,-./:;<>?@[\\]^_`{|}",i="\u2000-\u206f\xab\xbb\uff08\uff09",j="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",k="(?:(?:ht|f)tps?)://",l="(?:(?:"+j+"[.]){3}"+j+")",m="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",n="(?:\\b)www\\d{0,3}[.]",o="[^\\s"+h+i+"]",p="(?:(?:(?:[.:\\-_%@]|"+o+")*"+o+")|"+m+")",q="(?::\\d+){0,1}",r="(?=[/?#])",s=c("URLMatcherConfig").tlds,t="(?:(?:"+k+p+q+")|(?:"+l+q+")|(?:"+m+q+")|(?:"+n+p+s+q+")|(?:"+p+s+q+r+"))",u="[/#?]",v="\\([^\\s()<>]+\\)",w="[^\\s()<>?#]+",x=new RegExp(t,"im"),y="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",z=new RegExp(y,"im"),A="(?:(?:"+u+")(?:(?:"+v+"|"+w+")*)*)*",B=new RegExp("((?:"+t+")(?:"+A+"))","im"),C=new RegExp("((?:"+k+p+q+")|(?:"+n+p+s+q+"))"),D=/[\s\'\";]/,E=new RegExp(u,"im"),F=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),G=new RegExp("[\\s()<>?#]","im"),H=new RegExp("\\s()<>"),I=function I(P){if(P&&P.indexOf("@")!=-1)return C.exec(P)?P:null;else return P},J=function J(P){return K(P,B)},K=function K(P,Q){var R=(Q.exec(P)||[])[1]||null;return I(R)},L=function L(P){return x.exec(P)},M=function M(P){return!D.test(P.charAt(P.length-1))},N=function N(P){__p&&__p();do{var Q=x.exec(P);if(!Q)return null;var R=false;if(Q[0][0]==="["&&Q.index>0&&P[Q.index-1]==="@"){var S=z.exec(Q[0]);if(S){R=true;P=P.substr(Q.index+S[0].length)}}}while(R);var T=P.substr(Q.index+Q[0].length);if(T.length===0||!E.test(T[0]))return I(Q[0]);var U=0,V=0,W=1,X=0,Y=V;for(var Z=1;Z<T.length;Z++){var $=T[Z];if(Y===V){if($==="("){X=X+1;Y=W}else if(E.test($)||!F.test($))U=Z;else if(G.test($))break}else if($==="(")X=X+1;else if($===")"){X=X-1;if(X===0){Y=V;U=Z}}else if(H.test($))break}return I(Q[0]+T.substring(0,U+1))},O={};O.permissiveMatch=J;O.matchToPattern=K;O.matchHost=L;O.trigger=M;O.match=N;f.exports=O}),null);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j="scraperLastPermissiveMatch";h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function k(l,m){"use strict";i.constructor.call(this);this.input=l;this.enable();this.getValueFn=m}k.prototype.reset=function(){"use strict";c("DataStore").set(this.input,j,null)};k.prototype.enable=function(){"use strict";if(this.events)return;var l=function l(m){setTimeout(this.check.bind(this,m),30)};this.events=c("Event").listen(this.input,{paste:l.bind(this,false),keydown:l.bind(this,true)})};k.prototype.disable=function(){"use strict";if(!this.events)return;for(var event in this.events)this.events[event].remove();this.events=null};k.prototype.check=function(l){"use strict";var m=this.getValueFn?this.getValueFn():this.input.value;if(l&&k.trigger(m))return;var n=k.match(m),o=c("URLMatcher").permissiveMatch(m);if(o&&o!=c("DataStore").get(this.input,j)){c("DataStore").set(this.input,j,o);this.inform("match",{url:n||o,alt_url:o})}};Object.assign(k,c("URLMatcher"));f.exports=k}),null);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=arguments.length<=1||arguments[1]===undefined?0:arguments[1],k=i.substr(j),l=c("URLScraper").match(k);if(!l)return[];var m=l;if(!/^[a-z][a-z0-9\-+.]+:\/\//i.test(l))m="http://"+l;if(!c("URI").isValidURI(m))return[];var n=k.indexOf(l),o=c("UnicodeUtils").strlen(k.substr(0,n));j+=o;var p=l.length,q=[{offset:j,length:l.length,entity:{url:m}}];return q.concat(h(i,j+p))}f.exports=h}),null);
__d("messengerContactActionsRe",[],(function a(b,c,d,e,f,g){"use strict";var h={ADD_OWNER:"ADD_OWNER",FREE_CALL:"FREE_CALL",MESSAGE:"MESSAGE",PROFILE:"PROFILE",REMOVE:"REMOVE",REMOVE_OWNER:"REMOVE_OWNER",SELECT:"SELECT"};g.actions=h}),null);
__d("shouldAddMRefParam",["isFacebookURI"],(function a(b,c,d,e,f,g){var h=function h(i){if(!c("isFacebookURI")(i)||i.getFragment())return false;if(/^\/events\//.test(i.getPath()))return true;return false};f.exports=h}),null);
__d("MercuryMessageBody.react",["cx","fbt","BootloadedComponent.react","DateConsts","EmojiRenderer","EmoticonsList","EmoticonEmojiList","EmployeeLinkMatcher","EmployeeLinkRanges","EventReminderStateStore","EventRemindersGating","RedditLinkMatcher","RedditLinkRanges","JSResource","Link.react","MercuryIDs","MercuryMessageRenderLocations","messengerContactActionsRe","MessengerMathUtils","MessengerFormattingUtils","MessengerSupportedEmojiUtils","MessengerTextWithEntities.react","P2PTriggersUtils","React","TextWithEntities.react","TextWithEntitiesMetadataType","UnicodeUtils","URI","URLMatcher","emptyFunction","getURLRanges","gkx","ifRequired","requireWeak","shouldAddMRefParam"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("messengerContactActionsRe").actions,m=c("React").PropTypes,n=function p(){n=c("emptyFunction");c("ifRequired")("ChatAppActions",function(q){q.setInitialDisplayDone()})};j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;function o(p){__p&&__p();k.constructor.call(this,p);this.interpolator=function(q,r){__p&&__p();var s,t=this;if(r.className)return c("React").createElement("span",{className:r.className},q);if(r.math)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:c("React").createElement("span",null,q),body:this.$MercuryMessageBody4(q),fallbackBody:q,inline:true,stripDelimiters:true,className:"_1e4d _1e4e"});if(r.id){var s=function(){__p&&__p();var y={};if(!t.props.isFromViewer&&t.props.threadCustomColor)y.color=t.props.threadCustomColor;var z=t.props.onContactSelect,A=t.props.threadID?c("MercuryIDs").getThreadFBIDFromThreadID(t.props.threadID)===r.id:false,B=new(c("URI"))("/ajax/hovercard/user.php").setQueryData({id:r.id}),C=c("gkx")("AT6RjIJVvIfplq-ZeT5_MD81B3OgeLlmewNtJ7hzw811gUcL2KB7zXVo29pTy6tr5BFiWzx-vsgfOHRh3TsCXQ_N"),D=c("React").createElement(c("Link.react"),{className:"_ih-",href:A?"#":r.url,"data-hovercard":C?B:null,style:y,onClick:z&&!A?function(E){this.$MercuryMessageBody3(z,r,E)}.bind(t):c("emptyFunction")},q);if(c("gkx")("AT7Q3RXvU0e0MR7WMB7vpMdOzYsW6m3MXSY9NFLfpMl_9zOHYMydsYAgMgpRAa3rIuTQCnrjzygxZViELyTXnLRu")&&!A&&z&&!c("gkx")("AT4wvZYjV8-NGP1Ct5BtRXL5qRGg9f2fjcTz0WljQOyxRYjvSAJWdtxM6WPbqEAMr890WqxJ2sqyXF1Lpx746MK_")){if(typeof q==="string")r.contactName=q&&q.replace("@","");D=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("MessengerAvatarActions.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:D,avatar:D,contact:r,showSendMessageItem:true,onAction:t.props.onContactSelect})}return{v:D}}();if(typeof s==="object")return s.v}if(r.formatter)if(r.recursivelyFormat){var u=this.renderBody(r.innerText,true,r.innerOffset);return r.formatter(u)}else return r.formatter(r.innerText);if(r.entity&&r.entity.url){var v=new(c("URI"))(r.entity.url.replace(/#+$/,""));if(c("shouldAddMRefParam")(v))v.addQueryData({__mref:"mb"});var w=v.toString();if(c("URI").isValidURI(w))return c("React").createElement(c("Link.react"),{href:{url:w,shimhash:r.entity.shimhash},s:r.entity.s,target:"_blank"},q);else return q}if(!r.entity){var x=typeof r.type==="number"?r.type:c("TextWithEntitiesMetadataType")[r.type];switch(x){case c("TextWithEntitiesMetadataType").NONE:return c("React").createElement("span",{className:"_2y9",title:JSON.stringify(r.data)},q);case c("TextWithEntitiesMetadataType").CONCEPT:return this.renderConceptMetadata(q,r.data);case c("TextWithEntitiesMetadataType").INTENT:return this.renderIntentMetadata(q,r.data);default:return q}}return q}.bind(this);this.state=this.parseMessageBody(p)}o.prototype.componentWillReceiveProps=function(p){if(this.props.body!==p.body||this.props.metaRanges!==p.metaRanges||this.props.ranges!==p.ranges)this.setState(this.parseMessageBody(p))};o.prototype.parseMessageBody=function(p){__p&&__p();var q=(p.body||"").replace(/\s+$/,""),r=this.$MercuryMessageBody1(p.metaRanges||[]),s={normalizedBody:q,isEncrypted:false,isMathBlock:false,isRichText:false,ranges:[],filteredMetaRanges:r};if(q.length===0)return s;if(q.startsWith("?OTR")){s.isEncrypted=true;return s}if(c("MessengerMathUtils").isMathBlock(q)){s.isMathBlock=true;return s}var t=p.ranges,u=p.metaRanges,v=t&&t.length||u&&u.length||c("EmoticonsList").noncapturingRegexp.test(q)||c("EmojiRenderer").containsEmoji(q)||c("URLMatcher").match(q)||c("EmployeeLinkMatcher").isMatch(q)||c("RedditLinkMatcher").isMatch(q)||this.$MercuryMessageBody2(q,p)||c("MessengerSupportedEmojiUtils").containsEmoji(q)||c("EmoticonEmojiList").noncapturingRegexp.test(q)||c("MessengerFormattingUtils").hasMatch(q)||c("MessengerMathUtils").hasInlineMath(q);if(!v)return s;s.isRichText=true;if(t&&t.length===1&&t[0].className==="__in")t=c("getURLRanges")(q).concat(t);t=t||[];t=t.concat(c("getURLRanges")(q),c("EmployeeLinkRanges").get(q));if(c("gkx")("AT68T0-RBZ3ruYC2iw6PwwKUATJNpftRrkhHfnHZxEdm_s8ILK529f2x1yRSuxO4JhNEQa2oesAXWdtnF6SM8ow_"))t=t.concat(c("RedditLinkRanges").get(q));t=t.concat(c("MessengerFormattingUtils").getRanges(q));t=t.concat(c("MessengerMathUtils").getInlineMathRanges(q));s.ranges=t.filter(function(w){return w!=undefined});return s};o.prototype.hasFormatting=function(){return this.state.isRichText||this.state.isMathBlock||this.state.isEncrypted};o.prototype.$MercuryMessageBody3=function(p,q,r){c("gkx")("AT7Q3RXvU0e0MR7WMB7vpMdOzYsW6m3MXSY9NFLfpMl_9zOHYMydsYAgMgpRAa3rIuTQCnrjzygxZViELyTXnLRu")?r.preventDefault():p(l.MESSAGE,q,r)};o.prototype.$MercuryMessageBody4=function(p){if(this.props.isFromViewer)return"\\color{#fff}{"+c("MessengerMathUtils").getMathBlockInner(p)+"}";else return c("MessengerMathUtils").getMathBlockInner(p)};o.prototype.renderConceptMetadata=function(p,q){if(!q)return p;if(q.intent_name||q.name)return this.renderIntentMetadata(p,q);return p};o.prototype.renderIntentMetadata=function(p,q){__p&&__p();if(!q)return p;var r=q.intent_name||q.name;switch(r){case"request_time":return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ServicesVerticalRequestTimeTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:c("React").createElement("span",null,p),data:q,text:p,threadID:this.props.threadID});case"timestamp":if(this.$MercuryMessageBody5(q.value)&&c("EventRemindersGating").shouldShowTriggerWords)if(this.props.renderLocation===c("MercuryMessageRenderLocations").CHAT)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatEventPlanTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:c("React").createElement("span",null,p),data:q,text:p,threadID:this.props.threadID});else if(this.props.renderLocation===c("MercuryMessageRenderLocations").MESSENGER)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("MessengerEventPlanTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:c("React").createElement("span",null,p),data:q,text:p,threadID:this.props.threadID});return p;default:return p}};o.prototype.renderIntentCTA=function(p){__p&&__p();if(p){var q=p.intent_name||p.name;switch(q){case"request_time":return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ServicesRequestTimeIntentCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:c("React").createElement("span",null),data:p,isFromViewer:this.props.isFromViewer,threadID:this.props.threadID});case"create_event":c("requireWeak")("EventReminderActionsLogger",function(t){t.logTriggerOnTriggerCTA()});var r=this.props.threadID,s=r&&this.$MercuryMessageBody5(p.timestamp)&&c("EventReminderStateStore").shouldShowCTA(r,p.confidence);if(!s)return null;if(this.props.renderLocation===c("MercuryMessageRenderLocations").CHAT)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatEventPlanCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:c("React").createElement("span",null),data:p,threadID:r});else if(this.props.renderLocation===c("MercuryMessageRenderLocations").MESSENGER)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("MessengerEventPlanCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:c("React").createElement("span",null),data:p,threadID:r})}}return null};o.prototype.renderCTAs=function(p){var q=null;if(p.length>0){var r=p[0]||{},s=typeof r.type==="number"?r.type:c("TextWithEntitiesMetadataType")[r.type];switch(s){case c("TextWithEntitiesMetadataType").CONCEPT:case c("TextWithEntitiesMetadataType").INTENT:q=this.renderIntentCTA(r.data);break}}return q};o.prototype.renderBody=function(p){__p&&__p();var q=arguments.length<=1||arguments[1]===undefined?false:arguments[1],r=arguments.length<=2||arguments[2]===undefined?0:arguments[2],s=this.state,t=s.isRichText,u=s.ranges,v=s.filteredMetaRanges,w=c("UnicodeUtils").strlen(p);if(!t)return c("React").createElement("span",{className:this.props.className},p);if(q){u=u.filter(function(B){return B.offset>=r&&B.offset+B.length<=r+w}).map(function(B){return babelHelpers["extends"]({},B,{offset:B.offset-r})});v=v.filter(function(B){return B.offset>=r&&B.offset+B.length<=r+w}).map(function(B){return babelHelpers["extends"]({},B,{offset:B.offset-r})})}var x={className:this.props.className,interpolator:this.interpolator,metaRanges:v,ranges:u,renderEmoji:true,renderEmoticons:true,text:p};if(this.$MercuryMessageBody2(p)){var y=c("React").createElement(c("TextWithEntities.react"),x);return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:y,bootloadLoader:c("JSResource")("TextWithEntitiesAndP2P.react").__setRef("MercuryMessageBody.react")},x,{getMessengerEmote:this.$MercuryMessageBody6,isSupportedEmoji:this.$MercuryMessageBody7,threadID:this.props.threadID}))}var z=c("React").createElement(c("MessengerTextWithEntities.react"),x);if(q)return z;var A=this.renderCTAs(this.props.metaRanges||[]);if(!A)return z;return c("React").createElement("span",null,z,A)};o.prototype.render=function(){__p&&__p();var p=this.state,q=p.normalizedBody,r=p.isEncrypted,s=p.isMathBlock;if(q.length===0)return null;n();if(this.props.plainText)return c("React").createElement("span",null,q);else if(r)return c("React").createElement("span",{className:"_89h"},i._("[encrypted message]"));else if(s)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:c("React").createElement("div",null,q),body:this.$MercuryMessageBody4(q),fallbackBody:q,stripDelimiters:true,className:"_1e4d"});else return this.renderBody(q)};o.prototype.$MercuryMessageBody7=function(p){return c("MessengerSupportedEmojiUtils").isSupportedEmojiKey(p)};o.prototype.$MercuryMessageBody6=function(p){var q=c("EmoticonEmojiList").emote2emojis[p];return c("MessengerSupportedEmojiUtils").isSupportedEmojiKey(q)?q:null};o.prototype.$MercuryMessageBody5=function(p){var q=new Date(p*c("DateConsts").MS_PER_SEC),r=new Date(Date.now()+5*c("DateConsts").MS_PER_MIN),s=new Date(new Date().setFullYear(new Date().getFullYear()+1));return q>r&&q<s};o.prototype.$MercuryMessageBody1=function(p){var q=p.filter(function(r){return r.data&&(r.data.intent_name==="create_event"||r.data.name==="create_event")});return q.length!==0?q:p};o.prototype.$MercuryMessageBody2=function(p){var q=arguments.length<=1||arguments[1]===undefined?this.props:arguments[1];return!!(q.threadID&&c("P2PTriggersUtils").canSeeTriggers(q.threadID)&&c("P2PTriggersUtils").getMatches(p))};o.propTypes={body:m.string,customLike:m.object,isFromViewer:m.bool,metaRanges:m.array,ranges:m.array,threadCustomColor:m.string,threadID:m.string,onContactSelect:m.func,renderLocation:m.oneOf([c("MercuryMessageRenderLocations").CHAT,c("MercuryMessageRenderLocations").MESSENGER,c("MercuryMessageRenderLocations").PAGES])};f.exports=o}),null);
__d("MercuryMessageDeliveryState",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({SENDING:1,SENT:2,DELIVERED:3,ERROR:0,UNKNOWN:-1});f.exports=h}),null);
__d("MercuryViewer",["CurrentUser","MercuryAssert"],(function a(b,c,d,e,f,g){"use strict";var h="fbid:"+c("CurrentUser").getID(),i={getID:function j(){return h},isViewer:function j(k){c("MercuryAssert").isParticipantID(k);return k===h}};f.exports=i}),null);
__d("MercuryMessageInfo",["MercuryActionStatus","MercuryMessageDeliveryState","MercuryViewer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={isOutbound:function i(j){return j.author===c("MercuryViewer").getID()},isInbound:function i(j){return!h.isOutbound(j)},isSending:function i(j){return j.status===c("MercuryActionStatus").UNSENT||j.status===c("MercuryActionStatus").UNCONFIRMED||j.status===c("MercuryActionStatus").UNABLE_TO_CONFIRM||j.status===c("MercuryActionStatus").RESENDING},isSent:function i(j){return j.status===undefined||j.status===c("MercuryActionStatus").SUCCESS},hasError:function i(j){return j.status===c("MercuryActionStatus").FAILED_UNKNOWN_REASON||j.status===c("MercuryActionStatus").UNABLE_TO_CONFIRM||j.status===c("MercuryActionStatus").ERROR},getDeliveryState:function i(j,k){__p&&__p();if(this.hasError(j))return c("MercuryMessageDeliveryState").ERROR;if(this.isSending(j))return c("MercuryMessageDeliveryState").SENDING;if(this.isSent(j)){if(j.timestamp<=k)return c("MercuryMessageDeliveryState").DELIVERED;return c("MercuryMessageDeliveryState").SENT}return c("MercuryMessageDeliveryState").UNKNOWN}};f.exports=h}),null);
__d("MercuryErrorInfo",["fbt","MercuryErrorType","MercuryMessageInfo"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={getMessage:function j(k){__p&&__p();var l="";if(i.isConnectionError(k)){l=h._("This message didn't send.");if(i.isTransient(k))l=h._("{message} Check your internet connection and click to try again.",[h.param("message",l)])}else{if(k&&k.description)l=k.description;else l=h._("This message failed to send.");if(i.isTransient(k))l=h._("{message} Click to send again.",[h.param("message",l)])}return l},isConnectionError:function j(k){if(k&&k.type==c("MercuryErrorType").TRANSPORT)return k.code===1001||k.code===1004||k.code===1006;return false},isTransient:function j(k){return k&&k.is_transient},isPermanent:function j(k){return k?!this.isTransient(k):false},hasErrorStatus:function j(k){return c("MercuryMessageInfo").hasError(k)}};f.exports=i}),null);
__d("MercuryLocalIDs",["PresenceUtil","randomInt"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={generateMessageID:function j(k){var l=k||Date.now(),m=c("randomInt")(0,4294967295),n=c("PresenceUtil").getSessionID();return"<"+l+":"+m+"-"+n+"@mail.projektitan.com>"},generateThreadID:function j(k){return"root:"+h.generateOfflineThreadingID(k)},generateOfflineThreadingID:function j(k){var l=k||Date.now(),m=c("randomInt")(0,4294967295),n=("0000000000000000000000"+m.toString(2)).slice(-22),o=l.toString(2)+n;return i(o.slice(-63))}};function i(j){__p&&__p();var k="";while(j!="0"){var l=0,m="";for(var n=0;n<j.length;n++){l=2*l+parseInt(j[n],10);if(l>=10){m+="1";l-=10}else m+="0"}k=l.toString()+k;j=m.slice(m.indexOf("1"))}return k}f.exports=h}),null);
__d("MercurySendMessageFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AUTO_RETRY_CNT:"auto_retry_cnt",MANUAL_RETRY_CNT:"manual_retry_cnt"})}),null);
__d("MercuryDisplayTimeFilterMessageRenderer",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={renderFilteredContent:function j(k){if(k.is_filtered_content_bh)return h._("This message was removed because it contains blocked or harmful links.");if(k.is_filtered_content_account)return h._("This message has been temporarily removed because the sender's account requires verification.");if(k.is_filtered_content_quasar)return h._("This message was removed because it contains blocked or harmful content.");if(k.is_filtered_content_invalid_app)return h._("This message was removed because the app it's being sent from is blocked from sending messages.");return h._("This message has been temporarily removed because the sender's account requires verification, or it was identified as abusive.")}};f.exports=i}),null);
__d("MercuryGiftSnippetRenderer",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={renderText:function j(k,l){return k?h._("You sent a valentine."):h._("{name} sent a valentine.",[h.param("name",l)])}};f.exports=i}),null);
__d("MercurySyncDeltaTypes",[],(function a(b,c,d,e,f,g){"use strict";var h={AdminAddedToGroupThread:"AdminAddedToGroupThread",AdminRemovedFromGroupThread:"AdminRemovedFromGroupThread",AdminTextMessage:"AdminTextMessage",ChangeViewerStatus:"ChangeViewerStatus",DeliveryReceipt:"DeliveryReceipt",ForcedFetch:"ForcedFetch",MarkRead:"MarkRead",MarkUnread:"MarkUnread",MarkFolderSeen:"MarkFolderSeen",MessageDelete:"MessageDelete",NewMessage:"NewMessage",NoOp:"NoOp",PagesManagerEvent:"PagesManagerEvent",ParticipantLeftGroupThread:"ParticipantLeftGroupThread",ParticipantsAddedToGroupThread:"ParticipantsAddedToGroupThread",ReadReceipt:"ReadReceipt",ReplaceMessage:"ReplaceMessage",RTCEventLog:"RTCEventLog",ThreadAction:"ThreadAction",ThreadDelete:"ThreadDelete",ThreadFolder:"ThreadFolder",ThreadMuteSettings:"ThreadMuteSettings",ThreadName:"ThreadName",JoinableMode:"JoinableMode",ApprovalMode:"ApprovalMode",ApprovalQueue:"ApprovalQueue",ClientPayload:"ClientPayload",GenieMessage:"GenieMessage",MontageMessage:"MontageMessage",RtcCallData:"RtcCallData"};f.exports=h}),null);
__d("MercurySyncFakeDFFSender",["Arbiter","ChannelConstants","MercurySingletonProvider","MercurySyncDeltaTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ChannelConstants").getArbiterType(c("ChannelConstants").FAKE_DFF);i.getForFBID=function(k){return j.getForFBID(k)};i.get=function(){return j.get()};function i(k){this.$MercurySyncFakeDFFSender1=k}i.prototype.sendGlobalDFF=function(){c("Arbiter").inform(h,{obj:{delta:{"class":c("MercurySyncDeltaTypes").ForcedFetch},queue:this.$MercurySyncFakeDFFSender1}})};i.prototype.sendThreadDFF=function(k,l){c("Arbiter").inform(h,{obj:{delta:{"class":c("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:k,threadFbId:l}},queue:this.$MercurySyncFakeDFFSender1}})};i.prototype.sendMessageDFF=function(k,l,m){c("Arbiter").inform(h,{obj:{delta:{"class":c("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:k,threadFbId:l},messageId:m},queue:this.$MercurySyncFakeDFFSender1}})};var j=new(c("MercurySingletonProvider"))(i);f.exports=i}),null);
__d("MessengerThreadCannotReplyReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLOCKED:"blocked",COMPOSER_DISABLED_BOT:"composer_disabled_bot",HAS_EMAIL_PARTICIPANT:"has_email_participant",OBJECT_ORIGINATED:"object_originated",READ_ONLY:"read_only",VIEWER_NOT_SUBSCRIBED:"viewer_not_subscribed",RECIPIENTS_NOT_LOADABLE:"recipients_not_loadable",RECIPIENTS_UNAVAILABLE:"recipients_unavailable",RECIPIENTS_INVALID:"recipients_invalid",RECIPIENTS_INACTIVE_WORK_ACC:"recipients_inactive_work_account",MONTAGE_NOT_AUTHOR:"montage_not_author"})}),null);
__d("MercuryThreadInfo",["CurrentUser","MercuryIDs","MessengerThreadCannotReplyReason"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={canReply:function j(k){return!!(k.is_subscribed&&(k.can_reply===undefined||k.can_reply)&&!k.has_email_participant&&!k.read_only)},getMuteSetting:function j(k){return!k.mute_until?undefined:k.mute_until},isEmptyLocalThread:function j(k){return c("MercuryIDs").tokenize(k.thread_id).type==="root"&&!k.timestamp},isMuted:function j(k){return h.getMuteSetting(k)!==undefined},areMentionsMuted:function j(k){return k.mentions_mute_mode===1},areReactionsMuted:function j(k){return k.reactions_mute_mode===1},isNewEmptyLocalThread:function j(k){return!!(h.isEmptyLocalThread(k)&&k.participants&&k.participants.length===0)},showComposer:function j(k){return!!(k.is_subscribed&&(k.can_reply||!k.cannot_reply_reason||k.cannot_reply_reason===c("MessengerThreadCannotReplyReason").BLOCKED)&&!k.has_email_participant&&!k.read_only)},isColdOpen:function j(k){return!!(k.is_canonical_user&&(k.message_count===0||!k.timestamp))}};function i(j){return j+"@facebook.com"}f.exports=h}),null);
__d("MessagingGiftWrapConstants",[],(function a(b,c,d,e,f,g){"use strict";var h="gift_wrap",i="gift_unwrapped",j="valentines2016";f.exports={TAG_PREFIX:h,UNWRAPPED_TAG:i,VALENTINES_GIFT:j}}),null);
__d("MessagingGiftWrapChecker",["MercuryConfig","MercuryTagHelper","MessagingGiftWrapConstants"],(function a(b,c,d,e,f,g){"use strict";var h={shouldRenderWithGiftWrap:function k(l){return!!(l.tags&&i(l.tags)&&!j(l.tags))}};function i(k){return c("MercuryTagHelper").get(k,c("MessagingGiftWrapConstants").TAG_PREFIX)===c("MessagingGiftWrapConstants").VALENTINES_GIFT}function j(k){return!!c("MercuryTagHelper").get(k,c("MessagingGiftWrapConstants").UNWRAPPED_TAG)}f.exports=h}),null);
__d("MercuryThreads",["invariant","ChatReliabilityInstrumentation","EventEmitter","EventReminderConstants","MercuryDisplayTimeFilterMessageRenderer","ImmutableObject","KeyedCallbackManager","LogHistory","Map","MercuryActionType","MercuryAssert","MercuryAttachment","MercuryDispatcher","MercuryGiftSnippetRenderer","MercuryGlobalActionType","MercuryIDs","MercuryLocalIDs","MercuryLoggingHelper","MercuryLogMessageType","MercuryParticipants","MercuryPayloadSource","MercuryServerRequests","MercurySingletonProvider","MercurySyncFakeDFFSender","MercuryThreadInfo","MercuryThreadInformer","MessagingGenericAdminTextType","MessagingGiftWrapChecker","MessagingTag","PageCommItemStatus","Set","emptyFunction","ifRequired","requireWeak","setImmediate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("EventReminderConstants").GuestStates,j=new(c("EventEmitter"))(),k=c("LogHistory").getInstance("mercury_threads");function l(n){__p&&__p();this.$MercuryThreads1=n;this.$MercuryThreads2=c("MercuryServerRequests").getForFBID(this.$MercuryThreads1);this.$MercuryThreads3=c("MercuryThreadInformer").getForFBID(this.$MercuryThreads1);this.$MercuryThreads4=c("MercuryIDs").getParticipantIDFromUserID(this.$MercuryThreads1);this.$MercuryThreads5=c("MercuryDispatcher").getForFBID(this.$MercuryThreads1);this.$MercuryThreads6=c("MercurySyncFakeDFFSender").getForFBID(this.$MercuryThreads1);this.$MercuryThreads7=false;this.$MercuryThreads8=new(c("KeyedCallbackManager"))();this.$MercuryThreads9=new(c("Set"))();this.$MercuryThreads10=false;this.$MercuryThreads11=new(c("Set"))();this.$MercuryThreads12=new(c("Set"))();this.$MercuryThreads13()}l.getForFBID=function(n){return m.getForFBID(n)};l.get=function(){return m.get()};l.prototype.getThreadMetaNow=function(n){c("MercuryAssert").isThreadID(n);var o=this.$MercuryThreads8.getResource(n);if(o&&!o.participants){c("ChatReliabilityInstrumentation").logERROR("participants are null!",{thread_id:n});this.$MercuryThreads6.sendThreadDFF(null,n);return new(c("ImmutableObject"))(babelHelpers["extends"]({},o,{participants:[]}))}return o};l.prototype.getOrFetch=function(n){var o=this.getThreadMetaNow(n);if(!o&&!this.$MercuryThreads12.has(n))this.$MercuryThreads11.add(n);if(this.$MercuryThreads11.size>0&&!this.$MercuryThreads10)this.$MercuryThreads14();return o};l.prototype.$MercuryThreads14=function(){__p&&__p();if(this.$MercuryThreads10)return;this.$MercuryThreads10=true;c("setImmediate")(function(){this.$MercuryThreads10=false;this.$MercuryThreads11.forEach(function(n){return this.$MercuryThreads12.add(n)}.bind(this));this.getMultiThreadMeta(Array.from(this.$MercuryThreads11),function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&this.$MercuryThreads12["delete"](o)}.bind(this));this.$MercuryThreads11.clear()}.bind(this))};l.prototype.getThreadMeta=function(n,o,p){return this.getMultiThreadMeta([n],function(q){return o(q[n])},p)};l.prototype.getMultiThreadMeta=function(n,o,p){__p&&__p();c("MercuryAssert").allThreadID(n);var q=this.$MercuryThreads8.executeOrEnqueue(n,o),r=this.$MercuryThreads8.getUnavailableResources(q);if(r.length){var s=[];for(var t=0;t<r.length;t++){var u=r[t],v=c("MercuryIDs").tokenize(u),w=v.type,x=v.value;if(w=="user"){var y=c("MercuryIDs").getParticipantIDFromUserID(x);this.createNewLocalThread(u,y===this.$MercuryThreads4?[this.$MercuryThreads4]:[this.$MercuryThreads4,y])}s.push(u)}if(s.length)this.$MercuryThreads2.fetchThreadData(s,p)}return q};l.addListener=function(n,o){return j.addListener(n,o)};l.prototype.unsubscribe=function(n){this.$MercuryThreads8.unsubscribe(n)};l.prototype.getCanonicalThreadToParticipant=function(n,o,p,q){var r=c("MercuryIDs").getThreadIDFromParticipantID(n);!!r||h(0);var s=this.$MercuryThreads8.getResource(r);if(s==undefined){s=this.createNewLocalThread(r,this.$MercuryThreads4===n?[this.$MercuryThreads4]:[this.$MercuryThreads4,n],o);!q&&this.$MercuryThreads2.fetchThreadData([r],p)}return s};l.prototype.createNewLocalThread=function(n,o,p){var q=this.$MercuryThreads8.getResource(n);if(!q){var r=c("MercuryIDs").tokenize(n),s=r.type,t=r.value;q=new(c("ImmutableObject"))({thread_id:n,participants:Array.from(o),admin_ids:[],name:"",snippet:"",snippet_sender:null,unread_count:p?p:0,message_count:0,image_src:null,timestamp:null,other_user_fbid:s==="user"?t:null,is_canonical_user:s=="user",is_canonical:this.$MercuryThreads15(o),is_subscribed:true,folder:c("MessagingTag").INBOX,is_archived:false,is_page_follow_up:false});this.$MercuryThreads8.setResource(n,q)}return q};l.prototype.createNewLocalThreadGenerateID=function(){var n=c("MercuryLocalIDs").generateThreadID();this.createNewLocalThread(n,[]);return n};l.prototype.isEmptyLocalThread=function(n){var o=this.$MercuryThreads8.getResource(n);if(!o)return false;return c("MercuryThreadInfo").isEmptyLocalThread(o)};l.prototype.isNewEmptyLocalThread=function(n){var o=this.$MercuryThreads8.getResource(n);if(!o)return false;return c("MercuryThreadInfo").isNewEmptyLocalThread(o)};l.prototype.$MercuryThreads16=function(n,o){__p&&__p();if(!n||!n.length)return;var p=new(c("Map"))(),q=new(c("Map"))(),r=new(c("Map"))(),s=[];for(var t=0;t<n.length;t++){var u=n[t],v=u.action_type;if(v==c("MercuryActionType").LOG_MESSAGE&&u.log_message_type==c("MercuryLogMessageType").SERVER_ERROR)continue;var w=!o&&!!(u.thread_fbid||u.other_user_fbid||u.is_from_iris),x=u.thread_id;c("MercuryAssert").isThreadID(x);var y=this.$MercuryThreads8.getResource(x);if(!y&&!w&&v===c("MercuryActionType").USER_GENERATED_MESSAGE){y=this.$MercuryThreads17(u);if(!y.participants||!y.participants.length){k.debug("missing_local_participants",JSON.stringify(c("MercuryLoggingHelper").obfuscateMessage(u)));c("ChatReliabilityInstrumentation").logERROR("missing_local_participants",{thread_id:x});y=new(c("ImmutableObject"))(babelHelpers["extends"]({},y,{participants:[]}));var z=u.other_user_fbid,A=u.thread_fbid;if(z||A)this.$MercuryThreads6.sendThreadDFF(z,A);else continue}this.$MercuryThreads8.setResource(x,y)}if(!y)continue;if(v==c("MercuryActionType").LOG_MESSAGE||v==c("MercuryActionType").USER_GENERATED_MESSAGE)w=!o;if(y.server_timestamp&&u.timestamp<=y.server_timestamp&&w)continue;if(!r.has(x))r.set(x,babelHelpers["extends"]({},y));else k.error("skipping thread metadata update",JSON.stringify({have:r.get(x),skipped:y}));var B=r.get(x);!!B||h(0);this.$MercuryThreads18(B,u,o);var C=p.get(x);if(v==c("MercuryActionType").USER_GENERATED_MESSAGE&&(!C||u.timestamp>C.timestamp))p.set(x,u);if((v==c("MercuryActionType").USER_GENERATED_MESSAGE||v==c("MercuryActionType").LOG_MESSAGE)&&!u.skip_bump_thread)if(u&&u.timestamp&&(!q.has(x)||u.timestamp>q.get(x).timestamp))q.set(x,u)}r.forEach(function(D,E){__p&&__p();var F=q.get(E),C=p.get(E);if(C)this.$MercuryThreads19(D,C);else if(F&&F.log_message_body){var G=babelHelpers["extends"]({},F,{body:F.log_message_body});this.$MercuryThreads19(D,G)}var H=D.timestamp;if(F){if(F.timestamp>H)Object.assign(D,{timestamp:F.timestamp});var I=D.server_timestamp;if(!o&&F.timestamp>I)D.server_timestamp=F.timestamp}var J=new(c("ImmutableObject"))(D);if((!J.participants||!J.participants.length)&&!this.isEmptyLocalThread(J.thread_id)){var K=(n||[]).map(c("MercuryLoggingHelper").obfuscateMessage),L={update:c("MercuryLoggingHelper").obfuscateThread(J),actions:K};k.error("bad metadata update no_participants",JSON.stringify(L));c("ChatReliabilityInstrumentation").logERROR("refusing to set thread metadata with no participants",L);return}this.$MercuryThreads8.setResource(E,J);s.push(c("MercuryLoggingHelper").obfuscateThread(J))}.bind(this),this);s.length&&this.$MercuryThreads7&&k.debug("threads_updated",JSON.stringify({threads:s}))};l.prototype.$MercuryThreads18=function(n,o,p){__p&&__p();var q=o.action_type;if(q==c("MercuryActionType").USER_GENERATED_MESSAGE||q==c("MercuryActionType").LOG_MESSAGE){if(o.is_unread||o.skip_bump_thread)if(!(n.unread_count===0&&o.skip_bump_thread))n.unread_count++;n.message_count++;n.is_archived=false}switch(q){case c("MercuryActionType").DELETE_THREAD:n.message_count=0;this.$MercuryThreads20(o.thread_id);break;case c("MercuryActionType").USER_GENERATED_MESSAGE:if(n.unread_count===0&&o.author===this.$MercuryThreads4&&o.timestamp>=n.last_read_timestamp)n.last_read_timestamp=o.timestamp;if(o.offline_threading_id!==o.message_id)n.last_message_timestamp=o.timestamp;if(o.comm_status!=null)if(n.comm_status&&n.comm_status.toUpperCase()!==c("PageCommItemStatus").FOLLOW_UP)n.comm_status=o.comm_status;if(o.creator_info&&o.creator_info.pageID===this.$MercuryThreads1)n.folder=o.folder;this.$MercuryThreads21(n,o.author);break;case c("MercuryActionType").SEND_MESSAGE:var r=o.log_message_type;if(r==c("MercuryLogMessageType").THREAD_IMAGE){n.image_src=o.log_message_data.image?o.log_message_data.image.preview_url:null;this.$MercuryThreads22(o.thread_id)}if(r!==c("MercuryLogMessageType").SUBSCRIBE&&r!==c("MercuryLogMessageType").UNSUBSCRIBE)n.snippet_attachments=o.attachments;break;case c("MercuryActionType").LOG_MESSAGE:var r=o.log_message_type;if(r==c("MercuryLogMessageType").SUBSCRIBE&&!p){this.$MercuryThreads23(n,o.log_message_data.added_participants);this.$MercuryThreads22(o.thread_id)}else if(r==c("MercuryLogMessageType").UNSUBSCRIBE&&!p){this.$MercuryThreads24(n,o.log_message_data.removed_participants);this.$MercuryThreads22(o.thread_id)}else if(r==c("MercuryLogMessageType").THREAD_IMAGE){if(!p)n.image_src=o.log_message_data.image?o.log_message_data.image.preview_url:null}else if(r==c("MercuryLogMessageType").THREAD_NAME){if(n.name!==o.log_message_data.name)this.$MercuryThreads22(o.thread_id);n.name=o.log_message_data.name}else if(r===c("MercuryLogMessageType").GENERIC_ADMIN_TEXT)this.$MercuryThreads25(n,o);break;case c("MercuryActionType").CHANGE_READ_STATUS:var s=this.$MercuryThreads26(n,o,o.mark_as_read);if(s)n.last_read_timestamp=n.last_message_timestamp;var t=!n.read_only&&n.folder===c("MessagingTag").INBOX;if(s&&p)this.$MercuryThreads2.changeThreadReadStatus(n.thread_id,o.mark_as_read,o.source,n.last_read_timestamp,t,n.last_message_type);break;case c("MercuryActionType").CHANGE_ARCHIVED_STATUS:if(n.is_archived!=o.archived){n.is_archived=o.archived;if(n.comm_status!=null)n.comm_status=o.archived?c("PageCommItemStatus").DONE:c("PageCommItemStatus").TODO;this.$MercuryThreads22(o.thread_id)}break;case c("MercuryActionType").CHANGE_PAGE_FOLLOW_UP_STATUS:if(n.is_page_follow_up!=o.is_page_follow_up){n.is_page_follow_up=o.is_page_follow_up;this.$MercuryThreads22(o.thread_id)}break;case c("MercuryActionType").CHANGE_FOLDER:if(n.folder!=o.new_folder){n.folder=o.new_folder;if(n.comm_status!=null)if(o.new_folder===c("MessagingTag").OTHER)n.comm_status=c("PageCommItemStatus").SPAM;else if(o.new_folder===c("MessagingTag").INBOX)n.comm_status=c("PageCommItemStatus").TODO;this.$MercuryThreads22(o.thread_id)}break;case c("MercuryActionType").DELETE_MESSAGES:if(p){n.snippet="...";n.snippet_attachments=null;n.snippet_sender=null;this.$MercuryThreads22(o.thread_id)}else if(o.message_ids){n.message_count-=o.message_ids.length;c("ifRequired")("MercuryMessages",function(x){__p&&__p();x=x.getForFBID(this.$MercuryThreads1);for(var y=o.message_ids,z=Array.isArray(y),A=0,y=z?y:y[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var B;if(z){if(A>=y.length)break;B=y[A++]}else{A=y.next();if(A.done)break;B=A.value}var C=B,D=x.getMessagesFromIDs([C]),E=D[0];if(E&&E.timestamp>n.last_read_timestamp)n.unread_count=Math.max(0,n.unread_count-1)}this.$MercuryThreads22(o.thread_id)}.bind(this),c("emptyFunction"))}break;case c("MercuryActionType").UPDATE_SNIPPET:c("ifRequired")("MercuryMessages",function(x){__p&&__p();x=x.getForFBID(this.$MercuryThreads1);var y=0,z=1,A=x.getThreadMessagesRangeNow(o.thread_id,y,z),B=A[0];if(B){n.snippet=B.body;n.snippet_attachments=B.attachments;n.snippet_sender=B.author}else{n.snippet="...";n.snippet_attachments=null;n.snippet_sender=null;x.getThreadMessagesRange(o.thread_id,y,z,function(C){if(C.length)this.$MercuryThreads5.handleUpdate({from_client:true,actions:[{thread_id:o.thread_id,action_type:c("MercuryActionType").UPDATE_SNIPPET,deleted_ids:o.deleted_ids}]})}.bind(this))}this.$MercuryThreads22(o.thread_id)}.bind(this),c("emptyFunction"));break;case c("MercuryActionType").CHANGE_MUTE_SETTINGS:if(Object.prototype.hasOwnProperty.call(o,"reactions_mute_mode"))n.reactions_mute_mode=o.reactions_mute_mode;else if(Object.prototype.hasOwnProperty.call(o,"mentions_mute_mode"))n.mentions_mute_mode=o.mentions_mute_mode;else n.mute_until=!o.mute_until?undefined:o.mute_until;this.$MercuryThreads22(n.thread_id);break;case c("MercuryActionType").BLOCK_STATUS_CHANGED:n.can_reply=o.canViewerReply;this.$MercuryThreads22(n.thread_id);break;case c("MercuryActionType").ADD_PARTICIPANTS:this.$MercuryThreads23(n,o.participants);this.$MercuryThreads22(n.thread_id);break;case c("MercuryActionType").CHANGE_FLAG:this.$MercuryThreads27(n,o.mark_as_flag);this.$MercuryThreads22(n.thread_id);break;case c("MercuryActionType").MOVE_PENDING_TO_INBOX:this.$MercuryThreads28(n);this.$MercuryThreads22(n.thread_id);break;case c("MercuryActionType").UPDATE_CUSTOM_LIKE:n.custom_like_icon=o.custom_like;this.$MercuryThreads22(n.thread_id);break;case c("MercuryActionType").ADD_GROUP_ADMINS:n.admin_ids=n.admin_ids.concat(o.added_admin_ids.filter(function(x){return n.admin_ids.indexOf(x)===-1}));this.$MercuryThreads22(o.thread_id);break;case c("MercuryActionType").REMOVE_GROUP_ADMINS:n.admin_ids=n.admin_ids.filter(function(x){return o.removed_admin_ids.indexOf(x)===-1});this.$MercuryThreads22(o.thread_id);break;case c("MercuryActionType").JOINABLE_MODE:n.joinable_mode=o.joinable_mode;this.$MercuryThreads22(o.thread_id);break;case c("MercuryActionType").APPROVAL_MODE:n.approval_mode=o.approval_mode;this.$MercuryThreads22(o.thread_id);break;case c("MercuryActionType").APPROVAL_QUEUE:if(o.added_id&&n.approval_queue_ids&&n.approval_queue_ids.indexOf(o.added_id)===-1)n.approval_queue_ids=n.approval_queue_ids.concat(o.added_id);if(o.removed_id&&n.approval_queue_ids)n.approval_queue_ids=n.approval_queue_ids.filter(function(x){return o.removed_id!==x});this.$MercuryThreads22(o.thread_id);break;case c("MercuryActionType").IS_PIN_PROTECTED:n.is_pin_protected=o.is_pin_protected;this.$MercuryThreads22(o.thread_id);break;case c("MercuryActionType").UPDATE_RTC_CALL_DATA:var u=o.initiator_fbid||(n.rtc_call_data?n.rtc_call_data.initiator_fbid:undefined);n.rtc_call_data=new(c("ImmutableObject"))({call_state:o.call_state,server_info_data:o.server_info_data,initiator_fbid:u});this.$MercuryThreads22(o.thread_id);break;case c("MercuryActionType").UPDATE_COMM_STATUS:this.$MercuryThreads29(n,o.comm_status);this.$MercuryThreads22(n.thread_id);break;case c("MercuryActionType").UPDATE_COMM_ITEM_OWNER:var v=void 0;if(o.id===null)v={nodes:[]};else v={nodes:[{admin:{id:o.id,name:o.name,profile_picture:{uri:o.profile_pic_uri}}}]};n.comm_item_owners=v;this.$MercuryThreads22(n.thread_id);break;case c("MercuryActionType").EVENT_RSVP_CHANGED:var w=n.participants_event_status.filter(function(x){return x.participant_id!==o.actor_fbid});w.push({participant_id:o.actor_fbid.toString(),event_status:o.rsvp_status});n.participants_event_status=w;this.$MercuryThreads22(o.thread_id);break}};l.prototype.$MercuryThreads25=function(n,o){__p&&__p();var p,q=this;if(o.log_message_data&&o.log_message_data.untypedData)(function(){__p&&__p();var r=o.log_message_data.untypedData,event=n.lightweight_event;switch(o.log_message_data.message_type){case c("MessagingGenericAdminTextType").THREAD_EPHEMERAL_SEND_MODE:var s=parseInt(r.ttl,10);if(s!==null&&n.ephemeral_ttl_mode!==s){n.ephemeral_ttl_mode=s;q.$MercuryThreads22(o.thread_id)}break;case c("MessagingGenericAdminTextType").CHANGE_THREAD_NICKNAME:var t={};for(var u in n.custom_nickname){if(u==r.participant_id&&r.nickname.trim().length==0)continue;t[u]=n.custom_nickname[u]}if(r.nickname.trim().length>0)t[r.participant_id]=r.nickname;n.custom_nickname=t;q.$MercuryThreads22(o.thread_id);break;case c("MessagingGenericAdminTextType").CHANGE_THREAD_ICON:c("requireWeak")("MercuryThreadActions",function(y){y.getForFBID(this.$MercuryThreads1).updateCustomLike(o.thread_id,r.thread_icon)}.bind(q));break;case c("MessagingGenericAdminTextType").CHANGE_THREAD_THEME:var v=r.theme_color;if(v&&v.length>0)n.custom_color="#".concat(v.substring(2));else n.custom_color=null;q.$MercuryThreads22(o.thread_id);break;case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE:var w={};n.participants.map(function(y){var z=c("MercuryIDs").getUserIDFromParticipantID(y);if(z)w[z]=z===r.event_creator_id?i.GOING:i.INVITED},q);n.lightweight_event={track_rsvp:r.event_track_rsvp,title:r.event_title,event_time:parseInt(r.event_time,10),location_name:r.event_location_name,event_members:w,oid:r.event_id,event_type:r.event_type};q.$MercuryThreads22(o.thread_id);break;case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION:if(event)n.lightweight_event=q.$MercuryThreads30(r,event,event.event_members);q.$MercuryThreads22(o.thread_id);break;case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_RSVP:if(event&&event.event_members){var x=q.$MercuryThreads31(event.event_members,r);n.lightweight_event=q.$MercuryThreads30(r,event,x)}q.$MercuryThreads22(o.thread_id);break;case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_DELETE:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_NOTIFY:n.lightweight_event=null;q.$MercuryThreads22(o.thread_id);break}})()};l.prototype.$MercuryThreads31=function(n,o){var p={};for(var q in n)p[q]=n[q];p[o.guest_id]=o.guest_status;return p};l.prototype.$MercuryThreads30=function(n,event,o){return{track_rsvp:event.track_rsvp,title:n.event_title===undefined?event.title:n.event_title,event_time:n.event_time===undefined?event.event_time:parseInt(n.event_time,10),location_name:n.event_location_name===undefined?event.location_name:n.event_location_name,event_members:o===undefined?event.event_members:o,oid:event.oid,event_type:event.event_type}};l.prototype.$MercuryThreads17=function(n){var o=c("MercuryIDs").tokenize(n.thread_id),p=o.type,q=o.value,r=p==="user",s=r||n.specific_to_list&&this.$MercuryThreads15(n.specific_to_list),t=s||r?this.$MercuryThreads32(n):n.specific_to_list;return new(c("ImmutableObject"))({thread_id:n.thread_id,participants:t,name:null,snippet:n.body,snippet_attachments:[],snippet_sender:n.author,unread_count:0,message_count:0,image_src:null,timestamp:n.timestamp,other_user_fbid:r?q:null,is_canonical_user:r,is_canonical:s,is_subscribed:true,folder:c("MessagingTag").INBOX,is_archived:false,is_page_follow_up:false})};l.prototype.$MercuryThreads26=function(n,o,p){__p&&__p();if(o.timestamp)this.$MercuryThreads33(n.thread_id,p,o.timestamp);if(!n||!n.thread_id||!n.participants)return false;if(!n.timestamp){this.$MercuryThreads9.add(n.thread_id);return false}var q=!n.unread_count;if(p==q)return false;n.unread_count=p?0:1;this.$MercuryThreads22(n.thread_id);return true};l.prototype.$MercuryThreads34=function(n){var o=this.$MercuryThreads8.getAllResources();for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p)){var q=o[p];if(q.folder==n){this.$MercuryThreads8.setResource(p,c("ImmutableObject").setProperty(q,"unread_count",0));this.$MercuryThreads22(p)}}};l.prototype.$MercuryThreads23=function(n,o){__p&&__p();var p=new(c("Set"))(n.participants);n.participants=Array.from(n.participants||[]);o.forEach(function(q){if(!p.has(q)){n.participants.push(q);if(q===this.$MercuryThreads4){n.is_subscribed=true;n.can_reply=true;n.cannot_reply_reason=null;this.$MercuryThreads6.sendThreadDFF(undefined,n.thread_fbid)}}}.bind(this))};l.prototype.$MercuryThreads24=function(n,o){__p&&__p();var p=new(c("Set"))(o);if(n&&!n.participants)c("ChatReliabilityInstrumentation").logERROR("participants are null in thread_info!",{thread_info:n});else n.participants=n.participants.filter(function(q){return!p.has(q)});if(n&&!n.admin_ids)c("ChatReliabilityInstrumentation").logERROR("admin_ids are null in thread_info!",{thread_info:n});else n.admin_ids=n.admin_ids.filter(function(q){return!p.has(q)});if(p.has(this.$MercuryThreads4))n.is_subscribed=false;this.$MercuryThreads2.fetchThreadData([n.thread_id])};l.prototype.$MercuryThreads21=function(n,o){if(!n.participants){var p=JSON.stringify({thread_info:n,participant:o});k.error("missing_participants",p);return}var q=n.participants.indexOf(o);if(q>0)n.participants=[o].concat(n.participants.slice(0,q),n.participants.slice(q+1))};l.prototype.$MercuryThreads19=function(n,o){__p&&__p();var p=o.body,q=o.subject,r="";if(q){q=q.toLowerCase();if(p.slice(0,q.length).toLowerCase()==q)r=p;else if(p)r=q+" \xb7 "+p;else r=q}else r=p;if(o.is_filtered_content)r=c("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(o);if(c("MessagingGiftWrapChecker").shouldRenderWithGiftWrap(o)){var s=o.author,t=s==this.$MercuryThreads4,u=null;if(!t){u=n.custom_nickname&&n.custom_nickname[c("MercuryIDs").getUserIDFromParticipantID(s)];if(!u){var v=c("MercuryParticipants").getNow(s);if(v!=null)u=v.short_name}}r=c("MercuryGiftSnippetRenderer").renderText(t,u)}n.snippet=r;if(o.raw_attachments&&o.raw_attachments.length>0){var w=c("MercuryAttachment").convertRaw(o.raw_attachments);n.snippet_attachments=w}else n.snippet_attachments=o.attachments;if(o.log_message_type)n.snippet_sender=null;else n.snippet_sender=o.author};l.prototype.$MercuryThreads27=function(n,o){n.page_thread_info=babelHelpers["extends"]({},n.page_thread_info,{flagged:o})};l.prototype.$MercuryThreads29=function(n,o){n.comm_status=o};l.prototype.$MercuryThreads28=function(n){if(n.folder!==c("MessagingTag").PENDING)return;n.folder=c("MessagingTag").INBOX};l.prototype.$MercuryThreads15=function(n){return n.filter(function(o){return o!=this.$MercuryThreads4}.bind(this)).length<=1};l.prototype.$MercuryThreads13=function(){__p&&__p();this.$MercuryThreads5.subscribe("invalidate-thread-state",function(n,o){return this.$MercuryThreads35(o)}.bind(this));this.$MercuryThreads5.subscribe("invalidate-global-state",function(n,o){return this.$MercuryThreads36()}.bind(this));this.$MercuryThreads5.subscribe("update-threads",function(n,o){__p&&__p();var p=(o.actions||[]).filter(function(q){return q.thread_id});if(o.threads&&o.payload_source==c("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO)o.threads.forEach(function(q){var r=q.thread_id;if(this.$MercuryThreads9.has(r)){this.$MercuryThreads9["delete"](r);if(q.unread_count)this.$MercuryThreads2.changeThreadReadStatus(q.thread_id,true)}}.bind(this));this.$MercuryThreads37(o.threads);this.$MercuryThreads16(p,o.from_client);o.threads&&o.threads.forEach(function(q){this.$MercuryThreads22(q.thread_id)}.bind(this));if(o.global_actions)o.global_actions.forEach(function(q){if(q.action_type==c("MercuryGlobalActionType").MARK_ALL_READ)this.$MercuryThreads34(q.folder)}.bind(this));if(this.$MercuryThreads7){this.$MercuryThreads7=false;j.emit("change")}}.bind(this))};l.prototype.$MercuryThreads37=function(n){if(!n||!n.length)return;var o={},p=[];n.forEach(function(q){var r=new(c("ImmutableObject"))(q);o[q.thread_id]=r;p.push(c("MercuryLoggingHelper").obfuscateThread(r))});p.length&&k.debug("threads_added",JSON.stringify({threads:p}));this.$MercuryThreads8.addResourcesAndExecute(o)};l.prototype.$MercuryThreads22=function(n){this.$MercuryThreads7=true;this.$MercuryThreads3.updatedThread(n)};l.prototype.$MercuryThreads20=function(n){this.$MercuryThreads7=true;this.$MercuryThreads3.deletedThread(n)};l.prototype.$MercuryThreads33=function(n,o,p){this.$MercuryThreads7=true;this.$MercuryThreads3.changedThreadReadState(n,o,p)};l.prototype.$MercuryThreads35=function(n){this.$MercuryThreads8.setResource(n,undefined)};l.prototype.$MercuryThreads36=function(){this.$MercuryThreads7=false;this.$MercuryThreads8=new(c("KeyedCallbackManager"))();this.$MercuryThreads9=new(c("Set"))();this.$MercuryThreads10=false;this.$MercuryThreads11=new(c("Set"))();this.$MercuryThreads12=new(c("Set"))()};l.prototype.$MercuryThreads32=function(n){if(n.specific_to_list)return n.specific_to_list;var o=c("MercuryIDs").tokenize(n.thread_id),p=o.type,q=o.value;if(!q||p!=="user")return[this.$MercuryThreads4];return[c("MercuryIDs").getParticipantIDFromUserID(q),this.$MercuryThreads4]};var m=new(c("MercurySingletonProvider"))(l);f.exports=l}),null);
__d("MercuryMessageObject",["BanzaiODS","MercuryActionStatus","MercuryActionType","MercuryIDs","MercuryLocalIDs","MercuryMessageClientState","MercuryMessageSourceTags","MercurySingletonProvider","MercurySourceType","MercuryThreads","MercurySendMessageFields"],(function a(b,c,d,e,f,g){__p&&__p();h.getForFBID=function(l){"use strict";return k.getForFBID(l)};h.get=function(){"use strict";return k.get()};function h(l){"use strict";this.$MercuryMessageObject1=l;this.$MercuryMessageObject2=c("MercuryThreads").getForFBID(l)}h.prototype.constructUserGeneratedMessageObject=function(l,m,n,o,p){__p&&__p();var q=arguments.length<=5||arguments[5]===undefined?null:arguments[5];"use strict";var r=i(this.$MercuryMessageObject1,c("MercuryActionType").USER_GENERATED_MESSAGE,m,n);if(typeof l=="string")l=l.replace(/^\s+/,"").replace(/\s+$/,"");r.body=l;r.has_attachment=false;r.html_body=false;r.attachments=[];r.specific_to_list=o||[];r.creator_info=p;if(q&&q.length>0)r.tags=q;return r};h.prototype.constructStickerMessageObject=function(l,m,n){__p&&__p();var o=arguments.length<=3||arguments[3]===undefined?null:arguments[3];"use strict";var p=i(this.$MercuryMessageObject1,c("MercuryActionType").USER_GENERATED_MESSAGE,m,n);p.has_attachment=true;p.html_body=false;p.attachments=[];p.sticker_id=l;p.specific_to_list=[];if(o&&o.length>0)p.tags=o;return p};h.prototype.constructAttachmentMessageObject=function(l,m){"use strict";var n=i(this.$MercuryMessageObject1,c("MercuryActionType").USER_GENERATED_MESSAGE,l,m);n.attachments=[];n.specific_to_list=[];return n};h.prototype.constructLogMessageObject=function(l,m,n,o){"use strict";var p=i(this.$MercuryMessageObject1,c("MercuryActionType").LOG_MESSAGE,l,m);p.log_message_type=n;p.log_message_data=o;if(o&&o.untypedData&&o.untypedData.ttl)p.ephemeral_ttl_mode=o.untypedData.ttl;return p};h.prototype.constructCTAConfirmationMessageObject=function(l,m,n,o){__p&&__p();var p=arguments.length<=4||arguments[4]===undefined?null:arguments[4];"use strict";var q=this.constructUserGeneratedMessageObject(l,m,n,null,null),r={};if(o)r={quick_replies:o,ignore_for_webhook:false};else r={ignore_for_webhook:true};q.platform_xmd=JSON.stringify(r);if(p&&p.length>0)q.tags=p;return q};h.prototype.normalizeNewMessage=function(l){"use strict";__p&&__p();if(l.status===undefined)l.status=c("MercuryActionStatus").UNSENT;l.offline_threading_id=l.offline_threading_id||c("MercuryLocalIDs").generateOfflineThreadingID(l.timestamp);if(!l.offline_threading_id)c("BanzaiODS").bumpEntityKey("chat.web","invalid_otid_generated");l.message_id=l.message_id||l.offline_threading_id;var m=c("MercuryIDs").getParticipantIDFromUserID(this.$MercuryMessageObject1);l.specific_to_list=l.specific_to_list||[];if(l.specific_to_list.length&&l.specific_to_list.indexOf(m)===-1)l.specific_to_list.push(m);if(!l.thread_id)l.thread_id="root:"+l.offline_threading_id;else{var n=this.$MercuryMessageObject2.getThreadMetaNow(l.thread_id);if(n&&n.ephemeral_ttl_mode!==null&&l.ephemeral_ttl_mode===undefined)l.ephemeral_ttl_mode=n.ephemeral_ttl_mode}if(l.specific_to_list.length==1)l.thread_id="user:"+this.$MercuryMessageObject1;else if(l.specific_to_list.length==2){var o=l.specific_to_list[0]==m?l.specific_to_list[1]:l.specific_to_list[0];l.thread_id=c("MercuryIDs").getThreadIDFromParticipantID(o)}if(!l.specific_to_list.length){var p=c("MercuryIDs").tokenize(l.thread_id),q=p.type,r=p.value;if(q=="user")l.specific_to_list=["fbid:"+r,m]}if(!l[c("MercurySendMessageFields").MANUAL_RETRY_CNT])l[c("MercurySendMessageFields").MANUAL_RETRY_CNT]=0};h.prototype.normalizeResendMessage=function(l){"use strict";l.status=c("MercuryActionStatus").RESENDING;l.timestamp=Date.now();l[c("MercurySendMessageFields").MANUAL_RETRY_CNT]+=1};h.prototype.normalizeAddAttachmentPlaceholder=function(l,m,n){"use strict";if(n.preview_attachments.length>0){l.has_attachment=true;l.preview_attachments=n.preview_attachments}l.client_state=c("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER;l.status=c("MercuryActionStatus").RESENDING;l.upload_id=m};function i(l,m,n,o){var p=j(n)?[c("MercuryMessageSourceTags").CHAT]:[],q=Date.now(),r={action_type:m,thread_id:o,author:c("MercuryIDs").getParticipantIDFromUserID(l),author_email:null,timestamp:q,is_unread:false,is_filtered_content:false,is_filtered_content_bh:false,is_filtered_content_account:false,is_filtered_content_quasar:false,is_filtered_content_invalid_app:false,is_spoof_warning:false,source:n,source_tags:p};return r}function j(l){switch(l){case c("MercurySourceType").CHAT_WEB:case c("MercurySourceType").CHAT_JABBER:case c("MercurySourceType").CHAT_IPHONE:case c("MercurySourceType").CHAT_MEEBO:case c("MercurySourceType").CHAT_ORCA:case c("MercurySourceType").CHAT_TEST:case c("MercurySourceType").CHAT:return true;default:return false}}var k=new(c("MercurySingletonProvider"))(h);f.exports=h}),null);
__d("MercuryMessageActions",["MercuryActionType","MercuryDispatcher","MercuryMessageObject","MercuryPayloadSource","MercuryServerRequests","MercurySingletonMixin"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$MercuryMessageActions1=i;this.$MercuryMessageActions2=c("MercuryMessageObject").getForFBID(this.$MercuryMessageActions1);this.__serverRequests=c("MercuryServerRequests").getForFBID(this.$MercuryMessageActions1);this.__dispatcher=c("MercuryDispatcher").getForFBID(this.$MercuryMessageActions1)}h.prototype.send=function(i,j,k){j=j||Function.prototype;this.$MercuryMessageActions2.normalizeNewMessage(i);this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},i),c("MercuryPayloadSource").CLIENT_SEND_MESSAGE));this.__serverRequests.sendNewMessage(i,k);j(i.thread_id)};h.prototype.resend=function(i,j){var k=babelHelpers["extends"]({},i);this.$MercuryMessageActions2.normalizeResendMessage(k);this.send(k,undefined,j)};h.prototype.addAttachmentPlaceholder=function(i,j,k){this.$MercuryMessageActions2.normalizeAddAttachmentPlaceholder(i,j,k);this.$MercuryMessageActions2.normalizeNewMessage(i);this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},i),c("MercuryPayloadSource").CLIENT_SEND_MESSAGE))};h.prototype.cancelAttachmentPlaceholder=function(i,j){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:i,upload_data:j,action_type:c("MercuryActionType").CANCEL_ATTACHMENT_PLACEHOLDER},c("MercuryPayloadSource").CLIENT_SEND_MESSAGE))};h.prototype.confirmAttachmentPlaceholder=function(i,j){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:i,upload_data:j,action_type:c("MercuryActionType").CONFIRM_ATTACHMENT_PLACEHOLDER},c("MercuryPayloadSource").CLIENT_SEND_MESSAGE))};h.prototype["delete"]=function(i,j,k){this.__dispatcher.handleUpdate(this.$MercuryMessageActions3(i,j,c("MercuryActionType").DELETE_MESSAGES,k||c("MercuryPayloadSource").CLIENT_DELETE_MESSAGES))};h.prototype.unwrap=function(i){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({thread_id:i.thread_id,unwrapped_message_id:i.message_id,action_type:c("MercuryActionType").UNWRAP_MESSAGE},c("MercuryPayloadSource").CLIENT_UNWRAP_MESSAGE))};h.prototype.__constructClientSingleMessagePayload=function(i,j){return{actions:[i],from_client:true,payload_source:j}};h.prototype.$MercuryMessageActions4=function(i,j){return{actions:[i],from_client:false,payload_source:j}};h.prototype.$MercuryMessageActions3=function(i,j,k,l){return{actions:[{action_type:k,thread_id:i,message_ids:j}],from_client:true,payload_source:l}};Object.assign(h,c("MercurySingletonMixin"));f.exports=h}),null);
__d("MercuryMessageError.react",["cx","CurrentUser","ImmutableObject","Link.react","MercuryErrorInfo","MercuryMessageActions","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.messageResend=function(r){r.preventDefault();var s=this.props.message,t=s.error_data;if(c("MercuryErrorInfo").isTransient(t))c("MercuryMessageActions").getForFBID(this.props.authorFBID).resend(this.props.message)}.bind(this),n}l.prototype.render=function(){var m=this.props.message,n=m.error_data;return c("React").createElement(c("Link.react"),babelHelpers["extends"]({},this.props,{href:"#",className:c("joinClasses")(this.props.className,this.$MercuryMessageError1(m)),tabIndex:c("MercuryErrorInfo").isTransient(n)?0:null,onClick:this.messageResend}),c("React").createElement("i",{className:"_2fs1"}),c("React").createElement("span",{className:"_61ag",dangerouslySetInnerHTML:{__html:this.$MercuryMessageError2(m)}}))};l.prototype.$MercuryMessageError1=function(m){if(c("MercuryErrorInfo").hasErrorStatus(m))return"_2fs2 _2fs3"+(c("MercuryErrorInfo").isTransient(m.error_data)?" _2fs4":"")+(c("MercuryErrorInfo").isPermanent(m.error_data)?" _2fs5":"");else return"_2fs6 _2fs2"};l.prototype.$MercuryMessageError2=function(m){var n="",o=m.error_data;if(c("MercuryErrorInfo").hasErrorStatus(m)){var p=c("MercuryErrorInfo").getMessage(o);if(p)n=p.toString()}if(typeof n==="object"&&n.__html)n=n.__html;return n};l.propTypes={authorFBID:k.string,message:k.instanceOf(c("ImmutableObject")).isRequired};l.defaultProps={authorFBID:c("CurrentUser").getID()};f.exports=l}),null);
__d("TooltipLink.react",["React","TooltipMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"TooltipLink",mixins:[c("TooltipMixin")],render:function i(){return c("React").createElement("a",this.props,this.props.children)}});f.exports=h}),null);
__d("AccessibleLayer",["fbt","DOM","Event","Focus"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this._layer=j;this._listener=null}i.prototype.enable=function(){"use strict";this._afterShowSubscription=this._layer.subscribe("aftershow",this._onAfterShow.bind(this));this._afterHideSubscription=this._layer.subscribe("hide",this._onAfterHide.bind(this))};i.prototype.disable=function(){"use strict";this._listener&&this._listener.remove();this._afterShowSubscription.unsubscribe();this._listener=this._afterShowSubscription=null};i.prototype._closeListener=function(event){"use strict";var j=this._layer.getCausalElement();if(j)if(j.tabIndex==-1){j.tabIndex=0;c("Focus").setWithoutOutline(j)}else c("Focus").set(j);this._layer.hide()};i.prototype._setupCloseButton=function(){"use strict";var j=this._layer.getContentRoot(),k=c("DOM").scry(j,".layer_close_elem")[0];if(!k){k=c("DOM").create("a",{className:"accessible_elem layer_close_elem",href:"#",role:"button"},[h._("Close popup and return")]);c("DOM").appendContent(j,k)}this._listener=c("Event").listen(k,"click",this._closeListener.bind(this))};i.prototype._onAfterShow=function(){"use strict";if(!this._listener)this._setupCloseButton()};i.prototype._onAfterHide=function(){"use strict";this._listener&&this._listener.remove();this._listener=null};f.exports=i}),null);
__d("ContextualDialogARIA",["DOM","getOrCreateDOMID"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("beforeshow",this._addAriaAttribute.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._addAriaAttribute=function(){"use strict";var i=this._layer.getCausalElement();if(!i)return;var j=c("DOM").scry(this._layer.getRoot(),".accessible_elem");if(j.length)i.setAttribute("aria-describedby",c("getOrCreateDOMID")(j[0]))};f.exports=h}),null);
__d("AbstractContextualDialogArrowBehavior",["cx","CSS","DOM","Locale","Style","Vector","abstractMethod"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={bottom:"_53ik",top:"_53il",right:"_53im",left:"_53in"},j={above:"bottom",below:"top",left:"right",right:"left"};function k(l){"use strict";this.__layer=this._layer=l}k.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(["adjust","reposition"],this._handle.bind(this))};k.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};k.prototype.__getArrow=function(){"use strict";return c("abstractMethod")("AbstractContextualDialogArrowBehavior","__getArrow")};k.prototype._handle=function(l,m){"use strict";if(l==="adjust")this._repositionArrow(m);else this._repositionRoot(m)};k.prototype._repositionRoot=function(l){"use strict";__p&&__p();var m=l.getAlignment();if(m=="center")return;var n=this._layer.getRoot(),o=this._layer.getContext(),p=l.isVertical(),q=this._layer.getArrowDimensions(),r=q.offset,s=q.length,t=c("Vector").getElementDimensions(o),u=p?t.x:t.y;if(u>=s+r*2)return;var v=s/2+r,w=u/2,x=parseInt(v-w,10);if(p){var y=null;if(m=="left")y=c("Locale").isRTL()?"right":"left";else y=c("Locale").isRTL()?"left":"right";var z=parseInt(c("Style").get(n,y),10);c("Style").set(n,y,z-x+"px")}else{var A=parseInt(c("Style").get(n,"top"),10);c("Style").set(n,"top",A-x+"px")}};k.prototype._repositionArrow=function(l){"use strict";__p&&__p();var m=this._layer.getContentRoot(),n=l.getPosition(),o=j[n];for(var p in i)c("CSS").conditionClass(m,i[p],o===p);if(n=="none")return;if(!this._arrow)this._arrow=this.__getArrow();if(!c("DOM").contains(m,this._arrow))c("DOM").appendContent(m,this._arrow);c("Style").set(this._arrow,"top","");c("Style").set(this._arrow,"left","");c("Style").set(this._arrow,"right","");c("Style").set(this._arrow,"margin","");var q=k.getOffsetPercent(l),r=k.getOffset(l,q,this._layer),s=k.getOffsetSide(l);c("Style").set(this._arrow,s,q+"%");c("Style").set(this._arrow,"margin-"+s,r+"px")};k.getOffsetPercent=function(l){"use strict";var m=l.getAlignment(),n=l.getPosition();if(n=="above"||n=="below")if(m=="center")return 50;else if(m=="right")return 100;return 0};k.getOffsetSide=function(l){"use strict";var m=l.isVertical();return m?c("Locale").isRTL()?"right":"left":"top"};k.getOffset=function(l,m,n){"use strict";var o=n.getArrowDimensions(),p=o.offset,q=o.length,r=l.getAlignment(),s=r=="center"?0:p;s+=q*m/100;if(r!="left")s*=-1;return s};f.exports=k}),null);
__d("JSXDOM",["DOM","FbtResultBase","flattenArray"],(function a(b,c,d,e,f,g){__p&&__p();var h=["a","blockquote","br","button","canvas","checkbox","dd","div","dl","dt","em","form","h1","h2","h3","h4","h5","h6","hr","i","iframe","img","input","label","li","option","p","pre","select","span","strong","table","tbody","thead","td","textarea","th","tr","ul","video"],i={};h.forEach(function(j){__p&&__p();var k=function k(l,m){__p&&__p();if(arguments.length>2)m=Array.prototype.slice.call(arguments,1);if(!m&&l){m=l.children;delete l.children}if(m){m=Array.isArray(m)?m:[m];m=m.map(function(n){if(n instanceof c("FbtResultBase"))return n.flattenToArray();return n});m=c("flattenArray")(m)}return c("DOM").create(j,l,m)};i[j]=k});f.exports=i}),null);
__d("ContextualDialogArrow",["cx","CSS","AbstractContextualDialogArrowBehavior","JSXDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("AbstractContextualDialogArrowBehavior"));j=i&&i.prototype;k.prototype.__getArrow=function(){"use strict";return c("JSXDOM").i({className:"_53io"})};k.prototype.enable=function(){"use strict";j.enable.call(this);var l=this.__layer.getContentRoot();c("CSS").addClass(l,"_5v-0")};k.prototype.disable=function(){"use strict";j.disable.call(this);var l=this.__layer.getContentRoot();c("CSS").removeClass(l,"_5v-0")};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ContextualDialogDefaultTheme",["cx"],(function a(b,c,d,e,f,g,h){var i={wrapperClassName:"_53ip",arrowDimensions:{offset:15,length:16}};f.exports=i}),null);
__d("ContextualDialogFitInViewport_PUSHSAFE",["Style","Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h=50,i=10;function j(k){"use strict";this._layer=k;this._contentHeight=null;this._contextY=null}j.prototype.enable=function(){"use strict";var k=this._layer.getArrowDimensions();this._arrowOffset=k.offset;var l=k.length;this._arrowBuffer=this._arrowOffset+l;this._subscription=this._layer.subscribe(["reposition"],function(m,n){if(!this._layer.isFixed()||n.isVertical())return;this._adjustPosition()}.bind(this))};j.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};j.prototype._getContentHeight=function(){"use strict";return c("Vector").getElementDimensions(this._layer._contentWrapper).y};j.prototype._getContextY=function(){"use strict";return c("Vector").getElementPosition(this._layer.getContext(),"viewport").y};j.prototype._adjustPosition=function(){"use strict";var k=this._getContextY(),l=this._getContentHeight();if(k===this._contextY&&l===this._contentHeight)return;this._contextY=k;this._contentHeight=l;var m=c("Vector").getViewportDimensions().y,n=Math.min(Math.max(0,k+l+i-m),Math.max(0,k-h),l-this._arrowOffset-this._arrowBuffer);c("Style").set(this._layer.getContent(),"top",-n+"px")};f.exports=j}),null);
__d("Rect",["invariant","Vector","$"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k,l,m,n){"use strict";__p&&__p();if(arguments.length===1){if(j instanceof i)return j;if(j instanceof c("Vector"))return new i(j.y,j.x,j.y,j.x,j.domain);return i.getElementBounds(c("$")(j))}typeof j==="number"&&typeof k==="number"&&typeof l==="number"&&typeof m==="number"&&(!n||typeof n==="string")||h(0);Object.assign(this,{t:j,r:k,b:l,l:m,domain:n||"pure"});return this}i.prototype.w=function(){"use strict";return this.r-this.l};i.prototype.h=function(){"use strict";return this.b-this.t};i.prototype.getWidth=function(){"use strict";return this.w()};i.prototype.getHeight=function(){"use strict";return this.h()};i.prototype.toString=function(){"use strict";return"(("+this.l+", "+this.t+"), ("+this.r+", "+this.b+"))"};i.prototype.contains=function(j){"use strict";j=new i(j).convertTo(this.domain);var k=this;return k.l<=j.l&&k.r>=j.r&&k.t<=j.t&&k.b>=j.b};i.prototype.isEqualTo=function(j){"use strict";return this.t===j.t&&this.r===j.r&&this.b===j.b&&this.l===j.l&&this.domain===j.domain};i.prototype.add=function(j,k){"use strict";__p&&__p();if(arguments.length==1){if(j instanceof i&&j.domain!="pure")j=j.convertTo(this.domain);if(j instanceof c("Vector"))return this.add(j.x,j.y);return this}var l=parseFloat(j),m=parseFloat(k);return new i(this.t+m,this.r+l,this.b+m,this.l+l,this.domain)};i.prototype.sub=function(j,k){"use strict";if(arguments.length==1&&j instanceof c("Vector"))return this.add(j.mul(-1));else if(typeof j==="number"&&typeof k==="number")return this.add(-j,-k);return this};i.prototype.rotateAroundOrigin=function(j){"use strict";__p&&__p();var k=this.getCenter().rotate(j*Math.PI/2),l=0,m=0;if(j%2){l=this.h();m=this.w()}else{l=this.w();m=this.h()}var n=k.y-m/2,o=k.x-l/2,p=n+m,q=o+l;return new i(n,q,p,o,this.domain)};i.prototype.boundWithin=function(j){"use strict";__p&&__p();var k=0,l=0;if(this.l<j.l)k=j.l-this.l;else if(this.r>j.r)k=j.r-this.r;if(this.t<j.t)l=j.t-this.t;else if(this.b>j.b)l=j.b-this.b;return this.add(k,l)};i.prototype.getCenter=function(){"use strict";return new(c("Vector"))(this.l+this.w()/2,this.t+this.h()/2,this.domain)};i.prototype.getTop=function(){"use strict";return this.t};i.prototype.getRight=function(){"use strict";return this.r};i.prototype.getBottom=function(){"use strict";return this.b};i.prototype.getLeft=function(){"use strict";return this.l};i.prototype.getPositionVector=function(){"use strict";return new(c("Vector"))(this.l,this.t,this.domain)};i.prototype.getDimensionVector=function(){"use strict";return new(c("Vector"))(this.w(),this.h(),"pure")};i.prototype.convertTo=function(j){"use strict";if(this.domain==j)return this;if(j=="pure")return new i(this.t,this.r,this.b,this.l,"pure");if(this.domain=="pure")return new i(0,0,0,0);var k=new(c("Vector"))(this.l,this.t,this.domain).convertTo(j);return new i(k.y,k.x+this.w(),k.y+this.h(),k.x,j)};i.deserialize=function(j){"use strict";var k=j.split(":");return new i(parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[0]))};i.newFromVectors=function(j,k){"use strict";return new i(j.y,j.x+k.x,j.y+k.y,j.x,j.domain)};i.getElementBounds=function(j){"use strict";return i.newFromVectors(c("Vector").getElementPosition(j),c("Vector").getElementDimensions(j))};i.getViewportBounds=function(){"use strict";return i.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportDimensions())};i.getViewportWithoutScrollbarsBounds=function(){"use strict";return i.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportWithoutScrollbarDimensions())};i.minimumBoundingBox=function(j){"use strict";__p&&__p();var k=new i(Infinity,-Infinity,-Infinity,Infinity),l;for(var m=0;m<j.length;m++){l=j[m];k.t=Math.min(k.t,l.t);k.r=Math.max(k.r,l.r);k.b=Math.max(k.b,l.b);k.l=Math.min(k.l,l.l)}return k};f.exports=i}),null);
__d("getOverlayZIndex",["Style"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(c("Style").get(m,"position")!="static"){var n=parseInt(c("Style").get(m,"z-index"),10);if(!isNaN(n))return n}}return 0}f.exports=h}),null);
__d("LayerBounds",["Locale","Rect","ViewportBounds","containsNode","ge","getOverlayZIndex"],(function a(b,c,d,e,f,g){__p&&__p();var h={getViewportRectForContext:function i(j){__p&&__p();var k=c("ge")("globalContainer"),l=k&&c("containsNode")(k,j)||c("getOverlayZIndex")(j)<300,m=c("Rect").getViewportWithoutScrollbarsBounds();if(l){m.t+=c("ViewportBounds").getTop();if(c("Locale").isRTL()){m.r-=c("ViewportBounds").getLeft();m.l+=c("ViewportBounds").getRight()}else{m.r-=c("ViewportBounds").getRight();m.l+=c("ViewportBounds").getLeft()}}return m}};f.exports=h}),null);
__d("ContextualLayerDimensions",["LayerBounds","Locale","Rect","Vector","ViewportBounds"],(function a(b,c,d,e,f,g){__p&&__p();var h={getViewportRect:function i(j){return c("LayerBounds").getViewportRectForContext(j.getContext())},getLayerRect:function i(j,k){__p&&__p();var l=j.getContextBounds("viewport"),m=j.simulateOrientation(k,function(){return c("Vector").getElementDimensions(j.getContentRoot())}),n=l.t+k.getOffsetY();if(k.getPosition()==="above")n-=m.y;else if(k.getPosition()==="below")n+=l.b-l.t;var o=l.l+k.getOffsetX(),p=l.r-l.l;if(k.isVertical()){var q=k.getAlignment();if(q==="center")o+=(p-m.x)/2;else if(q==="right"!==c("Locale").isRTL())o+=p-m.x+k.getArrowOffset();else o-=k.getArrowOffset()}else if(k.getPosition()==="right"!==c("Locale").isRTL())o+=p;else o-=m.x;return new(c("Rect"))(n,o+m.x,n+m.y,o,"viewport")}};f.exports=h}),null);
__d("AbstractContextualDialogKeepInViewportBehavior",["ContextualLayerDimensions","Event","Style","Vector","abstractMethod","throttle"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i;this._listeners=[];this._subscription=null;this._minimumTop=null}h.prototype.enable=function(){"use strict";__p&&__p();var i=this._layer.getArrowDimensions();this._arrowOffset=i.offset;var j=i.length;this._arrowBuffer=this._arrowOffset+j;this._subscription=this._layer.subscribe(["show","hide","reposition"],function(k,l){__p&&__p();if(this._layer.isFixed())return;if(k=="reposition"){this._calculateMinimumTop(l);this._adjustForScroll()}else if(k=="show"){this._attachScroll();this._adjustForScroll()}else this._detachScroll()}.bind(this));if(this._layer.isShown())this._attachScroll()};h.prototype.disable=function(){"use strict";if(this._layer.isShown())this._detachScroll();this._subscription.unsubscribe();this._subscription=null};h.prototype.__adjustForScroll=function(i,j){"use strict";return c("abstractMethod")("AbstractContextualDialogArrowBehavior","__adjustForScroll")};h.prototype._attachScroll=function(){"use strict";var i=c("throttle")(this._adjustForScroll.bind(this)),j=this._layer.getContextScrollParent()||window;this._listeners=[c("Event").listen(j,"scroll",i),c("Event").listen(window,"resize",i)]};h.prototype._detachScroll=function(){"use strict";while(this._listeners.length)this._listeners.pop().remove();this._listeners=[]};h.prototype._getContentHeight=function(){"use strict";if(!this._layer._contentWrapper)return 0;return c("Vector").getElementDimensions(this._layer._contentWrapper).y};h.prototype._getContextY=function(){"use strict";return c("Vector").getElementPosition(this._layer.getContext()).y};h.prototype._calculateMinimumTop=function(i){"use strict";if(i.isVertical())return;this._minimumTop=this._getContextY()-(this._getContentHeight()-this._arrowBuffer)+i.getOffsetY()};h.prototype._adjustForScroll=function(){"use strict";var i=this._layer.getOrientation(),j=this._layer.getContent();if(i.isVertical()||!j)return;var k=c("ContextualLayerDimensions").getViewportRect(this._layer),l=k.b-this._minimumTop;if(l<0)return;var m=this._getContentHeight(),n=m-(this._arrowBuffer+this._arrowOffset),o=Math.max(0,Math.min(n,n-(l-m)));this.__adjustForScroll(this._layer,o)};f.exports=h}),null);
__d("ContextualDialogKeepInViewport",["AbstractContextualDialogKeepInViewportBehavior","Style"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractContextualDialogKeepInViewportBehavior"));i=h&&h.prototype;j.prototype.__adjustForScroll=function(k,l){"use strict";var m=k.getContent();c("Style").set(m,"top",-l+"px")};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("BehaviorsMixin",[],(function a(b,c,d,e,f,g){__p&&__p();function h(l){"use strict";this.$InstalledBehavior1=l;this.$InstalledBehavior2=false}h.prototype.enable=function(){"use strict";if(!this.$InstalledBehavior2){this.$InstalledBehavior2=true;this.$InstalledBehavior1.enable()}};h.prototype.disable=function(){"use strict";if(this.$InstalledBehavior2){this.$InstalledBehavior2=false;this.$InstalledBehavior1.disable()}};var i=1;function j(l){if(!l.__BEHAVIOR_ID)l.__BEHAVIOR_ID=i++;return l.__BEHAVIOR_ID}var k={enableBehavior:function l(m){if(!this._behaviors)this._behaviors={};var n=j(m);if(!this._behaviors[n])this._behaviors[n]=new h(new m(this));this._behaviors[n].enable();return this},disableBehavior:function l(m){if(this._behaviors){var n=j(m);if(this._behaviors[n])this._behaviors[n].disable()}return this},enableBehaviors:function l(m){m.forEach(this.enableBehavior,this);return this},destroyBehaviors:function l(){if(this._behaviors){for(var m in this._behaviors)this._behaviors[m].disable();this._behaviors={}}},hasBehavior:function l(m){return this._behaviors&&j(m)in this._behaviors}};f.exports=k}),null);
__d("isValidReactElement",[],(function a(b,c,d,e,f,g){var h=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function i(j){return!!(typeof j==="object"&&j!==null&&j.$$typeof===h)}f.exports=i}),null);
__d("BootloadedReact",["Bootloader","isValidReactElement"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(j){c("Bootloader").loadModules(["ReactDOM"],j,"BootloadedReact")},i={isValidElement:function j(k){return c("isValidReactElement")(k)},render:function j(k,l,m){h(function(n){n.render(k,l,function(){m&&m(this)})})},unmountComponentAtNode:function j(k,l){h(function(m){m.unmountComponentAtNode(k);l&&l()})}};f.exports=i}),null);
__d("KeyEventController",["DOMQuery","Event","Run","emptyFunction","getElementText","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=["input","select","textarea","object","embed"],j={button:1,checkbox:1,radio:1,submit:1,file:1},k={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187]},l={8:1,9:1,13:1,27:1,32:1,37:1,63234:1,38:1,63232:1,39:1,63235:1,40:1,63233:1,46:1};function m(){"use strict";this.handlers={};document.onkeyup=this.onkeyevent.bind(this,"onkeyup");document.onkeydown=this.onkeyevent.bind(this,"onkeydown");document.onkeypress=this.onkeyevent.bind(this,"onkeypress")}m.prototype.mapKey=function(n){"use strict";__p&&__p();if(n>=0&&n<=9){if(typeof n!="number")n=n.charCodeAt(0)-48;return[48+n,96+n]}var o=k[n.toUpperCase()];if(o)return o;return[n.toUpperCase().charCodeAt(0)]};m.prototype.onkeyevent=function(n,o){"use strict";__p&&__p();o=c("Event").$E(o);var p=this.handlers[o.keyCode]||this.handlers[o.which],q,r,s;if(p)for(var t=0;t<p.length;t++){q=p[t].callback;r=p[t].filter;try{if(!r||r(o,n)){s=q(o,n);if(s===false)return c("Event").kill(o)}}catch(u){}}return true};m.prototype.resetHandlers=function(){"use strict";for(var n in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,n)){var o=this.handlers[n].filter(function(p){return p.preserve()});if(o.length)this.handlers[n]=o;else delete this.handlers[n]}};m.getInstance=function(){"use strict";return h||(h=new m())};m.defaultFilter=function(event,n){"use strict";event=c("Event").$E(event);return m.filterEventTypes(event,n)&&m.filterEventTargets(event,n)&&m.filterEventModifiers(event,n)};m.filterEventTypes=function(event,n){"use strict";if(n==="onkeydown")return true;return false};m.filterEventTargets=function(event,n){"use strict";var o=event.getTarget(),p=o.contentEditable==="true"||o.contentEditable==="plaintext-only";return!(p||c("DOMQuery").isNodeOfType(o,i))||o.type in j||event.keyCode in l&&(c("DOMQuery").isNodeOfType(o,["input","textarea"])&&o.value.length===0||p&&c("getElementText")(o).length===0)};m.filterEventModifiers=function(event,n){"use strict";if(event.ctrlKey||event.altKey||event.metaKey||event.repeat)return false;return true};m.registerKey=function(n,o){__p&&__p();var p=arguments.length<=2||arguments[2]===undefined?m.defaultFilter:arguments[2],q=arguments.length<=3||arguments[3]===undefined?false:arguments[3],r=arguments.length<=4||arguments[4]===undefined?c("emptyFunction").thatReturnsFalse:arguments[4];"use strict";var s=m.getInstance(),t=s.mapKey(n);if(c("isEmpty")(s.handlers))c("Run").onLeave(s.resetHandlers.bind(s));var u={};for(var v=0;v<t.length;v++){n=t[v];if(!s.handlers[n]||q)s.handlers[n]=[];var w={callback:o,filter:p,preserve:r};u[n]=w;s.handlers[n].push(w)}return{remove:function x(){for(var y in u){if(s.handlers[y]&&s.handlers[y].length){var z=s.handlers[y].indexOf(u[y]);z>=0&&s.handlers[y].splice(z,1)}delete u[y]}}}};f.exports=m}),null);
__d("Layer",["KeyStatus","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","Event","HTML","KeyEventController","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;c("KeyStatus");var j=[];h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));i=h&&h.prototype;function k(n,o){"use strict";i.constructor.call(this);this._config=n||{};if(o){this._configure(this._config,o);var p=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(p))}}k.prototype.init=function(n){"use strict";this._configure(this._config,n);var o=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(o));this._initialized=true;return this};k.prototype._configure=function(n,o){__p&&__p();var p,q=this;"use strict";if(o){var r=c("isNode")(o),s=typeof o==="string"||c("HTML").isHTML(o);this.containsReactComponent=c("BootloadedReact").isValidElement(o);if(s)o=c("HTML")(o).getRootNode();else if(this.containsReactComponent){var t;(function(){t=document.createElement("div");var u=true;c("BootloadedReact").render(o,t,function(){this.inform("reactshow");if(!u)this.updatePosition()}.bind(q));u=false;o=q._reactContainer=t})()}}this._root=this._buildWrapper(n,o);if(n.attributes)c("DOM").setAttributes(this._root,n.attributes);if(n.classNames)n.classNames.forEach(c("CSS").addClass.bind(null,this._root));c("CSS").addClass(this._root,"uiLayer");if(n.causalElement)this._causalElement=c("ge")(n.causalElement);if(n.permanent)this._permanent=n.permanent;if(n.isStrictlyControlled)this._isStrictlyControlled=n.isStrictlyControlled;c("DataStore").set(this._root,"layer",this)};k.prototype._getDefaultBehaviors=function(){"use strict";return[]};k.prototype.getCausalElement=function(){"use strict";return this._causalElement};k.prototype.setCausalElement=function(n){"use strict";this._causalElement=n;return this};k.prototype.getInsertParent=function(){"use strict";return this._insertParent||document.body};k.prototype.getRoot=function(){"use strict";return this._root};k.prototype.getContentRoot=function(){"use strict";return this._root};k.prototype._buildWrapper=function(n,o){"use strict";return o};k.prototype.setInsertParent=function(n){"use strict";if(n){if(this._shown&&n!==this.getInsertParent()){c("DOM").appendContent(n,this.getRoot());this.updatePosition()}this._insertParent=n}return this};k.prototype.showAfterDelay=function(n){"use strict";setTimeout(this.show.bind(this),n)};k.prototype.show=function(){"use strict";__p&&__p();if(this._shown)return this;var n=this.getRoot();this.inform("beforeshow");c("Style").set(n,"visibility","hidden");c("Style").set(n,"overflow","hidden");c("CSS").show(n);c("DOM").appendContent(this.getInsertParent(),n);if(this.updatePosition()!==false){this._shown=true;this.inform("show");k.inform("show",this);if(!this._permanent)setTimeout(function(){if(this._shown)j.push(this)}.bind(this),0)}else c("CSS").hide(n);c("Style").set(n,"visibility","");c("Style").set(n,"overflow","");c("Style").set(n,"opacity","1");this.inform("aftershow");return this};k.prototype.hide=function(n){"use strict";if(this._isStrictlyControlled){this._shown&&this.inform("runhide",n);return this}return this._hide()};k.prototype._hide=function(){"use strict";if(this._hiding||!this._shown||this.inform("beforehide")===false)return this;this._hiding=true;if(this.inform("starthide")!==false)this.finishHide();return this};k.prototype.conditionShow=function(n){"use strict";return n?this.show():this._hide()};k.prototype.finishHide=function(){"use strict";__p&&__p();if(this._shown){if(!this._permanent)c("removeFromArray")(j,this);this._hiding=false;this._shown=false;c("CSS").hide(this.getRoot());this.inform("hide");k.inform("hide",this)}};k.prototype.isShown=function(){"use strict";return this._shown};k.prototype.updatePosition=function(){"use strict";return true};k.prototype.destroy=function(){"use strict";__p&&__p();if(this.containsReactComponent)c("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var n=this.getRoot();c("DOM").remove(n);this.destroyBehaviors();this.inform("destroy");k.inform("destroy",this);c("DataStore").remove(n,"layer");this._root=this._causalElement=null};k.init=function(n,o){"use strict";n.init(o)};k.initAndShow=function(n,o){"use strict";n.init(o).show()};k.show=function(n){"use strict";n.show()};k.showAfterDelay=function(n,o){"use strict";n.showAfterDelay(o)};k.getTopmostLayer=function(){"use strict";return j[j.length-1]};Object.assign(k,c("ArbiterMixin"));Object.assign(k.prototype,{_initialized:false,_root:null,_shown:false,_hiding:false,_causalElement:null,_reactContainer:null});c("Event").listen(document.documentElement,"keydown",function(event){if(c("KeyEventController").filterEventTargets(event,"keydown"))for(var n=j.length-1;n>=0;n--)if(j[n].inform("key",event)===false)return false},c("Event").Priority.URGENT);var l;c("Event").listen(document.documentElement,"mousedown",function(event){l=event.getTarget()});var m;c("Event").listen(document.documentElement,"mouseup",function(event){m=event.getTarget();c("setImmediate")(function(){l=null;m=null})});c("Event").listen(document.documentElement,"click",function(event){__p&&__p();var n=l,o=m;l=null;m=null;var p=j.length;if(!p)return;var q=event.getTarget();if(q!==o||q!==n)return;if(!c("DOM").contains(document.documentElement,q))return;if(!q.offsetWidth)return;if(c("Parent").byClass(q,"generic_dialog"))return;while(p--){var r=j[p],s=r.getContentRoot();if(c("ContextualThing").containsIncludingLayers(s,q))return;if(r.inform("blur",{target:q})===false||r.isShown())return}});f.exports=k}),null);
__d("Form",["DataStore","DOM","DOMQuery","DTSG","Input","LSD","Random","PHPQuerySerializer","URI","getElementPosition","isFacebookURI","isNode"],(function a(b,c,d,e,f,g){__p&&__p();var h="FileList"in window,i="FormData"in window;function j(l){var m={};c("PHPQuerySerializer").serialize(l).split("&").forEach(function(n){if(n){var o=/^([^=]*)(?:=(.*))?$/.exec(n),p=c("URI").decodeComponent(o[1]),q=o[2]!==undefined,r=q?c("URI").decodeComponent(o[2]):null;m[p]=r}});return m}var k={getInputs:function l(){var m=arguments.length<=0||arguments[0]===undefined?document:arguments[0];return[].concat(c("DOMQuery").scry(m,"input"),c("DOMQuery").scry(m,"select"),c("DOMQuery").scry(m,"textarea"),c("DOMQuery").scry(m,"button"))},getInputsByName:function l(m){var n={};k.getInputs(m).forEach(function(o){var p=n[o.name];n[o.name]=typeof p==="undefined"?o:[o].concat(p)});return n},getSelectValue:function l(m){return m.options[m.selectedIndex].value},setSelectValue:function l(m,n){for(var o=0;o<m.options.length;++o)if(m.options[o].value==n){m.selectedIndex=o;break}},getRadioValue:function l(m){for(var n=0;n<m.length;n++)if(m[n].checked)return m[n].value;return null},getElements:function l(m){return m.tagName=="FORM"&&m.elements!=m?Array.from(m.elements):k.getInputs(m)},getAttribute:function l(m,n){return(m.getAttributeNode(n)||{}).value||null},setDisabled:function l(m,n){__p&&__p();k.getElements(m).forEach(function(o){__p&&__p();if(o.disabled!==undefined){var p=c("DataStore").get(o,"origDisabledState");if(n){if(p===undefined)c("DataStore").set(o,"origDisabledState",o.disabled);o.disabled=n}else if(p===false)o.disabled=false}})},forEachValue:function l(m,n,o){__p&&__p();k.getElements(m).forEach(function(p){__p&&__p();if(!p.name||p.disabled)return;if(p.type==="submit")return;if(p.type==="reset"||p.type==="button"||p.type==="image")return;if((p.type==="radio"||p.type==="checkbox")&&!p.checked)return;if(p.nodeName==="SELECT"){for(var q=0,r=p.options.length;q<r;q++){var s=p.options[q];if(s.selected)o("select",p.name,s.value)}return}if(p.type==="file"){if(h){var t=p.files;for(var u=0;u<t.length;u++)o("file",p.name,t.item(u))}return}o(p.type,p.name,c("Input").getValue(p))});if(n&&n.name&&n.type==="submit"&&c("DOMQuery").contains(m,n)&&c("DOMQuery").isNodeOfType(n,["input","button"]))o("submit",n.name,n.value)},createFormData:function l(m,n){__p&&__p();if(!i)return null;var o=new FormData();if(m)if(c("isNode")(m))k.forEachValue(m,n,function(r,q,s){o.append(q,s)});else{var p=j(m);for(var q in p)if(p[q]==null)o.append(q,"");else o.append(q,p[q])}return o},serialize:function l(m,n){var o={};k.forEachValue(m,n,function(p,q,r){if(p==="file")return;k._serializeHelper(o,q,r)});return k._serializeFix(o)},_serializeHelper:function l(m,n,o){__p&&__p();var p=Object.prototype.hasOwnProperty,q=/([^\]]+)\[([^\]]*)\](.*)/.exec(n);if(q){if(!m[q[1]]||!p.call(m,q[1])){var r;m[q[1]]=r={};if(m[q[1]]!==r)return}var s=0;if(q[2]==="")while(m[q[1]][s]!==undefined)s++;else s=q[2];if(q[3]==="")m[q[1]][s]=o;else k._serializeHelper(m[q[1]],s.concat(q[3]),o)}else m[n]=o},_serializeFix:function l(m){__p&&__p();for(var n in m)if(m[n]instanceof Object)m[n]=k._serializeFix(m[n]);var o=Object.keys(m);if(o.length===0||o.some(isNaN))return m;o.sort(function(r,s){return r-s});var p=0,q=o.every(function(n){return+n===p++});if(q)return o.map(function(n){return m[n]});return m},post:function l(m,n,o){__p&&__p();var p=arguments.length<=3||arguments[3]===undefined?true:arguments[3],q=new(c("URI"))(m),r=document.createElement("form");r.action=q.toString();r.method="POST";r.style.display="none";var s=!c("isFacebookURI")(q);if(o){if(s){r.rel="noopener";if(o==="_blank"){o=btoa(c("Random").uint32());var t=window.open("about:blank",o);if(!(t===undefined))t.opener=null}}r.target=o}if(p)if(!s&&q.getSubdomain()!=="apps"){n.fb_dtsg=c("DTSG").getToken();if(c("LSD").token)n.lsd=c("LSD").token}k.createHiddenInputs(n,r);c("DOMQuery").getRootElement().appendChild(r);r.submit();return false},createHiddenInputs:function l(m,n,o){__p&&__p();var p=arguments.length<=3||arguments[3]===undefined?false:arguments[3];o=o||{};var q=j(m);for(var r in q){if(q[r]===null)continue;if(o[r]&&p)o[r].value=q[r];else{var s=c("DOM").create("input",{type:"hidden",name:r,value:q[r]});o[r]=s;n.appendChild(s)}}return o},getFirstElement:function l(m){__p&&__p();var n=arguments.length<=1||arguments[1]===undefined?['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']:arguments[1],o=[];for(var p=0;p<n.length;p++){o=c("DOMQuery").scry(m,n[p]);for(var q=0;q<o.length;q++){var r=o[q];try{var s=c("getElementPosition")(r);if(s.y>0&&s.x>0)return r}catch(t){}}}return null},focusFirst:function l(m){var n=k.getFirstElement(m);if(n){n.focus();return true}return false}};f.exports=k}),null);
__d("LinkController",["DataStore","Event","Parent","trackReferrer"],(function a(b,c,d,e,f,g){__p&&__p();var h="@@LinkController",i=[],j=[],k={registerHandler:function q(r){i.push(r)},registerFallbackHandler:function q(r){j.push(r)}};function l(q){__p&&__p();var r=q.getTarget(),s=c("Parent").byTag(r,"a");if(!(s instanceof HTMLAnchorElement))return;var t=n(s);if(!t||p(r)||c("DataStore").get(s,h)||t.endsWith("#"))return;var u=c("Event").listen(s,"click",function(v){c("trackReferrer")(s,t);if(!s.rel&&!s.target&&!o(v))m(s,v)});c("DataStore").set(s,h,u)}function m(q,event){i.concat(j).every(function(r){if(r(q,event)===false){event.prevent();return false}return true})}function n(q){if(q&&!q.rel){var r=q.getAttribute("href");if(r){var s=r.match(/^(\w+):/);if(!s||s[1].match(/^http/i))return r}}return null}function o(event){return event.getModifiers().any||event.which&&event.which!==1}function p(q){return q.nodeName==="INPUT"&&q.type==="file"}c("Event").listen(document.documentElement,"mousedown",l);c("Event").listen(document.documentElement,"keydown",l);f.exports=k}),null);
__d("PageTransitionPriorities",[],(function a(b,c,d,e,f,g){var h=5,i=h+1;f.exports={DEFAULT:h,LEFT_NAV:i,SOCIAL_SEARCH_DIALOG:i+1}}),null);
__d("computeRelativeURI",["URI","isFacebookURI","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k){__p&&__p();if(!k)return j;if(k.charAt(0)=="/")return k;var l=j.split("/").slice(0,-1);l[0]!=="";k.split("/").forEach(function(m){if(!(m==="."))if(m===".."){if(l.length>1)l=l.slice(0,-1)}else l.push(m)});return l.join("/")}function i(j,k){__p&&__p();var l=new(c("URI"))(),m=new(c("URI"))(j),n=new(c("URI"))(k);if(n.getDomain()&&!c("isFacebookURI")(n))return k;var o=m,p=["Protocol","Domain","Port","Path","QueryData","Fragment"];p.forEach(function(q){var r=q==="Path"&&o===m;if(r)l.setPath(h(m.getPath(),n.getPath()));if(!c("isEmpty")(n["get"+q]()))o=n;if(!r)l["set"+q](o["get"+q]())});return l}f.exports=i}),null);
__d("PageTransitionsRegistrar",["invariant","Bootloader","DOMQuery","Event","Form","LinkController","PageTransitionPriorities","Parent","Run","URI","computeRelativeURI","goURI","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h){__p&&__p();c("Run").onAfterLoad(function(){c("Bootloader").loadModules(["PageTransitions"],function(r){if(r&&r._init)r._init()},"PageTransitionsRegistrar")});var i=[],j=[],k={DELAY_HISTORY:"delay_history_PTR",registerHandler:function r(s,t){s!=null||h(0);t=t||c("PageTransitionPriorities").DEFAULT;if(!i[t])i[t]=[];i[t].push(s)},removeHandler:function r(s,t){t=t||c("PageTransitionPriorities").DEFAULT;var u=-1;if(i[t])u=i[t].indexOf(s);if(u>-1)i[t].splice(u,1)},registerCompletionCallback:function r(s){j.push(s)},getMostRecentURI:q,_getTransitionHandlers:function r(){return i},_getCompletionCallbacks:function r(){return j},_resetCompletionCallbacks:function r(){j=[]},__onClick:n,__onSubmit:p},l=null;function m(r){l=r;c("setTimeoutAcrossTransitions")(function(){l=null},0)}function n(event){if(l){if(!event.isDefaultPrevented()){o(l);c("goURI")(l.getAttribute("href"))}event.kill()}}function o(r){var s=r.getAttribute("href"),t=c("computeRelativeURI")(q().getQualifiedURI(),s).toString();if(s!=t)r.setAttribute("href",t)}function p(event,r){__p&&__p();var s=event.getTarget();if(c("Form").getAttribute(s,"rel")||c("Form").getAttribute(s,"target"))return;var t=new(c("URI"))(c("Form").getAttribute(s,"action")),u=c("computeRelativeURI")(q(),t);s.setAttribute("action",u.toString());if((c("Form").getAttribute(s,"method")||"GET").toUpperCase()=="GET"){var v=c("Form").serialize(s);if(r&&(c("DOMQuery").isNodeOfType(r,"input")&&r.type==="submit"||(r=c("Parent").byTag(r,"button")))&&r.name)v[r.name]=r.value;c("goURI")(u.addQueryData(v));event.kill()}}c("LinkController").registerFallbackHandler(m);function q(){if(b.PageTransitions&&b.PageTransitions.isInitialized())return b.PageTransitions.getMostRecentURI();else{var r=c("URI").getRequestURI(false),s=r.getUnqualifiedURI(),t=new(c("URI"))(s).setFragment(null),u=s.getFragment();if(u.charAt(0)==="!"&&t.toString()===u.substr(1))s=t;return s}}f.exports=k}),null);
__d("LayerHideOnTransition",["PageTransitionsRegistrar","setTimeout"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._handler=function(j){var k=!this.isTransitionRelevant||this.isTransitionRelevant(j);if(this._enabled&&k)this._layer.hide();this._subscribe()}.bind(this);this._layer=i}h.prototype.enable=function(){"use strict";this._enabled=true;if(!this._subscribed)c("setTimeout")(this._subscribe.bind(this),0)};h.prototype.disable=function(){"use strict";this._enabled=false;c("PageTransitionsRegistrar").removeHandler(this._handler)};h.prototype._subscribe=function(){"use strict";c("PageTransitionsRegistrar").registerHandler(this._handler);this._subscribed=true};Object.assign(h.prototype,{_enabled:false,_subscribed:false});f.exports=h}),null);
__d("SVGChecker",[],(function a(b,c,d,e,f,g){f.exports={isSVG:function h(i){return!!i.ownerSVGElement||i.tagName.toLowerCase()==="svg"},isDisplayed:function h(i){try{var j=i.getBBox();if(j&&(j.height===0||j.width===0))return false}catch(k){return false}return true}}}),null);
__d("getOffsetParent",["Style"],(function a(b,c,d,e,f,g){function h(i){var j=i.parentNode;if(!j||j===document.documentElement)return document.documentElement;if(c("Style").get(j,"position")!=="static")return j;return j===document.body?document.documentElement:h(j)}f.exports=h}),null);
__d("getOwnObjectValues",[],(function a(b,c,d,e,f,g){function h(i){return Object.keys(i).map(function(j){return i[j]})}f.exports=h}),null);
__d("ContextualLayer",["Arbiter","ARIA","Bootloader","ContextualThing","CSS","DataStore","DOM","Event","Layer","LayerHideOnTransition","Locale","Parent","Rect","Scroll","Style","SVGChecker","Vector","containsNode","emptyFunction","getOwnObjectValues","getOffsetParent","getOverlayZIndex","isElementNode","removeFromArray","throttle"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;function j(p){return p.getPosition()==="left"||p.isVertical()&&p.getAlignment()==="right"}h=babelHelpers.inherits(k,c("Layer"));i=h&&h.prototype;k.prototype._configure=function(p,q){"use strict";__p&&__p();if(p.dialogRole!=="dialog")this._dialogRole=p.dialogRole;if(p.shouldSetARIAProperties===false)this._shouldSetARIAProperties=p.shouldSetARIAProperties;if(p.label)this._label=p.label;if(p.labelledBy)this._labelledBy=p.labelledBy;i._configure.call(this,p,q);if(p.context)this.setContext(p.context);else if(p.contextID)this._setContextID(p.contextID);else if(p.contextSelector){this._setContextSelector(p.contextSelector);this._setARIAProperties()}this.setPosition(p.position);this.setAlignment(p.alignment);this.setOffsetX(p.offsetX);this.setOffsetY(p.offsetY);this.setArrowDimensions(p.arrowDimensions);this._content=q};k.prototype._getDefaultBehaviors=function(){"use strict";var p=k.getDefaultBehaviorsAsObject();return i._getDefaultBehaviors.call(this).concat(c("getOwnObjectValues")(p))};k.prototype._buildWrapper=function(p,q){"use strict";__p&&__p();this._contentWrapper=c("DOM").create("div",{className:"uiContextualLayer"},q);if(this._dialogRole)this._contentWrapper.setAttribute("role",this._dialogRole);if(this._labelledBy&&this._labelledBy.length)this._contentWrapper.setAttribute("aria-labelledby",this._labelledBy.join(" "));else if(this._label)this._contentWrapper.setAttribute("aria-label",this._label);if(this._dialogRole==="alert")this._contentWrapper.setAttribute("aria-atomic","true");return c("DOM").create("div",{className:"uiContextualLayerPositioner","data-testid":p["data-testid"]},this._contentWrapper)};k.prototype.getInsertParent=function(){"use strict";var p=this._insertParent;if(!p){var q=this.getContext();if(q)p=c("Parent").byClass(q,"uiContextualLayerParent")}return p||i.getInsertParent.call(this)};k.prototype.setContent=function(p){"use strict";this._content=p;c("DOM").setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this};k.prototype.setContext=function(p){"use strict";return this.setContextWithBounds(p,null)};k.prototype.setContextWithBounds=function(p,q){"use strict";__p&&__p();if(this._contextNode===p&&q&&this._contextBounds&&q.isEqualTo(this._contextBounds))return this;this._contextNode=p;var r=q&&this._contextBounds&&q.t===this._contextBounds.t&&q.r===this._contextBounds.r&&q.b===this._contextBounds.b&&q.l===this._contextBounds.l;if(r)return this;this._contextBounds=q||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){c("ContextualThing").register(this.getRoot(),this._contextNode);this.updatePosition()}this._setParentSubscription();this._setARIAProperties();return this};k.prototype.shouldSetARIAProperties=function(p){"use strict";this._shouldSetARIAProperties=p;return this};k.prototype._setARIAProperties=function(){"use strict";__p&&__p();if(!this._shouldSetARIAProperties)return this;if(this._dialogRole==="dialog")c("ARIA").setPopup(this.getCausalElement(),this.getRoot());else if(this._dialogRole==="region")c("Bootloader").loadModules(["ContextualLayerInlineTabOrder"],function(p){if(!this.hasBehavior(p))this.enableBehavior(p)}.bind(this),"ContextualLayer");return this};k.prototype._setContextID=function(p){"use strict";this._contextSelector="#"+p;this._contextNode=null};k.prototype._setContextSelector=function(p){"use strict";this._contextSelector=p;this._contextNode=null};k.prototype.getCausalElement=function(){"use strict";return i.getCausalElement.call(this)||this.getContext()};k.prototype._setParentSubscription=function(){"use strict";__p&&__p();var p=this.getContext(),q=null;while(p!=null){q=c("DataStore").get(p,"layer");if(q)break;p=p.parentNode}if(q===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null}if(q)this._parentSubscription=q.subscribe("hide",this.hide.bind(this));this._parentLayer=q};k.prototype.setPosition=function(p){"use strict";if(this.getOrientation().setDefaultPosition(p))this._shown&&this.updatePosition();return this};k.prototype.setAlignment=function(p){"use strict";if(this.getOrientation().setDefaultAlignment(p))this._shown&&this.updatePosition();return this};k.prototype.setOffsetX=function(p){"use strict";if(this.getOrientation().setDefaultOffsetX(p))this._shown&&this.updatePosition();return this};k.prototype.setArrowDimensions=function(p){"use strict";if(p&&this.getOrientation().setArrowOffset(p.offset))this._shown&&this.updatePosition();return this};k.prototype.setOffsetY=function(p){"use strict";if(this.getOrientation().setDefaultOffsetY(p))this._shown&&this.updatePosition();return this};k.prototype.getPosition=function(){"use strict";return this.getOrientation().getPosition()};k.prototype.getOrientation=function(){"use strict";if(!this._orientation)this._orientation=new o();return this._orientation};k.prototype.getContentRoot=function(){"use strict";return this._contentWrapper};k.prototype.getContent=function(){"use strict";return this._content};k.prototype.getContext=function(){"use strict";if(!this._contextNode)this._contextNode=c("DOM").find(document,this._contextSelector);return this._contextNode};k.prototype.getContextBounds=function(p){"use strict";if(this._contextBounds)return this._contextBounds.convertTo(p);var q=this.getContext();return c("Rect").newFromVectors(c("Vector").getElementPosition(q,p),c("Vector").getElementDimensions(q))};k.prototype.getContextScrollParent=function(){"use strict";if(!this._contextScrollParent)this._contextScrollParent=c("Style").getScrollParent(this.getContext());else if(c("isElementNode")(this._contextScrollParent)&&!c("containsNode")(document.documentElement,this._contextScrollParent))this._contextScrollParent=c("Style").getScrollParent(this.getContext());return this._contextScrollParent};k.prototype.setInsertParent=function(p){"use strict";this._insertScrollParent=null;return i.setInsertParent.call(this,p)};k.prototype.getInsertScrollParent=function(){"use strict";if(!this._insertScrollParent)this._insertScrollParent=c("Style").getScrollParent(this.getInsertParent());return this._insertScrollParent};k.prototype.show=function(){"use strict";__p&&__p();if(this._shown)return this;i.show.call(this);c("Arbiter").inform("contextualLayer/toggle",{show:true,contentRoot:this.getRoot()});if(this._shown){c("ContextualThing").register(this.getRoot(),this.getContext());l.push(this);this._resizeListener=this._resizeListener||c("Event").listen(window,"resize",c("throttle")(function(){if(this._shown)this.updatePosition()}.bind(this)))}return this};k.prototype.finishHide=function(){"use strict";c("removeFromArray")(l,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;this._insertScrollParent=null;c("Arbiter").inform("contextualLayer/toggle",{show:false,contentRoot:this.getRoot()});return i.finishHide.call(this)};k.prototype.isFixed=function(){"use strict";return c("Style").isFixed(this.getContext())&&!c("Style").isFixed(this.getInsertParent())};k.prototype.updatePosition=function(){"use strict";__p&&__p();var p=this.getContext();if(!p)return false;var q=this.isFixed();if(!q&&!(p.offsetParent||c("SVGChecker").isSVG(p)&&c("SVGChecker").isDisplayed(p)))return false;var r=this.getRoot();c("Style").set(r,"width",c("Vector").getViewportDimensions().x+"px");var s=this.getOrientation();this.inform("adjust",s.reset());if(!s.isValid())return false;this._updateWrapperPosition(s);this._updateWrapperClass(s);c("CSS").conditionClass(r,"uiContextualLayerPositionerFixed",q);var t,u,v=q?"viewport":"document",w=q?document.documentElement:c("getOffsetParent")(r);if(w===document.documentElement){t=new(c("Vector"))(0,0);u=document.documentElement.clientWidth}else if(!r.offsetParent)return false;else{t=c("Vector").getElementPosition(w,v);u=w.offsetWidth;if(w!==document.body)t=t.sub(new(c("Vector"))(c("Scroll").getLeft(w),c("Scroll").getTop(w)))}var x=this.getContextBounds(v),y=x.l-t.x,z=x.t-t.y,A=x.h(),B=x.w(),C=c("Locale").isRTL();if(s.getPosition()==="below")z+=A;if((s.getPosition()==="right"||s.isVertical()&&s.getAlignment()==="right")!=C)y+=B;var D=s.getOffsetX();if(s.isVertical()&&s.getAlignment()==="center")D+=(B-this.getContentRoot().offsetWidth)/2;if(C)D*=-1;var E="left",F=Math.floor(y+D);if(j(s)!==C){E="right";F=u-F}c("Style").set(r,E,F+"px");c("Style").set(r,E==="left"?"right":"left","");var G=this.getInsertScrollParent(),H,I=0;if(G!==window){H=G.clientWidth;I=c("Vector").getElementPosition(G).x}else H=document.documentElement.clientWidth;var J=c("Vector").getElementPosition(r).x-I;if(E==="left"&&H-J>0)c("Style").set(r,"width",H-J+"px");else if(E==="right"&&J+r.offsetWidth>0)c("Style").set(r,"width",J+r.offsetWidth+"px");else c("Style").set(r,"width","");c("Style").set(r,"top",z+s.getOffsetY()+"px");var K=c("getOverlayZIndex")(p,this.getInsertParent());c("Style").set(r,"z-index",K>200?K:"");this.inform("reposition",s);return true};k.prototype._updateWrapperPosition=function(p){"use strict";var q=p.getPosition()==="above";c("Style").set(this._contentWrapper,"bottom",q?"0":null);var r=c("Locale").isRTL()?"left":"right",s=j(p);c("Style").set(this._contentWrapper,r,s?"0":null)};k.prototype._updateWrapperClass=function(p){"use strict";var q=p.getClassName();if(q===this._orientationClass)return;if(this._orientationClass)c("CSS").removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=q;c("CSS").addClass(this._contentWrapper,q)};k.prototype.simulateOrientation=function(p,q){"use strict";__p&&__p();var r=p.getClassName();if(r===this._orientationClass)return q();else{if(this._orientationClass)c("CSS").removeClass(this._contentWrapper,this._orientationClass);c("CSS").addClass(this._contentWrapper,r);var s=q();c("CSS").removeClass(this._contentWrapper,r);if(this._orientationClass)c("CSS").addClass(this._contentWrapper,this._orientationClass);return s}};k.prototype.destroy=function(){"use strict";i.destroy.call(this);this._contentWrapper=null;this._content=null;return this};k.prototype.getArrowDimensions=function(){"use strict";return this._config.arrowDimensions||{offset:0,length:0}};k.getDefaultBehaviorsAsObject=function(){"use strict";return{LayerHideOnTransition:c("LayerHideOnTransition")}};function k(){"use strict";h.apply(this,arguments)}var l=[];c("Arbiter").subscribe("reflow",function(){l.forEach(function(p){if(p.updatePosition()===false)p.hide()})});Object.assign(k.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_dialogRole:"dialog",_label:null,_labelledBy:[],_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:true});var m=c("emptyFunction").thatReturnsArgument,n=c("emptyFunction").thatReturnsArgument;function o(){"use strict";this._default={_position:"above",_alignment:"left",_offsetX:0,_offsetY:0,_valid:true,_preferMoreContentShownRect:false};this.reset()}o.prototype.setPosition=function(p){"use strict";this._position=m(p);return this};o.prototype.setAlignment=function(p){"use strict";this._alignment=n(p);return this};o.prototype.getOppositePosition=function(){"use strict";return o.OPPOSITE[this.getPosition()]};o.prototype.invalidate=function(){"use strict";this._valid=false;return this};o.prototype.getPosition=function(){"use strict";return this._position||"above"};o.prototype.getAlignment=function(){"use strict";return this._alignment||"left"};o.prototype.getOffsetX=function(){"use strict";var p=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)p*=-1}else if(this._default._alignment!==this._alignment)p*=-1;return p};o.prototype.getOffsetY=function(){"use strict";var p=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)p*=-1;return p};o.prototype.getClassName=function(){"use strict";__p&&__p();var p=this.getAlignment(),q=this.getPosition();if(q==="below")if(p==="left")return"uiContextualLayerBelowLeft";else if(p==="right")return"uiContextualLayerBelowRight";else return"uiContextualLayerBelowCenter";else if(q==="above")if(p==="left")return"uiContextualLayerAboveLeft";else if(p==="right")return"uiContextualLayerAboveRight";else return"uiContextualLayerAboveCenter";else if(q==="left")return"uiContextualLayerLeft";else return"uiContextualLayerRight"};o.prototype.isValid=function(){"use strict";return this._valid};o.prototype.isVertical=function(){"use strict";return this.getPosition()==="above"||this.getPosition()==="below"};o.prototype.reset=function(){"use strict";Object.assign(this,this._default);return this};o.prototype.setDefaultPosition=function(p){"use strict";var q=this._default._position;this._default._position=m(p);return q!==p};o.prototype.setDefaultAlignment=function(p){"use strict";var q=this._default._alignment;this._default._alignment=n(p);return q!==p};o.prototype.setDefaultOffsetX=function(p){"use strict";var q=this._default._offsetX;this._default._offsetX=p;return q!==p};o.prototype.setArrowOffset=function(p){"use strict";var q=this._default._arrowOffset;this._default._arrowOffset=p;return q!==p};o.prototype.getArrowOffset=function(){"use strict";return this._default._arrowOffset||0};o.prototype.setDefaultOffsetY=function(p){"use strict";var q=this._default._offsetY;this._default._offsetY=p;return q!==p};o.prototype.setPreferMoreContentShownRect=function(p){"use strict";var q=this._default._preferMoreContentShownRect;this._default._preferMoreContentShownRect=p;return q!==p};o.prototype.getPreferMoreContentShownRect=function(){"use strict";return this._default._preferMoreContentShownRect};o.OPPOSITE={above:"below",below:"above",left:"right",right:"left"};f.exports=k}),null);
__d("Button",["csx","cx","CSS","DataStore","DOM","Event","Parent","emptyFunction","isNode"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="uiButtonDisabled",k="uiButtonDepressed",l="_42fr",m="_42fs",n="button:blocker",o="href",p="ajaxify";function q(w,x){var y=c("DataStore").get(w,n);if(x){if(y){y.remove();c("DataStore").remove(w,n)}}else if(!y)c("DataStore").set(w,n,c("Event").listen(w,"click",c("emptyFunction").thatReturnsFalse,c("Event").Priority.URGENT))}function r(w){var x=c("Parent").byClass(w,"uiButton")||c("Parent").bySelector(w,"._42ft");if(!x)throw new Error("invalid use case");return x}function s(w){return c("DOM").isNodeOfType(w,"a")}function t(w){return c("DOM").isNodeOfType(w,"button")}function u(w){return c("CSS").matchesSelector(w,"._42ft")}var v={getInputElement:function w(x){x=r(x);if(s(x))throw new Error("invalid use case");return t(x)?x:c("DOM").find(x,"input")},isEnabled:function w(x){return!(c("CSS").hasClass(r(x),j)||c("CSS").hasClass(r(x),l))},setEnabled:function w(x,y){__p&&__p();x=r(x);var z=u(x)?l:j;c("CSS").conditionClass(x,z,!y);if(s(x)){var A=x.getAttribute("href"),B=x.getAttribute("ajaxify"),C=c("DataStore").get(x,o,"#"),D=c("DataStore").get(x,p);if(y){if(!A)x.setAttribute("href",C);if(!B&&D)x.setAttribute("ajaxify",D);x.removeAttribute("tabIndex")}else{if(A&&A!==C)c("DataStore").set(x,o,A);if(B&&B!==D)c("DataStore").set(x,p,B);x.removeAttribute("href");x.removeAttribute("ajaxify");x.setAttribute("tabIndex","-1")}q(x,y)}else{var E=v.getInputElement(x);E.disabled=!y;q(E,y)}},setDepressed:function w(x,y){x=r(x);var z=u(x)?m:k;c("CSS").conditionClass(x,z,y)},isDepressed:function w(x){x=r(x);var y=u(x)?m:k;return c("CSS").hasClass(x,y)},setLabel:function w(x,y){__p&&__p();x=r(x);if(u(x)){var z=[];if(y)z.push(y);var A=c("DOM").scry(x,".img");for(var B=0;B<A.length;B++){var C=A[B],D=C.parentNode;if(D.classList&&(D.classList.contains("_4o_3")||D.classList.contains("_-xe")))if(x.firstChild===D)z.unshift(D);else z.push(D);else if(x.firstChild==C)z.unshift(C);else z.push(C)}c("DOM").setContent(x,z)}else if(s(x)){var E=c("DOM").find(x,"span.uiButtonText");c("DOM").setContent(E,y)}else v.getInputElement(x).value=y;var F=u(x)?"_42fv":"uiButtonNoText";c("CSS").conditionClass(x,F,!y)},getIcon:function w(x){x=r(x);return c("DOM").scry(x,".img")[0]},setIcon:function w(x,y){__p&&__p();if(y&&!c("isNode")(y))return;var z=v.getIcon(x);if(!y){z&&c("DOM").remove(z);return}c("CSS").addClass(y,"customimg");if(z!=y)if(z)c("DOM").replace(z,y);else c("DOM").prependContent(r(x),y)}};f.exports=v}),null);
__d("LayerHideSources",[],(function a(b,c,d,e,f,g){var h=Object.freeze({BLUR:"blur",ESCAPE:"escape",LAYER_CANCEL_BUTTON:"layerCancelButton",LAYER_HIDE_BUTTON:"layerHideButton"});f.exports=h}),null);
__d("LayerButtons",["csx","Button","Event","LayerHideSources","Parent"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this._layer=j}i.prototype.enable=function(){"use strict";this._listener=c("Event").listen(this._layer.getRoot(),"click",this._handle.bind(this))};i.prototype.disable=function(){"use strict";this._listener.remove();this._listener=null};i.prototype._handle=function(j){"use strict";__p&&__p();var k=j.getTarget(),l=c("Parent").byClass(k,"layerHide");if(l){this._layer.hide(c("LayerHideSources").LAYER_HIDE_BUTTON);return}var m=c("Parent").byClass(k,"layerConfirm");if(m){if(this._isButton(m)&&!c("Button").isEnabled(m))return;if(this._isInNestedLayer(m))return;if(this._layer.inform("confirm",m)===false)j.prevent();return}var n=c("Parent").byClass(k,"layerCancel");if(n){if(this._isButton(n)&&!c("Button").isEnabled(n))return;if(this._isInNestedLayer(n))return;if(this._layer.inform("cancel",n)!==false)this._layer.hide(c("LayerHideSources").LAYER_CANCEL_BUTTON);j.prevent();return}var o=c("Parent").byClass(k,"layerButton");if(o){if(this._isButton(o)&&!c("Button").isEnabled(o))return;if(this._isInNestedLayer(o))return;if(this._layer.inform("button",o)===false)j.prevent()}};i.prototype._isInNestedLayer=function(j){"use strict";var k=c("Parent").byClass(j,"uiLayer"),l=this._layer.getRoot();return!!(k&&l!==k)};i.prototype._isButton=function(j){"use strict";return!!(c("Parent").byClass(j,"uiButton")||c("Parent").bySelector(j,"._42ft"))};i.prototype._listener=null;f.exports=i}),null);
__d("LayerFormHooks",["Event"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";var i=this._layer.getRoot();this._subscriptions=[c("Event").listen(i,"submit",this._onSubmit.bind(this)),c("Event").listen(i,"success",this._onSuccess.bind(this)),c("Event").listen(i,"error",this._onError.bind(this))]};h.prototype.disable=function(){"use strict";this._subscriptions.forEach(function(i){i.remove()});this._subscriptions=null};h.prototype._onSubmit=function(event){"use strict";if(this._layer.inform("submit",event)===false)event.kill()};h.prototype._onSuccess=function(event){"use strict";if(this._layer.inform("success",event)===false)event.kill()};h.prototype._onError=function(event){"use strict";var i=event.getData();if(this._layer.inform("error",{response:i.response})===false)event.kill()};Object.assign(h.prototype,{_subscriptions:null});f.exports=h}),null);
__d("LayerMouseHooks",["Arbiter","ContextualThing","Event","Layer"],(function a(b,c,d,e,f,g){__p&&__p();var h=new(c("Arbiter"))();function i(j){"use strict";this._layer=j;this._subscriptions=[];this._currentlyActive=false}i.prototype.enable=function(){"use strict";this._subscriptions=[h.subscribe("mouseenter",this._handleActive.bind(this)),h.subscribe("mouseleave",this._handleInactive.bind(this)),this._layer.subscribe("hide",function(){this._currentlyActive=false}.bind(this))]};i.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=[];this._currentlyActive=false};i.prototype._handleActive=function(j,k){"use strict";if(!this._currentlyActive&&this._isNodeWithinStack(k)){this._layer.inform("mouseenter",k);this._currentlyActive=true}};i.prototype._handleInactive=function(j,k){"use strict";if(this._currentlyActive)if(!k||!this._isNodeWithinStack(k)){this._layer.inform("mouseleave",k);this._currentlyActive=false}};i.prototype._isNodeWithinStack=function(j){"use strict";return c("ContextualThing").containsIncludingLayers(this._layer.getContentRoot(),j)};c("Layer").subscribe("show",function(j,k){var l=k.getContentRoot(),m=[c("Event").listen(l,"mouseenter",function(){h.inform("mouseenter",l)}),c("Event").listen(l,"mouseleave",function(o){h.inform("mouseleave",o.getRelatedTarget())})],n=k.subscribe("hide",function(){while(m.length)m.pop().remove();n.unsubscribe();m=n=null})});f.exports=i}),null);
__d("LayerRefocusOnHide",["ContextualThing","DOM","DOMQuery","Focus","Parent","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("hide",this._handle.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._handle=function(i,event){"use strict";__p&&__p();var j=c("getActiveElement")();if(j===document.body||c("DOMQuery").contains(this._layer.getRoot(),j)){var k=this._layer.getCausalElement();while(k&&!k.offsetWidth){var l=c("Parent").byClass(k,"uiToggle");if(l&&l.offsetWidth)k=c("DOM").scry(l,'[rel="toggle"]')[0];else{var m=c("ContextualThing").getContext(k);if(m)k=m;else k=k.parentNode}}if(k)c("Focus").set(k)}};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("ContextualDialog",["csx","cx","invariant","ContextualDialogARIA","AccessibleLayer","ContextualDialogArrow","ContextualDialogDefaultTheme","ContextualDialogKeepInViewport","ContextualDialogFitInViewport_PUSHSAFE","ContextualLayer","CSS","DOM","Event","JSXDOM","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerHideOnTransition","LayerMouseHooks","Style","removeFromArray","shield"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=0,n=300;k=babelHelpers.inherits(o,c("ContextualLayer"));l=k&&k.prototype;function o(p,q){"use strict";l.constructor.call(this,p,q);this._footer=null}o.prototype._configure=function(p,q){"use strict";__p&&__p();Object.assign(p,p.theme||c("ContextualDialogDefaultTheme"));var r=p.arrowBehavior||c("ContextualDialogArrow");p.addedBehaviors=p.addedBehaviors||[];p.addedBehaviors.push(r);l._configure.call(this,p,q);this._footer=c("DOM").scry(q,"div._572u")[0];if(this._footer)if(this._footer.children.length===1&&this._footer.children[0].nodeName==="DIV"&&this._footer.children[0].children.length===0)this._footer.parentNode.removeChild(this._footer);else c("CSS").addClass(this.getContentRoot(),"_kc");if(p.hoverContext)this._registerHoverHandlers(p.hoverContext,p.hoverShowDelay,p.hoverHideDelay)};o.prototype._registerHoverHandlers=function(p,q,r){"use strict";__p&&__p();if(q==null)q=m;if(r==null)r=n;var s,t,u=function(event){clearTimeout(t);s=setTimeout(c("shield")(this.show,this),q)}.bind(this),v=function(event){if(this._isHoverLocked())return;clearTimeout(s);t=setTimeout(this.hide.bind(this),r)}.bind(this),w=c("Event").listen(p,"mouseenter",u),x=c("Event").listen(p,"mouseleave",v),y=this.subscribe("mouseenter",u),z=this.subscribe("mouseleave",v);this.subscribe("destroy",function(){clearTimeout(t);w.remove();x.remove();y.unsubscribe();z.unsubscribe()})};o.prototype._getDefaultBehaviors=function(){"use strict";var p=l._getDefaultBehaviors.call(this);c("removeFromArray")(p,c("LayerHideOnTransition"));return p.concat([c("AccessibleLayer"),c("LayerRefocusOnHide"),c("ContextualDialogKeepInViewport"),c("ContextualDialogFitInViewport_PUSHSAFE"),c("LayerButtons"),c("LayerFormHooks"),c("LayerMouseHooks"),c("ContextualDialogARIA")])};o.prototype._buildWrapper=function(p,q){"use strict";__p&&__p();this._innerWrapper=c("JSXDOM").div(null,q);var r=l._buildWrapper.call(this,p,this._innerWrapper);if(p.wrapperClassName){var s=p.wrapperClassName.split(/\s+/);for(var t=s,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;c("CSS").addClass(r,x)}}this.replaceEntireLayerContents(q);this.getContent()===q||j(0);this.setWidth(p.width);return r};o.prototype.getContentRoot=function(){"use strict";!!this._innerWrapper||j(0);return this._innerWrapper};o.prototype.setContent=function(p){"use strict";j(0)};o.prototype.replaceEntireLayerContents=function(p){"use strict";this._content=null;c("DOM").empty(this.getContentRoot());this.setInnerContent(p)};o.prototype.setInnerContent=function(p){"use strict";c("CSS").addClass(p,"_53ij");if(this.getContent())c("DOM").replace(this.getContent(),p);else c("DOM").appendContent(this.getContentRoot(),p);this._content=p;this.isShown()&&this.updatePosition()};o.prototype.setWidth=function(p){"use strict";c("Style").set(this.getContentRoot(),"width",p?Math.floor(p)+"px":"");return this};o.prototype.getFooter=function(){"use strict";return this._footer};o.prototype.lockHover=function(){"use strict";this._hoverLocked=true;return this};o.prototype.unlockHover=function(){"use strict";this._hoverLocked=false;return this};o.prototype._isHoverLocked=function(){"use strict";return!!this._hoverLocked};o.setContext=function(p,q){"use strict";p.setContext(q)};f.exports=o}),null);
__d("focusWithinLayer",["DOMQuery","Focus","TabbableElements","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k=c("DOMQuery").scry(i,".autofocus")[0],l=true;if(!k){var m=c("getActiveElement")();if(c("DOMQuery").isNodeOfType(m,["input","textarea"]))return;var n=c("TabbableElements").find(i);for(var o=0;o<n.length;o++){var p=n[o];if(p.tagName!=="A"||p.getAttribute("role")==="button"){k=n[o];break}}}else if(k.tabIndex!==0)l=false;if(k)l?c("Focus").set(k,j):c("Focus").setWithoutOutline(k);else if(!i.offsetWidth){i.tabIndex=-1;c("Focus").setWithoutOutline(i)}}f.exports=h}),null);
__d("LayerAutoFocus",["focusWithinLayer"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i;this._subscription=null}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("aftershow",this._focus.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._focus=function(){"use strict";var i=this._layer.getRoot();i&&c("focusWithinLayer")(i)};f.exports=h}),null);
__d("LayerHideOnBlur",["LayerHideSources","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._attach.bind(this)),this._layer.subscribe("hide",this._detach.bind(this))];if(this._layer.isShown())this._attach()};h.prototype.disable=function(){"use strict";this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null};h.prototype._detach=function(){"use strict";this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null};h.prototype._attach=function(){"use strict";this._onBlur=this._layer.subscribe("blur",function(){return c("requestAnimationFrame")(function(){this._layer.hide(c("LayerHideSources").BLUR);return false}.bind(this))}.bind(this))};Object.assign(h.prototype,{_subscriptions:null,_onBlur:null});f.exports=h}),null);
__d("LayerHideOnEscape",["Event","Keys","LayerHideSources"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("key",this._handle.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._handle=function(i,event){"use strict";if(c("Event").getKeyCode(event)===c("Keys").ESC){this._layer.hide(c("LayerHideSources").ESCAPE);return false}};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("ReactAbstractContextualDialog",["ContextualDialog","ContextualDialogArrow","ContextualDialogKeepInViewport","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","ReactDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i={createSpec:function j(k){__p&&__p();return{displayName:k.displayName,propTypes:{position:h.oneOf(["above","below","left","right"]),alignment:h.oneOf(["left","center","right"]),offsetX:h.number,offsetY:h.number,width:h.number,autoFocus:h.bool,focusContextOnHide:h.bool,arrowBehavior:h.func,behaviors:h.object,shown:h.bool,context:h.object,contextRef:h.func,dialogRole:h.oneOf(["dialog","region","alert"]),hoverContext:h.object,hoverContextRef:h.func,hoverShowDelay:h.number,hoverHideDelay:h.number,hideOnBlur:h.bool,hideOnEscape:h.bool,insertParent:h.object,keepInViewport:h.bool,label:h.string,labelledBy:h.arrayOf(h.string),onBeforeHide:h.func,onToggle:h.func,hasActionableContext:h.bool,"data-testid":h.string},immutableProps:{modal:null},createLayer:function l(m){__p&&__p();var n=this.props.context||c("ReactDOM").findDOMNode(this.props.contextRef()),o=this.props.hoverContext||this.props.hoverContextRef&&c("ReactDOM").findDOMNode(this.props.hoverContextRef()),p=babelHelpers["extends"]({context:n,hoverContext:o,hoverShowDelay:this.props.hoverShowDelay,hoverHideDelay:this.props.hoverHideDelay,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,width:this.props.width,dialogRole:this.props.dialogRole,label:this.props.label,labelledBy:this.props.labelledBy,shouldSetARIAProperties:!this.props.hasActionableContext,arrowBehavior:this.props.arrowBehavior||c("ContextualDialogArrow"),addedBehaviors:this.enumerateBehaviors(this.props.behaviors),"data-testid":this.props["data-testid"]},k||{}),q=new(c("ContextualDialog"))(p,m);if(this.props.contextBounds)q.setContextWithBounds(n,this.props.contextBounds);if(this.props.autoFocus!==false)q.enableBehavior(c("LayerAutoFocus"));if(this.props.hideOnBlur===true)q.enableBehavior(c("LayerHideOnBlur"));if(this.props.hideOnEscape===true)q.enableBehavior(c("LayerHideOnEscape"));if(this.props.focusContextOnHide===false)q.disableBehavior(c("LayerRefocusOnHide"));if(this.props.keepInViewport===false)q.disableBehavior(c("ContextualDialogKeepInViewport"));if(this.props.onBeforeHide)q.subscribe("beforehide",this.props.onBeforeHide);if(this.props.insertParent)q.setInsertParent(this.props.insertParent);q.conditionShow(this.props.shown);return q},receiveProps:function l(m,n){__p&&__p();this.updateBehaviors(n.behaviors,m.behaviors);var o=m.context||m.contextRef&&c("ReactDOM").findDOMNode(m.contextRef());if(o)if(m.contextBounds)this.layer.setContextWithBounds(o,m.contextBounds);else this.layer.setContext(o);if(n.hideOnEscape!==m.hideOnEscape)if(m.hideOnEscape)this.layer.enableBehavior(c("LayerHideOnEscape"));else this.layer.disableBehavior(c("LayerHideOnEscape"));this.layer.setPosition(m.position).setAlignment(m.alignment).setOffsetX(m.offsetX).setOffsetY(m.offsetY).setWidth(m.width).conditionShow(m.shown)}}}};f.exports=i}),null);
__d("formatNumber",["fbt","intlNumUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(n,o){return c("intlNumUtils").formatNumber(n,o)}function j(n,o){var p=h._({"*":"{number}+"},[h.param("number",c("intlNumUtils").formatNumberWithThousandDelimiters(n,o),[0,n])]);return p.toString()}function k(n,o){var p=h._({"*":"\u003C{number}"},[h.param("number",c("intlNumUtils").formatNumberWithThousandDelimiters(n,o),[0,n])]);return p.toString()}function l(n,o,p){return n>o?j(o,p):c("intlNumUtils").formatNumberWithThousandDelimiters(n,p)}function m(n,o,p){return n<o?k(o,p):c("intlNumUtils").formatNumberWithThousandDelimiters(n,p)}i.withThousandDelimiters=c("intlNumUtils").formatNumberWithThousandDelimiters;i.withMaxLimit=l;i.withMinLimit=m;f.exports=i}),null);
__d("AbstractBadge.react",["cx","invariant","React","formatNumber","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;function m(o){return parseInt(o,10)===o}j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(o){"use strict";k.constructor.call(this,o)}n.prototype.render=function(){"use strict";var o=this.props,p=o.count,q=o.maxcount,r=o.label,s=babelHelpers.objectWithoutProperties(o,["count","maxcount","label"]);m(p)||i(0);m(q)||i(0);var t="_51lp"+(p>q?" _51lr":"")+(!this.props.allowZero&&p===0?" hidden_elem":""),u=r?c("React").createElement("span",{className:"accessible_elem","aria-hidden":p?"false":"true"},"\xa0",r):null,v=c("formatNumber").withMaxLimit(p,q);if(u!==null)v=c("React").createElement("span",{"aria-hidden":"true"},v);return c("React").createElement("span",babelHelpers["extends"]({},s,{className:c("joinClasses")(this.props.className,t)}),v,u)};n.propTypes={className:l.string,count:l.number.isRequired,maxcount:l.number,label:l.string};n.defaultProps={maxcount:20};f.exports=n}),null);
__d("XUIBadge.react",["cx","React","AbstractBadge.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.type,n="_5ugh"+(m==="regular"?" _5ugf":"")+(m==="special"?" _5ugg":"");return c("React").createElement(c("AbstractBadge.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),type:null}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={type:k.oneOf(["regular","special"]),allowZero:k.bool};l.defaultProps={type:"regular"};f.exports=l}),null);
__d("ReactBrowserEventEmitter",["ReactDOM-fb"],(function a(b,c,d,e,f,g){"use strict";var h=c("ReactDOM-fb").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;f.exports=h.ReactBrowserEventEmitter}),null);
__d("ReactLayerCommon",["invariant","React","ReactBrowserEventEmitter","ReactDOM","SubscriptionsHandler","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=function k(n){n.isPropagationStopped=c("emptyFunction").thatReturnsTrue};i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",{onClick:k,onBlur:k,onDoubleClick:k,onFocus:k,onKeyDown:k,onKeyPress:k,onKeyUp:k,onMouseDown:k,onMouseMove:k,onMouseUp:k},this.props.children)};function l(){i.apply(this,arguments)}var m={makeInitialSubscriptions:function n(o,p){__p&&__p();var q=new(c("SubscriptionsHandler"))();m.layerSubscribe(o,q,"show",function(){return p.onToggle&&p.onToggle(true)});m.layerSubscribe(o,q,"hide",function(){return p.onToggle&&p.onToggle(false)});m.layerSubscribe(o,q,"blur",function(r,s){return p.onBlur&&p.onBlur(s)});m.layerSubscribe(o,q,"runhide",function(r,s){return p.onHide&&(p.includeHideSource?p.onHide(s):p.onHide())});return q},layerSubscribe:function n(o,p,q,r){var s=o.subscribe||o.addListener;p.addSubscriptions(s.call(o,q,function(q,t){c("ReactBrowserEventEmitter").isEnabled()&&r(q,t)}))},render:function n(o,p){var q=c("ReactDOM").createPortal(c("React").createElement(l,null,o),p);if(q===undefined&&c("ReactDOM").createPortal._isMockFunction)q=null;return q},diffBehaviors:function n(o,p,q){__p&&__p();var r;for(r in o)if(o[r]&&!p[r])q.disableBehavior(o[r]);for(r in p){var s=o[r],t=p[r];if(s&&t){s===t||h(0);continue}s&&q.disableBehavior(s);t&&q.enableBehavior(t)}}};f.exports=m}),null);
__d("ReactLayer",["invariant","React","ReactDOM","ReactLayerCommon","emptyFunction","getObjectValues"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={componentWillMount:function k(){this._layerContainer=document.createElement("div")},componentDidMount:function k(){this.layer=this.createLayer(this._layerContainer);this.layer||h(0);this.layerSubscriptions=c("ReactLayerCommon").makeInitialSubscriptions(this.layer,this.props);this._resetBehaviors()},componentDidUpdate:function k(l){this.receiveProps(this.props,l)},componentWillUnmount:function k(){this._layerContainer=null;if(this.layerSubscriptions){this.layerSubscriptions.release();this.layerSubscriptions=null}if(this.layer){this.layer.destroy();this.layer=null}},render:function k(){return c("ReactLayerCommon").render(this.props.children,this._layerContainer)},enumerateBehaviors:function k(l){l=this.getEffectiveBehaviors(l);return c("getObjectValues")(l).filter(c("emptyFunction").thatReturnsArgument)},_resetBehaviors:function k(){this._diffBehaviors({},this.props.behaviors)},updateBehaviors:function k(l,m){this._diffBehaviors(l,m)},_diffBehaviors:function k(l,m){l=this.getEffectiveBehaviors(l);m=this.getEffectiveBehaviors(m);c("ReactLayerCommon").diffBehaviors(l,m,this.layer)},getEffectiveBehaviors:function k(l){if(!this.getDefaultEnabledBehaviors)return l||{};return babelHelpers["extends"]({},this.getDefaultEnabledBehaviors(),l)},layerSubscribe:function k(l,m){c("ReactLayerCommon").layerSubscribe(this.layer,this.layerSubscriptions,l,m)}},j={createClass:function k(l){return c("React").createClass({mixins:[i,l]})}};f.exports=j}),null);
__d("XUIAmbientNUXBody.react",["cx","React","XUICloseButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=c("joinClasses")("_21es",this.props.className,this.props.noCloseButton?"_izg":null),n=this.props.noCloseButton?null:c("React").createElement(c("XUICloseButton.react"),{shade:"light",className:"_36gl",onClick:this.props.onCloseButtonClick,onFocus:this.props.onFocus});return c("React").createElement("div",{className:m},n,c("React").createElement("div",{className:"__xn"},this.props.children))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={noCloseButton:k.bool,onCloseButtonClick:k.func,onFocus:k.func};f.exports=l}),null);
__d("XUIAmbientNUXTheme",["cx"],(function a(b,c,d,e,f,g,h){var i={wrapperClassName:"_2x6q",arrowDimensions:{offset:14,length:18}};f.exports=i}),null);
__d("XUIAmbientNUX.react",["fbt","React","ReactLayer","ReactAbstractContextualDialog","XUIAmbientNUXTheme","XUIAmbientNUXBody.react","uniqueID"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=300,m=380,n=c("ReactLayer").createClass(c("ReactAbstractContextualDialog").createSpec({displayName:"XUIAmbientNUX",theme:c("XUIAmbientNUXTheme")}));i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(){"use strict";j.constructor.call(this);this.$XUIAmbientNUX2=c("uniqueID")();this.$XUIAmbientNUX1=c("uniqueID")()}o.prototype.$XUIAmbientNUX3=function(){"use strict";switch(this.props.width){case"wide":return m;case"custom":return this.props.customwidth;case"auto":return null;default:return l}};o.prototype.$XUIAmbientNUX4=function(){"use strict";return h._("Learn about this new feature")};o.prototype.render=function(){"use strict";var p=this.props.labelledBy,q=null,r=null;if(!p||!p.length){q=c("React").createElement("div",{"aria-label":this.props.label||this.$XUIAmbientNUX4(),id:this.$XUIAmbientNUX2,key:this.$XUIAmbientNUX2});p=[this.$XUIAmbientNUX2]}var s=h._("Close");r=c("React").createElement("a",{className:"layer_close_elem accessible_elem",href:"#",id:this.$XUIAmbientNUX1,key:this.$XUIAmbientNUX1,"aria-label":s,"aria-labelledby":this.$XUIAmbientNUX1+" "+p.join(" "),role:"button"});return c("React").createElement(n,{alignment:this.props.alignment,autoFocus:false,behaviors:this.props.behaviors,context:this.props.context,contextRef:this.props.contextRef,dialogRole:"region",focusContextOnHide:false,hasActionableContext:this.props.hasActionableContext,hideOnBlur:this.props.hideOnBlur,insertParent:this.props.insertParent,labelledBy:p,offsetX:this.props.offsetX,offsetY:this.props.offsetY,onBeforeHide:this.props.onBeforeHide,position:this.props.position,shown:this.props.shown,width:this.$XUIAmbientNUX3(this.props)},c("React").createElement(c("XUIAmbientNUXBody.react"),{className:this.props.className,noCloseButton:this.props.noCloseButton,onCloseButtonClick:this.props.onCloseButtonClick,onFocus:this.props.onFocus},this.props.children,q,r))};o.propTypes={alignment:k.oneOf(["left","center","right"]),behaviors:k.object,className:k.string,context:k.object,contextRef:k.func,customwidth:k.number,hasActionableContext:k.bool,hideOnBlur:k.bool,insertParent:k.object,label:k.object,labelledBy:k.arrayOf(k.string),noCloseButton:k.bool,offsetX:k.number,offsetY:k.number,onBeforeHide:k.func,onCloseButtonClick:k.func,onFocus:k.func,position:k.oneOf(["above","below","left","right"]),shown:k.bool,width:k.oneOf(["wide","normal","auto","custom"])};f.exports=o}),null);
__d("ContextualDialogXUITheme",["cx"],(function a(b,c,d,e,f,g,h){var i={wrapperClassName:"_53ii",arrowDimensions:{offset:12,length:16}};f.exports=i}),null);
__d("XUIContextualDialogBody.react",["React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){"use strict";return c("React").createElement("div",{className:this.props.className},this.props.children)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("XUIOverlayFooter.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_5lnf uiOverlayFooter")}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("XUIContextualDialogFooter.react",["cx","React","XUIOverlayFooter.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("XUIOverlayFooter.react"),{className:"_572u"},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("XUIContextualDialogTitle.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=this.props.use,m=c("joinClasses")("_47lu"+(l==="primary"?" _47lv":"")+(l==="secondary"?" _47mc":""),this.props.className);return c("React").createElement("h3",{className:m,id:this.props.id},this.props.children)};function k(){"use strict";i.apply(this,arguments)}k.defaultProps={use:"primary"};f.exports=k}),null);
__d("XUIContextualDialog.react",["cx","fbt","ContextualDialogXUITheme","React","ReactAbstractContextualDialog","ReactLayer","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","joinClasses","uniqueID"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("ReactLayer").createClass(c("ReactAbstractContextualDialog").createSpec({displayName:"ReactXUIContextualDialog",theme:c("ContextualDialogXUITheme")}));j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){"use strict";k.constructor.call(this);this.updatePosition=function(){var n=this.refs.dialog;if(n)n.layer.updatePosition()}.bind(this);this.$XUIContextualDialog1=this.$XUIContextualDialog1||c("uniqueID")()}m.prototype.$XUIContextualDialog2=function(){"use strict";return this.$XUIContextualDialog3(c("XUIContextualDialogBody.react"))};m.prototype.$XUIContextualDialog4=function(){"use strict";return this.$XUIContextualDialog3(c("XUIContextualDialogTitle.react"))};m.prototype.$XUIContextualDialog5=function(){"use strict";return this.$XUIContextualDialog3(c("XUIContextualDialogFooter.react"))};m.prototype.$XUIContextualDialog3=function(n){"use strict";var o=null;c("React").Children.forEach(this.props.children,function(p){if(!o&&p&&p.type===n)o=p});return o};m.prototype.$XUIContextualDialog6=function(){"use strict";return i._("Dialog content")};m.prototype.render=function(){"use strict";__p&&__p();var n=this.props.children,o=this.$XUIContextualDialog2(),p=this.$XUIContextualDialog4(),q={};if(this.props.labelledBy)q.labelledBy=this.props.labelledBy;else if(this.props.label)q.label=this.props.label;else if(p){p=c("React").cloneElement(p,{id:this.$XUIContextualDialog1});q.labelledBy=[this.$XUIContextualDialog1]}else q.label=this.$XUIContextualDialog6();if(o)n=c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_53iv")},p,o);return c("React").createElement(l,babelHelpers["extends"]({},this.props,q,{ref:"dialog"}),n,o?this.$XUIContextualDialog5():null)};m.WIDTH={NORMAL:312,WIDE:400};m.defaultProps={dialogRole:"dialog",hasActionableContext:false,hideOnEscape:true};f.exports=m}),null);
__d("XUIDialogButton.react",["cx","React","XUIButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.action,n=(m=="confirm"?"layerConfirm":"")+(m=="cancel"?" layerCancel":"")+(m=="button"?" layerButton":""),o=this.props.href;if(m=="cancel")o="#";else if(m=="button")o=o||"#";return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),href:o,role:"button"}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={action:k.oneOf(["cancel","confirm","button"])};f.exports=l}),null);
__d("XUIDialogCancelButton.react",["fbt","React","XUIDialogButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{action:"cancel",label:h._("Cancel")}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("XUIDialogOkayButton.react",["cx","fbt","React","XUIDialogButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_2z1w"),action:this.props.action,label:i._("OK")}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={action:l.oneOf(["confirm","cancel","button"]).isRequired};f.exports=m}),null);
__d("DialogPosition",["Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h=40,i,j={calculateTopMargin:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?null:arguments[2],o=arguments.length<=3||arguments[3]===undefined?false:arguments[3],p=c("Vector").getViewportDimensions(),q=false;if(o&&n)q=n+m>p.y;if(n&&!q)return n;if(i)return i;var r=Math.floor((p.x+l)*(p.y-m)/(4*p.x));return Math.max(r,h)},setFixedTopMargin:function k(l){i=l}};f.exports=j}),null);
__d("Toggler",["csx","invariant","Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","DOM","DOMQuery","Event","Focus","Keys","Parent","TabbableElements","TimeSlice","createArrayFromMixed","emptyFunction","ge","getContextualParent","getObjectValues","killswitch","mixin","setImmediate","queryThenMutateDOM","$"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=[],m,n=false;function o(){if(!n){n=true;c("setImmediate")(function(){n=false})}}var p=function t(){p=c("emptyFunction");c("Event").listen(document.documentElement,"click",function(event){if(n)return;var u=event.getTarget();l.forEach(function(v){v.clickedTarget=u;v.active&&!v.sticky&&!c("ContextualThing").containsIncludingLayers(v.getActive(),u)&&!v.inTargetFlyout(u)&&v.inActiveDialog()&&!v.isIgnoredByModalLayer(u)&&v.hide()})},c("Event").Priority.URGENT)};j=babelHelpers.inherits(q,c("mixin")(c("ArbiterMixin")));k=j&&j.prototype;function q(){"use strict";k.constructor.call(this);this.active=null;this.togglers={};this.setSticky(false);this.setFastShow(false);l.push(this);this.subscribe(["show","hide"],q.inform.bind(q));return p()}q.prototype.focusFirstTabbableDescendant=function(t,u){__p&&__p();var v;"use strict";if(u.fastShow)(function(){__p&&__p();if(u.$Toggler2)u.$Toggler2.cancel();var y=null;u.$Toggler2=c("queryThenMutateDOM")(function(){var w=c("DOMQuery").find(t,".uiToggleFlyout");y=c("TabbableElements").findFirst(w)||w},function(){delete u.$Toggler2;if(y){if(y.tabIndex==-1)y.tabIndex=0;c("Focus").setWithoutOutline(y)}})})();else{var w=c("DOMQuery").scry(t,".uiToggleFlyout")[0];if(w){var x=c("TabbableElements").find(w)[0]||w;if(x.tabIndex==-1)x.tabIndex=0;c("Focus").setWithoutOutline(x)}}};q.prototype.show=function(t){"use strict";__p&&__p();var u=r(this,t),v=u.active;if(t!==v){v&&u.hide();u.active=t;c("CSS").addClass(t,"openToggler");var w=c("DOM").scry(t,'a[rel="toggle"]');if(w.length>0&&w[0].getAttribute("data-target"))c("CSS").removeClass(c("$")(w[0].getAttribute("data-target")),"toggleTargetClosed");this.focusFirstTabbableDescendant(t,u);if(w.length>0){c("DOM").appendContent(t,u.getToggler("next"));c("DOM").prependContent(t,u.getToggler("prev"))}c("Event").listen(t,"keydown",function(event){if(c("Event").getKeyCode(event)===c("Keys").ESC)if(u.isShown()){var x=c("DOM").scry(t,'a[rel="toggle"]')[0];x&&x.focus();u.hide();event.kill()}});if(t.getAttribute("data-toggle-wc"))u.__continuation=c("TimeSlice").getGuardedContinuation("Toggler.show inform");u.inform("show",u,c("Arbiter").BEHAVIOR_STATE)}};q.prototype.hide=function(t){"use strict";__p&&__p();var u=r(this,t);if(u.$Toggler2)u.$Toggler2.cancel();var v=u.active;if(v&&(!t||t===v)){c("CSS").removeClass(v,"openToggler");var w=c("DOM").scry(v,'a[rel="toggle"]');if(w.length>0&&w[0].getAttribute("data-target"))c("CSS").addClass(c("$")(w[0].getAttribute("data-target")),"toggleTargetClosed");c("getObjectValues")(u.togglers).forEach(c("DOM").remove);if(v.getAttribute("data-toggle-wc"))u.__continuation=c("TimeSlice").getGuardedContinuation("Toggler.hide inform");u.inform("hide",u,c("Arbiter").BEHAVIOR_STATE);u.active=null}};q.prototype.toggle=function(t){"use strict";var u=r(this,t);if(u.active===t)u.hide();else u.show(t);o()};q.prototype.getActive=function(){"use strict";return r(this).active};q.prototype.isShown=function(){"use strict";return r(this).active&&c("CSS").hasClass(r(this).active,"openToggler")};q.isNodeShown=function(t){"use strict";return c("CSS").hasClass(t,"openToggler")};q.prototype.inTargetFlyout=function(t){"use strict";var u=s(this.getActive());return Boolean(u&&c("ContextualThing").containsIncludingLayers(u,t))};q.prototype.inActiveDialog=function(){"use strict";var t=b.Dialog&&b.Dialog.getCurrent();return!t||c("DOM").contains(t.getRoot(),this.getActive())};q.prototype.isIgnoredByModalLayer=function(t){"use strict";var u=!!c("Parent").bySelector(t,"._3qw"),v=!!c("Parent").bySelector(this.getActive(),"._3qw");return u&&!v};q.prototype.getToggler=function(t){"use strict";__p&&__p();var u=r(this);if(!u.togglers[t]){u.togglers[t]=c("DOM").create("button",{className:"hideToggler",onfocus:function v(){var w=c("DOM").scry(u.active,'a[rel="toggle"]')[0];w&&w.focus();u.hide()},style:{right:t==="next"?"0":""}});u.togglers[t].setAttribute("type","button")}return this.togglers[t]};q.prototype.setSticky=function(t){"use strict";__p&&__p();var u=r(this);t=t!==false;if(t!==u.sticky){u.sticky=t;if(t)u.$Toggler1&&u.$Toggler1.unsubscribe();else u.$Toggler1=c("Arbiter").subscribe("pre_page_transition",u.hide.bind(u,null))}return u};q.prototype.setFastShow=function(t){"use strict";var u=r(this);u.fastShow=t;return u};q.prototype.setPrePageTransitionCallback=function(t){"use strict";var u=r(this);u.$Toggler1&&u.$Toggler1.unsubscribe();u.$Toggler1=c("Arbiter").subscribe("pre_page_transition",t)};q.bootstrap=function(t){"use strict";var u=t.parentNode;u!=null||i(0);var v=q.getInstance(u);v!=null||i(0);v.toggle(u)};q.createInstance=function(t){"use strict";var u=new q().setSticky(true);c("DataStore").set(t,"toggler",u);return u};q.destroyInstance=function(t){"use strict";var u=c("DataStore").get(t,"toggler");if(u&&u.$Toggler2)u.$Toggler2.cancel();c("DataStore").remove(t,"toggler")};q.getInstance=function(t){"use strict";__p&&__p();while(t){var u=c("DataStore").get(t,"toggler");if(u)return u;if(c("CSS").hasClass(t,"uiToggleContext"))return q.createInstance(t);else if(!c("killswitch")("JEWEL_TOGGLER_INSTANCE_FIXES")&&c("CSS").hasClass(t,"uiToggleFlyout"))return q.createInstance(t).setSticky(false);t=c("getContextualParent")(t)}return m=m||new q()};q.listen=function(t,u,v){"use strict";__p&&__p();return q.subscribe(c("createArrayFromMixed")(t),function(w,x){if(x.getActive()===u){if(x.__continuation){var y=x.__continuation;delete x.__continuation;return y(function(){return v(w,x)})}return v(w,x)}})};Object.assign(q,q.prototype,c("ArbiterMixin"));Object.assign(q,{subscribe:function(t){return function(u,v){u=c("createArrayFromMixed")(u);if(u.includes("show"))l.forEach(function(w){if(w.getActive())setTimeout(v.bind(null,"show",w),0)});return t(u,v)}}(q.subscribe.bind(q))});function r(t,u){if(t instanceof q)return t;return q.getInstance(u)}function s(t){var u=c("DOM").scry(t,'a[rel="toggle"]');if(u.length>0&&u[0].getAttribute("data-target"))return c("ge")(u[0].getAttribute("data-target"));return null}f.exports=q}),null);
__d("LayerTogglerContext",["Toggler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._root=this._layer.getRoot();c("Toggler").createInstance(this._root).setSticky(false)};h.prototype.disable=function(){"use strict";c("Toggler").destroyInstance(this._root);this._root=null};f.exports=h}),null);
__d("ScrollAwareDOM",["ArbiterMixin","CSS","DOM","DOMDimensions","HTML","Vector","ViewportBounds","getDocumentScrollElement","getElementPosition","getViewportDimensions","isAsyncScrollQuery","isNode"],(function a(b,c,d,e,f,g){__p&&__p();function h(m,n){return function(){var o=arguments;l.monitor(arguments[m],function(){n.apply(null,o)})}}function i(m){__p&&__p();if(!(m instanceof Array))m=[m];for(var n=0;n<m.length;n++){var o=c("HTML").replaceJSONWrapper(m[n]);if(o instanceof c("HTML"))return o.getRootNode();else if(c("isNode")(o))return o}return null}function j(m){return c("getElementPosition")(m).y>c("ViewportBounds").getTop()}function k(m){var n=c("getElementPosition")(m).y+c("DOMDimensions").getElementDimensions(m).height,o=c("getViewportDimensions")().height-c("ViewportBounds").getBottom();return n>=o}var l=babelHelpers["extends"]({monitor:function m(n,o){__p&&__p();if(c("isAsyncScrollQuery")())return o();var p=i(n);if(p){var q=!!p.offsetParent;if(q&&(j(p)||k(p)))return o();var r=c("Vector").getDocumentDimensions(),s=o();if(q||p.offsetParent&&!j(p)){var t=c("Vector").getDocumentDimensions().sub(r),u={delta:t,target:p};if(l.inform("scroll",u)!==false)t.scrollElementBy(c("getDocumentScrollElement")())}return s}else return o()},replace:function m(n,o){var p=i(o);if(!p||c("CSS").hasClass(p,"hidden_elem"))p=n;return l.monitor(p,function(){c("DOM").replace(n,o)})},prependContent:h(1,c("DOM").prependContent),insertAfter:h(1,c("DOM").insertAfter),insertBefore:h(1,c("DOM").insertBefore),setContent:h(0,c("DOM").setContent),appendContent:h(1,c("DOM").appendContent),remove:h(0,c("DOM").remove),empty:h(0,c("DOM").empty)},c("ArbiterMixin"));f.exports=l}),null);
__d("ModalLayer",["csx","cx","Arbiter","ArbiterMixin","CSS","DataStore","DOM","DOMDimensions","DOMQuery","Event","Scroll","ScrollAwareDOM","Style","UserAgent","Vector","debounceAcrossTransitions","getDocumentScrollElement","isAsyncScrollQuery","removeFromArray","setTimeoutAcrossTransitions","ge"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=[],k=null,l=null,m=null;function n(){if(!m)m=c("DOMQuery").scry(document.body,"._li")[0]||c("ge")("FB4BResponsiveMain");return m}function o(v){__p&&__p();var w={position:c("Vector").getScrollPosition(),listener:undefined},x=v.offsetTop-w.position.y;c("CSS").addClass(v,"_31e");c("Style").set(v,"top",x+"px");c("Arbiter").inform("reflow");w.listener=c("ScrollAwareDOM").subscribe("scroll",function(y,z){if(c("DOMQuery").contains(v,z.target)){var x=v.offsetTop-z.delta.y;c("Style").set(v,"top",x+"px");w.position=w.position.add(z.delta);return false}return true});c("DataStore").set(v,"ModalLayerData",w)}function p(v,w){__p&&__p();var x=c("DataStore").get(v,"ModalLayerData");if(x){var y=function y(){__p&&__p();c("CSS").removeClass(v,"_31e");c("Style").set(v,"top","");if(w){var A=c("getDocumentScrollElement")();c("Scroll").setTop(A,x.position.y);if(c("Scroll").getTop(A)!==x.position.y){c("Scroll").setTop(A,x.position.y+1);c("Scroll").setTop(A,x.position.y)}}c("Arbiter").inform("reflow");x.listener.unsubscribe();x.listener=null;c("DataStore").remove(v,"ModalLayerData")};if(w&&c("isAsyncScrollQuery")()){var z=c("DOM").create("div",{className:"_42w"});c("Style").set(z,"height",v.offsetHeight+"px");c("DOM").appendContent(document.body,z);var A=c("getDocumentScrollElement")();c("Scroll").setTop(A,x.position.y);w=false;setTimeout(function(){y();c("DOM").remove(z)},0)}else y()}}function q(){var v=n();if(v!=null&&!c("CSS").matchesSelector(v,"._31e"))o(v)}function r(){if(!j.length)p(n(),true)}function s(){__p&&__p();var v=j.length;while(v--){var w=j[v],x=w.getLayerRoot();if(x){t(x,0);var y=w.getLayerContentRoot();if(y){var z=y.offsetWidth+c("DOMDimensions").measureElementBox(y,"width",0,0,1);t(x,z)}}}}function t(v,w){c("Style").set(v,"min-width",w+(w?"px":""))}function u(v){"use strict";this._layer=v;this._enabled=false}u.prototype.enable=function(){"use strict";if(!n())return;this._subscription=this._layer.subscribe(["show","hide"],function(v){v=="show"?this._addModal():this._removeModal()}.bind(this));if(this._layer.isShown())this._addModal();this._enabled=true};u.prototype.disable=function(){"use strict";if(!n())return;this._subscription&&this._subscription.unsubscribe();if(this._layer.isShown())this._removeModal();this._enabled=false};u.prototype._addModal=function(){"use strict";__p&&__p();var v=this.getLayerRoot();c("CSS").addClass(v,"_3qw");this._wash=c("DOM").create("div",{className:"_3ixn"});c("DOM").prependContent(v,this._wash);var w=j[j.length-1];if(w)o(w.getLayerRoot());else q();var x=c("getDocumentScrollElement")();c("Scroll").setTop(x,0);if(!j.length){var y=c("debounceAcrossTransitions")(s,100);k=c("Event").listen(window,"resize",y);l=c("Arbiter").subscribe("reflow",y)}j.push(this);u.inform("show",this);setTimeout(s,0)};u.prototype._removeModal=function(){"use strict";__p&&__p();var v=this.getLayerRoot();c("CSS").removeClass(v,"_3qw");c("DOM").remove(this._wash);this._wash=null;t(v,0);var w=this===j[j.length-1];c("removeFromArray")(j,this);if(!j.length){k&&k.remove();k=null;l&&l.unsubscribe();l=null}var x=void 0,y=void 0;if(c("UserAgent").isBrowser("Safari")){x=c("Event").listen(document.documentElement,"mousewheel",c("Event").prevent);y=x.remove.bind(x)}c("setTimeoutAcrossTransitions")(function(){__p&&__p();var z=j[j.length-1];if(z){p(z.getLayerRoot(),w);u.inform("show",z)}else{r();u.inform("hide",this)}if(j.length)setTimeout(s,0);if(c("UserAgent").isBrowser("Safari"))setTimeout(function(){y()},0)}.bind(this),200)};u.prototype.getLayerRoot=function(){"use strict";return this._enabled?this._layer.getRoot():null};u.prototype.getLayerContentRoot=function(){"use strict";return this._enabled?this._layer.getContentRoot():null};u.getTopmostModalLayer=function(){"use strict";return j[j.length-1]};Object.assign(u,c("ArbiterMixin"));f.exports=u}),null);
__d("DialogX",["cx","fbt","Arbiter","CSS","DialogPosition","DOMQuery","Event","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerTabIsolation","LayerTogglerContext","ModalLayer","Style","Vector","debounce","getOrCreateDOMID","goURI","shield"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("Layer"));k=j&&j.prototype;l.prototype._configure=function(n,o){"use strict";__p&&__p();k._configure.call(this,n,o);c("CSS").addClass(this.getRoot(),"_4-hy");if(n.autohide)var p=this.subscribe("show",function(){p.unsubscribe();setTimeout(c("shield")(this.hide,this),n.autohide)}.bind(this));if(n.redirectURI)var q=this.subscribe("hide",function(){q.unsubscribe();c("goURI")(n.redirectURI)});this._fixedTopPosition=n.fixedTopPosition;this._ignoreFixedTopInShortViewport=n.ignoreFixedTopInShortViewport};l.prototype._getDefaultBehaviors=function(){"use strict";return k._getDefaultBehaviors.call(this).concat([m,c("ModalLayer"),c("LayerAutoFocus"),c("LayerButtons"),c("LayerFormHooks"),c("LayerTabIsolation"),c("LayerTogglerContext"),c("LayerRefocusOnHide")])};l.prototype._buildWrapper=function(n,o){"use strict";__p&&__p();var p=n.xui?"_4t2a":"_t",q=n.xui?"_59s7":"_1yv";this._innerContent=c("JSXDOM").div(null,o);var r={className:q,role:"dialog"};if(n.labelledBy)r["aria-labelledby"]=n.labelledBy.join(" ");else if(n.label)r["aria-label"]=n.label;else if(n.titleID)r["aria-labelledby"]=n.titleID;else if(n.titleClass){var s=c("DOMQuery").scry(this._innerContent,n.titleClass);if(s.length){var t=c("getOrCreateDOMID")(s[0]);r["aria-labelledby"]=t}else r["aria-label"]=this._getDefaultLabel()}else r["aria-label"]=this._getDefaultLabel();var u={className:p};if(n["data-testid"])u["data-testid"]=n["data-testid"];this._wrapper=c("JSXDOM").div(r,c("JSXDOM").div(u,this._innerContent));this.setWidth(n.width);return c("JSXDOM").div({className:"_10"},this._wrapper)};l.prototype._getDefaultLabel=function(){"use strict";return i._("Dialog content")};l.prototype.getContentRoot=function(){"use strict";return this._wrapper};l.prototype.getInnerContent=function(){"use strict";return this._innerContent};l.prototype.updatePosition=function(){"use strict";var n=c("Vector").getElementDimensions(this._wrapper),o=c("DialogPosition").calculateTopMargin(n.x,n.y,this._fixedTopPosition,this._ignoreFixedTopInShortViewport);c("Style").set(this._wrapper,"margin-top",o+"px");this.inform("update_position",{type:"DialogX",top:o})};l.prototype.setWidth=function(n){"use strict";n=Math.floor(n);if(n===this._width)return;this._width=n;c("Style").set(this._wrapper,"width",n+"px")};l.prototype.getWidth=function(){"use strict";return this._width};l.prototype.getFixedTopPosition=function(){"use strict";return this._fixedTopPosition};l.prototype.shouldIgnoreFixedTopInShortViewport=function(){"use strict";return this._ignoreFixedTopInShortViewport};function l(){"use strict";j.apply(this,arguments)}function m(n){"use strict";this._layer=n}m.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(["show","hide"],function(n){if(n==="show"){this._attach();c("Arbiter").inform("layer_shown",{type:"DialogX"})}else{this._detach();c("Arbiter").inform("layer_hidden",{type:"DialogX"})}}.bind(this))};m.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach()};m.prototype._attach=function(){"use strict";this._layer.updatePosition();this._resize=c("Event").listen(window,"resize",c("debounce")(this._layer.updatePosition.bind(this._layer)))};m.prototype._detach=function(){"use strict";this._resize.remove();this._resize=null};Object.assign(m.prototype,{_subscription:null,_resize:null});f.exports=l}),null);
__d("LayerAutoFocusReact",["focusWithinLayer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this._layer=i;this._subscription=null}h.prototype.enable=function(){if(this._layer.containsReactComponent)this._subscription=this._layer.subscribe("reactshow",this._focus.bind(this))};h.prototype.disable=function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null}};h.prototype._focus=function(){var i=this._layer.getRoot();i&&c("focusWithinLayer")(i)};f.exports=h}),null);
__d("LayerDestroyOnHide",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";var i=this._layer.destroy.bind(this._layer);this._subscription=this._layer.subscribe("hide",function(){setTimeout(i,0)})};h.prototype.disable=function(){"use strict";if(this._subscription){this._subscription.unsubscribe();this._subscription=null}};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("LayerFadeOnHide",["CSSFade","Layer","UserAgent_DEPRECATED","emptyFunction","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";if(c("UserAgent_DEPRECATED").ie()<9)return;this._subscription=this._layer.subscribe("starthide",this._handleStartHide.bind(this))};h.prototype.disable=function(){"use strict";if(this._subscription){this._subscription.unsubscribe();this._subscription=null}};h.prototype._getDuration=function(){"use strict";return 150};h.prototype._handleStartHide=function(){"use strict";__p&&__p();var i=true,j=c("Layer").subscribe("show",function(){j.unsubscribe();i=false});c("setTimeoutAcrossTransitions")(function(){j.unsubscribe();j=null;var k=function(){this._layer.finishHide()}.bind(this);if(i)this._animate(k);else k()}.bind(this),0);return false};h.prototype._animate=function(i){"use strict";var j=this._layer.getRoot();c("CSSFade").hide(j,{callback:function k(){i()},duration:this._getDuration()})};h.forDuration=function(i){var j,k;"use strict";j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(){j.apply(this,arguments)}l.prototype._getDuration=c("emptyFunction").thatReturns(i);return l};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("LayerFadeOnShow",["Bootloader","Run","UserAgent_DEPRECATED","emptyFunction","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i;c("Run").onAfterLoad(function(){c("Bootloader").loadModules(["css:CSSFade"],c("emptyFunction"),"LayerFadeOnShow")})}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._animate.bind(this))]};h.prototype.disable=function(){"use strict";if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null}};h.prototype._getDuration=function(){"use strict";return 100};h.prototype._animate=function(){"use strict";var i=this._layer.getRoot();c("ifRequired")("CSSFade",function(j){j.show(i,{duration:this._getDuration()})}.bind(this),function(){})};h.forDuration=function(i){var j,k;"use strict";j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(){j.apply(this,arguments)}l.prototype._getDuration=c("emptyFunction").thatReturns(i);return l};Object.assign(h.prototype,{_subscriptions:null});f.exports=h}),null);
__d("XUIDialogBody.react",["cx","React","joinClasses","XUIText.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m="_4-i2"+(!this.props.useCustomPadding?" _pig":"");return c("React").createElement(c("XUIText.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,m),display:"block",size:this.props.fontSize}),this.props.children)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={fontSize:k.oneOf(["medium","inherit"]),useCustomPadding:k.bool};l.defaultProps={fontSize:"medium"};f.exports=l}),null);
__d("XUIDialogFooter.react",["cx","LeftRight.react","React","XUIOverlayFooter.react","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m="_5a8u"+(this.props.fullBleedBorder?" _27qq":""),n=this.props,o=n.children,p=n.leftContent,q=babelHelpers.objectWithoutProperties(n,["children","leftContent"]);return c("React").createElement(c("XUIOverlayFooter.react"),babelHelpers["extends"]({},q,{className:c("joinClasses")(this.props.className,m)}),c("React").createElement(c("XUIText.react"),{display:"block",fontSize:this.props.fontSize},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null,p),c("React").createElement("div",null,o))))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={fontSize:k.oneOf(["medium","inherit"]),fullBleedBorder:k.bool,leftContent:k.object};l.defaultProps={fontSize:"medium"};f.exports=l}),null);
__d("XUIDialogTitle.react",["cx","fbt","LeftRight.react","React","XUICloseButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=null,o=this.props,p=o.closeButtonText,q=o.showCloseButton,r=babelHelpers.objectWithoutProperties(o,["closeButtonText","showCloseButton"]);if(q)n=c("React").createElement(c("XUICloseButton.react"),{label:p,className:"layerCancel _51-t"});var s=c("React").Children.toArray(this.props.children);return c("React").createElement("div",babelHelpers["extends"]({},r,{className:c("joinClasses")(this.props.className,"_4-i0"+(q?" _2gb3":""))}),c("React").createElement(c("LeftRight.react"),null,c("React").createElement("h3",{className:"_52c9","data-hover":"tooltip","data-tooltip-display":"overflow"},s[0]),c("React").createElement("div",{className:"_51-u"},s.slice(1),n)))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={closeButtonText:l.oneOfType([l.node,l.string]),showCloseButton:l.bool};m.defaultProps={closeButtonText:i._("Close"),showCloseButton:true};f.exports=m}),null);
__d("SimpleXUIDialog",["cx","AsyncResponse","DialogX","LayerAutoFocusReact","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","XUIDialogCancelButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUIDialogButton.react","uniqueID","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=445,j={show:function k(l,m,n,o){var p=c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"});return this.showEx(l,m,p,n,o)},showConfirm:function k(l,m,n,o){__p&&__p();var p=false,q=c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",className:o&&o.autofocusConfirm?"autofocus":"",use:"confirm",onClick:function t(){p=true}});if(o&&o.confirmBtnTxt)q=c("React").createElement(c("XUIDialogButton.react"),{className:c("joinClasses")(o&&o.autofocusConfirm?"autofocus":"","_2z1w"),action:"cancel",use:"confirm",label:o.confirmBtnTxt,onClick:function t(){p=true}});var r=c("React").createElement("div",null,c("React").createElement(c("XUIDialogCancelButton.react"),{onClick:function t(){p=false}}),q);function s(){if(n)n(p)}return this.showEx(l,m,r,s,o)},showEx:function k(l,m,n,o,p){__p&&__p();p=p||{};var q=[c("LayerDestroyOnHide"),c("LayerFadeOnShow"),c("LayerFadeOnHide"),c("LayerHideOnEscape"),c("LayerRefocusOnHide")];if(p.hideOnBlur!==false)q.push(c("LayerHideOnBlur"));if(p.useReactFocusBehavior)q.push(c("LayerAutoFocusReact"));var r={width:p.width||i,xui:true,addedBehaviors:q,causalElement:p.causalElement};if(m){var s=c("uniqueID")();r.titleID=s;m=c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:p.showCloseButton!==false,id:s},m)}if(n)n=c("React").createElement(c("XUIDialogFooter.react"),{"data-testid":"simple_xui_dialog_footer",leftContent:p.leftContent},n);var t=c("React").createElement("div",null,m,c("React").createElement(c("XUIDialogBody.react"),null,l),n),u=new(c("DialogX"))(r,t);if(o)u.subscribe("hide",o);u.show();return u}};f.exports=j}),null);
__d("Dock",["csx","Event","shield","Arbiter","ArbiterMixin","BlueBar","ChatQuietLinks","CSS","DataStore","DOM","Parent","Scroll","Style","Toggler","Vector","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(){}Object.assign(i,c("ArbiterMixin"),{MIN_HEIGHT:140,INITIAL_FLYOUT_HEIGHT_OFFSET:10,init:function j(k){__p&&__p();this.init=c("emptyFunction");this.rootEl=k;this.calculateViewportDimensions();c("ChatQuietLinks").removeEmptyHrefs(this.rootEl);c("Event").listen(k,"click",this._onClick.bind(this));c("Event").listen(window,"resize",this._onWindowResize.bind(this));c("Toggler").subscribe(["show","hide"],function(l,m){__p&&__p();var n=m.getActive();if(!c("DOM").contains(k,n))return;if(c("CSS").hasClass(n,"fbNub")){this.notifyNub(n,l);if(l==="show")this._resizeNubFlyout(n)}else{var o=c("Parent").byClass(n,"fbNubFlyout");if(o)c("CSS").conditionClass(o,"menuOpened",l==="show")}}.bind(this));this.inform("init",{},c("Arbiter").BEHAVIOR_PERSISTENT)},calculateViewportDimensions:function j(){return this.viewportDimensions=c("Vector").getViewportDimensions()},getFlyoutHeightOffset:function j(){if(this.flyoutHeightOffset)return this.flyoutHeightOffset;this.flyoutHeightOffset=this.INITIAL_FLYOUT_HEIGHT_OFFSET+c("Vector").getElementDimensions(this.rootEl).y;var k=c("BlueBar").getBar();if(k){var l=c("Style").isFixed(k)?"viewport":"document";this.flyoutHeightOffset+=c("Vector").getElementPosition(k,l).y+c("Vector").getElementDimensions(k).y}return this.flyoutHeightOffset},toggle:function j(k){var l=this._findFlyout(k);if(!l)return;this.subscribe("init",function(){c("Toggler").toggle(k)})},show:function j(k){this.subscribe("init",function(){c("Toggler").show(k)})},showNub:function j(k){c("CSS").show(k)},hide:function j(k){this.subscribe("init",function(){var l=c("Toggler").getInstance(k);c("DOM").contains(k,l.getActive())&&l.hide()})},hideNub:function j(k){c("CSS").hide(k);this.hide(k)},setUseMaxHeight:function j(k,l){c("CSS").conditionClass(k,"maxHeight",l!==false);this._resizeNubFlyout(k)},_resizeNubFlyout:function j(k){__p&&__p();var l=this._findFlyout(k);if(!l||c("CSS").hasClass(k,"placeholder")||!(c("CSS").hasClass(k,"openToggler")||c("CSS").hasClass(k,"opened")))return;var m=c("DOM").find(l,"div.fbNubFlyoutOuter"),n=c("DOM").find(m,"div.fbNubFlyoutInner"),o=c("DOM").find(n,"div.fbNubFlyoutBody"),p=c("CSS").hasClass(k,"canBeCompactTab"),q=c("Scroll").getTop(o),r=o.offsetHeight;c("Style").set(o,"height","auto");var s=c("Vector").getElementDimensions(l),t=c("Vector").getElementDimensions(o),u=this.getMaxFlyoutHeight(k);c("Style").set(l,"max-height",u+"px");c("Style").set(m,"max-height",u+"px");s=c("Vector").getElementDimensions(l);var v=c("Vector").getElementDimensions(n),w=v.y-t.y,x=s.y-w,y=parseInt(o.style.height||o.clientHeight,10),z=x!==y;if(s.y>w&&z&&!p)c("Style").set(o,"height",x+"px");c("CSS").removeClass(l,"swapDirection");var A=c("Vector").getElementPosition(l).x;c("CSS").conditionClass(l,"swapDirection",function(){if(A<0)return true;if(!s||!this.viewportDimensions)return false;return A+s.x>this.viewportDimensions.x}.bind(this)());if(z&&q+r>=t.y)c("Scroll").setTop(o,o.scrollHeight);else c("Scroll").setTop(o,q);this.notifyNub(k,"resize")},getMaxFlyoutHeight:function j(k){var l=this._findFlyout(k),m=c("Vector").getElementPosition(l,"viewport"),n=c("Vector").getElementDimensions(l);if(!this.viewportDimensions||!m)return 0;var o=Math.max(this.MIN_HEIGHT,this.viewportDimensions.y-this.getFlyoutHeightOffset())-(this.viewportDimensions.y-m.y-n.y);return Math.max(o,0)},resizeAllFlyouts:function j(){var k=this._getAllNubs(),l=k.length;while(l--)this._resizeNubFlyout(k[l])},_getAllNubs:function j(){var k=c("DOM").scry(this.rootEl,"div._50-v.openToggler:not(._s0f)");return k.concat(c("DOM").scry(this.rootEl,"div._50-v.opened:not(._s0f)"))},_onClick:function j(event){__p&&__p();var k=event.getTarget(),l=c("Parent").byClass(k,"fbNub");if(l){if(c("Parent").byClass(k,"fbNubFlyoutTitlebar")){var m=c("Parent").byTag(k,"a"),n=k.nodeName=="INPUT"&&k.getAttribute("type")=="submit";if(!m&&!n){this.hide(l);return false}}this.notifyNub(l,"click")}},_onWindowResize:function j(event){this.calculateViewportDimensions();this.resizeAllFlyouts()},_findFlyout:function j(k){return c("CSS").hasClass(k,"fbNubFlyout")?k:c("DOM").scry(k,"div.fbNubFlyout")[0]||null},registerNubController:function j(k,l){c("DataStore").set(k,"dock:nub:controller",l);l.subscribe("nub/button/content-changed",c("shield")(this.inform,this,"resize",k));l.subscribe("nub/flyout/content-changed",c("shield")(this._resizeNubFlyout,this,k))},unregisterNubController:function j(k){c("DataStore").remove(k,"dock:nub:controller")},notifyNub:function j(k,l,m){var n=c("DataStore").get(k,"dock:nub:controller");n&&n.inform(l,m)}});f.exports=b.Dock||i}),null);
__d("DockTabsViewportFantaTabUtils",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=269;function i(){return h+1}function j(m){return Math.floor(m/h)}function k(m){if(!m)return null;var n=m.fantaTabModelStateGetter;return n?n():null}function l(m){return m?m.size:0}f.exports={getTabCountToFitWidth:j,getMinRequiredWidthForFirstFantaTab:i,getFantaTabModelFromCallbacks:k,getNumFantaTabsFromModel:l}}),null);
__d("DockTabsViewportPinnedConversationTabUtils",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=496+9+2,i=210+9+2,j=52;function k(){return h}function l(){return i}function m(){return j}function n(r){return r.getIsRaised()?k():l()}function o(){return k()+j}function p(r){var s=r||{},t=s.pinnedConvoTabStateGetter;return t?t():null}function q(r){return r?r.getTotalTabCount():0}f.exports={getRaisedPinnedConvoTabWidth:k,getLoweredPinnedConvoTabWidth:l,getPinnedConvoSelectorWidth:m,getPinnedConvoTabWidth:n,getMinRequiredWidthForFirstConvoTab:o,getPinnedConvoTabsStateFromCallbacks:p,getNumPinnedConvoTabsFromModel:q}}),null);
__d("FullScreen",["Event","Arbiter","CSS","UserAgent","UserAgent_DEPRECATED","throttle","Keys"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=false,j=function j(o){if(c("Event").getKeyCode(o)===c("Keys").ESC)o.stopPropagation()},k=function k(){if(!i){document.addEventListener("keydown",j,true);i=true}},l=function l(){if(i){document.removeEventListener("keydown",j,true);i=false}},m=Object.assign(new(c("Arbiter"))(),{listenForEvent:function o(p){var n=c("throttle")(this.onChange,0,this);if(!h[p.id]){h[p.id]=true;c("Event").listen(p,{webkitfullscreenchange:n,mozfullscreenchange:n,MSFullscreenChange:n,fullscreenchange:n})}},enableFullScreen:function o(p){__p&&__p();this.listenForEvent(p);if(p.webkitRequestFullScreen)if(c("UserAgent_DEPRECATED").chrome())p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);else p.webkitRequestFullScreen();else if(p.mozRequestFullScreen)p.mozRequestFullScreen();else if(p.msRequestFullscreen){k();p.msRequestFullscreen()}else if(p.requestFullScreen)p.requestFullScreen();else return false;return true},disableFullScreen:function o(){__p&&__p();if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.exitFullScreen)document.exitFullScreen();else return false;return true},isFullScreen:function o(){return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement},toggleFullScreen:function o(p){if(this.isFullScreen()){this.disableFullScreen();return false}else return this.enableFullScreen(p)},onChange:function o(){var p=this.isFullScreen();c("CSS").conditionClass(document.body,"fullScreen",p);this.inform("changed");if(!p)l()},isSupportedWithKeyboardInput:function o(){return this.isSupported()&&!c("UserAgent").isBrowser("Safari")},isSupported:function o(){var p=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled;return p||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen}}),n=c("throttle")(m.onChange,0,m);c("Event").listen(document,{webkitfullscreenchange:n,mozfullscreenchange:n,MSFullscreenChange:n,fullscreenchange:n});f.exports=m}),null);
__d("DockTabsViewportCalculator",["csx","Arbiter","DataStore","Dock","DockTabsViewportFantaTabUtils","DockTabsViewportPinnedConversationTabUtils","DOM","Event","FullScreen","SubscriptionsHandler","Vector","ViewportBounds","ge","getViewportDimensions","setImmediate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=50,j=35,k=j,l="dock-tab-viewport-inst",m=c("DockTabsViewportFantaTabUtils").getMinRequiredWidthForFirstFantaTab,n=c("DockTabsViewportFantaTabUtils").getFantaTabModelFromCallbacks,o=c("DockTabsViewportFantaTabUtils").getNumFantaTabsFromModel,p=c("DockTabsViewportPinnedConversationTabUtils").getMinRequiredWidthForFirstConvoTab,q=c("DockTabsViewportPinnedConversationTabUtils").getNumPinnedConvoTabsFromModel,r=c("DockTabsViewportPinnedConversationTabUtils").getPinnedConvoTabsStateFromCallbacks;function s(u){return u?c("Vector").getElementDimensions(u).x:0}function t(u){__p&&__p();this.$DockTabsViewportCalculatorImpl1=u;this.$DockTabsViewportCalculatorImpl3=0;this.$DockTabsViewportCalculatorImpl4=0;this.$DockTabsViewportCalculatorImpl5=null;this.$DockTabsViewportCalculatorImpl6=null;this.$DockTabsViewportCalculatorImpl7=false;this.$DockTabsViewportCalculatorImpl8=false;this.$DockTabsViewportCalculatorImpl9=false;this.$DockTabsViewportCalculatorImpl2=new(c("SubscriptionsHandler"))();this.$DockTabsViewportCalculatorImpl10();this.$DockTabsViewportCalculatorImpl11()}t.prototype.$DockTabsViewportCalculatorImpl10=function(){__p&&__p();var u=this.$DockTabsViewportCalculatorImpl12.bind(this);this.$DockTabsViewportCalculatorImpl2.addSubscriptions(c("Event").listen(window,"resize",u),c("Dock").subscribe("resize",u),c("Arbiter").subscribeOnce("sidebar/initialized",u,c("Arbiter").SUBSCRIBE_NEW),c("FullScreen").subscribe("changed",function(){__p&&__p();if(c("FullScreen").isFullScreen()){this.$DockTabsViewportCalculatorImpl7=true;this.$DockTabsViewportCalculatorImpl8=false}else{this.$DockTabsViewportCalculatorImpl7=false;if(this.$DockTabsViewportCalculatorImpl8){c("setImmediate")(function(){u()});this.$DockTabsViewportCalculatorImpl8=false}}}.bind(this)))};t.prototype.registerFantaTabCallbacks=function(u){this.$DockTabsViewportCalculatorImpl5=u};t.prototype.registerPinnedConvoTabCallbacks=function(u){this.$DockTabsViewportCalculatorImpl6=u};t.prototype.forceRecalculateFBDockWidth=function(){this.$DockTabsViewportCalculatorImpl11();this.$DockTabsViewportCalculatorImpl13({forceRecalculateChatTabs:false,pinnedConvoUpdateData:null})};t.prototype.forceRecalculateChatTabs=function(){this.$DockTabsViewportCalculatorImpl13({forceRecalculateChatTabs:true,pinnedConvoUpdateData:null})};t.prototype.forceRecalculatePinnedConvoTabs=function(u){this.$DockTabsViewportCalculatorImpl13({forceRecalculateChatTabs:true,pinnedConvoUpdateData:u})};t.prototype.$DockTabsViewportCalculatorImpl12=function(){if(c("FullScreen").isFullScreen()||this.$DockTabsViewportCalculatorImpl7){this.$DockTabsViewportCalculatorImpl8=true;return}this.forceRecalculateFBDockWidth()};t.prototype.$DockTabsViewportCalculatorImpl13=function(u){var v=u.forceRecalculateChatTabs,w=u.pinnedConvoUpdateData,x=this.$DockTabsViewportCalculatorImpl14(),y=x.chatTabAvailableWidth,z=x.pinnedConvoTabAvailableWidth;this.$DockTabsViewportCalculatorImpl15(y,!!v);this.$DockTabsViewportCalculatorImpl16(z,w)};t.prototype.$DockTabsViewportCalculatorImpl16=function(u,v){var w=this.$DockTabsViewportCalculatorImpl6||{},x=w.onAvailableWidthChanged;x&&x(u,v)};t.prototype.$DockTabsViewportCalculatorImpl15=function(u,v){var w=this.$DockTabsViewportCalculatorImpl5||{},x=w.onAvailableWidthChanged;x&&x(u)};t.prototype.$DockTabsViewportCalculatorImpl17=function(){var u=n(this.$DockTabsViewportCalculatorImpl5);return o(u)};t.prototype.$DockTabsViewportCalculatorImpl18=function(){return m()};t.prototype.$DockTabsViewportCalculatorImpl14=function(){__p&&__p();var u=this.$DockTabsViewportCalculatorImpl3,v={chatTabAvailableWidth:u,pinnedConvoTabAvailableWidth:0},w={chatTabAvailableWidth:0,pinnedConvoTabAvailableWidth:u},x=this.$DockTabsViewportCalculatorImpl17(),y=r(this.$DockTabsViewportCalculatorImpl6),z=q(y);if(!y||z===0)return v;else if(x===0)return w;var A=this.$DockTabsViewportCalculatorImpl18();if(u<=A)return v;var B=p(),C=u-A,D=0;if(C<B)return v;else D=B;var E=D,F=Math.max(A,u-D);return{chatTabAvailableWidth:F,pinnedConvoTabAvailableWidth:E}};t.prototype.$DockTabsViewportCalculatorImpl11=function(){this.$DockTabsViewportCalculatorImpl3=this.$DockTabsViewportCalculatorImpl19();this.$DockTabsViewportCalculatorImpl20("DockTabsViewportCalculator/recalcTotalDock_FOR_TEST_ONLY")};t.prototype.$DockTabsViewportCalculatorImpl21=function(){var u=this.$DockTabsViewportCalculatorImpl1;if(!u)return{buddyListNubWidth:0,employeeNubsWidth:0};var v=s(u),w=s(c("DOM").find(u,"._56ox")),x=s(c("DOM").scry(u,"._56oy")[0]),y=s(c("DOM").scry(u,"._ph1")[0]),z=Math.max(v-w-x-y,0);return{buddyListNubWidth:w,employeeNubsWidth:z}};t.prototype.$DockTabsViewportCalculatorImpl19=function(){var u=c("getViewportDimensions").withoutScrollbars().width;u-=c("ViewportBounds").getLeft()+c("ViewportBounds").getRight();u-=i;var v=this.$DockTabsViewportCalculatorImpl21(),w=v.buddyListNubWidth,x=v.employeeNubsWidth;u-=w;this.$DockTabsViewportCalculatorImpl4=Math.max(this.$DockTabsViewportCalculatorImpl4,x);u-=this.$DockTabsViewportCalculatorImpl4;u-=k;return Math.max(u,0)};t.prototype.enableTestInforms_FOR_TEST_ONLY=function(){this.$DockTabsViewportCalculatorImpl9=true};t.prototype.$DockTabsViewportCalculatorImpl20=function(u){if(this.$DockTabsViewportCalculatorImpl9)c("Arbiter").inform(u)};t.prototype.getChatTabAvailableDockWidth_FOR_TEST_ONLY=function(){return this.$DockTabsViewportCalculatorImpl14().chatTabAvailableWidth};t.prototype.getPinnedConvoTabAvailableDockWidth_FOR_TEST_ONLY=function(){return this.$DockTabsViewportCalculatorImpl14().pinnedConvoTabAvailableWidth};t.prototype.getAvailableTotalWidth_FOR_TEST_ONLY=function(){return this.$DockTabsViewportCalculatorImpl3};f.exports={getInstance:function u(v){__p&&__p();var w=c("ge")("pagelet_dock");if(!w||!c("DOM").contains(w,v))return null;var x=c("DataStore").get(w,l);if(x instanceof t)return x;var y=c("DOM").scry(w,".fbDockWrapperRight .fbDock")[0];x=new t(y);c("DataStore").set(w,l,x);return x}}}),null);
__d("DragDropFileUpload",[],(function a(b,c,d,e,f,g){g.isSupported=function(){return typeof FileList!=="undefined"}}),null);
__d("DocumentDragDrop",["Arbiter","CSS","DOMQuery","DragDropFileUpload","Event","emptyFunction","getObjectValues","getOrCreateDOMID"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=0;function j(){i=0;c("getObjectValues")(h).forEach(function(o){c("CSS").removeClass(o.element,o.className);c("Arbiter").inform("dragleave",{element:o.element})})}var k=null;function l(){k&&clearTimeout(k);k=setTimeout(function(){j()},500)}var m=function o(){__p&&__p();if(!c("DragDropFileUpload").isSupported())return;c("Event").listen(document,"dragenter",function(p){if(i===0)c("getObjectValues")(h).forEach(function(q){c("CSS").addClass(q.element,q.className);c("Arbiter").inform("dragenter",{element:q.element,event:p})});i++;l()});c("Event").listen(document,"dragleave",function(p){i--;if(i===0)j();l()});c("Event").listen(document,"drop",function(p){j();var q=p.getTarget();if(c("DOMQuery").isNodeOfType(p.getTarget(),"input"))if(q.type==="file")return;p.prevent()});c("Event").listen(document,"dragover",c("Event").prevent);document.addEventListener("dragover",l,true);m=c("emptyFunction")},n={init:function o(){m()},registerStatusElement:function o(p,q){m();h[c("getOrCreateDOMID")(p)]={element:p,className:q};if(i>0)c("CSS").addClass(p,q)},removeStatusElement:function o(p){var q=c("getOrCreateDOMID")(p),r=h[q];if(r){c("CSS").removeClass(r.element,r.className);delete h[q]}}};f.exports=n}),null);
__d("PhotosMimeType",[],(function a(b,c,d,e,f,g){var h={isImage:function j(k){return i(k)[0]==="image"},isJpeg:function j(k){var l=i(k);return h.isImage(k)&&(l[1]==="jpeg"||l[1]==="pjpeg")}};function i(j){return j.split("/")}f.exports=h}),null);
__d("DataTransfer",["PhotosMimeType","createArrayFromMixed","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h=new RegExp("\r\n","g"),i="\n",j={"text/rtf":1,"text/html":1};function k(m){if(m.kind=="file")return m.getAsFile()}function l(m){"use strict";this.data=m;this.types=m.types?c("createArrayFromMixed")(m.types):[]}l.prototype.isRichText=function(){"use strict";if(this.getHTML()&&this.getText())return true;if(this.isImage())return false;return this.types.some(function(m){return j[m]})};l.prototype.getText=function(){"use strict";var m;if(this.data.getData)if(!this.types.length)m=this.data.getData("Text");else if(this.types.indexOf("text/plain")!=-1)m=this.data.getData("text/plain");return m?m.replace(h,i):null};l.prototype.getHTML=function(){"use strict";if(this.data.getData)if(!this.types.length)return this.data.getData("Text");else if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")};l.prototype.isLink=function(){"use strict";return this.types.some(function(m){return m.indexOf("Url")!=-1||m.indexOf("text/uri-list")!=-1||m.indexOf("text/x-moz-url")!=-1})};l.prototype.getLink=function(){"use strict";if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var m=this.data.getData("text/x-moz-url").split("\n");return m[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null};l.prototype.isImage=function(){"use strict";__p&&__p();var m=this.types.some(function(p){return p.indexOf("application/x-moz-file")!=-1});if(m)return true;var n=this.getFiles();for(var o=0;o<n.length;o++){var p=n[o].type;if(!c("PhotosMimeType").isImage(p))return false}return true};l.prototype.getCount=function(){"use strict";if(Object.prototype.hasOwnProperty.call(this.data,"items"))return this.data.items.length;else if(Object.prototype.hasOwnProperty.call(this.data,"mozItemCount"))return this.data.mozItemCount;else if(this.data.files)return this.data.files.length;return null};l.prototype.getFiles=function(){"use strict";if(this.data.items)return Array.prototype.slice.call(this.data.items).map(k).filter(c("emptyFunction").thatReturnsArgument);else if(this.data.files)return Array.prototype.slice.call(this.data.files);else return[]};l.prototype.hasFiles=function(){"use strict";return this.getFiles().length>0};f.exports=l}),null);
__d("DragDropTarget",["Arbiter","Event","SubscriptionsHandler","CSS","DataTransfer","DocumentDragDrop","DragDropFileUpload","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){this._element=i;this._listeners=new(c("SubscriptionsHandler"))();this._statusElem=i;this._dragEnterCount=0;this._enabled=false}Object.assign(h.prototype,{_onFilesDropCallback:c("emptyFunction"),_onURLDropCallback:c("emptyFunction"),_onPlainTextDropCallback:c("emptyFunction"),_onDropCallback:c("emptyFunction"),_fileFilterFn:c("emptyFunction").thatReturnsArgument,setOnDocumentDragEnterCallback:function i(j){this._onDocumentDragEnterCallback=j;return this},setOnDocumentDragLeaveCallback:function i(j){this._onDocumentDragLeaveCallback=j;return this},setOnDragEnterCallback:function i(j){this._onDragEnterCallback=j;return this},setOnDragLeaveCallback:function i(j){this._onDragLeaveCallback=j;return this},setOnFilesDropCallback:function i(j){this._onFilesDropCallback=j;return this},setOnURLDropCallback:function i(j){this._onURLDropCallback=j;return this},setOnPlainTextDropCallback:function i(j){this._onPlainTextDropCallback=j;return this},setOnDropCallback:function i(j){this._onDropCallback=j;return this},enable:function i(){__p&&__p();if(!c("DragDropFileUpload").isSupported())return this;this._listeners.engage();c("DocumentDragDrop").registerStatusElement(this._statusElem,"fbWantsDragDrop");this._listeners.addSubscriptions(c("Event").listen(this._element,"dragenter",this._onDragEnter.bind(this)),c("Event").listen(this._element,"dragleave",this._onDragLeave.bind(this)),c("Event").listen(this._element,"dragover",this._onDragOver.bind(this)),c("Event").listen(this._element,"drop",function(j){__p&&__p();this._dragEnterCount=0;c("CSS").removeClass(this._statusElem,"fbDropReady");c("CSS").removeClass(this._statusElem,"fbDropReadyPhoto");c("CSS").removeClass(this._statusElem,"fbDropReadyPhotos");c("CSS").removeClass(this._statusElem,"fbDropReadyLink");var k=new(c("DataTransfer"))(j.dataTransfer),l={},m=false,n=this._fileFilterFn(j.dataTransfer.files);if(n.length){this._onFilesDropCallback(n,j);l.files=n;m=true}var o=k.getLink();if(o){this._onURLDropCallback(o,j);l.url=o;m=true}var p=k.getText();if(p){this._onPlainTextDropCallback(p,j);l.plainText=p;m=true}if(m)this._onDropCallback(l,j);j.kill()}.bind(this)));this._listeners.addSubscriptions(c("Arbiter").subscribe("dragenter",this._onDocumentDragEnter.bind(this)),c("Arbiter").subscribe("dragleave",this._onDocumentDragLeave.bind(this)));this._enabled=true;return this},disable:function i(){__p&&__p();if(!this._enabled)return this;c("DocumentDragDrop").removeStatusElement(this._statusElem,"fbWantsDragDrop");c("CSS").removeClass(this._statusElem,"fbDropReady");c("CSS").removeClass(this._statusElem,"fbDropReadyPhoto");c("CSS").removeClass(this._statusElem,"fbDropReadyPhotos");c("CSS").removeClass(this._statusElem,"fbDropReadyLink");this._listeners.release();this._enabled=false;return this},setFileFilter:function i(j){this._fileFilterFn=j;return this},setStatusElement:function i(j){this._statusElem=j;return this},_onDragEnter:function i(j){__p&&__p();if(this._dragEnterCount===0){var k=new(c("DataTransfer"))(j.dataTransfer);c("CSS").addClass(this._statusElem,"fbDropReady");if(k.isLink()||!k.isImage())c("CSS").addClass(this._statusElem,"fbDropReadyLink");else if(k.getCount()>1)c("CSS").addClass(this._statusElem,"fbDropReadyPhotos");else c("CSS").addClass(this._statusElem,"fbDropReadyPhoto");this._onDragEnterCallback&&this._onDragEnterCallback()}this._dragEnterCount++;j.preventDefault()},_onDragLeave:function i(j){this._dragEnterCount=Math.max(this._dragEnterCount-1,0);if(this._dragEnterCount===0){c("CSS").removeClass(this._statusElem,"fbDropReady");c("CSS").removeClass(this._statusElem,"fbDropReadyPhoto");c("CSS").removeClass(this._statusElem,"fbDropReadyPhotos");c("CSS").removeClass(this._statusElem,"fbDropReadyLink");this._onDragLeaveCallback&&this._onDragLeaveCallback()}},_onDragOver:function i(j){if(!j.dataTransfer){c("Event").kill(j);return}try{var k=j.dataTransfer.effectAllowed;j.dataTransfer.dropEffect=k=="move"||k=="linkMove"?"move":"copy"}catch(l){}c("Event").kill(j)},_onDocumentDragEnter:function i(event,j){if(this._onDocumentDragEnterCallback&&j.element==this._element)this._onDocumentDragEnterCallback()},_onDocumentDragLeave:function i(event,j){this._dragEnterCount=0;this._onDragLeave(event);if(this._onDocumentDragLeaveCallback&&j.element==this._element)this._onDocumentDragLeaveCallback()}});f.exports=h}),null);
__d("EventPlanExperiment",["EventRemindersGating","QE2Logger"],(function a(b,c,d,e,f,g){"use strict";var h="event_plan_entry_point_nux",i={shouldShowEntryPointNuxWithExposure:function j(){c("QE2Logger").logExposureForUser(h);return c("EventRemindersGating").shouldShowEntryPointNux}};f.exports=i}),null);
__d("XEventReminderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/eventreminder/",{event_reminder_id:{type:"Int",required:true}})}),null);
__d("EventReminderRequestHelper",["AsyncRequest","EventReminderActions","XEventReminderController"],(function a(b,c,d,e,f,g){"use strict";var h={fetchEventReminder:function i(j,k,l){var m=c("XEventReminderController").getURIBuilder().setInt("event_reminder_id",k);new(c("AsyncRequest"))(m.getURI()).setHandler(function(n){if(n.payload){c("EventReminderActions").updateEventReminder(j,n.payload);l()}}).send()}};f.exports=h}),null);
__d("md5",["str2rstr"],(function a(b,c,d,e,f,g){__p&&__p();function h(u,v){__p&&__p();var w=u[0],x=u[1],y=u[2],z=u[3];w=j(w,x,y,z,v[0],7,-680876936);z=j(z,w,x,y,v[1],12,-389564586);y=j(y,z,w,x,v[2],17,606105819);x=j(x,y,z,w,v[3],22,-1044525330);w=j(w,x,y,z,v[4],7,-176418897);z=j(z,w,x,y,v[5],12,1200080426);y=j(y,z,w,x,v[6],17,-1473231341);x=j(x,y,z,w,v[7],22,-45705983);w=j(w,x,y,z,v[8],7,1770035416);z=j(z,w,x,y,v[9],12,-1958414417);y=j(y,z,w,x,v[10],17,-42063);x=j(x,y,z,w,v[11],22,-1990404162);w=j(w,x,y,z,v[12],7,1804603682);z=j(z,w,x,y,v[13],12,-40341101);y=j(y,z,w,x,v[14],17,-1502002290);x=j(x,y,z,w,v[15],22,1236535329);w=k(w,x,y,z,v[1],5,-165796510);z=k(z,w,x,y,v[6],9,-1069501632);y=k(y,z,w,x,v[11],14,643717713);x=k(x,y,z,w,v[0],20,-373897302);w=k(w,x,y,z,v[5],5,-701558691);z=k(z,w,x,y,v[10],9,38016083);y=k(y,z,w,x,v[15],14,-660478335);x=k(x,y,z,w,v[4],20,-405537848);w=k(w,x,y,z,v[9],5,568446438);z=k(z,w,x,y,v[14],9,-1019803690);y=k(y,z,w,x,v[3],14,-187363961);x=k(x,y,z,w,v[8],20,1163531501);w=k(w,x,y,z,v[13],5,-1444681467);z=k(z,w,x,y,v[2],9,-51403784);y=k(y,z,w,x,v[7],14,1735328473);x=k(x,y,z,w,v[12],20,-1926607734);w=l(w,x,y,z,v[5],4,-378558);z=l(z,w,x,y,v[8],11,-2022574463);y=l(y,z,w,x,v[11],16,1839030562);x=l(x,y,z,w,v[14],23,-35309556);w=l(w,x,y,z,v[1],4,-1530992060);z=l(z,w,x,y,v[4],11,1272893353);y=l(y,z,w,x,v[7],16,-155497632);x=l(x,y,z,w,v[10],23,-1094730640);w=l(w,x,y,z,v[13],4,681279174);z=l(z,w,x,y,v[0],11,-358537222);y=l(y,z,w,x,v[3],16,-722521979);x=l(x,y,z,w,v[6],23,76029189);w=l(w,x,y,z,v[9],4,-640364487);z=l(z,w,x,y,v[12],11,-421815835);y=l(y,z,w,x,v[15],16,530742520);x=l(x,y,z,w,v[2],23,-995338651);w=m(w,x,y,z,v[0],6,-198630844);z=m(z,w,x,y,v[7],10,1126891415);y=m(y,z,w,x,v[14],15,-1416354905);x=m(x,y,z,w,v[5],21,-57434055);w=m(w,x,y,z,v[12],6,1700485571);z=m(z,w,x,y,v[3],10,-1894986606);y=m(y,z,w,x,v[10],15,-1051523);x=m(x,y,z,w,v[1],21,-2054922799);w=m(w,x,y,z,v[8],6,1873313359);z=m(z,w,x,y,v[15],10,-30611744);y=m(y,z,w,x,v[6],15,-1560198380);x=m(x,y,z,w,v[13],21,1309151649);w=m(w,x,y,z,v[4],6,-145523070);z=m(z,w,x,y,v[11],10,-1120210379);y=m(y,z,w,x,v[2],15,718787259);x=m(x,y,z,w,v[9],21,-343485551);u[0]=s(w,u[0]);u[1]=s(x,u[1]);u[2]=s(y,u[2]);u[3]=s(z,u[3])}function i(u,v,w,x,y,z){v=s(s(v,u),s(x,z));return s(v<<y|v>>>32-y,w)}function j(u,v,w,x,y,z,A){return i(v&w|~v&x,u,v,y,z,A)}function k(u,v,w,x,y,z,A){return i(v&x|w&~x,u,v,y,z,A)}function l(u,v,w,x,y,z,A){return i(v^w^x,u,v,y,z,A)}function m(u,v,w,x,y,z,A){return i(w^(v|~x),u,v,y,z,A)}function n(u){__p&&__p();var v=u.length,w=[1732584193,-271733879,-1732584194,271733878],x;for(x=64;x<=u.length;x+=64)h(w,o(u.substring(x-64,x)));u=u.substring(x-64);var y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(x=0;x<u.length;x++)y[x>>2]|=u.charCodeAt(x)<<((x&3)<<3);y[x>>2]|=128<<((x&3)<<3);if(x>55){h(w,y);for(x=0;x<16;x++)y[x]=0}y[14]=v*8;h(w,y);return w}function o(u){var v=[],w=0;while(w<64)v[w>>2]=u.charCodeAt(w++)|u.charCodeAt(w++)<<8|u.charCodeAt(w++)<<16|u.charCodeAt(w++)<<24;return v}var p="0123456789abcdef".split("");function q(u){var v="",w=0;for(;w<4;w++)v+=p[u>>(w<<3)+4&15]+p[u>>(w<<3)&15];return v}function r(u){for(var v=0;v<u.length;v++)u[v]=q(u[v]);return u.join("")}var s=function s(u,v){return u+v&4294967295};function t(u){if(null===u||undefined===u)return null;else{for(var v=0;v<u.length;v++)if(u[v]>"\x7f"){u=c("str2rstr")(u);break}return r(n(u))}}if(t("hello")!="5d41402abc4b2a76b9719d911017c592")s=function s(u,v){var w=(u&65535)+(v&65535),x=(u>>16)+(v>>16)+(w>>16);return x<<16|w&65535};f.exports=t}),null);
__d("WaterfallIDGenerator",["CurrentUser","md5"],(function a(b,c,d,e,f,g){function h(){var k=2147483647;return Math.random()*k}function i(){return Math.floor(Date.now()/1e3)}var j={generate:function k(){return c("md5")([c("CurrentUser").getID(),i(),h()].join(":"))}};f.exports=j}),null);
__d("ChatPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$ChatPerfTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$ChatPerfTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ChatPerfTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ChatPerfTypedLogger1=babelHelpers["extends"]({},this.$ChatPerfTypedLogger1,j);return this};h.prototype.setDuration=function(j){this.$ChatPerfTypedLogger1.duration=j;return this};h.prototype.setEndpoint=function(j){this.$ChatPerfTypedLogger1.endpoint=j;return this};h.prototype.setEvent=function(j){this.$ChatPerfTypedLogger1.event=j;return this};h.prototype.setTabsOpen=function(j){this.$ChatPerfTypedLogger1.tabs_open=j;return this};var i={duration:true,endpoint:true,event:true,tabs_open:true};f.exports=h}),null);
__d("DraftJsEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$DraftJsEventsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$DraftJsEventsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$DraftJsEventsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$DraftJsEventsTypedLogger1=babelHelpers["extends"]({},this.$DraftJsEventsTypedLogger1,j);return this};h.prototype.setAnonymizedDom=function(j){this.$DraftJsEventsTypedLogger1.anonymized_dom=j;return this};h.prototype.setEvent=function(j){this.$DraftJsEventsTypedLogger1.event=j;return this};h.prototype.setExtraParams=function(j){this.$DraftJsEventsTypedLogger1.extra_params=j;return this};h.prototype.setScriptPath=function(j){this.$DraftJsEventsTypedLogger1.script_path=j;return this};h.prototype.setSelectionState=function(j){this.$DraftJsEventsTypedLogger1.selection_state=j;return this};h.prototype.setVC=function(j){this.$DraftJsEventsTypedLogger1.vc=j;return this};var i={anonymized_dom:true,event:true,extra_params:true,script_path:true,selection_state:true,vc:true};f.exports=h}),null);
__d("IgnoreMessagesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$IgnoreMessagesTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$IgnoreMessagesTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$IgnoreMessagesTypedLogger1={};return this};h.prototype.updateData=function(j){this.$IgnoreMessagesTypedLogger1=babelHelpers["extends"]({},this.$IgnoreMessagesTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$IgnoreMessagesTypedLogger1.event=j;return this};h.prototype.setPlatform=function(j){this.$IgnoreMessagesTypedLogger1.platform=j;return this};h.prototype.setThreadID=function(j){this.$IgnoreMessagesTypedLogger1.thread_id=j;return this};h.prototype.setVC=function(j){this.$IgnoreMessagesTypedLogger1.vc=j;return this};var i={event:true,platform:true,thread_id:true,vc:true};f.exports=h}),null);
__d("MercurySyncHolesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$MercurySyncHolesTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$MercurySyncHolesTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MercurySyncHolesTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MercurySyncHolesTypedLogger1=babelHelpers["extends"]({},this.$MercurySyncHolesTypedLogger1,j);return this};h.prototype.setDifference=function(j){this.$MercurySyncHolesTypedLogger1.difference=j;return this};h.prototype.setSeqID=function(j){this.$MercurySyncHolesTypedLogger1.seq_id=j;return this};h.prototype.setTopicType=function(j){this.$MercurySyncHolesTypedLogger1.topic_type=j;return this};h.prototype.setVC=function(j){this.$MercurySyncHolesTypedLogger1.vc=j;return this};var i={difference:true,seq_id:true,topic_type:true,vc:true};f.exports=h}),null);
__d("MessengerMessageActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$MessengerMessageActionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$MessengerMessageActionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MessengerMessageActionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MessengerMessageActionsTypedLogger1=babelHelpers["extends"]({},this.$MessengerMessageActionsTypedLogger1,j);return this};h.prototype.setAction=function(j){this.$MessengerMessageActionsTypedLogger1.action=j;return this};h.prototype.setAppID=function(j){this.$MessengerMessageActionsTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$MessengerMessageActionsTypedLogger1.appversion=j;return this};h.prototype.setClienttime=function(j){this.$MessengerMessageActionsTypedLogger1.clienttime=j;return this};h.prototype.setContainermodule=function(j){this.$MessengerMessageActionsTypedLogger1.containermodule=j;return this};h.prototype.setCountry=function(j){this.$MessengerMessageActionsTypedLogger1.country=j;return this};h.prototype.setEntryPoint=function(j){this.$MessengerMessageActionsTypedLogger1.entry_point=j;return this};h.prototype.setErrorText=function(j){this.$MessengerMessageActionsTypedLogger1.error_text=j;return this};h.prototype.setGroupSize=function(j){this.$MessengerMessageActionsTypedLogger1.group_size=j;return this};h.prototype.setMessageType=function(j){this.$MessengerMessageActionsTypedLogger1.message_type=j;return this};h.prototype.setMid=function(j){this.$MessengerMessageActionsTypedLogger1.mid=j;return this};h.prototype.setName=function(j){this.$MessengerMessageActionsTypedLogger1.name=j;return this};h.prototype.setOfflineThreadid=function(j){this.$MessengerMessageActionsTypedLogger1.offline_threadid=j;return this};h.prototype.setPreviousReaction=function(j){this.$MessengerMessageActionsTypedLogger1.previous_reaction=j;return this};h.prototype.setReaction=function(j){this.$MessengerMessageActionsTypedLogger1.reaction=j;return this};h.prototype.setRecipientID=function(j){this.$MessengerMessageActionsTypedLogger1.recipient_id=j;return this};h.prototype.setThreadType=function(j){this.$MessengerMessageActionsTypedLogger1.thread_type=j;return this};h.prototype.setThreadid=function(j){this.$MessengerMessageActionsTypedLogger1.threadid=j;return this};h.prototype.setVC=function(j){this.$MessengerMessageActionsTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$MessengerMessageActionsTypedLogger1=babelHelpers["extends"]({},this.$MessengerMessageActionsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={action:true,appid:true,appversion:true,clienttime:true,containermodule:true,country:true,entry_point:true,error_text:true,group_size:true,message_type:true,mid:true,name:true,offline_threadid:true,previous_reaction:true,reaction:true,recipient_id:true,thread_type:true,threadid:true,vc:true};f.exports=h}),null);
__d("MessengerMessageRequestsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MessengerMessageRequestsLoggerConfig",this.$MessengerMessageRequestsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MessengerMessageRequestsLoggerConfig",this.$MessengerMessageRequestsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MessengerMessageRequestsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MessengerMessageRequestsTypedLogger1=babelHelpers["extends"]({},this.$MessengerMessageRequestsTypedLogger1,j);return this};h.prototype.setAction=function(j){this.$MessengerMessageRequestsTypedLogger1.action=j;return this};h.prototype.setAppID=function(j){this.$MessengerMessageRequestsTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$MessengerMessageRequestsTypedLogger1.appversion=j;return this};h.prototype.setClienttime=function(j){this.$MessengerMessageRequestsTypedLogger1.clienttime=j;return this};h.prototype.setContainermodule=function(j){this.$MessengerMessageRequestsTypedLogger1.containermodule=j;return this};h.prototype.setCountry=function(j){this.$MessengerMessageRequestsTypedLogger1.country=j;return this};h.prototype.setEntryPoint=function(j){this.$MessengerMessageRequestsTypedLogger1.entry_point=j;return this};h.prototype.setExtraClientData=function(j){this.$MessengerMessageRequestsTypedLogger1.extra_client_data=j;return this};h.prototype.setFolderType=function(j){this.$MessengerMessageRequestsTypedLogger1.folder_type=j;return this};h.prototype.setName=function(j){this.$MessengerMessageRequestsTypedLogger1.name=j;return this};h.prototype.setSurface=function(j){this.$MessengerMessageRequestsTypedLogger1.surface=j;return this};h.prototype.setThreadID=function(j){this.$MessengerMessageRequestsTypedLogger1.thread_id=j;return this};h.prototype.setThreadKey=function(j){this.$MessengerMessageRequestsTypedLogger1.thread_key=j;return this};h.prototype.setThreadKeyList=function(j){this.$MessengerMessageRequestsTypedLogger1.thread_key_list=j;return this};h.prototype.setVC=function(j){this.$MessengerMessageRequestsTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$MessengerMessageRequestsTypedLogger1=babelHelpers["extends"]({},this.$MessengerMessageRequestsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={action:true,appid:true,appversion:true,clienttime:true,containermodule:true,country:true,entry_point:true,extra_client_data:true,folder_type:true,name:true,surface:true,thread_id:true,thread_key:true,thread_key_list:true,vc:true};f.exports=h}),null);
__d("MessengerWebViewReactionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$MessengerWebViewReactionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$MessengerWebViewReactionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MessengerWebViewReactionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MessengerWebViewReactionsTypedLogger1=babelHelpers["extends"]({},this.$MessengerWebViewReactionsTypedLogger1,j);return this};h.prototype.setEmojiGroup=function(j){this.$MessengerWebViewReactionsTypedLogger1.emoji_group=j;return this};h.prototype.setEmojiGroupCount=function(j){this.$MessengerWebViewReactionsTypedLogger1.emoji_group_count=j;return this};h.prototype.setEvent=function(j){this.$MessengerWebViewReactionsTypedLogger1.event=j;return this};h.prototype.setMid=function(j){this.$MessengerWebViewReactionsTypedLogger1.mid=j;return this};h.prototype.setSenderID=function(j){this.$MessengerWebViewReactionsTypedLogger1.sender_id=j;return this};h.prototype.setVC=function(j){this.$MessengerWebViewReactionsTypedLogger1.vc=j;return this};var i={emoji_group:true,emoji_group_count:true,event:true,mid:true,sender_id:true,vc:true};f.exports=h}),null);
__d("OmniMEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:OmniMEventLoggerConfig",this.$OmniMEventTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:OmniMEventLoggerConfig",this.$OmniMEventTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$OmniMEventTypedLogger1={};return this};h.prototype.updateData=function(j){this.$OmniMEventTypedLogger1=babelHelpers["extends"]({},this.$OmniMEventTypedLogger1,j);return this};h.prototype.setActionID=function(j){this.$OmniMEventTypedLogger1.action_id=j;return this};h.prototype.setActionSubTypeFromBlob=function(j){this.$OmniMEventTypedLogger1.action_sub_type_from_blob=j;return this};h.prototype.setActionTypeFromBlob=function(j){this.$OmniMEventTypedLogger1.action_type_from_blob=j;return this};h.prototype.setAgentName=function(j){this.$OmniMEventTypedLogger1.agent_name=j;return this};h.prototype.setAppID=function(j){this.$OmniMEventTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$OmniMEventTypedLogger1.appversion=j;return this};h.prototype.setClickArea=function(j){this.$OmniMEventTypedLogger1.click_area=j;return this};h.prototype.setClientUserID=function(j){this.$OmniMEventTypedLogger1.client_userid=j;return this};h.prototype.setClienttime=function(j){this.$OmniMEventTypedLogger1.clienttime=j;return this};h.prototype.setConfidenceRemapped=function(j){this.$OmniMEventTypedLogger1.confidence_remapped=j;return this};h.prototype.setConfidenceValue=function(j){this.$OmniMEventTypedLogger1.confidence_value=j;return this};h.prototype.setContextUserID=function(j){this.$OmniMEventTypedLogger1.context_user_id=j;return this};h.prototype.setCuApp=function(j){this.$OmniMEventTypedLogger1.cu_app=j;return this};h.prototype.setDetectedLanguage=function(j){this.$OmniMEventTypedLogger1.detected_language=j;return this};h.prototype.setEventName=function(j){this.$OmniMEventTypedLogger1.event_name=j;return this};h.prototype.setIntentID=function(j){this.$OmniMEventTypedLogger1.intent_id=j;return this};h.prototype.setLiveLocationSuggestionsEnabled=function(j){this.$OmniMEventTypedLogger1.live_location_suggestions_enabled=j;return this};h.prototype.setLocationSuggestionsEnabled=function(j){this.$OmniMEventTypedLogger1.location_suggestions_enabled=j;return this};h.prototype.setMBarDisplayedOnThreadEnter=function(j){this.$OmniMEventTypedLogger1.m_bar_displayed_on_thread_enter=j;return this};h.prototype.setMessageID=function(j){this.$OmniMEventTypedLogger1.message_id=j;return this};h.prototype.setMessageLength=function(j){this.$OmniMEventTypedLogger1.message_length=j;return this};h.prototype.setName=function(j){this.$OmniMEventTypedLogger1.name=j;return this};h.prototype.setNumberOfCalendarEvents=function(j){this.$OmniMEventTypedLogger1.number_of_calendar_events=j;return this};h.prototype.setPersonalization=function(j){this.$OmniMEventTypedLogger1.personalization=j;return this};h.prototype.setPigeonID=function(j){this.$OmniMEventTypedLogger1.pigeon_id=j;return this};h.prototype.setPosition=function(j){this.$OmniMEventTypedLogger1.position=j;return this};h.prototype.setReason=function(j){this.$OmniMEventTypedLogger1.reason=j;return this};h.prototype.setRemovedLocationSuggestions=function(j){this.$OmniMEventTypedLogger1.removed_location_suggestions=j;return this};h.prototype.setSerializedActions=function(j){this.$OmniMEventTypedLogger1.serialized_actions=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setSessionID=function(j){this.$OmniMEventTypedLogger1.session_id=j;return this};h.prototype.setSource=function(j){this.$OmniMEventTypedLogger1.source=j;return this};h.prototype.setSuggestionData=function(j){this.$OmniMEventTypedLogger1.suggestion_data=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setSuggestionIds=function(j){this.$OmniMEventTypedLogger1.suggestion_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setSuggestionMode=function(j){this.$OmniMEventTypedLogger1.suggestion_mode=j;return this};h.prototype.setSuggestionStyle=function(j){this.$OmniMEventTypedLogger1.suggestion_style=j;return this};h.prototype.setSuggestionSubtitle=function(j){this.$OmniMEventTypedLogger1.suggestion_subtitle=j;return this};h.prototype.setSuggestionTitle=function(j){this.$OmniMEventTypedLogger1.suggestion_title=j;return this};h.prototype.setSuggestionType=function(j){this.$OmniMEventTypedLogger1.suggestion_type=j;return this};h.prototype.setThreadID=function(j){this.$OmniMEventTypedLogger1.thread_id=j;return this};h.prototype.setTotalSuggestions=function(j){this.$OmniMEventTypedLogger1.total_suggestions=j;return this};h.prototype.setVC=function(j){this.$OmniMEventTypedLogger1.vc=j;return this};var i={action_id:true,action_sub_type_from_blob:true,action_type_from_blob:true,agent_name:true,appid:true,appversion:true,click_area:true,client_userid:true,clienttime:true,confidence_remapped:true,confidence_value:true,context_user_id:true,cu_app:true,detected_language:true,event_name:true,intent_id:true,live_location_suggestions_enabled:true,location_suggestions_enabled:true,m_bar_displayed_on_thread_enter:true,message_id:true,message_length:true,name:true,number_of_calendar_events:true,personalization:true,pigeon_id:true,position:true,reason:true,removed_location_suggestions:true,serialized_actions:true,session_id:true,source:true,suggestion_data:true,suggestion_ids:true,suggestion_mode:true,suggestion_style:true,suggestion_subtitle:true,suggestion_title:true,suggestion_type:true,thread_id:true,total_suggestions:true,vc:true};f.exports=h}),null);
__d("SimpleNUXMessageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SimpleNUXMessageLoggerConfig",this.$SimpleNUXMessageTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SimpleNUXMessageLoggerConfig",this.$SimpleNUXMessageTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SimpleNUXMessageTypedLogger1={};return this};h.prototype.updateData=function(j){this.$SimpleNUXMessageTypedLogger1=babelHelpers["extends"]({},this.$SimpleNUXMessageTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$SimpleNUXMessageTypedLogger1.event=j;return this};h.prototype.setEventTimestamp=function(j){this.$SimpleNUXMessageTypedLogger1.event_timestamp=j;return this};h.prototype.setName=function(j){this.$SimpleNUXMessageTypedLogger1.name=j;return this};h.prototype.setNuxMessageType=function(j){this.$SimpleNUXMessageTypedLogger1.nux_message_type=j;return this};h.prototype.setVC=function(j){this.$SimpleNUXMessageTypedLogger1.vc=j;return this};var i={event:true,event_timestamp:true,name:true,nux_message_type:true,vc:true};f.exports=h}),null);
__d("StickersTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:StickersLoggerConfig",this.$StickersTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:StickersLoggerConfig",this.$StickersTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$StickersTypedLogger1={};return this};h.prototype.updateData=function(j){this.$StickersTypedLogger1=babelHelpers["extends"]({},this.$StickersTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$StickersTypedLogger1.event=j;return this};h.prototype.setNumsearchresults=function(j){this.$StickersTypedLogger1.numsearchresults=j;return this};h.prototype.setPackid=function(j){this.$StickersTypedLogger1.packid=j;return this};h.prototype.setPackids=function(j){this.$StickersTypedLogger1.packids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setSearchtoken=function(j){this.$StickersTypedLogger1.searchtoken=j;return this};h.prototype.setStickerid=function(j){this.$StickersTypedLogger1.stickerid=j;return this};h.prototype.setTagid=function(j){this.$StickersTypedLogger1.tagid=j;return this};h.prototype.setTriggeredword=function(j){this.$StickersTypedLogger1.triggeredword=j;return this};h.prototype.setTriggerused=function(j){this.$StickersTypedLogger1.triggerused=j;return this};var i={event:true,numsearchresults:true,packid:true,packids:true,searchtoken:true,stickerid:true,tagid:true,triggeredword:true,triggerused:true};f.exports=h}),null);
__d("LoadingDialogDimensions",[],(function a(b,c,d,e,f,g){var h=Object.freeze({HEIGHT:96,WIDTH:300});f.exports=h}),null);
__d("AsyncDialog",["cx","AsyncRequest","CSS","DialogX","DOM","Keys","LayerFadeOnShow","LoadingDialogDimensions","Parent","React","ReactDOM","URI","XUISpinner.react","XUIDialogTitle.react","emptyFunction","forEachObject"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;function k(s){__p&&__p();var t=c("LoadingDialogDimensions").WIDTH,u;if(s){t=parseInt(s.getAttribute("data-dialog-width"),10)||t;u=s.getAttribute("data-dialog-title")||u}if(!i){var v=c("DOM").create("div",{className:"_57-x"});i=new(c("DialogX"))({width:t,addedBehaviors:[c("LayerFadeOnShow")],xui:true},c("DOM").create("div",null,v));j=c("DOM").create("div");c("DOM").insertBefore(v,j);c("ReactDOM").render(c("React").createElement(c("XUISpinner.react"),{size:"large"}),v);i.subscribe(["key","blur"],function(w,x){if(w=="blur"||w=="key"&&x.keyCode==c("Keys").ESC){o();return false}})}if(u)c("ReactDOM").render(c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},u),j);else c("DOM").empty(j);i.setWidth(t);return i}var l={},m=1,n=[];function o(){c("forEachObject")(l,function(s,t){s.abandon();p(t)})}function p(s){delete l[s];if(!Object.keys(l).length)k().hide()}function q(s,t){__p&&__p();var u=m++;n[u]=t;l[u]=s;var v=p.bind(null,""+u);Object.assign(s.getData(),{__asyncDialog:u});var w=s.getRelativeTo();k(w).setCausalElement(w).show();var x=s.finallyHandler;s.setFinallyHandler(function(A){var B=A.getPayload();if(B&&B.asyncURL)r.send(new(c("AsyncRequest"))(B.asyncURL));v();x&&x(A)});var y=s.abortHandler||c("emptyFunction"),z=s.interceptHandler||c("emptyFunction");s.setInterceptHandler(function(){try{z()}finally{v()}}).setAbortHandler(function(){try{y()}finally{v()}});s.send()}var r={send:function s(t,u){q(t,u||c("emptyFunction"))},bootstrap:function s(t,u,v){__p&&__p();if(!t)return;var w=c("Parent").byClass(u,"stat_elem")||u;if(w&&c("CSS").hasClass(w,"async_saving"))return false;var x=new(c("URI"))(t).getQueryData(),y=v==="dialog",z=new(c("AsyncRequest"))().setURI(t).setData(x).setMethod(y?"GET":"POST").setReadOnly(y).setStatusElement(w);if(u){z.setRelativeTo(u);z.setNectarModuleDataSafe(u)}r.send(z)},respond:function s(t,u){var v=n[t];if(v){v(u);delete n[t]}},getLoadingDialog:function s(){return k()}};f.exports=r}),null);
__d("MercuryTypeaheadConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:8,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_MESSENGER_ONLY_CONTACT_MAX:4,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:5,COMPOSER_WM_MAX:23,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",SEARCH_TYPE:"search",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game",WORKPLACE_BOT_CATEGORY_TYPE:"WORKPLACE_BOT",VALID_EMAIL:"^([A-Z0-9._%+-]+@((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._%+-]+[A-Z0-9._%+-]*)|([A-Z0-9._%+-]+[A-Z._%+-]+[A-Z0-9._%+-]*))@(?:facebook\\.com))$"})}),null);
__d("MessengerDispatcher",["Dispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("Dispatcher_DEPRECATED"))()}),null);
__d("MercuryFilters",["MessagingTag"],(function a(b,c,d,e,f,g){var h=[c("MessagingTag").UNREAD],i={ALL:"all",UNREAD:c("MessagingTag").UNREAD,getSupportedFilters:function j(){return h.concat()},isSupportedFilter:function j(k){return h.includes(k)}};f.exports=i}),null);
__d("MessengerStateProcessor",["MercuryAPIArgsSource","MercuryIDs","MercuryParticipantTypes","MercuryParticipants","MercuryThreadIDMap","MercuryThreads","mercuryVanityIDMapRe","MessengerURIConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={preprocess:function j(k){__p&&__p();var l=k.activeThreadID;if(l){var m=c("MercuryIDs").getUserIDFromThreadID(l),n=m&&c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(m));if(n&&n.type!==c("MercuryParticipantTypes").EVENT)k.threadKey=n.vanity||m;else if(m&&!n){var o=c("MercuryIDs").getParticipantIDFromUserID(m);k.threadKey=c("mercuryVanityIDMapRe").hasID(o)?c("mercuryVanityIDMapRe").getVanity(o):m}else{var p=c("MercuryThreadIDMap").get(),q=p.getServerIDFromClientIDNow(l);k.threadKey=q||c("MercuryIDs").tokenize(l).value}}delete k.activeThreadID;return k},postprocess:function j(k){__p&&__p();var l=c("MercuryThreadIDMap").get(),m=c("MercuryThreads").get(),n=i(k.threadKey),o=void 0;o=c("MercuryIDs").isValid(n)?n:l.getClientIDFromServerIDNow(n);if(!o){var p=c("MercuryParticipants").getIDFromVanityOrFBID(n),q=p&&m.getCanonicalThreadToParticipant(p,null,c("MercuryAPIArgsSource").MESSENGER);if(q)o=q.thread_id}if(o){k.activeThreadID=o;k.serverThreadID=l.getServerIDFromClientIDNow(o)}delete k.threadKey;return k},supportInboxPostprocess:function j(k){if(k.threadKey)k.activeThreadID=c("MercuryIDs").getThreadIDFromSupportInboxItemID(k.threadKey);delete k.threadKey;return k}};function i(j){if(!j)return null;return j.startsWith(c("MessengerURIConstants").GROUP_PREFIX)?j.substr(c("MessengerURIConstants").GROUP_PREFIX.length):j}f.exports=h}),null);
__d("MessengerURISerializer",["CurrentEnvironment","MercuryFilters","MessagingTag","MessengerStateProcessor","MessengerURIConstants","MessengerView","URI","WWWBase","MercuryIDs"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="/?$",i=function i(m,n){m.setPath(c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX+n:n)},j=function j(m,n){var o=m.getPath();if(c("CurrentEnvironment").facebookdotcom&&!o.startsWith(c("MessengerURIConstants").FACEBOOK_PREFIX))n=c("MessengerURIConstants").FACEBOOK_PREFIX+n;m.setPath(m.getPath()+n)},k={serialize:function m(n){__p&&__p();var o=new(c("URI"))(c("WWWBase").uri);n=c("MessengerStateProcessor").preprocess(n);switch(n.masterView){case c("MessengerView").MASTER.GROUPS:i(o,c("MessengerURIConstants").GROUPS_PATH);break;case c("MessengerView").MASTER.PAYMENT:i(o,c("MessengerURIConstants").PAYMENT_PATH);break;case c("MessengerView").MASTER.PEOPLE:i(o,c("MessengerURIConstants").PEOPLE_PATH);break;case c("MessengerView").MASTER.SUPPORT:i(o,c("MessengerURIConstants").SUPPORT_PATH);break}switch(n.folder){case c("MessagingTag").OTHER:i(o,c("MessengerURIConstants").FILTERED_REQUESTS_PATH);break;case c("MessagingTag").ACTION_ARCHIVED:i(o,c("MessengerURIConstants").ARCHIVED_PATH);break;case c("MessagingTag").PENDING:i(o,c("MessengerURIConstants").MESSAGE_REQUESTS_PATH);break}if(n.detailView===c("MessengerView").DETAIL.PAYTHREAD){j(o,c("MessengerURIConstants").PAYMENT_PAY_PATH);if(n.threadKey)o.addQueryData("id",n.threadKey)}else if(n.detailView===c("MessengerView").DETAIL.PAYFRIENDPICKER)j(o,c("MessengerURIConstants").PAYMENT_PAY_PATH);else if(n.detailView===c("MessengerView").DETAIL.COMPOSE)j(o,c("MessengerURIConstants").COMPOSE_SUBPATH);else if(n.threadKey)if(n.masterView===c("MessengerView").MASTER.PAYMENT){i(o,c("MessengerURIConstants").THREAD_PREFIX+n.threadKey);delete n.extraQueryParams.id;delete n.extraQueryParams.a;delete n.extraQueryParams.m}else j(o,c("MessengerURIConstants").THREAD_PREFIX+n.threadKey);else if(n.masterView===c("MessengerView").MASTER.PAYMENT){i(o,"");delete n.extraQueryParams.id;delete n.extraQueryParams.a;delete n.extraQueryParams.m}else j(o,"");if(n.extraQueryParams)o.addQueryData(n.extraQueryParams);if(c("MercuryFilters").isSupportedFilter(n.filter))o.addQueryData({filter:n.filter});if(n.query!=null){var p;o.addQueryData((p={},p[n.masterView===c("MessengerView").MASTER.SEARCH?"qa":"q"]=n.query,p))}if(n.threadIDs)o.addQueryData({threadIDs:JSON.stringify(n.threadIDs)});if(n.mid)o.addQueryData({mid:n.mid});return o},deserialize:function m(n){__p&&__p();var o={},p=n.getPath();if(c("CurrentEnvironment").facebookdotcom&&!p.startsWith(c("MessengerURIConstants").FACEBOOK_PREFIX))o.notMessenger=true;var q=p.replace(c("MessengerURIConstants").FACEBOOK_PREFIX,""),r=void 0,s=n.getQueryData(),t=s.filter,u=s.mid,v=s.q,w=s.qa,x=s.threadIDs,y=babelHelpers.objectWithoutProperties(s,["filter","mid","q","qa","threadIDs"]);try{r=JSON.parse(x)}catch(z){o.threadIDs=null}if(r)o.threadIDs=r.filter(function(B){return c("MercuryIDs").isValidThreadID(B)});if(q.match("^"+c("MessengerURIConstants").GROUPS_PATH))o.masterView=c("MessengerView").MASTER.GROUPS;else if(q.match("^"+c("MessengerURIConstants").PEOPLE_PATH))o.masterView=c("MessengerView").MASTER.PEOPLE;else if(q.match("^"+c("MessengerURIConstants").SUPPORT_PATH))o.masterView=c("MessengerView").MASTER.SUPPORT;else if(q.match("^"+c("MessengerURIConstants").PAYMENT_PATH))o.masterView=c("MessengerView").MASTER.PAYMENT;else if(w)o.masterView=c("MessengerView").MASTER.SEARCH;else o.masterView=c("MessengerView").MASTER.RECENT;if(q.match("^"+c("MessengerURIConstants").FILTERED_REQUESTS_PATH))o.folder=c("MessagingTag").OTHER;else if(q.match("^"+c("MessengerURIConstants").ARCHIVED_PATH))o.folder=c("MessagingTag").ACTION_ARCHIVED;else if(q.match("^"+c("MessengerURIConstants").MESSAGE_REQUESTS_PATH))o.folder=c("MessagingTag").PENDING;else o.folder=c("MessagingTag").INBOX;if(q.match(c("MessengerURIConstants").COMPOSE_SUBPATH+h))o.detailView=c("MessengerView").DETAIL.COMPOSE;else if(q.match("^"+c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH))if(y&&y.id){o.threadKey=y.id;o.detailView=c("MessengerView").DETAIL.PAYTHREAD}else o.detailView=c("MessengerView").DETAIL.PAYFRIENDPICKER;else{var A=l(q);if(A){o.threadKey=A;o.detailView=c("MessengerView").DETAIL.THREAD}}if(c("MercuryFilters").isSupportedFilter(t))o.filter=t;else o.filter=c("MercuryFilters").ALL;o.mid=u;o.query=w||v;o.extraQueryParams=y;if(o.masterView===c("MessengerView").MASTER.SUPPORT)return c("MessengerStateProcessor").supportInboxPostprocess(o);return c("MessengerStateProcessor").postprocess(o)}};function l(m){var n=m.match(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)"+h);return n&&decodeURIComponent(n[1])}f.exports=k}),null);
__d("MessengerActions",["invariant","Bootloader","EventProfiler","MercuryIDs","MessengerDispatcher","MessengerURISerializer","MercuryTypeaheadConstants","MessengerView","URI","goURI","keyMirror"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("keyMirror")({CANCEL_FILE_UPLOAD:null,EMPTY_FILES:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,REMOVE_SHARE_PREVIEW:null,PREPARE_FILES_FOR_SEND:null,REPLACE_STATE:null,SELECT_THREAD:null,UPDATE_MDOT_ME:null,UPDATE_THREAD_TAG:null,UPLOAD_FILE_FAILED:null,UPLOADED_FILE:null}),j={Types:i,changeDetailView:function m(n){l(function(o){if(o.detailView!==n)return{detailView:n};return null})},changeMasterView:function m(n){__p&&__p();l(function(o){__p&&__p();if(o.masterView!==n){var p={masterView:n};if(o.masterView===c("MessengerView").MASTER.SEARCH){p.query=undefined;c("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(q,r){q&&q.endFunnel(r.FUNNEL_LOGGER_TAGS.END_WITH_BACK_BUTTON)},"MessengerActions")}return p}return null})},selectAggregation:function m(n){l(function(o){return{detailView:c("MessengerView").MASTER.RECENT,threadIDs:n,mid:null}})},selectThread:function m(n,o){__p&&__p();if(o===c("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE){!!n||h(0);var p=c("MercuryIDs").getUserIDFromThreadID(n);!!p||h(0);var q=new(c("URI"))(),r=q.getQualifiedURI().getSubdomain();q.setDomain("facebook.com").setSubdomain(r).setPath("/"+p).setProtocol("https");window.open(q,"_blank");return}c("EventProfiler").tagCurrentActiveInteractionsAs("MessengerThreadSwitch");c("MessengerDispatcher").dispatch({type:i.SELECT_THREAD,threadID:n});l(function(s){if(s.activeThreadID!==n)return{activeThreadID:n,detailView:c("MessengerView").DETAIL.THREAD,mid:null};return null})},changeState:function m(n){c("MessengerDispatcher").dispatch({type:i.REPLACE_STATE,nextState:n})},changeMDotMeReferral:function m(){var n=arguments.length<=0||arguments[0]===undefined?null:arguments[0],o=arguments.length<=1||arguments[1]===undefined?null:arguments[1];c("MessengerDispatcher").dispatch({type:j.Types.UPDATE_MDOT_ME,refCode:n,refThreadID:o})},changeThreadTag:function m(){var n=arguments.length<=0||arguments[0]===undefined?null:arguments[0],o=arguments.length<=1||arguments[1]===undefined?null:arguments[1];c("MessengerDispatcher").dispatch({type:j.Types.UPDATE_THREAD_TAG,messagingTags:n,threadID:o})},changeFolder:function m(n){l(function(o){if(o.folder!==n)return{folder:n};return null})},changeFilter:function m(n){l(function(o){if(o.filter!==n)return{filter:n};return null})},changeQuery:function m(n){l(function(o){if(o.query!==n)return{query:n};return null})},changeQueryAll:function m(n){l(function(o){if(o.queryAll!==n)return{query:n,masterView:c("MessengerView").MASTER.SEARCH};return null})},changeMid:function m(n){l(function(o){if(o.mid!==n)return{mid:n};return null})},changeID:function m(n){l(function(o){if(o.extraQueryParams.id!==n)return{extraQueryParams:babelHelpers["extends"]({},o.extraQueryParams,{id:n})};return null})},prepareFilesForSend:function m(n,o){if(!n)return;c("MessengerDispatcher").dispatch({type:j.Types.PREPARE_FILES_FOR_SEND,threadID:n,files:o})},uploadedFile:function m(n,o,p){if(!n)return;c("MessengerDispatcher").dispatch({type:j.Types.UPLOADED_FILE,threadID:n,uploadID:o,payload:p})},cancelFileUpload:function m(n,o){if(!n)return;c("MessengerDispatcher").dispatch({type:j.Types.CANCEL_FILE_UPLOAD,threadID:n,uploadID:o})},uploadFileFailed:function m(n,o){if(!n)return;c("MessengerDispatcher").dispatch({type:j.Types.UPLOAD_FILE_FAILED,threadID:n,uploadID:o})},cleanFiles:function m(n){if(!n)return;c("MessengerDispatcher").dispatch({type:j.Types.EMPTY_FILES,threadID:n})},loadingPreview:function m(n,o){c("MessengerDispatcher").dispatch({type:j.Types.LINK_PREVIEW,threadID:n,match:o})},loadingShareData:function m(n){c("MessengerDispatcher").dispatch({type:j.Types.LOADING_SHARE_DATA,threadID:n})},loadedShareData:function m(n,o){c("MessengerDispatcher").dispatch({type:j.Types.LOADED_SHARE_DATA,threadID:n,attachmentData:o})},removeSharePreview:function m(n){c("MessengerDispatcher").dispatch({type:j.Types.REMOVE_SHARE_PREVIEW,threadID:n})}};function k(m,n){return m.detailView==null}function l(m){var n=c("MessengerURISerializer").deserialize(new(c("URI"))(window.location.href)),o=m(n),p=k(n,o);if(o)c("goURI")(c("MessengerURISerializer").serialize(Object.assign(n,o)),false,p)}f.exports=j}),null);
__d("XGroupsJoinChatController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/groups/join_chat/",{link_hash:{type:"String"}})}),null);
__d("XMercuryThreadLikeIconController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/mercury/like_icon/",{emoji:{type:"String",defaultValue:""}})}),null);
__d("XMessagingBlockMessagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/block_messages/",{})}),null);
__d("XMessagingGroupJoinThroughHashController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/join_through_hash/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinThroughPrivateLinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/join_through_invite/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinableAcceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/joinable_accept/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupJoinableInviteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/joinable_invite/",{thread_fbid:{type:"String"},user_ids:{type:"IntSet"}})}),null);
__d("XMessagingGroupJoinableRejectController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/joinable_reject/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupSetApprovalController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/set_approval_mode/",{set_mode:{type:"Enum",enumType:0},thread_fbid:{type:"String"}})}),null);
__d("XMessagingSaveAdminsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/save_admins/",{elem_id:{type:"String"},parent_elem_id:{type:"String"},thread_fbid:{type:"String"},admin_ids:{type:"FBIDSet"},add:{type:"Bool",defaultValue:false}})}),null);
__d("XMessagingSaveNicknameController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/save_thread_nickname/",{source:{type:"Enum",required:true,enumType:1}})}),null);
__d("XMessagingSaveThreadColorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/save_thread_color/",{source:{type:"Enum",required:true,enumType:1}})}),null);
__d("XMessagingSaveThreadEmojiController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/save_thread_emoji/",{source:{type:"Enum",required:true,enumType:1}})}),null);
__d("XMessagingUnblockMessagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/unblock_messages/",{})}),null);
__d("XNFXIgnoreMessagesActionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/nfx/ignore_messages/",{thread_fbid:{type:"Int",required:true},location:{type:"Enum",required:true,enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("XNFXMessengerBlockActionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/nfx/block_messages/",{thread_fbid:{type:"Int",required:true},av:{type:"Int"},location:{type:"Enum",required:true,enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("MercuryThreadActions",["cssVar","AsyncDialog","AsyncRequest","EmojiLikeConstants","IgnoreMessagesTypedLogger","MercuryActionType","MercuryAPIArgsSource","MercuryConfig","MercuryDispatcher","MercuryIDs","MercuryLogMessageType","MercuryMessengerBlockingUtils","MercuryPayloadSource","MercuryParticipants","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonMixin","MercurySourceType","MercuryThreadIDMap","MercuryThreads","MercuryViewer","MercuryMessageActions","MessengerActions","MercuryMessageObject","MessagingTag","PageCommItemStatus","ReloadPage","URI","XGroupsJoinChatController","XMercuryThreadLikeIconController","XMessagingGroupJoinableAcceptController","XMessagingGroupJoinableInviteController","XMessagingGroupJoinableRejectController","XMessagingGroupJoinThroughHashController","XMessagingGroupJoinThroughPrivateLinkController","XMessagingGroupSetApprovalController","XMessagingSaveAdminsController","XMessagingSaveNicknameController","XMessagingSaveThreadColorController","XMessagingSaveThreadEmojiController","XNFXMessengerBlockActionController","XMessagingBlockMessagesController","XMessagingUnblockMessagesController","XNFXIgnoreMessagesActionController","ex"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("MercuryThreadIDMap").get(),j=c("MercuryThreads").get(),k=c("MercuryMessageActions").get(),l=c("MercuryMessageObject").get();function m(n){this.$MercuryThreadActions1=n;this.__serverRequests=c("MercuryServerRequests").getForFBID(this.$MercuryThreadActions1);this.__dispatcher=c("MercuryDispatcher").getForFBID(this.$MercuryThreadActions1);this.__payloadPreprocessor=c("MercuryServerPayloadPreprocessor").getForFBID(this.$MercuryThreadActions1)}m.prototype.markRead=function(n,o){this.batchMarkRead([n],o)};m.prototype.batchMarkRead=function(n,o){this.__dispatcher.handleUpdate(this.$MercuryThreadActions2(n,true,o))};m.prototype.markUnread=function(n,o){this.batchMarkUnread([n],o)};m.prototype.batchMarkUnread=function(n,o){this.__dispatcher.handleUpdate(this.$MercuryThreadActions2(n,false,o))};m.prototype.markSeen=function(n,o){this.__dispatcher.handleUpdate(this.__constructClientPayload([n],c("MercuryActionType").MARK_THREAD_SEEN,c("MercuryPayloadSource").CLIENT_MARK_THREAD_SEEN,{persistent:o}))};m.prototype.archive=function(n,o){this.batchArchive([n],o)};m.prototype.batchArchive=function(n,o){n.forEach(function(p){this.__serverRequests.changeThreadArchivedStatus(p,true,o)}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions3(n,true))};m.prototype.unarchive=function(n,o){this.batchUnarchive([n],o)};m.prototype.batchUnarchive=function(n,o){n.forEach(function(p){this.__serverRequests.changeThreadArchivedStatus(p,false,o)}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions3(n,false))};m.prototype.markPageFollowUp=function(n,o){this.batchMarkPageFollowUp([n],o)};m.prototype.batchMarkPageFollowUp=function(n,o){n.forEach(function(p){this.__serverRequests.changeThreadPageFollowUpStatus(p,true,o)}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions4(n,true))};m.prototype.unmarkPageFollowUp=function(n,o){this.batchUnmarkPageFollowUp([n],o)};m.prototype.batchUnmarkPageFollowUp=function(n,o){n.forEach(function(p){this.__serverRequests.changeThreadPageFollowUpStatus(p,false,o)}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions4(n,false))};m.prototype.markSpam=function(n,o){this.batchMarkSpam([n],o)};m.prototype.batchMarkSpam=function(n,o){n.forEach(function(p){this.__serverRequests.markThreadSpam(p,o)}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions5(n,c("MessagingTag").SPAM))};m.prototype.unmarkSpam=function(n,o){this.batchUnmarkSpam([n],o)};m.prototype.batchUnmarkSpam=function(n,o){n.forEach(function(p){this.__serverRequests.unmarkThreadSpam(p,o)}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions5(n,c("MessagingTag").INBOX))};m.prototype.changeFolder=function(n,o){this.batchChangeFolder([n],o)};m.prototype.batchChangeFolder=function(n,o){n.forEach(function(p){this.__serverRequests.changeThreadFolder(p,o)}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions5(n,o))};m.prototype["delete"]=function(n,o){this.batchDelete([n],o)};m.prototype.batchDelete=function(n,o){n.forEach(function(p){this.__serverRequests.deleteThread(p,o)}.bind(this));this.__dispatcher.handleUpdate(this.__constructClientPayload(n,c("MercuryActionType").DELETE_THREAD,c("MercuryPayloadSource").CLIENT_DELETE_THREAD))};m.prototype.unmute=function(n){this.updateMuteSetting(n,0)};m.prototype.updateMuteSetting=function(n,o){this.__serverRequests.changeMutingOnThread(n,o);this.__dispatcher.handleUpdate(this.__constructClientPayload([n],c("MercuryActionType").CHANGE_MUTE_SETTINGS,c("MercuryPayloadSource").CLIENT_CHANGE_MUTE_SETTINGS,{mute_until:o}))};m.prototype.updateMentionsMuteSetting=function(n,o){var p=o?1:0;this.__serverRequests.changeMentionsMutingOnThread(n,p);this.__dispatcher.handleUpdate(this.__constructClientPayload([n],c("MercuryActionType").CHANGE_MUTE_SETTINGS,c("MercuryPayloadSource").CLIENT_CHANGE_MUTE_SETTINGS,{mentions_mute_mode:p}))};m.prototype.updateReactionsMuteSetting=function(n,o){var p=o?1:0;this.__serverRequests.changeReactionsMutingOnThread(n,p);this.__dispatcher.handleUpdate(this.__constructClientPayload([n],c("MercuryActionType").CHANGE_MUTE_SETTINGS,c("MercuryPayloadSource").CLIENT_CHANGE_MUTE_SETTINGS,{reactions_mute_mode:p}))};m.prototype.blockMessages=function(n,o){__p&&__p();var p="";if(c("MercuryConfig").WMBF)j.getThreadMeta(n,function(r){var s=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(r.other_user_fbid));p=s&&s.short_name});var q=c("XNFXMessengerBlockActionController").getURIBuilder().setInt("thread_fbid",c("MercuryIDs").getUserIDFromThreadID(n)).setEnum("location","www_chat_head").getURI();c("AsyncDialog").send(new(c("AsyncRequest"))(q),function(r){r.subscribe("confirm",function(){r.hide();o&&o(p);if(c("MercuryConfig").WMBF)this.changeFolder(n,c("MessagingTag").OTHER)}.bind(this))}.bind(this))};m.prototype.unblockMessages=function(n){var o=c("MercuryIDs").getUserIDFromThreadID(n);if(o===null)throw new Error(c("ex")("Expected user ID to unblock messages for, got null"));var p=JSON.stringify({reportable_ent_token:o,initial_action_name:c("MercuryMessengerBlockingUtils").block_messages});new(c("AsyncRequest"))(new(c("URI"))("/ajax/nfx/messenger_undo_block").addQueryData({story_location:"messenger",context:p})).send();if(c("MercuryConfig").WMBF)this.changeFolder(n,c("MessagingTag").INBOX)};m.prototype.ignoreMessages=function(n,o){var p=c("XNFXIgnoreMessagesActionController").getURIBuilder().setInt("thread_fbid",n).setEnum("location","www_chat_head").getURI();c("AsyncDialog").send(new(c("AsyncRequest"))(p))};m.prototype.blockOnMessengerDotCom=function(n){var o=c("XMessagingBlockMessagesController").getURIBuilder().getURI();new(c("IgnoreMessagesTypedLogger"))().setEvent("block_confirmed").setThreadID(c("MercuryIDs").getThreadFBIDFromThreadID(n)).setPlatform("messengerdotcom").log();new(c("AsyncRequest"))(o).setMethod("POST").setData({fbid:c("MercuryIDs").getUserIDFromThreadID(n)}).send()};m.prototype.blockIgnoreOnMessengerDotCom=function(n,o,p){n&&c("MessengerActions").selectThread(null);this.changeFolder(o,c("MessagingTag").OTHER);this.blockOnMessengerDotCom(o);p&&p()};m.prototype.unblockOnMessengerDotCom=function(n){var o=c("XMessagingUnblockMessagesController").getURIBuilder().getURI();new(c("AsyncRequest"))(o).setMethod("POST").setData({fbid:c("MercuryIDs").getUserIDFromThreadID(n)}).send();if(c("MercuryConfig").WMBF)this.changeFolder(n,c("MessagingTag").INBOX)};m.prototype.leaveGroup=function(n){if(!j.isEmptyLocalThread(n))k.send(l.constructLogMessageObject(c("MercurySourceType").TITAN_WEB,n,c("MercuryLogMessageType").UNSUBSCRIBE,{removed_participants:[c("MercuryViewer").getID()]}),null,c("MercuryAPIArgsSource").WEBMESSENGER)};m.prototype.changeThreadColor=function(n,o,p){if(j.isEmptyLocalThread(n))return;i.getServerIDFromClientID(n,function(q){var r={};if(o!="#0084ff")r.color_choice=o;r.thread_or_other_fbid=q;var s=c("XMessagingSaveThreadColorController").getURIBuilder().setEnum("source",p).getURI();new(c("AsyncRequest"))(s).setMethod("POST").setData(r).send()})};m.prototype.changeThreadEmoji=function(n,o,p){if(j.isEmptyLocalThread(n))return;i.getServerIDFromClientID(n,function(q){var r={},s=String.fromCodePoint.apply(String,o);if(s!==String.fromCodePoint(c("EmojiLikeConstants").FB_THUMBS_UP_EMOJI)&&s!==String.fromCodePoint(c("EmojiLikeConstants").THUMBS_UP_EMOJI_CODES))r.emoji_choice=s;r.thread_or_other_fbid=q;var t=c("XMessagingSaveThreadEmojiController").getURIBuilder().setEnum("source",p).getURI();new(c("AsyncRequest"))(t).setMethod("POST").setData(r).send()})};m.prototype.changeThreadNicknames=function(n,o,p,q){if(j.isEmptyLocalThread(n))return;i.getServerIDFromClientID(n,function(r){var s={thread_or_other_fbid:r,participant_id:o,nickname:p},t=c("XMessagingSaveNicknameController").getURIBuilder().setEnum("source",q).getURI();new(c("AsyncRequest"))(t).setMethod("POST").setData(s).send()})};m.prototype.setApprovalMode=function(n,o){var p=c("XMessagingGroupSetApprovalController").getURIBuilder().getURI();new(c("AsyncRequest"))(p).setMethod("POST").setData({set_mode:n,thread_fbid:o.thread_fbid}).send()};m.prototype.changeGroupAdmins=function(n,o,p){var q={thread_fbid:n,admin_ids:o,add:p},r=c("XMessagingSaveAdminsController").getURIBuilder().getURI();new(c("AsyncRequest"))(r).setMethod("POST").setData(q).send()};m.prototype.joinThroughHash=function(n){var o={link_hash:n},p=c("XMessagingGroupJoinThroughHashController").getURIBuilder().getURI();new(c("AsyncRequest"))(p).setMethod("POST").setData(o).send()};m.prototype.joinThroughPrivateLink=function(n){var o={link_hash:n},p=c("XMessagingGroupJoinThroughPrivateLinkController").getURIBuilder().getURI();new(c("AsyncRequest"))(p).setMethod("POST").setData(o).send()};m.prototype.chatJoinThroughHash=function(n){var o={link_hash:n},p=c("XGroupsJoinChatController").getURIBuilder().getURI();new(c("AsyncRequest"))(p).setMethod("POST").setData(o).setHandler(function(q){return c("ReloadPage").now()}).send()};m.prototype.inviteToJoinableGroup=function(n,o){var p={thread_fbid:n,user_ids:o},q=c("XMessagingGroupJoinableInviteController").getURIBuilder().getURI();new(c("AsyncRequest"))(q).setMethod("POST").setData(p).send()};m.prototype.acceptToJoinableGroup=function(n,o){var p={thread_fbid:n,user_id:o},q=c("XMessagingGroupJoinableAcceptController").getURIBuilder().getURI();new(c("AsyncRequest"))(q).setMethod("POST").setData(p).send()};m.prototype.rejectToJoinableGroup=function(n,o){var p={thread_fbid:n,user_id:o},q=c("XMessagingGroupJoinableRejectController").getURIBuilder().getURI();new(c("AsyncRequest"))(q).setMethod("POST").setData(p).send()};m.prototype.addParticipants=function(n,o){this.__dispatcher.handleUpdate(this.__constructClientPayload([n],c("MercuryActionType").ADD_PARTICIPANTS,c("MercuryPayloadSource").CLIENT_ADD_PARTICIPANTS,{participants:o}))};m.prototype.updateCustomLike=function(n,o){var p=c("XMercuryThreadLikeIconController").getURIBuilder().setString("emoji",o).getURI();new(c("AsyncRequest"))().setURI(p).setHandler(function(q){this.__dispatcher.handleUpdate(this.__constructClientPayload([n],c("MercuryActionType").UPDATE_CUSTOM_LIKE,c("MercuryPayloadSource").CLIENT_CHANGE_CUSTOM_LIKE,{custom_like:q.getPayload()}))}.bind(this)).send()};m.prototype.movePendingToInbox=function(n){this.__dispatcher.handleUpdate(this.__constructClientPayload([n],c("MercuryActionType").MOVE_PENDING_TO_INBOX,c("MercuryPayloadSource").CLIENT_MOVE_PENDING_TO_INBOX))};m.prototype.updateSnippet=function(n,o){this.__dispatcher.handleUpdate(this.__constructClientPayload([n],c("MercuryActionType").UPDATE_SNIPPET,c("MercuryPayloadSource").CLIENT_UPDATE_SNIPPET,{deleted_ids:o}))};m.prototype.updateCommStatus=function(n,o){this.__dispatcher.handleUpdate(this.$MercuryThreadActions6(n,o));var p=o===c("PageCommItemStatus").DONE;this.__dispatcher.handleUpdate(this.$MercuryThreadActions3(n,p))};m.prototype.updateCommItemOwner=function(n,o,p,q){this.__dispatcher.handleUpdate(this.$MercuryThreadActions7(n,o,p,q))};m.prototype.$MercuryThreadActions2=function(n,o,p){return this.__constructClientPayload(n,c("MercuryActionType").CHANGE_READ_STATUS,c("MercuryPayloadSource").CLIENT_CHANGE_READ_STATUS,{mark_as_read:o,source:p})};m.prototype.$MercuryThreadActions7=function(n,o,p,q){return this.__constructClientPayload(n,c("MercuryActionType").UPDATE_COMM_ITEM_OWNER,c("MercuryPayloadSource").UPDATE_COMM_ITEM_OWNER,{id:p,name:o,profile_pic_uri:q})};m.prototype.$MercuryThreadActions3=function(n,o){return this.__constructClientPayload(n,c("MercuryActionType").CHANGE_ARCHIVED_STATUS,c("MercuryPayloadSource").CLIENT_CHANGE_ARCHIVED_STATUS,{archived:o})};m.prototype.$MercuryThreadActions4=function(n,o){return this.__constructClientPayload(n,c("MercuryActionType").CHANGE_PAGE_FOLLOW_UP_STATUS,c("MercuryPayloadSource").CLIENT_CHANGE_PAGE_FOLLOW_UP_STATUS,{is_page_follow_up:o})};m.prototype.$MercuryThreadActions6=function(n,o){return this.__constructClientPayload(n,c("MercuryActionType").UPDATE_COMM_STATUS,c("MercuryPayloadSource").CLIENT_UPDATE_COMM_STATUS,{comm_status:o})};m.prototype.$MercuryThreadActions5=function(n,o){return this.__constructClientPayload(n,c("MercuryActionType").CHANGE_FOLDER,c("MercuryPayloadSource").CLIENT_CHANGE_FOLDER,{new_folder:o})};m.prototype.__constructClientPayload=function(n,o,p,q){return{actions:n.map(function(r){return babelHelpers["extends"]({action_type:o,thread_id:r},q)}),from_client:true,payload_source:p}};Object.assign(m,c("MercurySingletonMixin"));f.exports=m}),null);
__d("MessagesViewerSetID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"})}),null);
__d("PhotoStoreCore",[],(function a(b,c,d,e,f,g){__p&&__p();var h={actions:{UPDATE:"update"},_photoCache:{},_postCreateCallbacks:{},getPhotoCache:function i(j){if(!this._photoCache[j])throw new Error("Photo cache requested for unknown set ID");return this._photoCache[j]},hasBeenCreated:function i(j){return!!this._photoCache[j]},clearSetCache:function i(j){delete this._photoCache[j];delete this._postCreateCallbacks[j]},getByIndex:function i(j,k,l){this.getPhotoCache(j).getItemAtIndex(k,l)},getByIndexImmediate:function i(j,k){if(this._photoCache[j])return this._photoCache[j].getItemAtIndexImmediate(k);return undefined},getItemsInAvailableRange:function i(j){var k=this.getAvailableRange(j),l=[];for(var m=k.offset;m<k.length;m++)l.push(this.getByIndexImmediate(j,m));return l},getItemsAfterIndex:function i(j,k,l,m){var n=this.getCursorByIndexImmediate(j,k);this.fetchForward(j,n,l,m)},getAllByIDImmediate:function i(j){var k=Object.keys(this._photoCache);return k.map(function(l){return this.getByIndexImmediate(l,this.getIndexForID(l,j))}.bind(this)).filter(function(l){return!!l})},getIndexForID:function i(j,k){if(this._photoCache[j])return this._photoCache[j].getIndexForID(k);return undefined},getEndIndex:function i(j){var k=this.getAvailableRange(j);return k.offset+k.length-1},getCursorByIndexImmediate:function i(j,k){var l=this.getByIndexImmediate(j,k);if(l)return this._photoCache[j].getCursorForID(l.id);return undefined},hasNextPage:function i(j){var k=this.getCursorByIndexImmediate(j,this.getEndIndex(j));return this.getPhotoCache(j).hasNextPage(k)},getAvailableRange:function i(j){return this.getPhotoCache(j).getAvailableRange()},hasLooped:function i(j){return this.getPhotoCache(j).hasLooped()},fetchForward:function i(j,k,l,m){this.getPhotoCache(j).getItemsAfterCursor(k,l,m)},fetchBackward:function i(j,k,l,m){this.getPhotoCache(j).getItemsBeforeCursor(k,l,m)},executePostCreate:function i(j,k){if(this._photoCache[j])k&&k();else this._postCreateCallbacks[j]=k},runPostCreateCallback:function i(j){var k=this._postCreateCallbacks[j];if(k){k();delete this._postCreateCallbacks[j]}},setPreFetchCallback:function i(j,k){this.getPhotoCache(j).setPreFetchCallback(k)},updateData:function i(j){var k=j.set_id;if(!this._photoCache[k]){this._photoCache[k]=new j.cache_class(j);this.runPostCreateCallback(k)}else if(j.query_metadata.action==h.actions.UPDATE)this._photoCache[k].updateData(j);else this._photoCache[k].addData(j)},updateFeedbackData:function i(j){var k=Object.keys(j);k.forEach(function(l){return h.getAllByIDImmediate(l).forEach(function(m){m.feedback=j[l].feedback})})},reset:function i(){Object.keys(this._photoCache).forEach(function(j){return this.clearSetCache(j)}.bind(this))}};f.exports=h}),null);
__d("PhotoStore",["Arbiter","PhotoStoreCore"],(function a(b,c,d,e,f,g){c("Arbiter").subscribe("update-photos",function(h,i){c("PhotoStoreCore").updateData(i)});f.exports=c("PhotoStoreCore")}),null);
__d("MessagesViewer",["AsyncRequest","DOM","MessagesViewerSetID","PhotoStore","React","ReactDOM","emptyFunction","ge"],(function a(b,c,d,e,f,g){__p&&__p();var h={renderSpotlight:function j(k,l,m,n){__p&&__p();var o=k.setID;if(!o)o=c("MessagesViewerSetID").MESSAGES;i(c("React").createElement(m,{actorid:k.actorid,dimensions:[k.dimensions],disablepaging:k.disablePaging,disableForward:k.disableForward,forwardDialogComponent:n,open:true,photoid:k.fbid,reverse:false,rootClassName:k.rootClassName,setid:o,snapToPhoto:k.snapToPhoto,thumbsrc:k.src}));if(!c("PhotoStore").hasBeenCreated(o)&&k.endpoint){var p=new(c("AsyncRequest"))(k.endpoint);if(l)p.setRelativeTo(l);p.send()}},renderVideo:function j(k){i(k)}};function i(j){var k=c("ge")("messages_viewer");if(!k){k=c("DOM").create("div",{id:"messages_viewer"});document.body.appendChild(k)}c("ReactDOM").render(j,k,function(){this.subscribeOnce("close",function(){c("ReactDOM").unmountComponentAtNode(k)})})}f.exports=h}),null);
__d("MercuryAttachmentViewer",["Bootloader","MessagesViewer","React","Run","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";var h={renderVideo:function i(j){c("Bootloader").loadModules(["MessagingVideoViewer.react","MessagingForwardAttachmentDialog.react"],function(k,l){c("MessagesViewer").renderVideo(c("React").createElement(k,babelHelpers["extends"]({},j,{forwardDialogComponent:l})))},"MercuryAttachmentViewer")},bootstrapWithConfig:function i(j,k){c("Bootloader").loadModules(["SpotlightMessagesViewer","MessagingForwardAttachmentDialog.react"],function(l,m){c("MessagesViewer").renderSpotlight(j,k,l,m)},"MercuryAttachmentViewer")},preload:function i(){c("Run").onAfterLoad(function(){c("Bootloader").loadModules(["MessagingVideoViewer.react","SpotlightMessagesViewer","MessagingForwardAttachmentDialog.react"],c("emptyFunction"),"MercuryAttachmentViewer")})}};f.exports=h}),null);
__d("FantaConst",[],(function a(b,c,d,e,f,g){"use strict";var h={DEFAULT_ALLOWED_RAISED_TABS:2,DEFAULT_MESSAGE_COUNT:10,cookieIDs:{PERSONAL_COOKIE_ID:"t3",PERSONAL_FOCUS_COOKIE_ID:"lm3",PERSONAL_TIME_COOKIE_ID:"utc3",WORK_COOKIE_ID:"t3w",WORK_FOCUS_COOKIE_ID:"lm3w",WORK_TIME_COOKIE_ID:"utc3w"},getCookieIDs:function i(){return[h.cookieIDs.PERSONAL_COOKIE_ID,h.cookieIDs.PERSONAL_FOCUS_COOKIE_ID,h.cookieIDs.PERSONAL_TIME_COOKIE_ID,h.cookieIDs.WORK_COOKIE_ID,h.cookieIDs.WORK_FOCUS_COOKIE_ID,h.cookieIDs.WORK_TIME_COOKIE_ID]}};f.exports=h}),null);
__d("Dcode",[],(function a(b,c,d,e,f,g){__p&&__p();var h,i={},j={_:"%",A:"%2",B:"000",C:"%7d",D:"%7b%22",E:"%2c%22",F:"%22%3a",G:"%2c%22ut%22%3a1",H:"%2c%22bls%22%3a",I:"%2c%22n%22%3a%22%",J:"%22%3a%7b%22i%22%3a0%7d",K:"%2c%22pt%22%3a0%2c%22vis%22%3a",L:"%2c%22ch%22%3a%7b%22h%22%3a%22",M:"%7b%22v%22%3a2%2c%22time%22%3a1",N:".channel%22%2c%22sub%22%3a%5b",O:"%2c%22sb%22%3a1%2c%22t%22%3a%5b",P:"%2c%22ud%22%3a100%2c%22lc%22%3a0",Q:"%5d%2c%22f%22%3anull%2c%22uct%22%3a",R:".channel%22%2c%22sub%22%3a%5b1%5d",S:"%22%2c%22m%22%3a0%7d%2c%7b%22i%22%3a",T:"%2c%22blc%22%3a1%2c%22snd%22%3a1%2c%22ct%22%3a",U:"%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",V:"%2c%22blc%22%3a0%2c%22snd%22%3a0%2c%22ct%22%3a",W:"%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a",X:"%2c%22ri%22%3a0%7d%2c%22state%22%3a%7b%22p%22%3a0%2c%22ut%22%3a1",Y:"%2c%22pt%22%3a0%2c%22vis%22%3a1%2c%22bls%22%3a0%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",Z:"%2c%22sb%22%3a1%2c%22t%22%3a%5b%5d%2c%22f%22%3anull%2c%22uct%22%3a0%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a"};(function(){var l=[];for(var m in j){i[j[m]]=m;l.push(j[m])}l.reverse();h=new RegExp(l.join("|"),"g")})();var k={encode:function l(m){return encodeURIComponent(m).replace(/([_A-Z])|%../g,function(n,o){return o?"%"+o.charCodeAt(0).toString(16):n}).toLowerCase().replace(h,function(n){return i[n]})},decode:function l(m){return decodeURIComponent(m.replace(/[_A-Z]/g,function(n){return j[n]}))}};f.exports=k}),null);
__d("PresenceCookieManager",["Cookie","CurrentUser","Dcode","ErrorUtils","JSLogger","PresenceInitialData","PresenceUtil","WebStorage","WorkModeConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("PresenceInitialData").cookieVersion,i="presence",j={},k=null,l=null,m=c("JSLogger").create("presence_cookie");function n(y){var z=c("Cookie").get(i)||"";if(z.length===0)return null;if(z[0]!==y)return null;return z.substring(1)}function o(y,z){c("Cookie").set(i,y+z)}function p(){if(!(c("PresenceInitialData").useWebStorage||false))return null;return c("WebStorage").getSessionStorage()}function q(){var y=p(),z=y!=null?y.getItem(i):null;if(z!=null)return z.substring(1);return null}function r(y){var z=p();if(z==null)return false;z.setItem(i,"E"+y);return true}function s(){var y=q();if(y!=null)return y;return n("E")}function t(y){var z=y.state;if(z==null)return"";var A=n("S")||"",B=c("WorkModeConfig").is_work_user?"w":"f",C=c("WorkModeConfig").is_work_user?z.t3w:z.t3,D=C!=null?C.length>0:false,E=A.indexOf(B)!==-1;if(E&&!D)A=A.replace(B,"");if(!E&&D)A+=B;return A}function u(y,z){var A=r(y);if(A)o("S",z);else{if(y.length>1024)m.warn("big_cookie",y.length);o("E",y)}}function v(){__p&&__p();try{var y=s();if(k!==y){k=y;l=null;if(y){y=c("Dcode").decode(y);l=JSON.parse(y)}}if(l){if(l.user&&l.user!==c("CurrentUser").getID())return null;if(l.v!==h)return null;return l}}catch(z){m.warn("getcookie_error",z)}return null}function w(){return parseInt(Date.now()/1e3,10)}var x={register:function y(z,A){j[z]=A},store:function y(){__p&&__p();var z=v();if(z&&z.v&&h<z.v){m.debug("stale_cookie",h);return}var A={v:h,time:w(),user:c("CurrentUser").getID()};for(var B in j)A[B]=c("ErrorUtils").applyWithGuard(j[B],j,[z&&z[B]],function(D){D.presence_subcookie=B});var C=c("Dcode").encode(JSON.stringify(A));if(c("PresenceUtil").hasUserCookie())u(C,t(A))},clear:function y(){c("Cookie").clear(i);var z=c("WebStorage").getSessionStorage();if(z!=null)z.removeItem(i)},getSubCookie:function y(z){var A=v();if(!A)return null;return A[z]}};f.exports=x}),null);
__d("PresenceState",["Arbiter","ErrorUtils","FantaConst","JSLogger","PresenceCookieManager","debounceAcrossTransitions","setIntervalAcrossTransitions","PresenceInitialData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("PresenceInitialData").cookiePollInterval||2e3,i=c("PresenceInitialData").shouldSuppress||false,j=[],k=[],l=null,m=null,n=0,o=null,p=0,q=["sb2","tr","tw","at","wml"].concat(c("FantaConst").getCookieIDs()),r=c("JSLogger").create("presence_state");function s(){return c("PresenceCookieManager").getSubCookie("state")}function t(){n=Date.now();c("PresenceCookieManager").store();x(m)}var u=c("debounceAcrossTransitions")(t,0);function v(C){if(C==undefined||isNaN(C)||C==Number.POSITIVE_INFINITY||C==Number.NEGATIVE_INFINITY)C=0;return C}function w(C){__p&&__p();var D={};if(C){q.forEach(function(G){if(C&&C[G])D[G]=C[G]});if(n<C.ut)r.error("new_cookie",{cookie_time:C.ut,local_time:n})}D.ut=n;for(var E=0,F=j.length;E<F;E++)c("ErrorUtils").applyWithGuard(j[E],null,[D]);m=D;return m}function x(C){__p&&__p();p++;n=v(C&&C.ut);if(!l)l=c("setIntervalAcrossTransitions")(A,h);m=C;if(o===null)o=C;for(var D=0,E=k.length;D<E;D++)c("ErrorUtils").applyWithGuard(k[D],null,[C]);p--}function y(C){if(C&&C.ut)if(n<C.ut)return true;else if(C.ut<n)r.error("old_cookie",{cookie_time:C.ut,local_time:n});return false}function z(){var C=s();if(y(C))m=C;return m}function A(){var C=s();if(y(C))x(C)}c("PresenceCookieManager").register("state",w);c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(C,D){D.presence_state={initial:babelHelpers["extends"]({},o),state:babelHelpers["extends"]({},m),update_time:n,sync_paused:p,poll_time:h}});(function(){var C=z();if(C)x(C);else{r.debug("no_cookie_initial");x(w());return}})();var B={doSync:function C(D){if(p)return;if(D)t();else u()},registerStateStorer:function C(D){j.push(D)},registerStateLoader:function C(D){k.push(D)},get:function C(){return z()},getInitial:function C(){return o},shouldSuppress:function C(){return i},verifyNumber:v};f.exports=B}),null);
__d("ChatActivity",["Arbiter","Event","JSLogger","MercuryConfig","PresenceState","UserActivity"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("MercuryConfig").activity_limit||6e4,i=c("MercuryConfig").idle_limit||18e5,j=c("MercuryConfig").idle_poll_interval||3e5,k=c("JSLogger").create("chat_activity"),l=Date.now(),m=true;function n(){var r=Date.now();return!!(m&&r-l<h)}var o=Object.assign(new(c("Arbiter"))(),{isActive:n});function p(){var r=l;l=Date.now();if(l-r>i){k.debug("idle_to_active",r);c("PresenceState").doSync()}o.inform("activity")}c("Event").listen(window,"focus",function(){m=true;p()});c("Event").listen(window,"blur",function(){m=false});c("UserActivity").subscribe(function(){p()});function q(r){var s=r&&r.at&&c("PresenceState").verifyNumber(r.at);if(typeof s!=="number")s=null;return s||0}setInterval(function(){var r=Date.now(),s=q(c("PresenceState").get()),t=Math.max(l,s);if(r-t>i){k.debug("idle",{cookie:s,local:l});o.inform("idle",r-t)}},j);c("PresenceState").registerStateStorer(function(r){var s=q(r);if(s<l)r.at=l;return r});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(r,s){s.chat_activity={activity_limit:h,idle_limit:i,idle_poll_interval:j,last_active_time:l}});f.exports=o}),null);
__d("DocumentTitle",["Arbiter"],(function a(b,c,d,e,f,g){__p&&__p();var h=document.title,i=null,j=1500,k=[],l=0,m=null,n=false;function o(){__p&&__p();if(k.length>0)if(!n){p(k[l].title);l=++l%k.length}else q();else{clearInterval(m);m=null;q()}}function p(s){document.title=s;n=true}function q(){r.set(i||h,true);n=false}var r={get:function s(){return h},set:function s(t,u){document.title=t;if(!u){h=t;i=null;c("Arbiter").inform("update_title",t)}else i=t},blink:function s(t){__p&&__p();var u={title:t};k.push(u);if(m===null)m=setInterval(o,j);return{stop:function v(){var w=k.indexOf(u);if(w>=0){k.splice(w,1);if(l>w)l--;else if(l==w&&l==k.length)l=0}}}}};f.exports=r}),null);
__d("MessengerFluxReduceDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=new j({strict:false})}),null);
__d("MessengerSharedMediaActions",["MessengerFluxReduceDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({CURRENT_LOADED:null,DELETE_PHOTOS:null,LATEST_LOADED:null,LOAD_CURRENT:null,LOAD_MORE_LATEST:null,LOAD_MORE_PREVIOUS:null,PREVIOUS_LOADED:null}),i="MessengerSharedMedia",j={Types:h,Namespace:i,currentLoaded:function k(l){c("MessengerFluxReduceDispatcher").dispatch({type:h.CURRENT_LOADED,namespace:i,data:l})},deletePhotos:function k(l,m){c("MessengerFluxReduceDispatcher").dispatch({type:h.DELETE_PHOTOS,namespace:i,threadFBID:l,photoFBIDs:m})},loadCurrent:function k(l,m){c("MessengerFluxReduceDispatcher").dispatch({type:h.LOAD_CURRENT,namespace:i,threadFBID:l,photoID:m})},loadMorePrevious:function k(l,m,n){c("MessengerFluxReduceDispatcher").dispatch({type:h.LOAD_MORE_PREVIOUS,namespace:i,threadFBID:l,afterCursor:m,first:n})},loadMoreLatest:function k(l,m,n){c("MessengerFluxReduceDispatcher").dispatch({type:h.LOAD_MORE_LATEST,namespace:i,threadFBID:l,beforeCursor:m,last:n})},previousLoaded:function k(l){c("MessengerFluxReduceDispatcher").dispatch({type:h.PREVIOUS_LOADED,namespace:i,data:l})},latestLoaded:function k(l){c("MessengerFluxReduceDispatcher").dispatch({type:h.LATEST_LOADED,namespace:i,data:l})}};f.exports=j}),null);
__d("arrayStableSort",[],(function a(b,c,d,e,f,g){function h(i,j){return i.map(function(k,l){return{data:k,index:l}}).sort(function(k,l){return j(k.data,l.data)||k.index-l.index}).map(function(k){return k.data})}f.exports=h}),null);
__d("RangedCallbackManager",["CallbackManagerController","arrayStableSort","createObjectFrom"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k){"use strict";this.$RangedCallbackManager1=[];this.$RangedCallbackManager2=false;this.$RangedCallbackManager3=false;this.$RangedCallbackManager4={};this.$RangedCallbackManager5=new(c("CallbackManagerController"))(this.$RangedCallbackManager6.bind(this));this.$RangedCallbackManager7=i;this.$RangedCallbackManager8=j;this.$RangedCallbackManager9=k}h.prototype.executeOrEnqueue=function(i,j,k,l,m){"use strict";return this.$RangedCallbackManager5.executeOrEnqueue({start:i,limit:j},k,{strict:!!l,skipOnStrictHandler:m})};h.prototype.unsubscribe=function(i){"use strict";this.$RangedCallbackManager5.unsubscribe(i)};h.prototype.getUnavailableResources=function(i){"use strict";var j=this.$RangedCallbackManager5.getRequest(i),k=[];if(j&&!this.$RangedCallbackManager2){var l=j.request,m=this.$RangedCallbackManager10(j.options),n=l.start+l.limit;for(var o=m.length;o<n;o++)k.push(o)}return k};h.prototype.addResources=function(i){"use strict";i.forEach(function(j){if(!this.$RangedCallbackManager4[j]){this.$RangedCallbackManager4[j]=true;this.$RangedCallbackManager1.push(j);this.$RangedCallbackManager3=null}}.bind(this));this.resortResources();this.$RangedCallbackManager5.runPossibleCallbacks()};h.prototype.addResourcesWithoutSorting=function(i,j){"use strict";var k=this.$RangedCallbackManager1.slice(0,j);k=k.concat(i);k=k.concat(this.$RangedCallbackManager1.slice(j));this.$RangedCallbackManager1=k;Object.assign(this.$RangedCallbackManager4,c("createObjectFrom")(i,true));this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks()};h.prototype.removeResources=function(i){"use strict";i.forEach(function(j){if(this.$RangedCallbackManager4[j]){this.$RangedCallbackManager4[j]=false;var k=this.$RangedCallbackManager1.indexOf(j);if(k!=-1)this.$RangedCallbackManager1.splice(k,1)}}.bind(this))};h.prototype.removeAllResources=function(){"use strict";this.$RangedCallbackManager1=[];this.$RangedCallbackManager4={}};h.prototype.resortResources=function(){"use strict";this.$RangedCallbackManager1=c("arrayStableSort")(this.$RangedCallbackManager1,function(i,j){return this.$RangedCallbackManager8(this.$RangedCallbackManager7(i),this.$RangedCallbackManager7(j))}.bind(this))};h.prototype.setReachedEndOfArray=function(){"use strict";if(!this.$RangedCallbackManager2){this.$RangedCallbackManager2=true;this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks()}};h.prototype.hasReachedEndOfArray=function(){"use strict";return this.$RangedCallbackManager2};h.prototype.forceRunCallbacks=function(){"use strict";this.$RangedCallbackManager5.runPossibleCallbacks({force:true})};h.prototype.setError=function(i){"use strict";if(this.$RangedCallbackManager3!==i){this.$RangedCallbackManager3=i;this.$RangedCallbackManager5.runPossibleCallbacks()}};h.prototype.getError=function(i,j,k){"use strict";var l=this.$RangedCallbackManager10({strict:k});return i+j>l.length?this.$RangedCallbackManager3:null};h.prototype.hasResource=function(i){"use strict";return this.$RangedCallbackManager4[i]};h.prototype.getResourceAtIndex=function(i){"use strict";return this.$RangedCallbackManager1[i]};h.prototype.getAllResources=function(){"use strict";return this.$RangedCallbackManager1.concat()};h.prototype.getCurrentArraySize=function(i){"use strict";return this.$RangedCallbackManager10(i).length};h.prototype.$RangedCallbackManager10=function(i){"use strict";var j=this.$RangedCallbackManager1;if(i&&i.strict){var k=i.skipOnStrictHandler||this.$RangedCallbackManager9;if(k)j=j.filter(k)}return j};h.prototype.$RangedCallbackManager6=function(i,j){"use strict";var k=this.$RangedCallbackManager10(j),l=i.start,m=i.start+i.limit,n=!!(j&&j.force);if(!n&&!this.$RangedCallbackManager2&&!this.$RangedCallbackManager3&&m>k.length)return false;else{var o=k.slice(l,m),p=m>k.length?this.$RangedCallbackManager3:null;return[o,p]}};h.prototype.getElementsUntil=function(i){"use strict";var j=[];for(var k=0;k<this.$RangedCallbackManager1.length;k++){var l=this.$RangedCallbackManager7(this.$RangedCallbackManager1[k]);if(this.$RangedCallbackManager8(l,i)>0)break;j.push(this.$RangedCallbackManager1[k])}return j};f.exports=h}),null);
__d("MercuryMessages",["invariant","BanzaiODS","ChatReliabilityInstrumentation","EventEmitter","FBJSON","ImmutableObject","LogHistory","Map","MercuryActionStatus","MercuryActionType","MercuryAssert","MercuryAttachment","MercuryDispatcher","MercuryIDs","MercuryLogMessageType","MercuryMessageClientState","MercuryPayloadSource","MercurySingletonProvider","MercuryMessageActions","MercuryMessageIDsRe","MessagingGiftWrapConstants","MessengerSharedMediaActions","RangedCallbackManager","MercurySendMessageFields","MercuryServerRequests","MercuryThreadActions","MercuryThreadInformer","MercuryThreads","URI","isMessengerDotComURI","setImmediate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=new(c("EventEmitter"))(),j=c("LogHistory").getInstance("mercury_messages");function k(p){switch(p){case c("MercuryPayloadSource").UNKNOWN:case c("MercuryPayloadSource").SERVER_INITIAL_DATA:case c("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO:case c("MercuryPayloadSource").SERVER_THREAD_SYNC:return true}return false}l.getForFBID=function(p){return o.getForFBID(p)};l.get=function(){return o.get()};function l(p){__p&&__p();this.$MercuryMessages1=p;this.$MercuryMessages2=c("MercuryMessageActions").getForFBID(this.$MercuryMessages1);this.$MercuryMessages3=c("MercuryServerRequests").getForFBID(this.$MercuryMessages1);this.$MercuryMessages4=c("MercuryThreadInformer").getForFBID(this.$MercuryMessages1);this.$MercuryMessages5=c("MercuryThreads").getForFBID(this.$MercuryMessages1);this.$MercuryMessages6=c("MercuryThreadActions").getForFBID(this.$MercuryMessages1);this.$MercuryMessages7=c("MercuryDispatcher").getForFBID(this.$MercuryMessages1);this.$MercuryMessages8=false;this.$MercuryMessages9={};this.$MercuryMessages10={};this.$MercuryMessages11={};this.$MercuryMessages12=new(c("Map"))();this.$MercuryMessages13={};this.$MercuryMessages14={};this.$MercuryMessages7.subscribe("update-messages",function(q,r){__p&&__p();var s=(r.actions||[]).filter(function(u){var v=u.action_type,w=u.thread_id&&(v==c("MercuryActionType").LOG_MESSAGE||v==c("MercuryActionType").USER_GENERATED_MESSAGE||v==c("MercuryActionType").SEND_MESSAGE||v==c("MercuryActionType").DELETE_THREAD||v==c("MercuryActionType").DELETE_MESSAGES),x=u.upload_id&&u.upload_data&&(v==c("MercuryActionType").CANCEL_ATTACHMENT_PLACEHOLDER||v==c("MercuryActionType").CONFIRM_ATTACHMENT_PLACEHOLDER),y=v==c("MercuryActionType").REACTION_UPDATE,z=v==c("MercuryActionType").LIVE_LOCATION_UPDATE,A=u.replaced_message_id&&v==c("MercuryActionType").REPLACE_MESSAGE,B=u.unwrapped_message_id&&v==c("MercuryActionType").UNWRAP_MESSAGE;return w||x||y||z||A||B}),t=k(r.payload_source);this.handleUpdates(s,t,r.payload_source,r.from_client);if(r.end_of_history)this.$MercuryMessages15(r.end_of_history,r.payload_source);if(this.$MercuryMessages8){this.$MercuryMessages8=false;i.emit("change")}}.bind(this));this.$MercuryMessages7.subscribe("invalidate-thread-state",function(q,r){this.$MercuryMessages16(r)}.bind(this));this.$MercuryMessages7.subscribe("invalidate-global-state",function(){return this.invalidateGlobalState()}.bind(this));j.debug("constructed",JSON.stringify({fbid:this.$MercuryMessages1}))}l.prototype.getMessagesFromIDs=function(p){return(p||[]).map(function(q){return this.$MercuryMessages17(q)}.bind(this)).filter(function(q){return q})};l.prototype.getServerMessageID=function(p){var q=p;if(this.$MercuryMessages13[p])q=this.$MercuryMessages13[p];return q};l.prototype.hasLoadedNMessages=function(p,q){var r=this.$MercuryMessages18(p);return r.hasReachedEndOfArray()||r.getCurrentArraySize()>=q};l.prototype.hasLoadedExactlyNMessages=function(p,q){var r=this.$MercuryMessages18(p);return r.getCurrentArraySize()==q};l.prototype.invalidateGlobalState=function(){var p=Object.keys(this.$MercuryMessages10);this.$MercuryMessages9={};this.$MercuryMessages10={};this.$MercuryMessages11={};this.$MercuryMessages12=new(c("Map"))();this.$MercuryMessages13={};p.map(function(q){return this.$MercuryMessages4.invalidatedThread(q)}.bind(this))};l.prototype.getThreadMessagesRange=function(p,q,r,s,t,u){var v=this.$MercuryMessages18(p),w=function(G){s(this.$MercuryMessages19(G))}.bind(this),x=v.executeOrEnqueue(q,r,w),y=v.getUnavailableResources(x),z=this.$MercuryMessages9[p];if(y.length&&!z){var A=v.getCurrentArraySize(),B=this.$MercuryMessages11[p]||0,C=A-B,D=y.length+B,E=this.getCurrentlyLoadedMessages(p),F=E.length?E[0].timestamp:null;this.$MercuryMessages3.fetchThreadMessages(p,C,D,F,t,u)}else this.$MercuryMessages9[p]=false;return x};l.prototype.getThreadMessagesRangeNow=function(p,q,r){var s=this.$MercuryMessages18(p),t=[];for(var u=q;u<q+r;u++){var v=s.getResourceAtIndex(u),w=v&&this.$MercuryMessages17(v);w&&t.push(w)}return t};l.prototype.getThreadMessagesSinceTimestamp=function(p,q){var r=this.$MercuryMessages18(p),s=r.getElementsUntil(q);return this.$MercuryMessages19(s)};l.prototype.hasLoadedAllMessages=function(p){return this.$MercuryMessages18(p).hasReachedEndOfArray()};l.prototype.getCurrentlyLoadedMessages=function(p){var q=this.$MercuryMessages18(p).getAllResources();return this.$MercuryMessages19(q)};l.prototype.unsubscribe=function(p,q){c("MercuryAssert").isThreadID(q);var r=this.$MercuryMessages18(q);r.unsubscribe(p)};l.prototype.$MercuryMessages20=function(p,q){n(q);this.$MercuryMessages12.set(p,new(c("ImmutableObject"))(q))};l.prototype.$MercuryMessages21=function(p,q){__p&&__p();var r=this.$MercuryMessages12.get(p);if(r){var s=r.page_admin_notes?r.page_admin_notes.slice():[],t=false,u=true;for(var v=0;v<s.length;++v)if(s[v].id===q.id){t=true;u=false;break}else if((s[v].id===null||s[v].id===undefined)&&s[v].body===q.body){t=true;s[v]=q}if(!t)s.push(q);if(u){var w={};w.page_admin_notes=s;this.$MercuryMessages22(p,r,w)}}};l.prototype.$MercuryMessages22=function(p,q,r){var s=c("ImmutableObject").set(q,r);this.$MercuryMessages12.set(p,s);return s};l.prototype.$MercuryMessages23=function(p,q,r){__p&&__p();if(p==c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE){var s=this.getThreadMessagesSinceTimestamp(q,r);if(s.length>0){c("BanzaiODS").bumpEntityKey("chat.web","channel.messages_reordered");return true}}else if(p===c("MercuryPayloadSource").SERVER_INVALIDATE_THREAD_STATE||p===c("MercuryPayloadSource").SERVER_INVALIDATE_GLOBAL_STATE)return true;return false};l.prototype.$MercuryMessages24=function(p,q){__p&&__p();var r=p.action_type;if(q==c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE&&r==c("MercuryActionType").USER_GENERATED_MESSAGE&&p.offline_threading_id&&this.$MercuryMessages13[p.offline_threading_id]===p.offline_threading_id){p.client_message_id=p.offline_threading_id;p.status=c("MercuryActionStatus").SUCCESS;p.action_type=c("MercuryActionType").SEND_MESSAGE;r=p.action_type}if(q===c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE&&r==c("MercuryActionType").USER_GENERATED_MESSAGE){var s=this.$MercuryMessages5.getThreadMetaNow(p.thread_id);if(s&&s.folder)p.folder=s.folder;c("ChatReliabilityInstrumentation").logMESSAGE_RECEIVED(c("FBJSON").stringify({otid:p.offline_threading_id,message_id:p.message_id,other_user_fbid:p.other_user_fbid,viewer_page_fbid:!s||!s.page_thread_info?null:s.page_thread_info.pageID}))}return p};l.prototype.handleUpdates=function(p,q,r,s){__p&&__p();var t=void 0,u={};for(var v=0;v<p.length;v++){var w=this.$MercuryMessages24(p[v],r),x=w.action_type,y=w.message_id?this.$MercuryMessages17(w.message_id):null;if(x==c("MercuryActionType").LOG_MESSAGE)if(this.isLocalMessage(w))continue;if(r==c("MercuryPayloadSource").SERVER_SEARCH){if(!this.$MercuryMessages12.has(w.message_id))this.$MercuryMessages20(w.message_id,w);continue}else if(w.client_state===c("MercuryMessageClientState").SEND_TO_SERVER){this.$MercuryMessages20(w.message_id,w);continue}else if(x==c("MercuryActionType").SEND_MESSAGE){var z=w.client_message_id,A=this.$MercuryMessages17(z);if(z&&A&&w.status){var B=A.status;if(A.status==c("MercuryActionStatus").SUCCESS)continue;if(!u[w.thread_id])u[w.thread_id]=[];this.$MercuryMessages25(w);if(typeof B!==undefined||w.status==c("MercuryActionStatus").FAILED_UNKNOWN_REASON||w.status==c("MercuryActionStatus").UNABLE_TO_CONFIRM||w.status==c("MercuryActionStatus").SUCCESS||w.status==c("MercuryActionStatus").ERROR){var C=this.$MercuryMessages17(z);if(C)this.$MercuryMessages26(w.thread_id,C.message_id,r)}}continue}else if(x==c("MercuryActionType").DELETE_THREAD){this.$MercuryMessages18(w.thread_id).removeAllResources();continue}else if(x==c("MercuryActionType").DELETE_MESSAGES){this.$MercuryMessages27(w.thread_id,w.message_ids,r);c("setImmediate")(function(){this.$MercuryMessages6.updateSnippet(w.thread_id,w.message_ids)}.bind(this));continue}else if(x===c("MercuryActionType").REACTION_UPDATE){if(this.$MercuryMessages28(w))this.$MercuryMessages29(u,w,r);continue}else if(x===c("MercuryActionType").LIVE_LOCATION_UPDATE){if(this.$MercuryMessages30(w))this.$MercuryMessages29(u,w,r);continue}else if(x==c("MercuryActionType").REPLACE_MESSAGE){if(this.$MercuryMessages31(w)){this.$MercuryMessages29(u,w,r);q=true}continue}else if(w.offline_threading_id&&this.$MercuryMessages13[w.offline_threading_id]&&(r!=c("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO||this.$MercuryMessages13[w.offline_threading_id]===w.message_id)||y){if(y&&w.ranges&&w.ranges.length>0){var D=y.message_id;this.$MercuryMessages22(this.$MercuryMessages13[D]||D,y,{ranges:w.ranges});this.$MercuryMessages26(y.thread_id,y.message_id,"link_shim")}continue}else if(x===c("MercuryActionType").CONFIRM_ATTACHMENT_PLACEHOLDER){this.$MercuryMessages32(w.upload_id,w.upload_data);continue}else if(x===c("MercuryActionType").CANCEL_ATTACHMENT_PLACEHOLDER){this.$MercuryMessages33(w.upload_id,w.upload_data);continue}else if(x==c("MercuryActionType").UNWRAP_MESSAGE){if(this.$MercuryMessages34(w))this.$MercuryMessages26(w.thread_id,w.unwrapped_message_id,r)}else{if(r===c("MercuryPayloadSource").CLIENT_SEND_MESSAGE){this.$MercuryMessages13[w.message_id]=w.message_id;if(w.thread_id=="root:"+w.offline_threading_id)this.$MercuryMessages18(w.thread_id).setReachedEndOfArray()}if(x==c("MercuryActionType").LOG_MESSAGE&&w.log_message_type==c("MercuryLogMessageType").SERVER_ERROR)this.$MercuryMessages9[w.thread_id]=true;if(w.client_state===c("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER&&w.upload_id)this.$MercuryMessages14[w.upload_id]=w;if(!u[w.thread_id])u[w.thread_id]=[];u[w.thread_id].push(w.message_id);this.$MercuryMessages20(w.message_id,w);if(w.offline_threading_id&&w.offline_threading_id!=w.message_id){this.$MercuryMessages13[w.offline_threading_id]=w.message_id;c("MercuryMessageIDsRe").addServerID(w.offline_threading_id,w.message_id);if(w.threading_id)c("MercuryMessageIDsRe").addServerID(w.threading_id,w.message_id)}if(w[c("MercurySendMessageFields").MANUAL_RETRY_CNT]>0){t=this.$MercuryMessages18(w.thread_id);t.resortResources([w.message_id]);this.$MercuryMessages35(w.thread_id,c("MercuryPayloadSource").CLIENT_SEND_MESSAGE)}q=q||this.$MercuryMessages23(r,w.thread_id,w.timestamp);if(!q){var E=this.$MercuryMessages17(w.message_id);if(E)this.$MercuryMessages36(E)}continue}}for(var F in u){t=this.$MercuryMessages18(F);var G=t.getAllResources(),H=G.filter(function(D){var I=this.$MercuryMessages12.get(D);if(!I)return true;return I.action_type==c("MercuryActionType").LOG_MESSAGE&&I.log_message_type==c("MercuryLogMessageType").SERVER_ERROR}.bind(this));t.removeResources(H);if(s)this.$MercuryMessages37(F,u[F]);if(q){t.addResources(u[F]);this.$MercuryMessages35(F,r)}else t.addResourcesWithoutSorting(u[F].reverse(),0);this.$MercuryMessages4.updatedThread(F)}};l.prototype.$MercuryMessages29=function(p,q,r){if(!p[q.thread_id])p[q.thread_id]=[];this.$MercuryMessages18(q.thread_id).removeResources([q.replaced_message_id,q.offline_threading_id]);if(q.action_type!==c("MercuryActionType").REACTION_UPDATE&&q.action_type!==c("MercuryActionType").LIVE_LOCATION_UPDATE)p[q.thread_id].push(q.message_id);if(q.replaced_message_id)this.$MercuryMessages26(q.thread_id,q.replaced_message_id,r);this.$MercuryMessages26(q.thread_id,q.message_id||q.messageId,r)};l.prototype.isFirstMessage=function(p){var q=this.$MercuryMessages18(p.thread_id);if(q.getCurrentArraySize()===0)return false;var r=q.getResourceAtIndex(q.getCurrentArraySize()-1),s=this.$MercuryMessages17(r),t=s&&s.message_id,u=this.$MercuryMessages17(p.message_id),v=u&&u.message_id;if(!t||!v)return false;return q.hasReachedEndOfArray()&&t==v};l.prototype.isLocalMessage=function(p){if(p.offline_threading_id!==null&&p.offline_threading_id===p.message_id)return true;return false};l.prototype.$MercuryMessages27=function(p,q,r){__p&&__p();if(!q.length)return;this.$MercuryMessages38(p,q,r);if(r!==c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)this.$MercuryMessages3.deleteMessages(p,q);var s=this.$MercuryMessages19(q);for(var t=0;t<s.length;t++){var u=s[t];if(u&&u.has_attachment){var v=u.attachments.map(function(w){if(c("MercuryAttachment").isPhotoAttachment(w)||c("MercuryAttachment").isVideoAttachment(w))return w.metadata.fbid;return null}).filter(function(w){return w!==null});c("MessengerSharedMediaActions").deletePhotos(c("MercuryIDs").getThreadFBIDFromThreadID(u.thread_id),v)}}};l.prototype.$MercuryMessages38=function(p,q,r){var s=q.map(function(u){var v=this.$MercuryMessages17(u);return v&&v.message_id}.bind(this)).filter(function(u){return!!u}),t=this.$MercuryMessages18(p);t.removeResources(s);this.$MercuryMessages35(p,r)};l.prototype.$MercuryMessages25=function(p){__p&&__p();var q=p.client_message_id;if(!q)return false;var r=this.$MercuryMessages17(q);if(!r)return false;var s={};s.status=p.status;if(p.status===c("MercuryActionStatus").SUCCESS||p.error_data)s.error_data=p.error_data;var t=p.message_id;if(this.$MercuryMessages12.has(t)){if(r)this.$MercuryMessages22(t,r,s);return false}if(p.threading_id)s.threading_id=p.threading_id;if(p.timestamp)s.timestamp=p.timestamp;if(p.log_message_data)s.log_message_data=p.log_message_data;if(p.ranges&&p.ranges.length){n(p);s.ranges=p.ranges}if(p.attachments&&p.attachments.length){s.raw_attachments=null;s.attachments=p.attachments}this.$MercuryMessages13[q]=t;c("MercuryMessageIDsRe").addServerID(q,t);if(r){var u=this.$MercuryMessages22(t,r,s);this.$MercuryMessages12.set(q,new(c("ImmutableObject"))());if(m(u))this.$MercuryMessages11[u.thread_id]--}return true};l.prototype.$MercuryMessages28=function(p){var q,r=p.messageId,s=p.reaction,t=p.userId,u=this.$MercuryMessages17(r);if(!u)return false;var v=babelHelpers["extends"]({},u.reactions,(q={},q[t]=s,q));if(!s)delete v[t];this.$MercuryMessages22(r,u,{reactions:v});return true};l.prototype.$MercuryMessages30=function(p){__p&&__p();var q=p.messageId,r=p.liveLocation,s=this.$MercuryMessages17(q);if(!s||!s.attachments||s.attachments.length!==1)return false;var t=s.attachments[0];if(!t||!t.share)return false;var u=t.share.target;if(!u||!u.live_location_id)return false;var v=babelHelpers["extends"]({},t,{share:babelHelpers["extends"]({},t.share,{target:babelHelpers["extends"]({},r,{live_location_id:u.live_location_id})})});this.$MercuryMessages22(q,s,{attachments:[v]});return true};l.prototype.$MercuryMessages31=function(p){__p&&__p();var q=p.replaced_message_id;if(!q)return false;var r=this.$MercuryMessages17(q);if(!r)return false;var s=p.message_id,t={};if(p.status)t.status=p.status;if(p.timestamp&&s!==q)t.timestamp=p.timestamp;if(p.log_message_data)t.log_message_data=p.log_message_data;if(p.ranges&&p.ranges.length){n(p);t.ranges=p.ranges}if(p.meta_ranges)t.meta_ranges=p.meta_ranges;if(p.attachments&&p.attachments.length){t.raw_attachments=null;t.attachments=p.attachments}if(p.body&&p.body!==r.body)t.body=p.body;if(p.platform_xmd&&p.platform_xmd!==r.platform_xmd)t.platform_xmd=p.platform_xmd;if(p.profile_ranges&&p.profile_ranges!==r.profile_ranges)t.profile_ranges=p.profile_ranges;if(Object.keys(t).length===0)return false;c("MercuryMessageIDsRe").addServerID(s,s);this.$MercuryMessages22(s,r,t);if(q!==s){this.$MercuryMessages12["delete"](q);if(r.message_id&&this.$MercuryMessages12.has(r.message_id))this.$MercuryMessages12["delete"](r.message_id)}return true};l.prototype.$MercuryMessages34=function(p){var q=this.$MercuryMessages17(p.unwrapped_message_id);if(!q||!q.tags)return false;var r=q.tags.slice(0);r.push(c("MessagingGiftWrapConstants").UNWRAPPED_TAG);var s={tags:r};this.$MercuryMessages22(p.unwrapped_message_id,q,s);return true};l.prototype.getNumberLocalMessages=function(p){return this.$MercuryMessages11[p]||0};l.prototype.$MercuryMessages32=function(p,q){var r=this.$MercuryMessages39(p,q);delete r.preview_attachments;this.$MercuryMessages3.sendNewMessage(r)};l.prototype.$MercuryMessages33=function(p,q){var r=this.$MercuryMessages39(p,q);this.$MercuryMessages38(r.thread_id,[r.message_id]);if(this.$MercuryMessages11[r.thread_id])this.$MercuryMessages11[r.thread_id]--};l.prototype.$MercuryMessages39=function(p,q){__p&&__p();var r=this.$MercuryMessages14[p];r||h(0);r.image_ids=q.image_ids;r.file_ids=q.file_ids;r.audio_ids=q.audio_ids;r.gif_ids=q.gif_ids;r.video_ids=q.video_ids;r.client_state=c("MercuryMessageClientState").SEND_TO_SERVER;delete this.$MercuryMessages14[p];return r};l.prototype.$MercuryMessages26=function(p,q,r){this.$MercuryMessages8=true;this.$MercuryMessages4.updatedMessage(p,q,r)};l.prototype.$MercuryMessages36=function(p){this.$MercuryMessages8=true;this.$MercuryMessages4.receivedMessage(p)};l.prototype.$MercuryMessages35=function(p,q){this.$MercuryMessages8=true;this.$MercuryMessages4.reorderedMessages(p,q)};l.prototype.$MercuryMessages16=function(p){__p&&__p();if(!this.$MercuryMessages10[p])return;var q=this.$MercuryMessages10[p].getAllResources();q.forEach(function(r){__p&&__p();var s=this.$MercuryMessages17(r),t=undefined;if(s)t=s.offline_threading_id;this.$MercuryMessages12["delete"](r);if(t){var u=this.$MercuryMessages13[t];if(u)this.$MercuryMessages12["delete"](u);delete this.$MercuryMessages13[t]}delete this.$MercuryMessages13[r]}.bind(this));delete this.$MercuryMessages10[p]};l.addListener=function(p,q){return i.addListener(p,q)};l.prototype.$MercuryMessages17=function(p){var q=p;if(this.$MercuryMessages13[p])q=this.$MercuryMessages13[p];return this.$MercuryMessages12.get(q)};l.prototype.$MercuryMessages18=function(p){if(!this.$MercuryMessages10[p])this.$MercuryMessages10[p]=new(c("RangedCallbackManager"))(function(q){var r=this.$MercuryMessages17(q);return r&&r.timestamp}.bind(this),function(q,r){return r-q});return this.$MercuryMessages10[p]};l.prototype.$MercuryMessages15=function(p,q){p.forEach(function(r){var s=this.$MercuryMessages18(r);s.setReachedEndOfArray();this.$MercuryMessages35(r,q)}.bind(this))};l.prototype.$MercuryMessages19=function(p){var q=p.reduce(function(r,s){var t=this.$MercuryMessages17(s);if(t)r.push(t);return r}.bind(this),[]);return q.reverse()};l.prototype.$MercuryMessages37=function(p,q){var r=q.filter(function(s){return m(this.$MercuryMessages17(s))}.bind(this));if(!this.$MercuryMessages11[p])this.$MercuryMessages11[p]=0;this.$MercuryMessages11[p]+=r.length};function m(p){var q=p.action_type;if(q==c("MercuryActionType").USER_GENERATED_MESSAGE)return true;switch(p.log_message_type){case c("MercuryLogMessageType").SUBSCRIBE:case c("MercuryLogMessageType").UNSUBSCRIBE:case c("MercuryLogMessageType").SERVER_ERROR:case c("MercuryLogMessageType").LIVE_LISTEN:return false;default:return true}}function n(p){__p&&__p();if(!p.ranges)return;p.ranges.forEach(function(q){if(!q.entity||q.entity.external||!q.entity.url)return;var r=new(c("URI"))(q.entity.url);if(c("isMessengerDotComURI")(c("URI").getRequestURI())&&!r.getDomain()){r.setProtocol("https").setDomain("www.facebook.com");q.entity.url=r.toString()}})}var o=new(c("MercurySingletonProvider"))(l);f.exports=l}),null);
__d("MercuryNotificationRenderer",["fbt","MercuryAssert","MercuryIDs","MercuryMessages","MercuryParticipants","MercuryThreads","MercuryViewer","MessagingGenericAdminTextType"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("MercuryMessages").get(),j=c("MercuryThreads").get(),k="source:messenger_growth:event_upcoming_bump";function l(m,n){__p&&__p();c("MercuryAssert").isThreadID(m);j.getThreadMeta(m,function(o){__p&&__p();i.getThreadMessagesRange(m,0,1,function(p){__p&&__p();var q=p.length&&p[p.length-1],r=[];if(q.tags!==undefined)r=r.concat(q.tags);if(q.log_message_data&&(q.log_message_data.message_type==c("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST||q.log_message_data.message_type==c("MessagingGenericAdminTextType").WORK_INVITE_CLAIMED))n(h._("New contact added"));else if(r.indexOf(k)!==-1)n(h._("You have an upcoming event."));else if(q&&q.author!=c("MercuryViewer").getID())c("MercuryParticipants").get(q.author,function(s){__p&&__p();var t=s.short_name,u=o.custom_nickname;if(u){var v=c("MercuryIDs").getUserIDFromParticipantID(s.id);if(u[v])t=u[v]}if(o.name)n(h._("{senderName} messaged {groupName}",[h.param("senderName",t),h.param("groupName",o.name)]));else if(c("MercuryIDs").isGroupChat(m))n(h._("{name} messaged your group",[h.param("name",t)]));else n(h._("{name} messaged you",[h.param("name",t)]))});else n(h._("New message!"))})})}f.exports={renderDocumentTitle:l}}),null);
__d("MercuryTimestampTracker",["MercuryActionType","MercuryDispatcher","MercuryPayloadSource","MercurySingletonProvider"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.getForFBID=function(j){return i.getForFBID(j)};h.get=function(){return i.get()};function h(j){this.$MercuryTimestampTracker1=j;this.$MercuryTimestampTracker3=0;this.$MercuryTimestampTracker2=c("MercuryDispatcher").getForFBID(this.$MercuryTimestampTracker1);this.$MercuryTimestampTracker2.subscribe("update-messages",this.$MercuryTimestampTracker4.bind(this))}h.prototype.$MercuryTimestampTracker4=function(j,k){if(!k.actions||!k.actions.length)return;if(k.payload_source===c("MercuryPayloadSource").CLIENT_SEND_MESSAGE||k.payload_source===c("MercuryPayloadSource").UNKNOWN)return;for(var l=0;l<k.actions.length;l++){var m=k.actions[l],n=m.action_type;if(n==c("MercuryActionType").USER_GENERATED_MESSAGE&&m.thread_id&&m.timestamp>this.$MercuryTimestampTracker3)this.$MercuryTimestampTracker3=m.timestamp}};h.prototype.getLastUserMessageTimestamp=function(){return this.$MercuryTimestampTracker3};var i=new(c("MercurySingletonProvider"))(h);f.exports=h}),null);
__d("ChatTitleBarBlinker",["ChatActivity","DocumentTitle","JSLogger","MercuryThreadInformer","MercuryNotificationRenderer","PresenceState","MercuryTimestampTracker"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MercuryThreadInformer").get(),i=c("MercuryTimestampTracker").get(),j=c("JSLogger").create("chat_title"),k=null,l=0,m=false;function n(){if(k){k.stop();k=null;return true}return false}function o(u){var v=u||i.getLastUserMessageTimestamp();if(l<=v){l=v;if(n()||m)c("PresenceState").doSync()}}var p={blink:function u(v,w){if(!k&&l<w)c("MercuryNotificationRenderer").renderDocumentTitle(v,function(x){if(!k)k=c("DocumentTitle").blink(x)})},stopBlinking:function u(){o()},blinkingElsewhere:function u(){m=true}};function q(u){var v=c("PresenceState").verifyNumber(u.sb2);if(!v||v<=l)return null;return v}function r(u){var v=u&&q(u);if(v){l=v;j.debug("load",l);n();m=false}}function s(u){var v=q(u);if(!v){j.debug("store",l);u.sb2=l;m=false}return u}c("PresenceState").registerStateStorer(s);c("PresenceState").registerStateLoader(r);h.subscribe("thread-read-changed",function(u,v){var w=i.getLastUserMessageTimestamp(),x=0;for(var y in v)if(v[y].mark_as_read&&v[y].timestamp>=w&&v[y].timestamp>x)x=v[y].timestamp;x&&o(x)});c("ChatActivity").subscribe("activity",function(){return o()});var t=c("PresenceState").getInitial();if(t)l=q(t)||0;f.exports=p}),null);
__d("SoundPlayer",["Map","URI","createArrayFromMixed"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("Map"))();function i(l){var m=new(c("URI"))(l);return m.getDomain()?l:new(c("URI"))(window.location.href).setPath(m.getPath()).toString()}function j(l){var m=new(c("URI"))(l).getPath();if(/\.mp3$/.test(m))return"audio/mpeg";if(/\.og[ga]$/.test(m))return"audio/ogg";return""}var k={preload:function l(m){__p&&__p();for(var n=c("createArrayFromMixed")(m),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(h.has(r))return;var s=document.createElement("audio");if(!s||!s.canPlayType||!s.canPlayType(j(r)))continue;s.preload="auto";s.src=i(r);document.body&&document.body.appendChild(s);h.set(r,s);return}},play:function l(m){__p&&__p();var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];for(var o=c("createArrayFromMixed")(m),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(!h.has(s))k.preload(s);var t=h.get(s);if(!t)continue;if(n.loop)t.setAttribute("loop","");if(n.volume)t.volume=n.volume;t.play();return}},pause:function l(m){__p&&__p();for(var n=c("createArrayFromMixed")(m),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=h.get(r);if(s){s.pause();return}}},stop:function l(m){__p&&__p();for(var n=c("createArrayFromMixed")(m),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=h.get(r);if(s){s.pause();s.removeAttribute("src");s.src=i(r);return}}}};f.exports=k}),null);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function a(b,c,d,e,f,g){__p&&__p();var h="fb_sounds_playing3";function i(){__p&&__p();var m=c("WebStorage").getLocalStorage();if(m)try{var n=m[h];if(n){n=JSON.parse(n);if(Array.isArray(n))return n}}catch(o){}return[]}function j(m){var n=c("WebStorage").getLocalStorage();if(n){var o=i();o.push(m);while(o.length>5)o.shift();try{n[h]=JSON.stringify(o)}catch(p){}}}function k(m){return i().some(function(n){return n===m})}var l={play:function m(n,o,p){n=c("createArrayFromMixed")(n);o=o||n[0]+Math.floor(Date.now()/1e3);if(k(o))return;c("SoundPlayer").play(n,{loop:!!p});j(o)},isSupported:function m(){return!!c("WebStorage").getLocalStorage()}};f.exports=l}),null);
__d("SoundRPC",["Event","FBJSON","SoundSynchronizer"],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k,l){c("SoundSynchronizer").play(j,k,l)}var i={playLocal:h,playRemote:function j(k,l,m,n){var o={name:"SoundRPC",data:{paths:l,sync:m,loop:n}};k.postMessage(c("FBJSON").stringify(o),"*")},supportsRPC:function j(){return!!window.postMessage},_listen:function j(){c("Event").listen(window,"message",function(k){if(!/\.facebook.com$/.test(k.origin))return;var l={};try{l=c("FBJSON").parse(k.data)}catch(m){}if(l.name==="SoundRPC")h(l.data.paths,l.data.sync,l.data.loop)})}};f.exports=i}),null);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=false,j={init:function n(o){},play:function n(o,p,q){if(h)c("SoundRPC").playRemote(h.contentWindow,o,p,false);else c("SoundRPC").playLocal(o,p,q);i=true},hasPlayedSoundBefore:function n(){return i},playOnlyIfImmediate:function n(o,p,q){if(!i&&c("Visibility").isHidden())return;this.play(o,p,q)},stop:function n(o){if(!h)c("SoundPlayer").stop(o)}},k=new(c("URI"))(location.href);if(k.getSubdomain()&&k.getSubdomain()!=="www")k.setSubdomain("www");var l=k.getDomain();function m(){if(c("UserAgent_DEPRECATED").ie()<9)return false;if(c("SoundInitialData").RPC_DISABLED)return false;return c("SoundSynchronizer").isSupported()&&c("SoundRPC").supportsRPC()}if(c("isFacebookURI")(k)&&location.host!==l&&m()){h=document.createElement("iframe");h.setAttribute("src","//"+l+"/sound_iframe.php");h.style.display="none";document.body.appendChild(h)}f.exports=j}),null);
__d("MercuryIgnoredBlockedParticipantsRe",["bs_caml_obj","bs_js_boolean","MercuryIDs"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l,m,n){var o=n.participants.filter(function(p){return+(p!==c("MercuryIDs").getParticipantIDFromUserID(l))});return o.filter(function(p){return+(+m.has(p)!==0)})}function i(l,m,n){return c("bs_js_boolean").to_js_boolean(1-+n.is_canonical&&+(h(l,m,n).length>0))}function j(l,m,n){if(n.is_canonical)return[];else return h(l,m,n)}function k(l,m,n){var o=+n.is_canonical;if(o!==0){var p=n.participants.filter(function(q){return c("bs_caml_obj").caml_notequal(q,c("MercuryIDs").getParticipantIDFromUserID(l))});return c("bs_js_boolean").to_js_boolean(1-+p.every(function(q){return 1-+m.has(q)}))}else return false}g.findIntersection=h;g.isPresentInGroupThread=i;g.participantsInGroupThread=j;g.qualifiesAs=k}),null);
__d("mercurySingletonProviderRe",["bs_curry","CurrentUser"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j={},k=function k(m){var n=j[m];if(n!==undefined)return n;else{var o=c("bs_curry")._1(i[0],m);j[m]=o;return o}},l=function l(){return k(c("CurrentUser").getID())};return[k,l]}g.Provider=h}),null);
__d("mercuryBlockedParticipantsRe",["Set","utilsRe","MercuryIDs","bs_js_primitive","MercuryDispatcher","mercurySingletonProviderRe","MercuryIgnoredBlockedParticipantsRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m,n){__p&&__p();var o=n.message_blocked_ids;if(o==null)return 0;else{o.forEach(function(p){if(m.has(p)){+m["delete"](p);return 0}else{m.add(p);return 0}});return 0}}function i(m){__p&&__p();var n=new(c("Set"))(),o=c("MercuryDispatcher").getForFBID(m);o.subscribe("update-blocked-users",function(p,q){__p&&__p();var r=q.actions;if(!(r==null))r.forEach(function(t){return h(n,t)});h(n,q);var s=c("utilsRe").$pipe$unknown(c("bs_js_primitive").null_undefined_to_opt(q.participants),[]);s.forEach(function(t){__p&&__p();var r=c("utilsRe").nullUndefinedBooleanToOptionBool(t.is_messenger_blocked),u=t.fbid;if(r)if(r[0]!==0)if(u==null)return 0;else{n.add(c("MercuryIDs").getParticipantIDFromUserID(u));return 0}else if(u==null)return 0;else{+n["delete"](c("MercuryIDs").getParticipantIDFromUserID(u));return 0}else return 0});return 0});return{findIntersection:function p(q){return c("MercuryIgnoredBlockedParticipantsRe").findIntersection(m,n,q)},isPresentInGroupThread:function p(q){return c("MercuryIgnoredBlockedParticipantsRe").isPresentInGroupThread(m,n,q)},blockedParticipantsInGroupThread:function p(q){return c("MercuryIgnoredBlockedParticipantsRe").participantsInGroupThread(m,n,q)},isMessageBlocked:function p(q){return c("MercuryIgnoredBlockedParticipantsRe").qualifiesAs(m,n,q)},__fbid:m}}var j=c("mercurySingletonProviderRe").Provider([i]),k=j[0],l=j[1];g.getForFBID=k;g.get=l}),null);
__d("MercuryBrowserAlerts",["ArbiterMixin","ChatActivity","ChatConfig","ChatOptions","ChatTitleBarBlinker","Event","Map","mercuryBlockedParticipantsRe","MercuryIDs","MercuryThreadInfo","MercuryThreads","MercuryViewer","MessagingTag","Sound","UserActivity"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("mercuryBlockedParticipantsRe").get(),i=c("MercuryThreads").get(),j=3,k=6e5,l=new(c("Map"))(),m=null;function n(){return!c("UserActivity").isOnTab()&&!c("UserActivity").hasBeenInactive()}function o(){l=new(c("Map"))()}function p(r){if(c("ChatOptions").getSetting("sound")&&!n())c("Sound").play([c("ChatConfig").get("sound.notif_ogg_url"),c("ChatConfig").get("sound.notif_mp3_url")],r,false)}var q=Object.assign({init:function r(){c("Event").listen(window,"focus",function(){o();clearInterval(m)});c("Event").listen(window,"blur",function(){m=setInterval(o,k)})},messageReceived:function r(s){__p&&__p();if(s.author&&c("MercuryViewer").isViewer(s.author)||!s.is_unread||s.folder!=c("MessagingTag").INBOX&&s.folder!=c("MessagingTag").ARCHIVED)return;var t=s.thread_id,u=c("ChatActivity").isActive();if(u){var v=false;q.inform("before-alert",{threadID:t,cancelAlert:function w(){v=true}})}i.getThreadMeta(t,function(w){__p&&__p();var x=c("MercuryThreadInfo").isMuted(w),y=c("MercuryIDs").getUserIDFromParticipantID(c("MercuryViewer").getID());if(x)if(!c("MercuryThreadInfo").areMentionsMuted(w)){if(!s.profile_ranges||!s.profile_ranges.some||!s.profile_ranges.some(function(B){return B.id===y}))return}else return;if(h.isPresentInGroupThread(w))return;var z=s.timestamp;if(u)!v&&p(z);else{c("ChatTitleBarBlinker").blink(t,z);var A=l.get(t)||0;if(A<j){l.set(t,A+1);p(z)}}c("ChatTitleBarBlinker").blinkingElsewhere()})}},c("ArbiterMixin"));f.exports=q}),null);
__d("ChatAnimatedGifs",["URI"],(function a(b,c,d,e,f,g){__p&&__p();var h={shouldHideBody:function i(j){__p&&__p();if(!j.has_attachment)return false;for(var k=0;k<j.attachments.length;k++){var l=j.attachments[k];if(l.preview_url){var m=h.getRawUrlFromSafeUrl(l.preview_url);if(j.body==m)return true}}return false},getRawUrlFromSafeUrl:function i(j){return new(c("URI"))(j).getQueryData().url}};f.exports=h}),null);
__d("ChatAppActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({INITIAL_DISPLAY_DONE:null,HIDE:null,LOAD:null,TTI:null,UNHIDE:null})}),null);
__d("ChatAppActions",["ChatDispatcher","ChatAppActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h={tti:function i(){c("ChatDispatcher").dispatch({type:c("ChatAppActionTypes").TTI})},hide:function i(){c("ChatDispatcher").dispatch({type:c("ChatAppActionTypes").HIDE})},unhide:function i(){c("ChatDispatcher").dispatch({type:c("ChatAppActionTypes").UNHIDE})},setInitialDisplayDone:function i(){c("ChatDispatcher").dispatch({type:c("ChatAppActionTypes").INITIAL_DISPLAY_DONE})},load:function i(){c("ChatDispatcher").dispatch({type:c("ChatAppActionTypes").LOAD})}};f.exports=h}),null);
__d("ChatAppStore",["ChatAppActionTypes","ChatDispatcher","FluxStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("ChatDispatcher"));this.$ChatAppStore2={initialDisplayDone:false,isHidden:false,isInitialized:false,isLoaded:false};this.$ChatAppStore1=babelHelpers["extends"]({},this.$ChatAppStore2)}j.prototype.__onDispatch=function(k){__p&&__p();var l=k.type;this.$ChatAppStore1=babelHelpers["extends"]({},this.$ChatAppStore2);switch(l){case c("ChatAppActionTypes").INITIAL_DISPLAY_DONE:this.$ChatAppStore2.initialDisplayDone=true;this.__emitChange();break;case c("ChatAppActionTypes").HIDE:this.$ChatAppStore2.isHidden=true;this.__emitChange();break;case c("ChatAppActionTypes").UNHIDE:this.$ChatAppStore2.isHidden=false;this.__emitChange();break;case c("ChatAppActionTypes").TTI:this.$ChatAppStore2.isInitialized=this.$ChatAppStore2.isLoaded=true;this.__emitChange();break;case c("ChatAppActionTypes").LOAD:this.$ChatAppStore2.isLoaded=true;this.__emitChange();break}};j.prototype.getPreviousState=function(){return this.$ChatAppStore1};j.prototype.getState=function(){return this.$ChatAppStore2};f.exports=new j()}),null);
__d("ChatNotificationConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NORMAL:0,NO_USER_MESSAGE_NOTIFICATION:1})}),null);
__d("ChatBehavior",["Arbiter","AvailableList","AvailableListConstants","ChatNotificationConstants"],(function a(b,c,d,e,f,g){__p&&__p();var h=false,i=c("AvailableList").getWebChatNotification&&c("AvailableList").getWebChatNotification(),j=h,k=true,l=Object.assign(new(c("Arbiter"))(),{ON_CHANGED:"changed",notifiesUserMessages:function n(){return i!==c("ChatNotificationConstants").NO_USER_MESSAGE_NOTIFICATION},ignoresRemoteTabRaise:function n(){return j},showsTabUnreadUI:function n(){return k}});function m(){l.inform(l.ON_CHANGED)}c("AvailableList").subscribe&&c("AvailableList").subscribe(c("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,function(){var n=i,o=c("AvailableList").getWebChatNotification();i=o;if(n!=o)m()});c("Arbiter").subscribe("chat/set_does_page_occlude_tabs",function(n,o){j=!!o;m()});c("Arbiter").subscribe("chat/set_show_tab_unread_ui",function(n,o){k=!!o;m()});f.exports=l}),null);
__d("EmojiOnlyMessage.react",["cx","EmojiImageURL","EmojiLikeConstants","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m="_1ift _1ifu",n=0,o=this.props.contents.map(function(p){n++;if(p.emojiKey){var q=c("EmojiImageURL").getMessengerURL(p.emojiKey,c("EmojiLikeConstants").sizeMap.dp32);return c("React").createElement(c("Image.react"),{alt:p.text,className:m,key:n,src:q})}else return c("React").createElement("span",{key:n},p.text)});return c("React").createElement("div",{tabIndex:"0"},o)};function l(){i.apply(this,arguments)}l.propTypes={contents:k.arrayOf(k.shape({emojiKey:k.string,text:k.string.isRequired})).isRequired};f.exports=l}),null);
__d("MessagingGiftWrap.react",["cx","MessengerEnvironment","React","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={unwrapped:false},this.$MessagingGiftWrap1=function(r){r.stopPropagation();this.setState({unwrapped:true});this.props.onUnwrap&&this.props.onUnwrap()}.bind(this),n}l.prototype.render=function(){var m=c("MessengerEnvironment").messengerui;return c("React").createElement("div",{className:"_4p0m"+(this.state.unwrapped?" _4p0o":"")+(m?" _mxz":"")+(m?" _4br2":"")+(!m?" _3_om":"")+(this.props.isSticker?" _52vq":""),onClick:this.$MessagingGiftWrap1,role:"presentation"},c("React").createElement("div",{className:"_4p0r"}),c("React").createElement("div",{className:"_4p0s _4p0t"}),c("React").createElement("div",{className:"_4p0s _4p0u"}))};l.propTypes={isSticker:k.bool,onUnwrap:k.func};l.defaultProps={onUnwrap:c("emptyFunction")};f.exports=l}),null);
__d("messengerCustomColorUtils",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){j=j||{};j.backgroundColor=i;return j}f.exports={customBubbleStyle:h}}),null);
__d("ChatBubble.react",["cx","DOMDimensions","EmojiOnlyMessage.react","MercuryMessageBody.react","MercuryMessageRenderLocations","MessagingGiftWrap.react","MessengerMathUtils","MessengerSupportedEmojiUtils","React","ReactDOM","joinClasses","messengerCustomColorUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=2,k=c("React").createClass({displayName:"ChatBubble",_boxWidth:0,propTypes:{insideDecorators:i.arrayOf(i.object),attachments:i.node,body:i.string,className:i.string,customColor:i.string,customLike:i.object,isEmojiLike:i.bool,isFromViewer:i.bool,isGiftWrapped:i.bool,maxWidth:i.number.isRequired,message:i.object,metaRanges:i.array,onUnwrap:i.func,ranges:i.array,threadCustomColor:i.string,threadID:i.string},getInitialState:function l(){return{emojis:undefined,bubbleWidth:null}},componentDidMount:function l(){if(this.props.attachments&&!this.props.isEmojiLike)return;if(!this.props.emojis){var m=this.props.body||"",n=c("MessengerSupportedEmojiUtils").getEmojiOnlyContents(m);if(n&&n.length)this.setState({emojis:n})}this._restyleBubble(this.props)},componentDidUpdate:function l(m){if(m.maxWidth!==this.props.maxWidth||m.body!==this.props.body||!m.attachments&&this.props.attachments)this._restyleBubble(m)},render:function l(){__p&&__p();var m=this.props,n=m.attachments,o=m.body,p=o===undefined?"":o,q=m.className,r=m.insideDecorators,s=m.maxWidth,t=babelHelpers.objectWithoutProperties(m,["attachments","body","className","insideDecorators","maxWidth"]),u=Object.assign({},t);delete u.customColor;delete u.customLike;delete u.isEmojiLike;delete u.isFromViewer;delete u.message;delete u.metaRanges;delete u.ranges;delete u.threadCustomColor;delete u.threadID;return c("React").createElement("div",babelHelpers["extends"]({},u,{className:c("joinClasses")("_5w1r"+(!this.state.emojis?" _3_om":"")+(!!this.state.emojis?" _31xx":""),q),ref:"bubble",style:{maxWidth:s,width:this.state.emojis?null:this.state.bubbleWidth,wordWrap:p.length>=15?"break-word":"inherit"}}),c("React").createElement("div",{className:"_4gx_",ref:"inner"},this._renderContent(),n),r,this.props.isGiftWrapped?c("React").createElement(c("MessagingGiftWrap.react"),{onUnwrap:this.props.onUnwrap}):null)},_renderContent:function l(){__p&&__p();if(!this.props.body||this.props.isEmojiLike)return null;var m={},n=null;if(this.state.emojis)n=c("React").createElement(c("EmojiOnlyMessage.react"),{contents:this.state.emojis});else{n=c("React").createElement(c("MercuryMessageBody.react"),{body:this.props.body,ranges:this.props.ranges,metaRanges:this.props.metaRanges,threadID:this.props.threadID,customLike:this.props.customLike,threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,renderLocation:c("MercuryMessageRenderLocations").CHAT});if(this.props.customColor)m=c("messengerCustomColorUtils").customBubbleStyle(this.props.customColor,m)}return c("React").createElement("div",{className:"_d97"+(!!this.state.emojis?" _31xy":""),ref:"contentWrapper",style:m},c("React").createElement("span",{className:"_5yl5",ref:"content"},n))},_restyleBubble:function l(m){__p&&__p();if(this.props.attachments||this.props.body!=null&&c("MessengerMathUtils").isMathBlock(this.props.body.trim())){this.setState({bubbleWidth:null});return}var n=c("ReactDOM").findDOMNode(this.refs.bubble);if(m.maxWidth!==this.props.maxWidth||c("DOMDimensions").getElementDimensions(n).width>this.props.maxWidth){var o=this.props.maxWidth;this.setState({bubbleWidth:o},this._shrinkBubble);return}this._shrinkBubble()},_shrinkBubble:function l(){var m=c("ReactDOM").findDOMNode(this.refs.bubble),n=c("DOMDimensions").getElementDimensions(m).width,o=c("ReactDOM").findDOMNode(this.refs.content),p=o?c("DOMDimensions").getElementDimensions(o).width+c("DOMDimensions").measureElementBox(c("ReactDOM").findDOMNode(this.refs.contentWrapper),"width",true,false,false):0,q=p+j;if(p>0&&q<this.props.maxWidth&&n-q-this.getBoxWidth()>0)this.setState({bubbleWidth:q})},contentWraps:function l(){var m=c("ReactDOM").findDOMNode(this.refs.content);if(!m)return false;var n=m.getClientRects(),o=c("DOMDimensions").getElementDimensions(m).height;return n&&n.length>1&&n[0].height<o},getBoxWidth:function l(){if(!this._boxWidth)this._boxWidth=c("DOMDimensions").measureElementBox(c("ReactDOM").findDOMNode(this.refs.bubble),"width",true,true,false);return this._boxWidth}});f.exports=k}),null);
__d("ChatCodePasteUtils",["cx","BanzaiODS","ChatBubble.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=/`{3,}/;function j(l){return!!(l&&i.test(l)&&l.split("\n").length>1)}function k(l,m,n,o,p){__p&&__p();var q=l.split(i),r=[];for(var s=0;s<q.length;s+=2){var t=q[s].trim();if(t)r.push(c("React").createElement("div",{key:s,className:"_5wde _n4o"},c("React").createElement(c("ChatBubble.react"),{body:t,customColor:p||undefined,className:"clearfix _5wdf",maxWidth:m,ranges:n||undefined,threadID:o||undefined})));if(s+1<q.length&&q[s+1]){var u=q[s+1].split("\n"),v=u[0].replace(/[^a-zA-Z]+/g,""),w=u.slice(1).join("\n");c("BanzaiODS").bumpEntityKey("chat_code_paste","render_bubble");r.push(c("React").createElement("div",{key:s+1,className:"_5wde _n4o"},c("React").createElement("div",{ref:"bubble",className:"_3_om _4yng _5wdf"},c("React").createElement("div",{ref:"syntaxTarget"+s,className:"language-"+v},w))))}}return r}f.exports={containsCodeBlock:j,getCodeAndMessageBubbles:k}}),null);
__d("ChatPerfInstrumentation",["Promise","BaseEventEmitter","ChatPerfEvent","ChatPerfTypedLogger","FantaConst","PresenceState","WorkModeConfig","emptyFunction","performanceAbsoluteNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("WorkModeConfig").is_work_user,i=h?c("FantaConst").cookieIDs.WORK_COOKIE_ID:c("FantaConst").cookieIDs.PERSONAL_COOKIE_ID,j=c("PresenceState").getInitial(),k=j&&j[i]?j[i].length:0,l=void 0,m={_startTime:Number,_sidebarStartTime:Number,init:function n(){this._startTime=c("performanceAbsoluteNow")();return new(c("Promise"))(function(o){return o()})},initDivebar:function n(){this._sidebarStartTime=c("performanceAbsoluteNow")()},_log:function n(event,o){var p=c("performanceAbsoluteNow")()-(o||this._startTime);if(l)l.emit(event,p);var q=new(c("ChatPerfTypedLogger"))();q.setEvent(event).setDuration(p);q.setTabsOpen(k);q.log()},addPerfTimingsListener:function n(event,o){if(!l)l=new(c("BaseEventEmitter"))();return l.once(event,o)},logInitStores:function n(){this.logInitStores=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_INIT_STORES)},logInitData:function n(){this.logInitData=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_INIT_DATA)},logInitUI:function n(){this.logInitUI=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_INIT_UI)},logInitSound:function n(){this.logInitSound=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_INIT_SOUND)},logDisplayDone:function n(){this.logDisplayDone=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_DISPLAY_DONE)},logTTI:function n(){this.logTTI=c("emptyFunction");this._log(c("ChatPerfEvent").TTI)},logCHAT_CONVERSATION_TTI:function n(){this.logCHAT_CONVERSATION_TTI=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_CONVERSATION_TTI)},logSIDEBAR_FROM_CLIENT_TTI:function n(){this.logSIDEBAR_FROM_CLIENT_TTI=c("emptyFunction");this._log(c("ChatPerfEvent").SIDEBAR_FROM_CLIENT_TTI,this._sidebarStartTime)},logSIDEBAR_DISPLAY_DONE:function n(){this.logSIDEBAR_DISPLAY_DONE=c("emptyFunction");this._log(c("ChatPerfEvent").SIDEBAR_DISPLAY_DONE,this._sidebarStartTime)}};f.exports=m}),null);
__d("ChatPrivacyActionController",["ChatVisibility","JSLogger","PresencePrivacy"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i,j){__p&&__p();this._userID=i;this._logger=c("JSLogger").create("blackbird");this._getState=function(){if(c("ChatVisibility").isOnline())return c("PresencePrivacy").allows(this._userID)?h.NORMAL:h.BLOCKED;return h.OFFLINE};this._togglePrivacy=function(){__p&&__p();var l=this._getState();switch(this._getState()){case h.OFFLINE:if(c("ChatVisibility").isOnline()){this._logger.error("tabs_already_online");break}this._logger.log("tabs_go_online",{tab_id:this._userID});c("ChatVisibility").goOnline(function(){if(!c("PresencePrivacy").allows(this._userID)){if(this._getState()!==h.BLOCKED)this._logger.error("privacy_action_controller_blocked_inconsistency");this._togglePrivacy()}}.bind(this));break;case h.BLOCKED:c("PresencePrivacy").allow(this._userID);this._logger.log("tabs_unblock",{tab_id:this._userID});break;case h.NORMAL:c("PresencePrivacy").disallow(this._userID);this._logger.log("tabs_block",{tab_id:this._userID});break}};var k=function(){j&&j(this._getState())}.bind(this);k();this._subscribeToken=c("PresencePrivacy").subscribe("privacy-changed",k)};h.OFFLINE="offline";h.BLOCKED="blocked";h.NORMAL="normal";Object.assign(h.prototype,{togglePrivacy:function i(){this._logger.log("gear_menu_toggle_privacy",{tab_id:this._userID});this._togglePrivacy()},destroy:function i(){this._subscribeToken&&c("PresencePrivacy").unsubscribe(this._subscribeToken)}});f.exports=h}),null);
__d("ChatTabBlinking",["cx","CSS","setIntervalAcrossTransitions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=600,j="highlightTitle",k={_blinkMap:{},_interval:null,_isHighlighting:false,blinkTab:function l(m,n){if(!this._blinkMap[m])this._blinkMap[m]={view:n,elem:n.getTabElem()};this.checkInterval()},unblinkTab:function l(m){if(this._blinkMap[m]){var n=this._blinkMap[m].elem;if(n)c("CSS").removeClass(n,j);delete this._blinkMap[m]}this.checkInterval()},checkInterval:function l(){var m=Object.keys(this._blinkMap).length;if(m>0){if(!this._interval)this._interval=c("setIntervalAcrossTransitions")(this._toggleBlinkHighlight.bind(this),i)}else if(this._interval){clearInterval(this._interval);this._interval=null}},_toggleBlinkHighlight:function l(){this._isHighlighting=!this._isHighlighting;for(var m in this._blinkMap)if(Object.prototype.hasOwnProperty.call(this._blinkMap,m)){var n=this._blinkMap[m],o=n.elem,p=n.view;if(o&&o.parentNode&&!p.isFocused()&&!p.isHovered())c("CSS").conditionClass(o,j,this._isHighlighting);else this.unblinkTab(m)}}};f.exports=k}),null);
__d("ChatCloseButton.react",["cx","fbt","Link.react","React","TrackingNodes","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.CLOSE_BUTTON),o=i._("Press Esc to close"),p=i._("Close tab"),q="_4vu4";return c("React").createElement(c("Link.react"),{"aria-label":this.props.active?o:p,className:c("joinClasses")(this.props.className,"close","button",q),"data-ft":n,"data-hover":"tooltip","data-tooltip-content":this.props.active?o:p,"data-tooltip-position":"above",onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onMouseDown:this.props.onMouseDown})};function m(){j.apply(this,arguments)}m.propTypes={onClick:l.func,onKeyUp:l.func,onMouseDown:l.func,active:l.bool};m.defaultProps={active:false};f.exports=m}),null);
__d("ChatCollapsedLogMessageGroup.react",["cx","fbt","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={collapsed:true},n}l.prototype.render=function(){var m=i._("See Latest Activity"),n=i._("See Less Activity");return c("React").createElement("div",{className:"_5w0o"},c("React").createElement(c("Link.react"),{className:"_4ea1",onClick:function(){return this.setState({collapsed:!this.state.collapsed})}.bind(this)},this.state.collapsed?m:n),!this.state.collapsed?c("React").createElement("div",null,c("React").createElement("div",{className:"_2zsu"}),this.props.children,c("React").createElement("div",{className:"_2zsu"})):null)};f.exports=l}),null);
__d("AutoFocusableLink.react",["Link.react","ReactDOM"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("Link.react"));i=h&&h.prototype;j.prototype.componentDidMount=function(){if(this.props.autoFocus)c("ReactDOM").findDOMNode(this).focus()};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("MercuryBootloadOnInteraction.react",["React","createCancelableFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){__p&&__p();var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={Component:null},this.$MercuryBootloadOnInteraction2=function(p){var q=this.state.interactionType==="click"?"click":p.type;this.setState({interactionType:q},function(){this.props.loader.load().done(this.$MercuryBootloadOnInteraction1)}.bind(this))}.bind(this),this.$MercuryBootloadOnInteraction3=function(p){this.setState({Component:p})}.bind(this),this.$MercuryBootloadOnInteraction4=function(p){if(this.state.interactionType!=="click")this.setState({interactionType:undefined})}.bind(this),l}j.prototype.componentDidMount=function(){this.$MercuryBootloadOnInteraction1=c("createCancelableFunction")(this.$MercuryBootloadOnInteraction3)};j.prototype.componentWillUnmount=function(){this.$MercuryBootloadOnInteraction1.cancel()};j.prototype.render=function(){__p&&__p();var k={onFocus:this.$MercuryBootloadOnInteraction2,onMouseOver:this.$MercuryBootloadOnInteraction2,onClick:this.$MercuryBootloadOnInteraction2,onBlur:this.$MercuryBootloadOnInteraction4};if(!this.state.Component)return c("React").cloneElement(this.props.placeholder,k);var l=this.state.Component,m={};switch(this.state.interactionType){case"focus":m.autoFocus=true;break;case"click":m.clicked=true;break}return c("React").cloneElement(this.props.component,babelHelpers["extends"]({},m,{LazyLoadedComponent:l}))};f.exports=j}),null);
__d("ChatComposerFlyoutButtonBootLoader.react",["MercuryBootloadOnInteraction.react","JSResource","LazyComponent.react","AutoFocusableLink.react","React"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){return c("React").createElement("li",{className:i.interactionClassName},c("React").createElement(c("MercuryBootloadOnInteraction.react"),{component:c("React").createElement(c("LazyComponent.react"),babelHelpers["extends"]({},i,{className:i.iconClassName})),loader:c("JSResource")("MessengerComposerFlyoutButton.react").__setRef("ChatComposerFlyoutButtonBootLoader.react"),placeholder:c("React").createElement(c("AutoFocusableLink.react"),{label:"flyout button",className:i.iconClassName})}))};f.exports=h}),null);
__d("DateStrings",["fbt"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r={getWeekdayName:function s(t){if(!n)n=[h._("Sunday"),h._("Monday"),h._("Tuesday"),h._("Wednesday"),h._("Thursday"),h._("Friday"),h._("Saturday")];return n[t]},getUppercaseWeekdayName:function s(t){if(!p)p=[h._("SUNDAY"),h._("MONDAY"),h._("TUESDAY"),h._("WEDNESDAY"),h._("THURSDAY"),h._("FRIDAY"),h._("SATURDAY")];return p[t]},getWeekdayNameShort:function s(t){if(!o)o=[h._("Sun"),h._("Mon"),h._("Tue"),h._("Wed"),h._("Thu"),h._("Fri"),h._("Sat")];return o[t]},getUppercaseWeekdayNameShort:function s(t){if(!q)q=[h._("SUN"),h._("MON"),h._("TUE"),h._("WED"),h._("THU"),h._("FRI"),h._("SAT")];return q[t]},_initializeMonthNames:function s(){i=[h._("January"),h._("February"),h._("March"),h._("April"),h._("May"),h._("June"),h._("July"),h._("August"),h._("September"),h._("October"),h._("November"),h._("December")]},getMonthName:function s(t){if(!i)r._initializeMonthNames();return i[t-1]},getMonthNames:function s(){if(!i)r._initializeMonthNames();return i.slice()},getUppercaseMonthName:function s(t){if(!l)l=[h._("JANUARY"),h._("FEBRUARY"),h._("MARCH"),h._("APRIL"),h._("MAY"),h._("JUNE"),h._("JULY"),h._("AUGUST"),h._("SEPTEMBER"),h._("OCTOBER"),h._("NOVEMBER"),h._("DECEMBER")];return l[t-1]},getMonthNameShort:function s(t){if(!j)j=[h._("Jan"),h._("Feb"),h._("Mar"),h._("Apr"),h._("May"),h._("Jun"),h._("Jul"),h._("Aug"),h._("Sep"),h._("Oct"),h._("Nov"),h._("Dec")];return j[t-1]},getUppercaseMonthNameShort:function s(t){if(!k)k=[h._("JAN"),h._("FEB"),h._("MAR"),h._("APR"),h._("MAY"),h._("JUN"),h._("JUL"),h._("AUG"),h._("SEP"),h._("OCT"),h._("NOV"),h._("DEC")];return k[t-1]},getOrdinalSuffix:function s(t){if(!m)m=["",h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st")];return m[t]},getDayOfMonth:function s(t){__p&&__p();switch(t){case 1:return h._("1st");case 2:return h._("2nd");case 3:return h._("3rd");case 4:return h._("4th");case 5:return h._("5th");case 6:return h._("6th");case 7:return h._("7th");case 8:return h._("8th");case 9:return h._("9th");case 10:return h._("10th");case 11:return h._("11th");case 12:return h._("12th");case 13:return h._("13th");case 14:return h._("14th");case 15:return h._("15th");case 16:return h._("16th");case 17:return h._("17th");case 18:return h._("18th");case 19:return h._("19th");case 20:return h._("20th");case 21:return h._("21st");case 22:return h._("22nd");case 23:return h._("23rd");case 24:return h._("24th");case 25:return h._("25th");case 26:return h._("26th");case 27:return h._("27th");case 28:return h._("28th");case 29:return h._("29th");case 30:return h._("30th");case 31:return h._("31st");default:throw new Error("Invalid day of month.")}},getDayLabel:function s(){return h._("Day:")},getMonthLabel:function s(){return h._("Month:")},getYearLabel:function s(){return h._("Year:")},getDayPlaceholder:function s(){return h._("dd")},getMonthPlaceholder:function s(){return h._("mm")},getYearPlaceholder:function s(){return h._("yyyy")},getHourPlaceholder:function s(){return h._("h")},getMinutePlaceholder:function s(){return h._("m")},get12HourClockSuffix:function s(t){if(t<12)return h._("am");return h._("pm")},getUppercase12HourClockSuffix:function s(t){if(t<12)return h._("AM");return h._("PM")}};f.exports=r}),null);
__d("padNumber",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=i.toString();if(k.length>=j)return k;return"0".repeat(j-k.length)+k}f.exports=h}),null);
__d("formatDate",["invariant","BanzaiLogger","CLDRDateRenderingClientRollout","DateFormatConfig","DateStrings","Random","padNumber"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(l,m,n){__p&&__p();n=n||{};if(!m||!l&&l!==0)return"";if(typeof l==="string")l=parseInt(l,10);if(typeof l==="number")l=new Date(l*1e3);l instanceof Date||h(0);!isNaN(l.getTime())||h(0);if(typeof m!=="string"){var o=j();for(var p in o){var q=o[p];if(l.getTime()<=Date.now()){if(q.start<=l.getTime()&&m[q.name]){m=m[q.name];break}}else if(l.getTime()<q.end&&m[q.name]){m=m[q.name];break}}}var r;if(n.skipPatternLocalization||!n.formatInternal&&k())r=m;else if(!c("DateFormatConfig").formats[m]){m.length===1||h(0);r=m}else{r=c("DateFormatConfig").formats[m];if(c("Random").random()<c("CLDRDateRenderingClientRollout").formatDateClientLoggerSamplingRate)c("BanzaiLogger").log("IntlDateStringsLoggerConfig",{setDatetimeFormat:m,setLoggedFromClient:true})}var s=n.utc?"getUTC":"get",t=l[s+"Date"](),u=l[s+"Day"](),v=l[s+"Month"](),w=l[s+"FullYear"](),x=l[s+"Hours"](),y=l[s+"Minutes"](),z=l[s+"Seconds"](),A=l[s+"Milliseconds"](),B="";for(var C=0;C<r.length;C++){var D=r.charAt(C);switch(D){case"\\":C++;B+=r.charAt(C);break;case"d":B+=c("padNumber")(t,2);break;case"j":B+=t;break;case"S":B+=c("DateStrings").getOrdinalSuffix(t);break;case"D":B+=c("DateStrings").getWeekdayNameShort(u);break;case"l":B+=c("DateStrings").getWeekdayName(u);break;case"F":case"f":B+=c("DateStrings").getMonthName(v+1);break;case"M":B+=c("DateStrings").getMonthNameShort(v+1);break;case"m":B+=c("padNumber")(v+1,2);break;case"n":B+=v+1;break;case"Y":B+=w;break;case"y":B+=(""+w).slice(2);break;case"a":if(n.skipSuffixLocalization)B+=x<12?"am":"pm";else B+=c("DateStrings").get12HourClockSuffix(x);break;case"A":if(n.skipSuffixLocalization)B+=x<12?"AM":"PM";else B+=c("DateStrings").getUppercase12HourClockSuffix(x);break;case"g":B+=x===0||x===12?12:x%12;break;case"G":B+=x;break;case"h":if(x===0||x===12)B+=12;else B+=c("padNumber")(x%12,2);break;case"H":B+=c("padNumber")(x,2);break;case"i":B+=c("padNumber")(y,2);break;case"s":B+=c("padNumber")(z,2);break;case"X":B+=c("padNumber")(A,3);break;default:B+=D}}return B}function j(){var l=new Date(),m=l.getTime(),n=l.getFullYear(),o=l.getMonth(),p=new Date(n,l.getMonth()+1,0).getDate(),q=new Date(n,1,29).getMonth()===1?366:365,r=1e3*60*60*24,s=new Date(l.setHours(0,0,0,0)),t=new Date(n,o,s.getDate()+1),u=l.getDate()-(l.getDay()-c("DateFormatConfig").weekStart+6)%7,v=new Date(l.getTime()).setDate(u),w=new Date(l.getTime()).setDate(u+7),x=new Date(n,o,1),y=new Date(n,o,p+1),z=new Date(n,0,1),A=new Date(n+1,0,1);return[{name:"today",start:s.getTime(),end:t.getTime()},{name:"withinDay",start:m-r,end:m+r},{name:"thisWeek",start:v,end:w},{name:"withinWeek",start:m-r*7,end:m+r*7},{name:"thisMonth",start:x.getTime(),end:y.getTime()},{name:"withinMonth",start:m-r*p,end:m+r*p},{name:"thisYear",start:z.getTime(),end:A.getTime()},{name:"withinYear",start:m-r*q,end:m+r*q},{name:"older",start:-Infinity},{name:"future",end:+Infinity}]}i.periodNames=["today","thisWeek","thisMonth","thisYear","withinDay","withinWeek","withinMonth","withinYear","older","future"];function k(){if(typeof window==="undefined"||!window||!window.location||!window.location.pathname)return false;var l=window.location.pathname,m="/intern";return l.substr(0,m.length)===m}f.exports=i}),null);
__d("ChatDateBreak.react",["cx","React","formatDate","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m){"use strict";return this.props.date.getTime()!==m.date.getTime()};l.prototype.render=function(){"use strict";var m=c("formatDate")(this.props.date,{today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return c("React").createElement("time",{className:c("joinClasses")(this.props.className,"_5w-5")},c("React").createElement("span",{className:"_5w-6"},m))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={date:k.instanceOf(Date).isRequired};f.exports=l}),null);
__d("MercuryMessageCustomizations",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){var l=j.customizations;if(!l)return null;var m=l.filter(function(n){return n.customization_type===k});return m.length>0?m[0].customization_value:null}function i(j){var k=JSON.parse(j),l=[];Object.keys(k).forEach(function(m){l.push({customization_type:m,customization_value:k[m]})});return l}f.exports={getCustomizationValue:h,parseCustomizations:i}}),null);
__d("MercuryTimePassed",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TODAY:0,WEEK_AGO:1,MONTH_AGO:2,CURRENT_YEAR:3,OTHER_YEAR:4})}),null);
__d("MercuryTimestamp",["fbt","MercuryTimePassed","formatDate"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=864e5,j=6*i,k={getFormatedTimestamp:function l(m){var n=m/1e3;return k.getFormattedTimestampByBucket(n,this.getTimeBucket(m))},getAbsoluteTimestamp:function l(m){if(m==null)return null;else{var n=k.getFormatedTimestamp(m);return n.absolute}},getRelativeTimestamp:function l(m){var n=k.getFormatedTimestamp(m);return n.relative},getFormattedTimestampByBucket:function l(m,n){switch(n){case c("MercuryTimePassed").TODAY:return{absolute:h._("Today"),relative:c("formatDate")(m,"g:ia")};case c("MercuryTimePassed").WEEK_AGO:return{absolute:c("formatDate")(m,"l"),relative:c("formatDate")(m,"D")};case c("MercuryTimePassed").CURRENT_YEAR:return{absolute:c("formatDate")(m,"F j"),relative:c("formatDate")(m,"M j")};default:return{absolute:c("formatDate")(m,"F j, Y"),relative:c("formatDate")(m,"n/j/y")}}},getTimeBucket:function l(m){var n=new Date(m),o=new Date(),p=new Date(o.getFullYear(),o.getMonth(),o.getDate());if(p<n)return c("MercuryTimePassed").TODAY;else if(p-j<n)return c("MercuryTimePassed").WEEK_AGO;else if(p.getFullYear()===n.getFullYear())return c("MercuryTimePassed").CURRENT_YEAR;else return c("MercuryTimePassed").OTHER_YEAR},getPreciseTimestamp:function l(m){return c("formatDate")(new Date(m),k.getPreciseFormat(m))},getPreciseFormat:function l(m){var n=k.getTimeBucket(m);switch(n){case c("MercuryTimePassed").TODAY:return"g:ia";case c("MercuryTimePassed").WEEK_AGO:return"l g:ia";case c("MercuryTimePassed").CURRENT_YEAR:return"F jS, g:ia";case c("MercuryTimePassed").OTHER_YEAR:default:return"F j, Y g:i a"}}};f.exports=k}),null);
__d("MessageBorderType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FLOWERS:"flowers"})}),null);
__d("MessageCustomizationType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BORDER:"border"})}),null);
__d("randomShuffle",["randomInt"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){for(var j=i.length-1;j>0;j--){var k=c("randomInt").call(this,j+1);if(k!=j){var l=i[k];i[k]=i[j];i[j]=l}}return i}f.exports=h}),null);
__d("MessagingFlowerCornerArrangements",["invariant","ix","Random","randomShuffle"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=Object.freeze({TOP_LEFT:"topLeft",BOTTOM_RIGHT:"bottomRight"}),k=Object.freeze({PINK:"pink",PURPLE:"purple",YELLOW:"yellow"}),l=Object.freeze({ROUND:"round",POINTY:"pointy"}),m=-10;function n(r,s){this.$ElementProducer1=r;this.$ElementProducer4=s;this.$ElementProducer2=c("Random").random()<.5;this.$ElementProducer3=[];var t=[k.PINK,k.PURPLE,k.YELLOW],u=[l.ROUND,l.POINTY,c("Random").random()>=.5?l.ROUND:l.POINTY];c("randomShuffle")(t);c("randomShuffle")(u);for(var v=0;v<3;v++)this.$ElementProducer3.push(this.$ElementProducer5(t[v],u[v]))}n.prototype.$ElementProducer6=function(r){switch(r){case k.PINK:return i("86995");case k.PURPLE:return i("86997");case k.YELLOW:default:return i("86999")}};n.prototype.$ElementProducer7=function(r){switch(r){case k.PINK:return i("86996");case k.PURPLE:return i("86998");case k.YELLOW:default:return i("87000")}};n.prototype.$ElementProducer5=function(r,s){return s===l.POINTY?this.$ElementProducer6(r):this.$ElementProducer7(r)};n.prototype.$ElementProducer8=function(){return this.$ElementProducer3.pop()};n.prototype.flower=function(r){var s=c("Random").random()*360;return this.$ElementProducer9(this.$ElementProducer8(),{pivot:.5,rotationStart:s+r.rotationStartOffset,rotationEnd:s,scale:r.scale,x:r.x,y:r.y})};n.prototype.leaf=function(r){return this.$ElementProducer9(i("86994"),{pivot:1,rotationStart:0,rotationEnd:r.rotationEnd,scale:r.scale,x:r.x,y:r.y})};n.prototype.$ElementProducer9=function(r,s){__p&&__p();var t=s.pivot*100+"%",u=s.x+m,v=s.y+m,w=-s.pivot*100,x=s.scale,y=s.rotationEnd,z=void 0,A=void 0,B=void 0,C=void 0;if(this.$ElementProducer2){var D=u;u=v;v=D;y=-y}if(this.$ElementProducer1===j.BOTTOM_RIGHT){C=this.$ElementProducer4+u+"px";A=this.$ElementProducer4+v+"px";w=100+w;y+=180}else if(this.$ElementProducer1===j.TOP_LEFT){B=this.$ElementProducer4+u+"px";z=this.$ElementProducer4+v+"px"}else h(0);var E=[];if(w!==0)E.push("translate("+w+"%, "+w+"%)");E.push("scale("+x+")");if(y!==0)E.push("rotate("+y+"deg)");return{style:{bottom:A,left:B,position:"absolute",right:C,top:z,transform:E.join(" "),transformOrigin:t+" "+t},image:r}};function o(r){return[r.leaf({x:20.5,y:38,scale:.225,rotationEnd:-80}),r.leaf({x:29,y:22.5,scale:.35,rotationEnd:35}),r.flower({x:31.5,y:22,scale:.6,rotationStartOffset:-70}),r.flower({x:21,y:35,scale:.65,rotationStartOffset:-70}),r.flower({x:21.75,y:24.75,scale:1,rotationStartOffset:50})]}function p(r){return[r.leaf({x:22.25,y:35.25,scale:.225,rotationEnd:-115}),r.leaf({x:35,y:24,scale:.35,rotationEnd:110}),r.flower({x:21.5,y:32.5,scale:.68,rotationStartOffset:-60}),r.flower({x:21.5,y:23.5,scale:.67,rotationStartOffset:-70}),r.flower({x:31,y:21,scale:.95,rotationStartOffset:50})]}function q(r,s){var t=new n(r,s);return c("Random").random()<.5?o(t):p(t)}f.exports={createFlowers:q,corners:j}}),null);
__d("MessagingFlowerBorder.react",["Image.react","MessagingFlowerCornerArrangements","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MessagingFlowerBorder1=function(){return c("MessagingFlowerCornerArrangements").createFlowers(c("MessagingFlowerCornerArrangements").corners.TOP_LEFT,this.props.offset).concat(c("MessagingFlowerCornerArrangements").createFlowers(c("MessagingFlowerCornerArrangements").corners.BOTTOM_RIGHT,this.props.offset))}.bind(this),this.state={elements:this.$MessagingFlowerBorder1()},m}k.prototype.render=function(){return c("React").createElement("div",null,this.state.elements.map(function(l,m){return c("React").createElement(c("Image.react"),{key:m,style:l.style,src:l.image})}))};k.propTypes={ChildClass:j.number};k.defaultProps={offset:0};f.exports=k}),null);
__d("WebGraphQLLegacyHelper",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();f.exports={getURI:function i(j){var k=j.controller,l=j.docID,m=j.queryID,n=j.variables;l!=m&&(l||m)!=null||h(0);var o=k.getURIBuilder();if(m)o.setFBID("query_id",m);else o.setFBID("doc_id",l);if(n)o.setString("variables",JSON.stringify(n));return o.getURI()}}}),null);
__d("XWebGraphQLMutationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"}})}),null);
__d("base62",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function i(j){if(!j)return"0";var k="";while(j>0){k=h[j%62]+k;j=Math.floor(j/62)}return k}f.exports=i}),null);
__d("WebGraphQLMutationBase",["invariant","CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=0;function j(k){this.$WebGraphQLMutationBase1=k}j.prototype.__getVariables=function(){return this.$WebGraphQLMutationBase1};j.prototype.__getDocID=function(){return this.constructor.__getDocID()};j.__getController=function(){return c("XWebGraphQLMutationController")};j.__getDocID=function(){h(0)};j.getURI=function(k){return c("WebGraphQLLegacyHelper").getURI({controller:this.__getController(),docID:this.__getDocID(),variables:{data:babelHelpers["extends"]({client_mutation_id:c("base62")(i++),actor_id:c("CurrentUser").getID()},k)}})};f.exports=j}),null);
__d("MessageReactionMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1491398900900362"};j.getQueryID=function(){"use strict";return"254517288326467"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("ContextualLayerAutoFlip",["ContextualLayerDimensions","DOMDimensions","Vector","Rect","getDocumentScrollElement"],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k){k=new(c("Rect"))(k).convertTo(j.domain);var l=Math.max(j.l,k.l),m=Math.min(j.r,k.r);return Math.max(m-l,0)}function i(j){"use strict";this._layer=j}i.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("adjust",this._adjustOrientation.bind(this));if(this._layer.isShown())this._layer.updatePosition()};i.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._layer.updatePosition()};i.prototype._adjustOrientation=function(j,k){"use strict";__p&&__p();var l=this.getValidPositions(k);if(!l.length){k.invalidate();return}var m=c("ContextualLayerDimensions").getViewportRect(this._layer),n=this._getValidAlignments(k),o,p,q;for(o=0;o<n.length;o++){k.setAlignment(n[o]);for(p=0;p<l.length;p++){k.setPosition(l[p]);q=c("ContextualLayerDimensions").getLayerRect(this._layer,k);if(m.contains(q))return}}var r=-1;if(k.getPreferMoreContentShownRect()){var s=c("DOMDimensions").getDocumentDimensions(),t=new(c("Rect"))(m).convertTo("document"),u=99999;for(p=0;p<l.length;p++){k.setPosition(l[p]);q=c("ContextualLayerDimensions").getLayerRect(this._layer,k);var v=new(c("Rect"))(q).convertTo("document");if(v.l>=0&&v.r<=s.width&&v.t>=43&&v.b<=s.height){var w=t.l-v.l,x=v.r-t.r,y=t.t-v.t,z=v.b-t.b,A=(w>0?w:0)+(x>0?x:0)+(y>0?y:0)+(z>0?z:0);if(A<u){r=p;u=A}}}}this.__setBestPosition(r,k,l);var B,C=0,D=0;for(o=0;o<n.length;o++){k.setAlignment(n[o]);q=c("ContextualLayerDimensions").getLayerRect(this._layer,k);B=h(m,q);if(B>D){D=B;C=o}}k.setAlignment(n[C])};i.prototype.__setBestPosition=function(j,k,l){"use strict";if(j>=0)k.setPosition(l[j]);else k.setPosition(l.includes("below")?"below":l[0])};i.prototype.getValidPositions=function(j){"use strict";__p&&__p();var k=[j.getPosition(),j.getOppositePosition()],l=this._layer.getContextScrollParent();if(l===window||l===c("getDocumentScrollElement")())return k;var m=this._layer.getContext(),n=c("Vector").getElementPosition(l,"viewport").y,o=c("Vector").getElementPosition(m,"viewport").y;if(j.isVertical())return k.filter(function(q){if(q==="above")return o>=n;else{var p=n+l.offsetHeight,r=o+m.offsetHeight;return r<=p}});else{var p=n+l.offsetHeight;if(o>=n&&o+m.offsetHeight<=p)return k;else return[]}};i.prototype._getValidAlignments=function(j){"use strict";var k=["left","right","center"],l=j.getAlignment(),m=k.indexOf(l);if(m>0){k.splice(m,1);k.unshift(l)}return k};Object.assign(i.prototype,{_subscription:null});f.exports=i}),null);
__d("ContextualLayerAutoFlipHorizontal",["ContextualLayerAutoFlip"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ContextualLayerAutoFlip"));i=h&&h.prototype;j.prototype.getValidPositions=function(k){"use strict";return[k.getPosition()]};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("ContextualLayerHideOnScrollOut",["Event","SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$ContextualLayerHideOnScrollOut1=i}h.prototype.enable=function(){"use strict";if(!this.$ContextualLayerHideOnScrollOut2){this.$ContextualLayerHideOnScrollOut2=new(c("SubscriptionsHandler"))();this.$ContextualLayerHideOnScrollOut2.addSubscriptions(this.$ContextualLayerHideOnScrollOut1.subscribe("contextchange",this.$ContextualLayerHideOnScrollOut3.bind(this)),this.$ContextualLayerHideOnScrollOut1.subscribe("show",this.$ContextualLayerHideOnScrollOut4.bind(this)),this.$ContextualLayerHideOnScrollOut1.subscribe("hide",this.$ContextualLayerHideOnScrollOut5.bind(this)))}};h.prototype.disable=function(){"use strict";if(this.$ContextualLayerHideOnScrollOut2){this.$ContextualLayerHideOnScrollOut2.release();this.$ContextualLayerHideOnScrollOut2=undefined}this.$ContextualLayerHideOnScrollOut5()};h.prototype.$ContextualLayerHideOnScrollOut4=function(){"use strict";if(!this.$ContextualLayerHideOnScrollOut6){this.$ContextualLayerHideOnScrollOut7=this.$ContextualLayerHideOnScrollOut1.getContextScrollParent();if(this.$ContextualLayerHideOnScrollOut7===window)return;this.$ContextualLayerHideOnScrollOut6=c("Event").listen(this.$ContextualLayerHideOnScrollOut7,"scroll",this.$ContextualLayerHideOnScrollOut8.bind(this))}};h.prototype.$ContextualLayerHideOnScrollOut5=function(){"use strict";if(this.$ContextualLayerHideOnScrollOut6){this.$ContextualLayerHideOnScrollOut6.remove();this.$ContextualLayerHideOnScrollOut6=undefined;this.$ContextualLayerHideOnScrollOut7=undefined}};h.prototype.$ContextualLayerHideOnScrollOut8=function(){"use strict";var i=this.$ContextualLayerHideOnScrollOut1.getContent().getBoundingClientRect(),j=this.$ContextualLayerHideOnScrollOut7.getBoundingClientRect(),k=i.bottom<=j.top||i.top>=j.bottom,l=i.right<=j.left||i.left>=j.right;if(k||l)this.$ContextualLayerHideOnScrollOut1.hide()};h.prototype.$ContextualLayerHideOnScrollOut3=function(){"use strict";this.detach();if(this.$ContextualLayerHideOnScrollOut1.isShown())this.attach()};f.exports=h}),null);
__d("ContextualLayerUpdateOnScroll",["Event"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._attachScrollListener.bind(this)),this._layer.subscribe("hide",this._removeScrollListener.bind(this))]};h.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe()};h.prototype._attachScrollListener=function(){"use strict";if(this._listener)return;var i=this._layer.getContextScrollParent();this._listener=c("Event").listen(i,"scroll",this._layer.updatePosition.bind(this._layer))};h.prototype._removeScrollListener=function(){"use strict";this._listener&&this._listener.remove();this._listener=null};Object.assign(h.prototype,{_subscriptions:[]});f.exports=h}),null);
__d("MessengerReactionsContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("ReactLayer").createClass(c("ReactAbstractContextualDialog").createSpec({addedBehaviors:[c("ContextualLayerAutoFlipHorizontal"),c("ContextualLayerHideOnScrollOut"),c("ContextualLayerUpdateOnScroll"),c("LayerHideOnEscape"),c("AccessibleLayer")],displayName:"MessengerReactionsContextualDialog",shouldSetARIAProperties:false,theme:{wrapperClassName:"_4owc"}}));f.exports=i}),null);
__d("EmojiFormat",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l){return l.split("_").map(function(m){return parseInt(m,16)})}function i(l){return l.map(function(m){return m.toString(16)}).join("_")}function j(l){var m="";for(var n=0;n<l.length;n++)m+=String.fromCodePoint(l[n]);return m}function k(l){var m=this.codeStringToCodeArray(l);return this.codeArrayToUnicode(m)}f.exports={codeArrayToCodeString:i,codeArrayToUnicode:j,codeStringToCodeArray:h,codeStringToUnicode:k}}),null);
__d("MessengerReactionsUtil",["EmojiFormat"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=[[128525],[128518],[128558],[128546],[128544],[128077],[128078]],i={};h.forEach(function(j,k){i[c("EmojiFormat").codeArrayToUnicode(j)]=k+1});f.exports={sortFunction:function j(k,l){if(!i[k]&&!i[l])return 0;else if(!i[k])return 1;else if(!i[l])return-1;return i[k]-i[l]},defaultReactions:h.map(c("EmojiFormat").codeArrayToUnicode)}}),null);
__d("XAsyncRequest",["AsyncRequest"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$XAsyncRequest1=new(c("AsyncRequest"))(i)}h.prototype.setMethod=function(i){"use strict";this.$XAsyncRequest1.setMethod(i);return this};h.prototype.setData=function(i){"use strict";this.$XAsyncRequest1.setData(i);return this};h.prototype.setHandler=function(i){"use strict";this.$XAsyncRequest1.setHandler(i);return this};h.prototype.setErrorHandler=function(i){"use strict";this.$XAsyncRequest1.setErrorHandler(i);return this};h.prototype.send=function(){"use strict";this.$XAsyncRequest1.send();return this};h.prototype.abort=function(){"use strict";this.$XAsyncRequest1.abort()};h.prototype.setReadOnly=function(i){"use strict";this.$XAsyncRequest1.setReadOnly(i);return this};f.exports=h}),null);
__d("MessagingThreadType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5})}),null);
__d("getThreadTypeNameFromThreadType",["MessagingThreadType"],(function a(b,c,d,e,f,g){"use strict";function h(i){for(var j in c("MessagingThreadType"))if(c("MessagingThreadType")[j]===i)return j;return""}f.exports=h}),null);
__d("MessengerReactionsMenu.react",["cx","Promise","Bootloader","CurrentUser","CSS","DOM","DOMContainer.react","MercuryIDs","MercuryMessages","MercuryThreads","MessengerMessageActionsTypedLogger","MessengerReactionsContextualDialog.react","MessengerTextWithEmoticons.react","MessengerReactionsWebConfig","MessengerReactionsUtil","MessageReactionMutationWebGraphQLMutation","React","XAsyncRequest","createCancelableFunction","getThreadTypeNameFromThreadType","gkx","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={animations:{},reactions:c("MessengerReactionsUtil").defaultReactions.slice()},this.$MessengerReactionsMenu7=function(q){!q&&this.props.onHide()}.bind(this),m}k.prototype.componentDidMount=function(){if(c("gkx")("AT7dFvDvstgBLQPTzIVQ-K_BRNJQyn38FQ8LsrhoWHNPhYTHpIiylBssyGU3E_0HnxERJO-whPUbuICbRNRkf3gv")){this.$MessengerReactionsMenu1=c("createCancelableFunction")(function(l){return this.setState({animations:l})}.bind(this));this.loadAnimations().done(this.$MessengerReactionsMenu1)}this.$MessengerReactionsMenu2()};k.prototype.componentWillReceiveProps=function(l){this.$MessengerReactionsMenu2()};k.prototype.componentWillUnmount=function(){this.$MessengerReactionsMenu1&&this.$MessengerReactionsMenu1.cancel()};k.prototype.$MessengerReactionsMenu2=function(){if(this.props.useChatEmojiReact){var l,m=c("MessengerReactionsUtil").defaultReactions.slice(),n=c("MercuryThreads").get().getThreadMetaNow(this.props.message.thread_id),o=(l=n)!=null?(l=l.custom_like_icon)!=null?l.emoji:l:l;if(o!=null&&!m.includes(o))m.push(o);this.setState({reactions:m})}};k.prototype.$MessengerReactionsMenu3=function(l,m){var n=c("DOM").create("span");l.loadAnimation({wrapper:n,animationData:m,renderer:"svg",loop:true,autoplay:true});return n};k.prototype.$MessengerReactionsMenu4=function(){__p&&__p();return new(c("Promise"))(function(l){c("Bootloader").loadModules(["bodymovin","MessengerReactionEmojiLove","MessengerReactionEmojiHaha","MessengerReactionEmojiWow","MessengerReactionEmojiSad","MessengerReactionEmojiAngry","MessengerReactionEmojiThumbsUp","MessengerReactionEmojiThumbsDown"],function(m){var n=c("MessengerReactionsUtil").defaultReactions,o={};for(var p=arguments.length,q=Array(p>1?p-1:0),r=1;r<p;r++)q[r-1]=arguments[r];for(var s=0;s<n.length;s++){var t=n[s];o[t]=this.$MessengerReactionsMenu3(m,q[s])}l(o)}.bind(this),"MessengerReactionsMenu.react")}.bind(this))};k.prototype.$MessengerReactionsMenu5=function(){return new(c("Promise"))(function(l){return c("Bootloader").loadModules(["Keyframes"],function(m){return l(m)},"MessengerReactionsMenu.react")})};k.prototype.$MessengerReactionsMenu6=function(){return this.$MessengerReactionsMenu5().then(function(l){return c("Promise").all(["love","haha","wow","sad","angry","thumbsup","thumbsdown"].map(function(m){return l.requestRenderer(c("MessengerReactionsWebConfig").paths[m],{projectName:"messaging_reactions",assetName:m})}))}).then(function(l){return l.map(function(m){var n=m.setWidth(45).setHeight(45).repeatForever().play().redrawIfNeeded().getElement();c("CSS").addClass(n,"_37pj");return n}).reduce(function(m,n,o){m[c("MessengerReactionsUtil").defaultReactions[o]]=n;return m},{})})};k.prototype.loadAnimations=function(){var l=Date.now(),m=c("gkx")("AT73IznQIkY02C9rV8vL4R3YkbSkACVgXraE8X-uFkb_OT2PRV3iP4-_YrhXstfluJNPnsiHG095PXy59ZeAc60gRt0fnbAP-74qBQSunTkZDQ")?this.$MessengerReactionsMenu6():this.$MessengerReactionsMenu4();m.done(function(n){c("Bootloader").loadModules(["MessengerRestReactionTypedLogger"],function(o){new o().setLoadedTime(Date.now()-l).log()},"MessengerReactionsMenu.react")});return m};k.prototype.render=function(){var l=c("CurrentUser").getID(),m=this.props.message.reactions&&this.props.message.reactions[l];return c("React").createElement(c("MessengerReactionsContextualDialog.react"),{alignment:"center",contextRef:this.props.refProp,shown:true,onBlur:this.props.onHide,onToggle:this.$MessengerReactionsMenu7},c("React").createElement("div",{role:"listbox","aria-orientation":"horizontal",className:"_1z8q _fy2"},this.state.reactions.map(function(n){return c("React").createElement("span",{className:"_1z8r"+(n===m?" _5-2b":""),id:n,key:n,onClick:function(){return this.$MessengerReactionsMenu8(n)}.bind(this),role:"option","aria-selected":n===m,tabIndex:"0"},!this.state.animations[n]?c("React").createElement(c("MessengerTextWithEmoticons.react"),{customSize:true,renderEmoticons:true,renderEmoji:true,text:n}):c("React").createElement(c("DOMContainer.react"),null,this.state.animations[n]))}.bind(this))))};k.prototype.$MessengerReactionsMenu8=function(l){var m=this.props,n=m.message,o=m.entryPoint,p=c("CurrentUser").getID(),q=n.reactions&&n.reactions[p],r=c("MercuryMessages").get().getServerMessageID(n.message_id),s=c("MessageReactionMutationWebGraphQLMutation").getURI({action:l===q?"REMOVE_REACTION":"ADD_REACTION",message_id:r,actor_id:p,reaction:l}),t=function t(u){var v=n.other_user_fbid||n.thread_fbid,w=c("MercuryThreads").get().getThreadMetaNow(n.thread_id),x=w&&w.participants?w.participants.length:0,y=c("getThreadTypeNameFromThreadType")(w&&w.thread_type),z=n.attachments[0],A=new(c("MessengerMessageActionsTypedLogger"))().setAction("reaction").setOfflineThreadid(n.offline_threading_id).setMid(r).setRecipientID(c("MercuryIDs").getUserIDFromParticipantID(n.author)).setEntryPoint(o).setReaction(l).setPreviousReaction(q).setGroupSize(x).setThreadType(y).setThreadid(v);if(u.errorSummary)A=A.setErrorText(u.errorSummary.toString());if(z)A=A.setMessageType(z.attach_type);A.log()};new(c("XAsyncRequest"))(s).setMethod("POST").setHandler(t).send();this.props.onHide()};f.exports=k}),null);
__d("MessengerReactionsPrompt.react",["cx","ix","Image.react","MessengerReactionsMenu.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={open:false},this.$MessengerReactionsPrompt1=function(){this.setState({open:true},function(){return this.props.onShowMenu&&this.props.onShowMenu(this.state.open)}.bind(this))}.bind(this),this.$MessengerReactionsPrompt2=function(){this.setState({open:false},function(){return this.props.onShowMenu&&this.props.onShowMenu(this.state.open)}.bind(this))}.bind(this),n}l.prototype.render=function(){if(!this.props.messageIsSelected&&!this.state.open)return null;return c("React").createElement("span",{className:(!this.props.isQuickAdd?"_5zvq":"")+(this.props.isQuickAdd?" _yav":""),onClick:this.state.open?null:this.$MessengerReactionsPrompt1,ref:"button"},c("React").createElement(c("Image.react"),{src:this.props.isQuickAdd?i("278123"):this.state.open?i("277597"):i("277596")}),this.renderMenu())};l.prototype.renderMenu=function(){if(!this.state.open)return null;return c("React").createElement(c("MessengerReactionsMenu.react"),{entryPoint:"awareness_plus",message:this.props.message,onHide:this.$MessengerReactionsPrompt2,refProp:function(){return this.refs.button}.bind(this),useChatEmojiReact:this.props.useChatEmojiReact})};f.exports=l}),null);
__d("immutable",[],(function aa(ba,ca,da,ea,fa,ga){(function(ba,a){typeof ga==="object"&&typeof fa!=="undefined"?fa.exports=a():typeof define==="function"&&define.amd?define(a):ba.Immutable=a()})(this,function(){"use strict";var a=Array.prototype.slice;function b(L,M){if(M)L.prototype=Object.create(M.prototype);L.prototype.constructor=L}var ha="delete",c=5,d=1<<c,e=d-1,f={},ia={value:false},ja={value:false};function ka(L){L.value=false;return L}function g(L){L&&(L.value=true)}function la(){}function ma(L,M){M=M||0;var N=Math.max(0,L.length-M),O=new Array(N);for(var P=0;P<N;P++)O[P]=L[P+M];return O}function na(L){if(L.size===undefined)L.size=L.__iterate(pa);return L.size}function oa(L,M){return M>=0?+M:na(L)+ +M}function pa(){return true}function qa(L,M,N){return(L===0||N!==undefined&&L<=-N)&&(M===undefined||N!==undefined&&M>=N)}function ra(L,M){return ta(L,M,0)}function sa(L,M){return ta(L,M,M)}function ta(L,M,N){return L===undefined?N:L<0?Math.max(0,M+L):M===undefined?L:Math.min(M,L)}function h(L){return k(L)?L:r(L)}b(i,h);function i(L){return l(L)?L:s(L)}b(ua,h);function ua(L){return m(L)?L:t(L)}b(j,h);function j(L){return k(L)&&!va(L)?L:La(L)}function k(L){return!!(L&&L[xa])}function l(L){return!!(L&&L[ya])}function m(L){return!!(L&&L[za])}function va(L){return l(L)||m(L)}function wa(L){return!!(L&&L[Aa])}h.isIterable=k;h.isKeyed=l;h.isIndexed=m;h.isAssociative=va;h.isOrdered=wa;h.Keyed=i;h.Indexed=ua;h.Set=j;var xa="@@__IMMUTABLE_ITERABLE__@@",ya="@@__IMMUTABLE_KEYED__@@",za="@@__IMMUTABLE_INDEXED__@@",Aa="@@__IMMUTABLE_ORDERED__@@",Ba=0,n=1,Ca=2,Da=typeof Symbol==="function"&&Symbol.iterator,Ea="@@iterator",Fa=Da||Ea;function o(L){this.next=L}o.prototype.toString=function(){return"[Iterator]"};o.KEYS=Ba;o.VALUES=n;o.ENTRIES=Ca;o.prototype.inspect=o.prototype.toSource=function(){return this.toString()};o.prototype[Fa]=function(){return this};function p(L,M,N,O){var P=L===0?M:L===1?N:[M,N];O?O.value=P:O={value:P,done:false};return O}function q(){return{value:undefined,done:true}}function Ga(L){return!!Ja(L)}function Ha(L){return L&&typeof L.next==="function"}function Ia(L){var M=Ja(L);return M&&M.call(L)}function Ja(L){var M=L&&(Da&&L[Da]||L[Ea]);if(typeof M==="function")return M}function Ka(L){return L&&typeof L.length==="number"}b(r,h);function r(L){return L===null||L===undefined?Ta():k(L)?L.toSeq():Wa(L)}r.of=function(){return r(arguments)};r.prototype.toSeq=function(){return this};r.prototype.toString=function(){return this.__toString("Seq {","}")};r.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length}return this};r.prototype.__iterate=function(L,M){return Ya(this,L,M,true)};r.prototype.__iterator=function(L,M){return Za(this,L,M,true)};b(s,r);function s(L){return L===null||L===undefined?Ta().toKeyedSeq():k(L)?l(L)?L.toSeq():L.fromEntrySeq():Ua(L)}s.prototype.toKeyedSeq=function(){return this};b(t,r);function t(L){return L===null||L===undefined?Ta():!k(L)?Va(L):l(L)?L.entrySeq():L.toIndexedSeq()}t.of=function(){return t(arguments)};t.prototype.toIndexedSeq=function(){return this};t.prototype.toString=function(){return this.__toString("Seq [","]")};t.prototype.__iterate=function(L,M){return Ya(this,L,M,false)};t.prototype.__iterator=function(L,M){return Za(this,L,M,false)};b(La,r);function La(L){return(L===null||L===undefined?Ta():!k(L)?Va(L):l(L)?L.entrySeq():L).toSetSeq()}La.of=function(){return La(arguments)};La.prototype.toSetSeq=function(){return this};r.isSeq=Ra;r.Keyed=s;r.Set=La;r.Indexed=t;var Ma="@@__IMMUTABLE_SEQ__@@";r.prototype[Ma]=true;b(Na,t);function Na(L){this._array=L;this.size=L.length}Na.prototype.get=function(L,M){return this.has(L)?this._array[oa(this,L)]:M};Na.prototype.__iterate=function(L,M){var N=this._array,O=N.length-1;for(var P=0;P<=O;P++)if(L(N[M?O-P:P],P,this)===false)return P+1;return P};Na.prototype.__iterator=function(L,M){var N=this._array,O=N.length-1,P=0;return new o(function(){return P>O?q():p(L,P,N[M?O-P++:P++])})};b(Oa,s);function Oa(L){var M=Object.keys(L);this._object=L;this._keys=M;this.size=M.length}Oa.prototype.get=function(L,M){if(M!==undefined&&!this.has(L))return M;return this._object[L]};Oa.prototype.has=function(L){return this._object.hasOwnProperty(L)};Oa.prototype.__iterate=function(L,M){var N=this._object,O=this._keys,P=O.length-1;for(var Q=0;Q<=P;Q++){var R=O[M?P-Q:Q];if(L(N[R],R,this)===false)return Q+1}return Q};Oa.prototype.__iterator=function(L,M){var N=this._object,O=this._keys,P=O.length-1,Q=0;return new o(function(){var R=O[M?P-Q:Q];return Q++>P?q():p(L,R,N[R])})};Oa.prototype[Aa]=true;b(Pa,t);function Pa(L){this._iterable=L;this.size=L.length||L.size}Pa.prototype.__iterateUncached=function(L,M){if(M)return this.cacheResult().__iterate(L,M);var N=this._iterable,O=Ia(N),P=0;if(Ha(O)){var Q;while(!(Q=O.next()).done)if(L(Q.value,P++,this)===false)break}return P};Pa.prototype.__iteratorUncached=function(L,M){if(M)return this.cacheResult().__iterator(L,M);var N=this._iterable,O=Ia(N);if(!Ha(O))return new o(q);var P=0;return new o(function(){var Q=O.next();return Q.done?Q:p(L,P++,Q.value)})};b(Qa,t);function Qa(L){this._iterator=L;this._iteratorCache=[]}Qa.prototype.__iterateUncached=function(L,M){if(M)return this.cacheResult().__iterate(L,M);var N=this._iterator,O=this._iteratorCache,P=0;while(P<O.length)if(L(O[P],P++,this)===false)return P;var Q;while(!(Q=N.next()).done){var R=Q.value;O[P]=R;if(L(R,P++,this)===false)break}return P};Qa.prototype.__iteratorUncached=function(L,M){if(M)return this.cacheResult().__iterator(L,M);var N=this._iterator,O=this._iteratorCache,P=0;return new o(function(){if(P>=O.length){var Q=N.next();if(Q.done)return Q;O[P]=Q.value}return p(L,P,O[P++])})};function Ra(L){return!!(L&&L[Ma])}var Sa;function Ta(){return Sa||(Sa=new Na([]))}function Ua(L){var M=Array.isArray(L)?new Na(L).fromEntrySeq():Ha(L)?new Qa(L).fromEntrySeq():Ga(L)?new Pa(L).fromEntrySeq():typeof L==="object"?new Oa(L):undefined;if(!M)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+L);return M}function Va(L){var M=Xa(L);if(!M)throw new TypeError("Expected Array or iterable object of values: "+L);return M}function Wa(L){var M=Xa(L)||typeof L==="object"&&new Oa(L);if(!M)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+L);return M}function Xa(L){return Ka(L)?new Na(L):Ha(L)?new Qa(L):Ga(L)?new Pa(L):undefined}function Ya(L,M,N,O){var P=L._cache;if(P){var Q=P.length-1;for(var R=0;R<=Q;R++){var S=P[N?Q-R:R];if(M(S[1],O?S[0]:R,L)===false)return R+1}return R}return L.__iterateUncached(M,N)}function Za(L,M,N,O){var P=L._cache;if(P){var Q=P.length-1,R=0;return new o(function(){var S=P[N?Q-R:R];return R++>Q?q():p(M,O?S[0]:R-1,S[1])})}return L.__iteratorUncached(M,N)}b($a,h);function $a(){throw TypeError("Abstract")}b(ab,$a);function ab(){}b(bb,$a);function bb(){}b(cb,$a);function cb(){}$a.Keyed=ab;$a.Indexed=bb;$a.Set=cb;function u(L,M){if(L===M||L!==L&&M!==M)return true;if(!L||!M)return false;if(typeof L.valueOf==="function"&&typeof M.valueOf==="function"){L=L.valueOf();M=M.valueOf();if(L===M||L!==L&&M!==M)return true;if(!L||!M)return false}if(typeof L.equals==="function"&&typeof M.equals==="function"&&L.equals(M))return true;return false}function db(L,M){return M?eb(M,L,"",{"":L}):fb(L)}function eb(L,M,N,O){if(Array.isArray(M))return L.call(O,N,t(M).map(function(P,Q){return eb(L,P,Q,M)}));if(gb(M))return L.call(O,N,s(M).map(function(P,Q){return eb(L,P,Q,M)}));return M}function fb(L){if(Array.isArray(L))return t(L).map(fb).toList();if(gb(L))return s(L).map(fb).toMap();return L}function gb(L){return L&&(L.constructor===Object||L.constructor===undefined)}var hb=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function L(M,N){M=M|0;N=N|0;var O=M&65535,P=N&65535;return O*P+((M>>>16)*P+O*(N>>>16)<<16>>>0)|0};function ib(L){return L>>>1&1073741824|L&3221225471}function v(L){if(L===false||L===null||L===undefined)return 0;if(typeof L.valueOf==="function"){L=L.valueOf();if(L===false||L===null||L===undefined)return 0}if(L===true)return 1;var M=typeof L;if(M==="number"){var N=L|0;if(N!==L)N^=L*4294967295;while(L>4294967295){L/=4294967295;N^=L}return ib(N)}if(M==="string")return L.length>tb?jb(L):kb(L);if(typeof L.hashCode==="function")return L.hashCode();return lb(L)}function jb(L){var v=wb[L];if(v===undefined){v=kb(L);if(vb===ub){vb=0;wb={}}vb++;wb[L]=v}return v}function kb(L){var v=0;for(var M=0;M<L.length;M++)v=31*v+L.charCodeAt(M)|0;return ib(v)}function lb(L){var v;if(pb){v=qb.get(L);if(v!==undefined)return v}v=L[sb];if(v!==undefined)return v;if(!nb){v=L.propertyIsEnumerable&&L.propertyIsEnumerable[sb];if(v!==undefined)return v;v=ob(L);if(v!==undefined)return v}v=++rb;if(rb&1073741824)rb=0;if(pb)qb.set(L,v);else if(mb!==undefined&&mb(L)===false)throw new Error("Non-extensible objects are not allowed as keys.");else if(nb)Object.defineProperty(L,sb,{enumerable:false,configurable:false,writable:false,value:v});else if(L.propertyIsEnumerable!==undefined&&L.propertyIsEnumerable===L.constructor.prototype.propertyIsEnumerable){L.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)};L.propertyIsEnumerable[sb]=v}else if(L.nodeType!==undefined)L[sb]=v;else throw new Error("Unable to set a non-enumerable property on object.");return v}var mb=Object.isExtensible,nb=function(){try{Object.defineProperty({},"@",{});return true}catch(L){return false}}();function ob(L){if(L&&L.nodeType>0)switch(L.nodeType){case 1:return L.uniqueID;case 9:return L.documentElement&&L.documentElement.uniqueID}}var pb=typeof WeakMap==="function",qb;if(pb)qb=new WeakMap();var rb=0,sb="__immutablehash__";if(typeof Symbol==="function")sb=Symbol(sb);var tb=16,ub=255,vb=0,wb={};function xb(L,M){if(!L)throw new Error(M)}function w(L){xb(L!==Infinity,"Cannot perform this action with an infinite size.")}b(yb,s);function yb(L,M){this._iter=L;this._useKeys=M;this.size=L.size}yb.prototype.get=function(L,M){return this._iter.get(L,M)};yb.prototype.has=function(L){return this._iter.has(L)};yb.prototype.valueSeq=function(){return this._iter.valueSeq()};yb.prototype.reverse=function(){var L=this,M=Eb(this,true);if(!this._useKeys)M.valueSeq=function(){return L._iter.toSeq().reverse()};return M};yb.prototype.map=function(L,M){var N=this,O=Db(this,L,M);if(!this._useKeys)O.valueSeq=function(){return N._iter.toSeq().map(L,M)};return O};yb.prototype.__iterate=function(L,M){var N=this,O;return this._iter.__iterate(this._useKeys?function(P,Q){return L(P,Q,N)}:(O=M?Ub(this):0,function(P){return L(P,M?--O:O++,N)}),M)};yb.prototype.__iterator=function(L,M){if(this._useKeys)return this._iter.__iterator(L,M);var N=this._iter.__iterator(n,M),O=M?Ub(this):0;return new o(function(){var P=N.next();return P.done?P:p(L,M?--O:O++,P.value,P)})};yb.prototype[Aa]=true;b(zb,t);function zb(L){this._iter=L;this.size=L.size}zb.prototype.includes=function(L){return this._iter.includes(L)};zb.prototype.__iterate=function(L,M){var N=this,O=0;return this._iter.__iterate(function(P){return L(P,O++,N)},M)};zb.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M),O=0;return new o(function(){var P=N.next();return P.done?P:p(L,O++,P.value,P)})};b(Ab,La);function Ab(L){this._iter=L;this.size=L.size}Ab.prototype.has=function(L){return this._iter.includes(L)};Ab.prototype.__iterate=function(L,M){var N=this;return this._iter.__iterate(function(O){return L(O,O,N)},M)};Ab.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M);return new o(function(){var O=N.next();return O.done?O:p(L,O.value,O.value,O)})};b(Bb,s);function Bb(L){this._iter=L;this.size=L.size}Bb.prototype.entrySeq=function(){return this._iter.toSeq()};Bb.prototype.__iterate=function(L,M){var N=this;return this._iter.__iterate(function(O){if(O){Tb(O);var P=k(O);return L(P?O.get(1):O[1],P?O.get(0):O[0],N)}},M)};Bb.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M);return new o(function(){while(true){var O=N.next();if(O.done)return O;var P=O.value;if(P){Tb(P);var Q=k(P);return p(L,Q?P.get(0):P[0],Q?P.get(1):P[1],O)}}})};zb.prototype.cacheResult=yb.prototype.cacheResult=Ab.prototype.cacheResult=Bb.prototype.cacheResult=Xb;function Cb(L){var M=Wb(L);M._iter=L;M.size=L.size;M.flip=function(){return L};M.reverse=function(){var N=L.reverse.apply(this);N.flip=function(){return L.reverse()};return N};M.has=function(N){return L.includes(N)};M.includes=function(N){return L.has(N)};M.cacheResult=Xb;M.__iterateUncached=function(N,O){var P=this;return L.__iterate(function(Q,R){return N(R,Q,P)!==false},O)};M.__iteratorUncached=function(N,O){if(N===Ca){var P=L.__iterator(N,O);return new o(function(){var Q=P.next();if(!Q.done){var R=Q.value[0];Q.value[0]=Q.value[1];Q.value[1]=R}return Q})}return L.__iterator(N===n?Ba:n,O)};return M}function Db(L,M,N){var O=Wb(L);O.size=L.size;O.has=function(P){return L.has(P)};O.get=function(P,Q){var R=L.get(P,f);return R===f?Q:M.call(N,R,P,L)};O.__iterateUncached=function(P,Q){var R=this;return L.__iterate(function(S,T,U){return P(M.call(N,S,T,U),T,R)!==false},Q)};O.__iteratorUncached=function(P,Q){var R=L.__iterator(Ca,Q);return new o(function(){var S=R.next();if(S.done)return S;var T=S.value,U=T[0];return p(P,U,M.call(N,T[1],U,L),S)})};return O}function Eb(L,M){var N=Wb(L);N._iter=L;N.size=L.size;N.reverse=function(){return L};if(L.flip)N.flip=function(){var O=Cb(L);O.reverse=function(){return L.flip()};return O};N.get=function(O,P){return L.get(M?O:-1-O,P)};N.has=function(O){return L.has(M?O:-1-O)};N.includes=function(O){return L.includes(O)};N.cacheResult=Xb;N.__iterate=function(O,P){var Q=this;return L.__iterate(function(R,S){return O(R,S,Q)},!P)};N.__iterator=function(O,P){return L.__iterator(O,!P)};return N}function Fb(L,M,N,O){var P=Wb(L);if(O){P.has=function(Q){var R=L.get(Q,f);return R!==f&&!!M.call(N,R,Q,L)};P.get=function(Q,R){var S=L.get(Q,f);return S!==f&&M.call(N,S,Q,L)?S:R}}P.__iterateUncached=function(Q,R){var S=this,T=0;L.__iterate(function(U,V,W){if(M.call(N,U,V,W)){T++;return Q(U,O?V:T-1,S)}},R);return T};P.__iteratorUncached=function(Q,R){var S=L.__iterator(Ca,R),T=0;return new o(function(){while(true){var U=S.next();if(U.done)return U;var V=U.value,W=V[0],X=V[1];if(M.call(N,X,W,L))return p(Q,O?W:T++,X,U)}})};return P}function Gb(L,M,N){var O=y().asMutable();L.__iterate(function(P,Q){O.update(M.call(N,P,Q,L),0,function(R){return R+1})});return O.asImmutable()}function Hb(L,M,N){var O=l(L),P=(wa(L)?C():y()).asMutable();L.__iterate(function(R,S){P.update(M.call(N,R,S,L),function(T){return T=T||[],T.push(O?[S,R]:R),T})});var Q=Vb(L);return P.map(function(R){return x(L,Q(R))})}function Ib(L,M,N,O){var P=L.size;if(qa(M,N,P))return L;var Q=ra(M,P),R=sa(N,P);if(Q!==Q||R!==R)return Ib(L.toSeq().cacheResult(),M,N,O);var S=R-Q,T;if(S===S)T=S<0?0:S;var U=Wb(L);U.size=T;if(!O&&Ra(L)&&T>=0)U.get=function(V,W){V=oa(this,V);return V>=0&&V<T?L.get(V+Q,W):W};U.__iterateUncached=function(V,W){var X=this;if(T===0)return 0;if(W)return this.cacheResult().__iterate(V,W);var Y=0,Z=true,$=0;L.__iterate(function(Jd,Kd){if(!(Z&&(Z=Y++<Q))){$++;return V(Jd,O?Kd:$-1,X)!==false&&$!==T}});return $};U.__iteratorUncached=function(V,W){if(T!==0&&W)return this.cacheResult().__iterator(V,W);var X=T!==0&&L.__iterator(V,W),Y=0,Z=0;return new o(function(){while(Y++<Q)X.next();if(++Z>T)return q();var $=X.next();if(O||V===n)return $;else if(V===Ba)return p(V,Z-1,undefined,$);else return p(V,Z-1,$.value[1],$)})};return U}function Jb(L,M,N){var O=Wb(L);O.__iterateUncached=function(P,Q){var R=this;if(Q)return this.cacheResult().__iterate(P,Q);var S=0;L.__iterate(function(T,U,V){return M.call(N,T,U,V)&&++S&&P(T,U,R)});return S};O.__iteratorUncached=function(P,Q){var R=this;if(Q)return this.cacheResult().__iterator(P,Q);var S=L.__iterator(Ca,Q),T=true;return new o(function(){if(!T)return q();var U=S.next();if(U.done)return U;var V=U.value,W=V[0],X=V[1];if(!M.call(N,X,W,R)){T=false;return q()}return P===Ca?U:p(P,W,X,U)})};return O}function Kb(L,M,N,O){var P=Wb(L);P.__iterateUncached=function(Q,R){var S=this;if(R)return this.cacheResult().__iterate(Q,R);var T=true,U=0;L.__iterate(function(V,W,X){if(!(T&&(T=M.call(N,V,W,X)))){U++;return Q(V,O?W:U-1,S)}});return U};P.__iteratorUncached=function(Q,R){var S=this;if(R)return this.cacheResult().__iterator(Q,R);var T=L.__iterator(Ca,R),U=true,V=0;return new o(function(){var W,X,Y;do{W=T.next();if(W.done)if(O||Q===n)return W;else if(Q===Ba)return p(Q,V++,undefined,W);else return p(Q,V++,W.value[1],W);var Z=W.value;X=Z[0];Y=Z[1];U&&(U=M.call(N,Y,X,S))}while(U);return Q===Ca?W:p(Q,X,Y,W)})};return P}function Lb(L,M){var N=l(L),O=[L].concat(M).map(function(R){if(!k(R))R=N?Ua(R):Va(Array.isArray(R)?R:[R]);else if(N)R=i(R);return R}).filter(function(R){return R.size!==0});if(O.length===0)return L;if(O.length===1){var P=O[0];if(P===L||N&&l(P)||m(L)&&m(P))return P}var Q=new Na(O);if(N)Q=Q.toKeyedSeq();else if(!m(L))Q=Q.toSetSeq();Q=Q.flatten(true);Q.size=O.reduce(function(R,S){if(R!==undefined){var T=S.size;if(T!==undefined)return R+T}},0);return Q}function Mb(L,M,N){var O=Wb(L);O.__iterateUncached=function(P,Q){var R=0,S=false;function T(U,V){var W=this;U.__iterate(function(X,Y){if((!M||V<M)&&k(X))T(X,V+1);else if(P(X,N?Y:R++,W)===false)S=true;return!S},Q)}T(L,0);return R};O.__iteratorUncached=function(P,Q){var R=L.__iterator(P,Q),S=[],T=0;return new o(function(){while(R){var U=R.next();if(U.done!==false){R=S.pop();continue}var V=U.value;if(P===Ca)V=V[1];if((!M||S.length<M)&&k(V)){S.push(R);R=V.__iterator(P,Q)}else return N?U:p(P,T++,V,U)}return q()})};return O}function Nb(L,M,N){var O=Vb(L);return L.toSeq().map(function(P,Q){return O(M.call(N,P,Q,L))}).flatten(true)}function Ob(L,M){var N=Wb(L);N.size=L.size&&L.size*2-1;N.__iterateUncached=function(O,P){var Q=this,R=0;L.__iterate(function(S,T){return(!R||O(M,R++,Q)!==false)&&O(S,R++,Q)!==false},P);return R};N.__iteratorUncached=function(O,P){var Q=L.__iterator(n,P),R=0,S;return new o(function(){if(!S||R%2){S=Q.next();if(S.done)return S}return R%2?p(O,R++,M):p(O,R++,S.value,S)})};return N}function Pb(L,M,N){if(!M)M=Yb;var O=l(L),P=0,Q=L.toSeq().map(function(R,S){return[S,R,P++,N?N(R,S,L):R]}).toArray();Q.sort(function(R,S){return M(R[3],S[3])||R[2]-S[2]}).forEach(O?function(R,S){Q[S].length=2}:function(R,S){Q[S]=R[1]});return O?s(Q):m(L)?t(Q):La(Q)}function Qb(L,M,N){if(!M)M=Yb;if(N){var O=L.toSeq().map(function(P,Q){return[P,N(P,Q,L)]}).reduce(function(P,Q){return Rb(M,P[1],Q[1])?Q:P});return O&&O[0]}else return L.reduce(function(P,Q){return Rb(M,P,Q)?Q:P})}function Rb(L,M,N){var O=L(N,M);return O===0&&N!==M&&(N===undefined||N===null||N!==N)||O>0}function Sb(L,M,N){var O=Wb(L);O.size=new Na(N).map(function(P){return P.size}).min();O.__iterate=function(P,Q){var R=this.__iterator(n,Q),S,T=0;while(!(S=R.next()).done)if(P(S.value,T++,this)===false)break;return T};O.__iteratorUncached=function(P,Q){var R=N.map(function(U){return U=h(U),Ia(Q?U.reverse():U)}),S=0,T=false;return new o(function(){var U;if(!T){U=R.map(function(V){return V.next()});T=U.some(function(V){return V.done})}if(T)return q();return p(P,S++,M.apply(null,U.map(function(V){return V.value})))})};return O}function x(L,M){return Ra(L)?M:L.constructor(M)}function Tb(L){if(L!==Object(L))throw new TypeError("Expected [K, V] tuple: "+L)}function Ub(L){w(L.size);return na(L)}function Vb(L){return l(L)?i:m(L)?ua:j}function Wb(L){return Object.create((l(L)?s:m(L)?t:La).prototype)}function Xb(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return r.prototype.cacheResult.call(this)}function Yb(L,M){return L>M?1:L<M?-1:0}function Zb(L){var M=Ia(L);if(!M){if(!Ka(L))throw new TypeError("Expected iterable or array-like: "+L);M=Ia(h(L))}return M}b(y,ab);function y(L){return L===null||L===undefined?lc():$b(L)?L:lc().withMutations(function(M){var N=i(L);w(N.size);N.forEach(function(O,P){return M.set(P,O)})})}y.prototype.toString=function(){return this.__toString("Map {","}")};y.prototype.get=function(L,M){return this._root?this._root.get(0,undefined,L,M):M};y.prototype.set=function(L,M){return mc(this,L,M)};y.prototype.setIn=function(L,M){return this.updateIn(L,f,function(){return M})};y.prototype.remove=function(L){return mc(this,L,f)};y.prototype.deleteIn=function(L){return this.updateIn(L,function(){return f})};y.prototype.update=function(L,M,N){return arguments.length===1?L(this):this.updateIn([L],M,N)};y.prototype.updateIn=function(L,M,N){if(!N){N=M;M=undefined}var O=wc(this,Zb(L),M,N);return O===f?undefined:O};y.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this}return lc()};y.prototype.merge=function(){return tc(this,undefined,arguments)};y.prototype.mergeWith=function(L){var M=a.call(arguments,1);return tc(this,L,M)};y.prototype.mergeIn=function(L){var M=a.call(arguments,1);return this.updateIn(L,lc(),function(N){return typeof N.merge==="function"?N.merge.apply(N,M):M[M.length-1]})};y.prototype.mergeDeep=function(){return tc(this,uc(undefined),arguments)};y.prototype.mergeDeepWith=function(L){var M=a.call(arguments,1);return tc(this,uc(L),M)};y.prototype.mergeDeepIn=function(L){var M=a.call(arguments,1);return this.updateIn(L,lc(),function(N){return typeof N.mergeDeep==="function"?N.mergeDeep.apply(N,M):M[M.length-1]})};y.prototype.sort=function(L){return C(Pb(this,L))};y.prototype.sortBy=function(L,M){return C(Pb(this,M,L))};y.prototype.withMutations=function(L){var M=this.asMutable();L(M);return M.wasAltered()?M.__ensureOwner(this.__ownerID):this};y.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new la())};y.prototype.asImmutable=function(){return this.__ensureOwner()};y.prototype.wasAltered=function(){return this.__altered};y.prototype.__iterator=function(L,M){return new gc(this,L,M)};y.prototype.__iterate=function(L,M){var N=this,O=0;this._root&&this._root.iterate(function(P){O++;return L(P[1],P[0],N)},M);return O};y.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;this.__altered=false;return this}return jc(this.size,this._root,L,this.__hash)};function $b(L){return!!(L&&L[ac])}y.isMap=$b;var ac="@@__IMMUTABLE_MAP__@@",z=y.prototype;z[ac]=true;z[ha]=z.remove;z.removeIn=z.deleteIn;function bc(L,M){this.ownerID=L;this.entries=M}bc.prototype.get=function(L,M,N,O){var P=this.entries;for(var Q=0,R=P.length;Q<R;Q++)if(u(N,P[Q][0]))return P[Q][1];return O};bc.prototype.update=function(L,M,N,O,P,Q,R){var S=P===f,T=this.entries,U=0;for(var V=T.length;U<V;U++)if(u(O,T[U][0]))break;var W=U<V;if(W?T[U][1]===P:S)return this;g(R);(S||!W)&&g(Q);if(S&&T.length===1)return;if(!W&&!S&&T.length>=Bc)return qc(L,T,O,P);var X=L&&L===this.ownerID,Y=X?T:ma(T);if(W)if(S)U===V-1?Y.pop():Y[U]=Y.pop();else Y[U]=[O,P];else Y.push([O,P]);if(X){this.entries=Y;return this}return new bc(L,Y)};function cc(L,M,N){this.ownerID=L;this.bitmap=M;this.nodes=N}cc.prototype.get=function(L,M,N,O){if(M===undefined)M=v(N);var P=1<<((L===0?M:M>>>L)&e),Q=this.bitmap;return(Q&P)===0?O:this.nodes[xc(Q&P-1)].get(L+c,M,N,O)};cc.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=(M===0?N:N>>>M)&e,T=1<<S,U=this.bitmap,V=(U&T)!==0;if(!V&&P===f)return this;var W=xc(U&T-1),X=this.nodes,Y=V?X[W]:undefined,Z=nc(Y,L,M+c,N,O,P,Q,R);if(Z===Y)return this;if(!V&&Z&&X.length>=Cc)return sc(L,X,U,S,Z);if(V&&!Z&&X.length===2&&oc(X[W^1]))return X[W^1];if(V&&Z&&X.length===1&&oc(Z))return Z;var $=L&&L===this.ownerID,Jd=V?Z?U:U^T:U|T,Kd=V?Z?yc(X,W,Z,$):Ac(X,W,$):zc(X,W,Z,$);if($){this.bitmap=Jd;this.nodes=Kd;return this}return new cc(L,Jd,Kd)};function dc(L,M,N){this.ownerID=L;this.count=M;this.nodes=N}dc.prototype.get=function(L,M,N,O){if(M===undefined)M=v(N);var P=(L===0?M:M>>>L)&e,Q=this.nodes[P];return Q?Q.get(L+c,M,N,O):O};dc.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=(M===0?N:N>>>M)&e,T=P===f,U=this.nodes,V=U[S];if(T&&!V)return this;var W=nc(V,L,M+c,N,O,P,Q,R);if(W===V)return this;var X=this.count;if(!V)X++;else if(!W){X--;if(X<Dc)return rc(L,U,X,S)}var Y=L&&L===this.ownerID,Z=yc(U,S,W,Y);if(Y){this.count=X;this.nodes=Z;return this}return new dc(L,X,Z)};function ec(L,M,N){this.ownerID=L;this.keyHash=M;this.entries=N}ec.prototype.get=function(L,M,N,O){var P=this.entries;for(var Q=0,R=P.length;Q<R;Q++)if(u(N,P[Q][0]))return P[Q][1];return O};ec.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=P===f;if(N!==this.keyHash){if(S)return this;g(R);g(Q);return pc(this,L,M,N,[O,P])}var T=this.entries,U=0;for(var V=T.length;U<V;U++)if(u(O,T[U][0]))break;var W=U<V;if(W?T[U][1]===P:S)return this;g(R);(S||!W)&&g(Q);if(S&&V===2)return new fc(L,this.keyHash,T[U^1]);var X=L&&L===this.ownerID,Y=X?T:ma(T);if(W)if(S)U===V-1?Y.pop():Y[U]=Y.pop();else Y[U]=[O,P];else Y.push([O,P]);if(X){this.entries=Y;return this}return new ec(L,this.keyHash,Y)};function fc(L,M,N){this.ownerID=L;this.keyHash=M;this.entry=N}fc.prototype.get=function(L,M,N,O){return u(N,this.entry[0])?this.entry[1]:O};fc.prototype.update=function(L,M,N,O,P,Q,R){var S=P===f,T=u(O,this.entry[0]);if(T?P===this.entry[1]:S)return this;g(R);if(S){g(Q);return}if(T){if(L&&L===this.ownerID){this.entry[1]=P;return this}return new fc(L,this.keyHash,[O,P])}g(Q);return pc(this,L,M,v(O),[O,P])};bc.prototype.iterate=ec.prototype.iterate=function(L,M){var N=this.entries;for(var O=0,P=N.length-1;O<=P;O++)if(L(N[M?P-O:O])===false)return false};cc.prototype.iterate=dc.prototype.iterate=function(L,M){var N=this.nodes;for(var O=0,P=N.length-1;O<=P;O++){var Q=N[M?P-O:O];if(Q&&Q.iterate(L,M)===false)return false}};fc.prototype.iterate=function(L,M){return L(this.entry)};b(gc,o);function gc(L,M,N){this._type=M;this._reverse=N;this._stack=L._root&&ic(L._root)}gc.prototype.next=function(){var L=this._type,M=this._stack;while(M){var N=M.node,O=M.index++,P;if(N.entry){if(O===0)return hc(L,N.entry)}else if(N.entries){P=N.entries.length-1;if(O<=P)return hc(L,N.entries[this._reverse?P-O:O])}else{P=N.nodes.length-1;if(O<=P){var Q=N.nodes[this._reverse?P-O:O];if(Q){if(Q.entry)return hc(L,Q.entry);M=this._stack=ic(Q,M)}continue}}M=this._stack=this._stack.__prev}return q()};function hc(L,M){return p(L,M[0],M[1])}function ic(L,M){return{node:L,index:0,__prev:M}}function jc(L,M,N,v){var O=Object.create(z);O.size=L;O._root=M;O.__ownerID=N;O.__hash=v;O.__altered=false;return O}var kc;function lc(){return kc||(kc=jc(0))}function mc(L,M,N){var O,P;if(!L._root){if(N===f)return L;P=1;O=new bc(L.__ownerID,[[M,N]])}else{var Q=ka(ia),R=ka(ja);O=nc(L._root,L.__ownerID,0,undefined,M,N,Q,R);if(!R.value)return L;P=L.size+(Q.value?N===f?-1:1:0)}if(L.__ownerID){L.size=P;L._root=O;L.__hash=undefined;L.__altered=true;return L}return O?jc(P,O):lc()}function nc(L,M,N,O,P,Q,R,S){if(!L){if(Q===f)return L;g(S);g(R);return new fc(M,O,[P,Q])}return L.update(M,N,O,P,Q,R,S)}function oc(L){return L.constructor===fc||L.constructor===ec}function pc(L,M,N,O,P){if(L.keyHash===O)return new ec(M,O,[L.entry,P]);var Q=(N===0?L.keyHash:L.keyHash>>>N)&e,R=(N===0?O:O>>>N)&e,S,T=Q===R?[pc(L,M,N+c,O,P)]:(S=new fc(M,O,P),Q<R?[L,S]:[S,L]);return new cc(M,1<<Q|1<<R,T)}function qc(L,M,N,O){if(!L)L=new la();var P=new fc(L,v(N),[N,O]);for(var Q=0;Q<M.length;Q++){var R=M[Q];P=P.update(L,0,undefined,R[0],R[1])}return P}function rc(L,M,N,O){var P=0,Q=0,R=new Array(N);for(var S=0,T=1,U=M.length;S<U;S++,T<<=1){var V=M[S];if(V!==undefined&&S!==O){P|=T;R[Q++]=V}}return new cc(L,P,R)}function sc(L,M,N,O,P){var Q=0,R=new Array(d);for(var S=0;N!==0;S++,N>>>=1)R[S]=N&1?M[Q++]:undefined;R[O]=P;return new dc(L,Q+1,R)}function tc(L,M,N){var O=[];for(var P=0;P<N.length;P++){var Q=N[P],R=i(Q);if(!k(Q))R=R.map(function(S){return db(S)});O.push(R)}return vc(L,M,O)}function uc(L){return function(M,N,O){return M&&M.mergeDeepWith&&k(N)?M.mergeDeepWith(L,N):L?L(M,N,O):N}}function vc(L,M,N){N=N.filter(function(O){return O.size!==0});if(N.length===0)return L;if(L.size===0&&!L.__ownerID&&N.length===1)return L.constructor(N[0]);return L.withMutations(function(L){var O=M?function(Q,R){L.update(R,f,function(S){return S===f?Q:M(S,Q,R)})}:function(Q,R){L.set(R,Q)};for(var P=0;P<N.length;P++)N[P].forEach(O)})}function wc(L,M,N,O){var P=L===f,Q=M.next();if(Q.done){var R=P?N:L,S=O(R);return S===R?L:S}xb(P||L&&L.set,"invalid keyPath");var T=Q.value,U=P?f:L.get(T,f),V=wc(U,M,N,O);return V===U?L:V===f?L.remove(T):(P?lc():L).set(T,V)}function xc(L){L=L-(L>>1&1431655765);L=(L&858993459)+(L>>2&858993459);L=L+(L>>4)&252645135;L=L+(L>>8);L=L+(L>>16);return L&127}function yc(L,M,N,O){var P=O?L:ma(L);P[M]=N;return P}function zc(L,M,N,O){var P=L.length+1;if(O&&M+1===P){L[M]=N;return L}var Q=new Array(P),R=0;for(var S=0;S<P;S++)if(S===M){Q[S]=N;R=-1}else Q[S]=L[S+R];return Q}function Ac(L,M,N){var O=L.length-1;if(N&&M===O){L.pop();return L}var P=new Array(O),Q=0;for(var R=0;R<O;R++){if(R===M)Q=1;P[R]=L[R+Q]}return P}var Bc=d/4,Cc=d/2,Dc=d/4;b(A,bb);function A(L){var M=Lc();if(L===null||L===undefined)return M;if(Ec(L))return L;var N=ua(L),O=N.size;if(O===0)return M;w(O);if(O>0&&O<d)return Jc(0,O,c,null,new Gc(N.toArray()));return M.withMutations(function(P){P.setSize(O);N.forEach(function(Q,R){return P.set(R,Q)})})}A.of=function(){return this(arguments)};A.prototype.toString=function(){return this.__toString("List [","]")};A.prototype.get=function(L,M){L=oa(this,L);if(L<0||L>=this.size)return M;L+=this._origin;var N=Pc(this,L);return N&&N.array[L&e]};A.prototype.set=function(L,M){return Mc(this,L,M)};A.prototype.remove=function(L){return!this.has(L)?this:L===0?this.shift():L===this.size-1?this.pop():this.splice(L,1)};A.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=c;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this}return Lc()};A.prototype.push=function(){var L=arguments,M=this.size;return this.withMutations(function(N){Qc(N,0,M+L.length);for(var O=0;O<L.length;O++)N.set(M+O,L[O])})};A.prototype.pop=function(){return Qc(this,0,-1)};A.prototype.unshift=function(){var L=arguments;return this.withMutations(function(M){Qc(M,-L.length);for(var N=0;N<L.length;N++)M.set(N,L[N])})};A.prototype.shift=function(){return Qc(this,1)};A.prototype.merge=function(){return Rc(this,undefined,arguments)};A.prototype.mergeWith=function(L){var M=a.call(arguments,1);return Rc(this,L,M)};A.prototype.mergeDeep=function(){return Rc(this,uc(undefined),arguments)};A.prototype.mergeDeepWith=function(L){var M=a.call(arguments,1);return Rc(this,uc(L),M)};A.prototype.setSize=function(L){return Qc(this,0,L)};A.prototype.slice=function(L,M){var N=this.size;if(qa(L,M,N))return this;return Qc(this,ra(L,N),sa(M,N))};A.prototype.__iterator=function(L,M){var N=0,O=Ic(this,M);return new o(function(){var P=O();return P===Hc?q():p(L,N++,P)})};A.prototype.__iterate=function(L,M){var N=0,O=Ic(this,M),P;while((P=O())!==Hc)if(L(P,N++,this)===false)break;return N};A.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;return this}return Jc(this._origin,this._capacity,this._level,this._root,this._tail,L,this.__hash)};function Ec(L){return!!(L&&L[Fc])}A.isList=Ec;var Fc="@@__IMMUTABLE_LIST__@@",B=A.prototype;B[Fc]=true;B[ha]=B.remove;B.setIn=z.setIn;B.deleteIn=B.removeIn=z.removeIn;B.update=z.update;B.updateIn=z.updateIn;B.mergeIn=z.mergeIn;B.mergeDeepIn=z.mergeDeepIn;B.withMutations=z.withMutations;B.asMutable=z.asMutable;B.asImmutable=z.asImmutable;B.wasAltered=z.wasAltered;function Gc(L,M){this.array=L;this.ownerID=M}Gc.prototype.removeBefore=function(L,M,N){if(N===M?1<<M:this.array.length===0)return this;var O=N>>>M&e;if(O>=this.array.length)return new Gc([],L);var P=O===0,Q;if(M>0){var R=this.array[O];Q=R&&R.removeBefore(L,M-c,N);if(Q===R&&P)return this}if(P&&!Q)return this;var S=Oc(this,L);if(!P)for(var T=0;T<O;T++)S.array[T]=undefined;if(Q)S.array[O]=Q;return S};Gc.prototype.removeAfter=function(L,M,N){if(N===M?1<<M:this.array.length===0)return this;var O=N-1>>>M&e;if(O>=this.array.length)return this;var P=O===this.array.length-1,Q;if(M>0){var R=this.array[O];Q=R&&R.removeAfter(L,M-c,N);if(Q===R&&P)return this}if(P&&!Q)return this;var S=Oc(this,L);if(!P)S.array.pop();if(Q)S.array[O]=Q;return S};var Hc={};function Ic(L,M){var N=L._origin,O=L._capacity,P=Sc(O),Q=L._tail;return R(L._root,L._level,0);function R(U,V,W){return V===0?S(U,W):T(U,V,W)}function S(U,V){var W=V===P?Q&&Q.array:U&&U.array,X=V>N?0:N-V,Y=O-V;if(Y>d)Y=d;return function(){if(X===Y)return Hc;var Z=M?--Y:X++;return W&&W[Z]}}function T(U,V,W){var X,Y=U&&U.array,Z=W>N?0:N-W>>V,$=(O-W>>V)+1;if($>d)$=d;return function(){do{if(X){var Jd=X();if(Jd!==Hc)return Jd;X=null}if(Z===$)return Hc;var Kd=M?--$:Z++;X=R(Y&&Y[Kd],V-c,W+(Kd<<V))}while(true)}}}function Jc(L,M,N,O,P,Q,v){var R=Object.create(B);R.size=M-L;R._origin=L;R._capacity=M;R._level=N;R._root=O;R._tail=P;R.__ownerID=Q;R.__hash=v;R.__altered=false;return R}var Kc;function Lc(){return Kc||(Kc=Jc(0,0,c))}function Mc(L,M,N){M=oa(L,M);if(M>=L.size||M<0)return L.withMutations(function(L){M<0?Qc(L,M).set(0,N):Qc(L,0,M+1).set(M,N)});M+=L._origin;var O=L._tail,P=L._root,Q=ka(ja);if(M>=Sc(L._capacity))O=Nc(O,L.__ownerID,0,M,N,Q);else P=Nc(P,L.__ownerID,L._level,M,N,Q);if(!Q.value)return L;if(L.__ownerID){L._root=P;L._tail=O;L.__hash=undefined;L.__altered=true;return L}return Jc(L._origin,L._capacity,L._level,P,O)}function Nc(L,M,N,O,P,Q){var R=O>>>N&e,S=L&&R<L.array.length;if(!S&&P===undefined)return L;var T;if(N>0){var U=L&&L.array[R],V=Nc(U,M,N-c,O,P,Q);if(V===U)return L;T=Oc(L,M);T.array[R]=V;return T}if(S&&L.array[R]===P)return L;g(Q);T=Oc(L,M);if(P===undefined&&R===T.array.length-1)T.array.pop();else T.array[R]=P;return T}function Oc(L,M){if(M&&L&&M===L.ownerID)return L;return new Gc(L?L.array.slice():[],M)}function Pc(L,M){if(M>=Sc(L._capacity))return L._tail;if(M<1<<L._level+c){var N=L._root,O=L._level;while(N&&O>0){N=N.array[M>>>O&e];O-=c}return N}}function Qc(L,M,N){var O=L.__ownerID||new la(),P=L._origin,Q=L._capacity,R=P+M,S=N===undefined?Q:N<0?Q+N:P+N;if(R===P&&S===Q)return L;if(R>=S)return L.clear();var T=L._level,U=L._root,V=0;while(R+V<0){U=new Gc(U&&U.array.length?[undefined,U]:[],O);T+=c;V+=1<<T}if(V){R+=V;P+=V;S+=V;Q+=V}var W=Sc(Q),X=Sc(S);while(X>=1<<T+c){U=new Gc(U&&U.array.length?[U]:[],O);T+=c}var Y=L._tail,Z=X<W?Pc(L,S-1):X>W?new Gc([],O):Y;if(Y&&X>W&&R<Q&&Y.array.length){U=Oc(U,O);var $=U;for(var Jd=T;Jd>c;Jd-=c){var Kd=W>>>Jd&e;$=$.array[Kd]=Oc($.array[Kd],O)}$.array[W>>>c&e]=Y}if(S<Q)Z=Z&&Z.removeAfter(O,0,S);if(R>=X){R-=X;S-=X;T=c;U=null;Z=Z&&Z.removeBefore(O,0,R)}else if(R>P||X<W){V=0;while(U){var Ld=R>>>T&e;if(Ld!==X>>>T&e)break;if(Ld)V+=(1<<T)*Ld;T-=c;U=U.array[Ld]}if(U&&R>P)U=U.removeBefore(O,T,R-V);if(U&&X<W)U=U.removeAfter(O,T,X-V);if(V){R-=V;S-=V}}if(L.__ownerID){L.size=S-R;L._origin=R;L._capacity=S;L._level=T;L._root=U;L._tail=Z;L.__hash=undefined;L.__altered=true;return L}return Jc(R,S,T,U,Z)}function Rc(L,M,N){var O=[],P=0;for(var Q=0;Q<N.length;Q++){var R=N[Q],S=ua(R);if(S.size>P)P=S.size;if(!k(R))S=S.map(function(T){return db(T)});O.push(S)}if(P>L.size)L=L.setSize(P);return vc(L,M,O)}function Sc(L){return L<d?0:L-1>>>c<<c}b(C,y);function C(L){return L===null||L===undefined?Wc():Tc(L)?L:Wc().withMutations(function(M){var N=i(L);w(N.size);N.forEach(function(O,P){return M.set(P,O)})})}C.of=function(){return this(arguments)};C.prototype.toString=function(){return this.__toString("OrderedMap {","}")};C.prototype.get=function(L,M){var N=this._map.get(L);return N!==undefined?this._list.get(N)[1]:M};C.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return Wc()};C.prototype.set=function(L,M){return Xc(this,L,M)};C.prototype.remove=function(L){return Xc(this,L,f)};C.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};C.prototype.__iterate=function(L,M){var N=this;return this._list.__iterate(function(O){return O&&L(O[1],O[0],N)},M)};C.prototype.__iterator=function(L,M){return this._list.fromEntrySeq().__iterator(L,M)};C.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map.__ensureOwner(L),N=this._list.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;this._list=N;return this}return Uc(M,N,L,this.__hash)};function Tc(L){return $b(L)&&wa(L)}C.isOrderedMap=Tc;C.prototype[Aa]=true;C.prototype[ha]=C.prototype.remove;function Uc(L,M,N,v){var O=Object.create(C.prototype);O.size=L?L.size:0;O._map=L;O._list=M;O.__ownerID=N;O.__hash=v;return O}var Vc;function Wc(){return Vc||(Vc=Uc(lc(),Lc()))}function Xc(L,M,N){var O=L._map,P=L._list,Q=O.get(M),R=Q!==undefined,S,T;if(N===f){if(!R)return L;if(P.size>=d&&P.size>=O.size*2){T=P.filter(function(U,V){return U!==undefined&&Q!==V});S=T.toKeyedSeq().map(function(U){return U[0]}).flip().toMap();if(L.__ownerID)S.__ownerID=T.__ownerID=L.__ownerID}else{S=O.remove(M);T=Q===P.size-1?P.pop():P.set(Q,undefined)}}else if(R){if(N===P.get(Q)[1])return L;S=O;T=P.set(Q,[M,N])}else{S=O.set(M,P.size);T=P.set(P.size,[M,N])}if(L.__ownerID){L.size=S.size;L._map=S;L._list=T;L.__hash=undefined;return L}return Uc(S,T)}b(D,bb);function D(L){return L===null||L===undefined?cd():Yc(L)?L:cd().unshiftAll(L)}D.of=function(){return this(arguments)};D.prototype.toString=function(){return this.__toString("Stack [","]")};D.prototype.get=function(L,M){var N=this._head;L=oa(this,L);while(N&&L--)N=N.next;return N?N.value:M};D.prototype.peek=function(){return this._head&&this._head.value};D.prototype.push=function(){if(arguments.length===0)return this;var L=this.size+arguments.length,M=this._head;for(var N=arguments.length-1;N>=0;N--)M={value:arguments[N],next:M};if(this.__ownerID){this.size=L;this._head=M;this.__hash=undefined;this.__altered=true;return this}return ad(L,M)};D.prototype.pushAll=function(L){L=ua(L);if(L.size===0)return this;w(L.size);var M=this.size,N=this._head;L.reverse().forEach(function(O){M++;N={value:O,next:N}});if(this.__ownerID){this.size=M;this._head=N;this.__hash=undefined;this.__altered=true;return this}return ad(M,N)};D.prototype.pop=function(){return this.slice(1)};D.prototype.unshift=function(){return this.push.apply(this,arguments)};D.prototype.unshiftAll=function(L){return this.pushAll(L)};D.prototype.shift=function(){return this.pop.apply(this,arguments)};D.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this}return cd()};D.prototype.slice=function(L,M){if(qa(L,M,this.size))return this;var N=ra(L,this.size),O=sa(M,this.size);if(O!==this.size)return bb.prototype.slice.call(this,L,M);var P=this.size-N,Q=this._head;while(N--)Q=Q.next;if(this.__ownerID){this.size=P;this._head=Q;this.__hash=undefined;this.__altered=true;return this}return ad(P,Q)};D.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;this.__altered=false;return this}return ad(this.size,this._head,L,this.__hash)};D.prototype.__iterate=function(L,M){if(M)return this.reverse().__iterate(L);var N=0,O=this._head;while(O){if(L(O.value,N++,this)===false)break;O=O.next}return N};D.prototype.__iterator=function(L,M){if(M)return this.reverse().__iterator(L);var N=0,O=this._head;return new o(function(){if(O){var P=O.value;O=O.next;return p(L,N++,P)}return q()})};function Yc(L){return!!(L&&L[Zc])}D.isStack=Yc;var Zc="@@__IMMUTABLE_STACK__@@",$c=D.prototype;$c[Zc]=true;$c.withMutations=z.withMutations;$c.asMutable=z.asMutable;$c.asImmutable=z.asImmutable;$c.wasAltered=z.wasAltered;function ad(L,M,N,v){var O=Object.create($c);O.size=L;O._head=M;O.__ownerID=N;O.__hash=v;O.__altered=false;return O}var bd;function cd(){return bd||(bd=ad(0))}b(E,cb);function E(L){return L===null||L===undefined?id():dd(L)?L:id().withMutations(function(M){var N=j(L);w(N.size);N.forEach(function(O){return M.add(O)})})}E.of=function(){return this(arguments)};E.fromKeys=function(L){return this(i(L).keySeq())};E.prototype.toString=function(){return this.__toString("Set {","}")};E.prototype.has=function(L){return this._map.has(L)};E.prototype.add=function(L){return fd(this,this._map.set(L,true))};E.prototype.remove=function(L){return fd(this,this._map.remove(L))};E.prototype.clear=function(){return fd(this,this._map.clear())};E.prototype.union=function(){var L=a.call(arguments,0);L=L.filter(function(M){return M.size!==0});if(L.length===0)return this;if(this.size===0&&!this.__ownerID&&L.length===1)return this.constructor(L[0]);return this.withMutations(function(M){for(var N=0;N<L.length;N++)j(L[N]).forEach(function(O){return M.add(O)})})};E.prototype.intersect=function(){var L=a.call(arguments,0);if(L.length===0)return this;L=L.map(function(N){return j(N)});var M=this;return this.withMutations(function(N){M.forEach(function(O){if(!L.every(function(P){return P.includes(O)}))N.remove(O)})})};E.prototype.subtract=function(){var L=a.call(arguments,0);if(L.length===0)return this;L=L.map(function(N){return j(N)});var M=this;return this.withMutations(function(N){M.forEach(function(O){if(L.some(function(P){return P.includes(O)}))N.remove(O)})})};E.prototype.merge=function(){return this.union.apply(this,arguments)};E.prototype.mergeWith=function(L){var M=a.call(arguments,1);return this.union.apply(this,M)};E.prototype.sort=function(L){return jd(Pb(this,L))};E.prototype.sortBy=function(L,M){return jd(Pb(this,M,L))};E.prototype.wasAltered=function(){return this._map.wasAltered()};E.prototype.__iterate=function(L,M){var N=this;return this._map.__iterate(function(O,P){return L(P,P,N)},M)};E.prototype.__iterator=function(L,M){return this._map.map(function(N,O){return O}).__iterator(L,M)};E.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;return this}return this.__make(M,L)};function dd(L){return!!(L&&L[ed])}E.isSet=dd;var ed="@@__IMMUTABLE_SET__@@",F=E.prototype;F[ed]=true;F[ha]=F.remove;F.mergeDeep=F.merge;F.mergeDeepWith=F.mergeWith;F.withMutations=z.withMutations;F.asMutable=z.asMutable;F.asImmutable=z.asImmutable;F.__empty=id;F.__make=gd;function fd(L,M){if(L.__ownerID){L.size=M.size;L._map=M;return L}return M===L._map?L:M.size===0?L.__empty():L.__make(M)}function gd(L,M){var N=Object.create(F);N.size=L?L.size:0;N._map=L;N.__ownerID=M;return N}var hd;function id(){return hd||(hd=gd(lc()))}b(jd,E);function jd(L){return L===null||L===undefined?od():kd(L)?L:od().withMutations(function(M){var N=j(L);w(N.size);N.forEach(function(O){return M.add(O)})})}jd.of=function(){return this(arguments)};jd.fromKeys=function(L){return this(i(L).keySeq())};jd.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function kd(L){return dd(L)&&wa(L)}jd.isOrderedSet=kd;var ld=jd.prototype;ld[Aa]=true;ld.__empty=od;ld.__make=md;function md(L,M){var N=Object.create(ld);N.size=L?L.size:0;N._map=L;N.__ownerID=M;return N}var nd;function od(){return nd||(nd=md(Wc()))}b(G,ab);function G(L,M){var N,O=function G(Q){if(Q instanceof O)return Q;if(!(this instanceof O))return new O(Q);if(!N){N=true;var R=Object.keys(L);rd(P,R);P.size=R.length;P._name=M;P._keys=R;P._defaultValues=L}this._map=y(Q)},P=O.prototype=Object.create(H);P.constructor=O;return O}G.prototype.toString=function(){return this.__toString(qd(this)+" {","}")};G.prototype.has=function(L){return this._defaultValues.hasOwnProperty(L)};G.prototype.get=function(L,M){if(!this.has(L))return M;var N=this._defaultValues[L];return this._map?this._map.get(L,N):N};G.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var L=this.constructor;return L._empty||(L._empty=pd(this,lc()))};G.prototype.set=function(L,M){if(!this.has(L))throw new Error('Cannot set unknown key "'+L+'" on '+qd(this));var N=this._map&&this._map.set(L,M);if(this.__ownerID||N===this._map)return this;return pd(this,N)};G.prototype.remove=function(L){if(!this.has(L))return this;var M=this._map&&this._map.remove(L);if(this.__ownerID||M===this._map)return this;return pd(this,M)};G.prototype.wasAltered=function(){return this._map.wasAltered()};G.prototype.__iterator=function(L,M){var N=this;return i(this._defaultValues).map(function(O,P){return N.get(P)}).__iterator(L,M)};G.prototype.__iterate=function(L,M){var N=this;return i(this._defaultValues).map(function(O,P){return N.get(P)}).__iterate(L,M)};G.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map&&this._map.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;return this}return pd(this,M,L)};var H=G.prototype;H[ha]=H.remove;H.deleteIn=H.removeIn=z.removeIn;H.merge=z.merge;H.mergeWith=z.mergeWith;H.mergeIn=z.mergeIn;H.mergeDeep=z.mergeDeep;H.mergeDeepWith=z.mergeDeepWith;H.mergeDeepIn=z.mergeDeepIn;H.setIn=z.setIn;H.update=z.update;H.updateIn=z.updateIn;H.withMutations=z.withMutations;H.asMutable=z.asMutable;H.asImmutable=z.asImmutable;function pd(L,M,N){var O=Object.create(Object.getPrototypeOf(L));O._map=M;O.__ownerID=N;return O}function qd(L){return L._name||L.constructor.name||"Record"}function rd(L,M){try{M.forEach(sd.bind(undefined,L))}catch(N){}}function sd(L,M){Object.defineProperty(L,M,{get:function(){return this.get(M)},set:function(N){xb(this.__ownerID,"Cannot set on an immutable record.");this.set(M,N)}})}function td(L,M){if(L===M)return true;if(!k(M)||L.size!==undefined&&M.size!==undefined&&L.size!==M.size||L.__hash!==undefined&&M.__hash!==undefined&&L.__hash!==M.__hash||l(L)!==l(M)||m(L)!==m(M)||wa(L)!==wa(M))return false;if(L.size===0&&M.size===0)return true;var N=!va(L);if(wa(L)){var O=L.entries();return M.every(function(T,U){var V=O.next().value;return V&&u(V[1],T)&&(N||u(V[0],U))})&&O.next().done}var P=false;if(L.size===undefined)if(M.size===undefined){if(typeof L.cacheResult==="function")L.cacheResult()}else{P=true;var Q=L;L=M;M=Q}var R=true,S=M.__iterate(function(T,U){if(N?!L.has(T):P?!u(T,L.get(U,f)):!u(L.get(U,f),T)){R=false;return false}});return R&&L.size===S}b(I,t);function I(L,M,N){if(!(this instanceof I))return new I(L,M,N);xb(N!==0,"Cannot step a Range by 0");L=L||0;if(M===undefined)M=Infinity;N=N===undefined?1:Math.abs(N);if(M<L)N=-N;this._start=L;this._end=M;this._step=N;this.size=Math.max(0,Math.ceil((M-L)/N-1)+1);if(this.size===0){if(ud)return ud;ud=this}}I.prototype.toString=function(){if(this.size===0)return"Range []";return"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};I.prototype.get=function(L,M){return this.has(L)?this._start+oa(this,L)*this._step:M};I.prototype.includes=function(L){var M=(L-this._start)/this._step;return M>=0&&M<this.size&&M===Math.floor(M)};I.prototype.slice=function(L,M){if(qa(L,M,this.size))return this;L=ra(L,this.size);M=sa(M,this.size);if(M<=L)return new I(0,0);return new I(this.get(L,this._end),this.get(M,this._end),this._step)};I.prototype.indexOf=function(L){var M=L-this._start;if(M%this._step===0){var N=M/this._step;if(N>=0&&N<this.size)return N}return-1};I.prototype.lastIndexOf=function(L){return this.indexOf(L)};I.prototype.__iterate=function(L,M){var N=this.size-1,O=this._step,P=M?this._start+N*O:this._start;for(var Q=0;Q<=N;Q++){if(L(P,Q,this)===false)return Q+1;P+=M?-O:O}return Q};I.prototype.__iterator=function(L,M){var N=this.size-1,O=this._step,P=M?this._start+N*O:this._start,Q=0;return new o(function(){var R=P;P+=M?-O:O;return Q>N?q():p(L,Q++,R)})};I.prototype.equals=function(L){return L instanceof I?this._start===L._start&&this._end===L._end&&this._step===L._step:td(this,L)};var ud;b(J,t);function J(L,M){if(!(this instanceof J))return new J(L,M);this._value=L;this.size=M===undefined?Infinity:Math.max(0,M);if(this.size===0){if(vd)return vd;vd=this}}J.prototype.toString=function(){if(this.size===0)return"Repeat []";return"Repeat [ "+this._value+" "+this.size+" times ]"};J.prototype.get=function(L,M){return this.has(L)?this._value:M};J.prototype.includes=function(L){return u(this._value,L)};J.prototype.slice=function(L,M){var N=this.size;return qa(L,M,N)?this:new J(this._value,sa(M,N)-ra(L,N))};J.prototype.reverse=function(){return this};J.prototype.indexOf=function(L){if(u(this._value,L))return 0;return-1};J.prototype.lastIndexOf=function(L){if(u(this._value,L))return this.size;return-1};J.prototype.__iterate=function(L,M){for(var N=0;N<this.size;N++)if(L(this._value,N,this)===false)return N+1;return N};J.prototype.__iterator=function(L,M){var N=this,O=0;return new o(function(){return O<N.size?p(L,O++,N._value):q()})};J.prototype.equals=function(L){return L instanceof J?u(this._value,L._value):td(L)};var vd;function wd(L,M){var N=function(O){L.prototype[O]=M[O]};Object.keys(M).forEach(N);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(M).forEach(N);return L}h.Iterator=o;wd(h,{toArray:function(){w(this.size);var L=new Array(this.size||0);this.valueSeq().__iterate(function(M,N){L[N]=M});return L},toIndexedSeq:function(){return new zb(this)},toJS:function(){return this.toSeq().map(function(L){return L&&typeof L.toJS==="function"?L.toJS():L}).__toJS()},toJSON:function(){return this.toSeq().map(function(L){return L&&typeof L.toJSON==="function"?L.toJSON():L}).__toJS()},toKeyedSeq:function(){return new yb(this,true)},toMap:function(){return y(this.toKeyedSeq())},toObject:function(){w(this.size);var L={};this.__iterate(function(M,N){L[N]=M});return L},toOrderedMap:function(){return C(this.toKeyedSeq())},toOrderedSet:function(){return jd(l(this)?this.valueSeq():this)},toSet:function(){return E(l(this)?this.valueSeq():this)},toSetSeq:function(){return new Ab(this)},toSeq:function(){return m(this)?this.toIndexedSeq():l(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return D(l(this)?this.valueSeq():this)},toList:function(){return A(l(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(L,M){if(this.size===0)return L+M;return L+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+M},concat:function(){var L=a.call(arguments,0);return x(this,Lb(this,L))},contains:function(L){return this.includes(L)},includes:function(L){return this.some(function(M){return u(M,L)})},entries:function(){return this.__iterator(Ca)},every:function(L,M){w(this.size);var N=true;this.__iterate(function(O,P,Q){if(!L.call(M,O,P,Q)){N=false;return false}});return N},filter:function(L,M){return x(this,Fb(this,L,M,true))},find:function(L,M,N){var O=this.findEntry(L,M);return O?O[1]:N},findEntry:function(L,M){var N;this.__iterate(function(O,P,Q){if(L.call(M,O,P,Q)){N=[P,O];return false}});return N},findLastEntry:function(L,M){return this.toSeq().reverse().findEntry(L,M)},forEach:function(L,M){w(this.size);return this.__iterate(M?L.bind(M):L)},join:function(L){w(this.size);L=L!==undefined?""+L:",";var M="",N=true;this.__iterate(function(O){N?N=false:M+=L;M+=O!==null&&O!==undefined?O.toString():""});return M},keys:function(){return this.__iterator(Ba)},map:function(L,M){return x(this,Db(this,L,M))},reduce:function(L,M,N){w(this.size);var O,P;if(arguments.length<2)P=true;else O=M;this.__iterate(function(Q,R,S){if(P){P=false;O=Q}else O=L.call(N,O,Q,R,S)});return O},reduceRight:function(L,M,N){var O=this.toKeyedSeq().reverse();return O.reduce.apply(O,arguments)},reverse:function(){return x(this,Eb(this,true))},slice:function(L,M){return x(this,Ib(this,L,M,true))},some:function(L,M){return!this.every(Ad(L),M)},sort:function(L){return x(this,Pb(this,L))},values:function(){return this.__iterator(n)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true})},count:function(L,M){return na(L?this.toSeq().filter(L,M):this)},countBy:function(L,M){return Gb(this,L,M)},equals:function(L){return td(this,L)},entrySeq:function(){var L=this;if(L._cache)return new Na(L._cache);var M=L.toSeq().map(zd).toIndexedSeq();M.fromEntrySeq=function(){return L.toSeq()};return M},filterNot:function(L,M){return this.filter(Ad(L),M)},findLast:function(L,M,N){return this.toKeyedSeq().reverse().find(L,M,N)},first:function(){return this.find(pa)},flatMap:function(L,M){return x(this,Nb(this,L,M))},flatten:function(L){return x(this,Mb(this,L,true))},fromEntrySeq:function(){return new Bb(this)},get:function(L,M){return this.find(function(N,O){return u(O,L)},undefined,M)},getIn:function(L,M){var N=this,O=Zb(L),P;while(!(P=O.next()).done){var Q=P.value;N=N&&N.get?N.get(Q,f):f;if(N===f)return M}return N},groupBy:function(L,M){return Hb(this,L,M)},has:function(L){return this.get(L,f)!==f},hasIn:function(L){return this.getIn(L,f)!==f},isSubset:function(L){L=typeof L.includes==="function"?L:h(L);return this.every(function(M){return L.includes(M)})},isSuperset:function(L){return L.isSubset(this)},keySeq:function(){return this.toSeq().map(yd).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(L){return Qb(this,L)},maxBy:function(L,M){return Qb(this,M,L)},min:function(L){return Qb(this,L?Bd(L):Ed)},minBy:function(L,M){return Qb(this,M?Bd(M):Ed,L)},rest:function(){return this.slice(1)},skip:function(L){return this.slice(Math.max(0,L))},skipLast:function(L){return x(this,this.toSeq().reverse().skip(L).reverse())},skipWhile:function(L,M){return x(this,Kb(this,L,M,true))},skipUntil:function(L,M){return this.skipWhile(Ad(L),M)},sortBy:function(L,M){return x(this,Pb(this,M,L))},take:function(L){return this.slice(0,Math.max(0,L))},takeLast:function(L){return x(this,this.toSeq().reverse().take(L).reverse())},takeWhile:function(L,M){return x(this,Jb(this,L,M))},takeUntil:function(L,M){return this.takeWhile(Ad(L),M)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Fd(this))}});var K=h.prototype;K[xa]=true;K[Fa]=K.values;K.__toJS=K.toArray;K.__toStringMapper=Cd;K.inspect=K.toSource=function(){return this.toString()};K.chain=K.flatMap;(function(){try{Object.defineProperty(K,"length",{get:function(){if(!h.noLengthWarning){var M;try{throw new Error()}catch(N){M=N.stack}if(M.indexOf("_wrapObject")===-1){console&&emptyFunction&&false;return this.size}}}})}catch(L){}})();wd(i,{flip:function(){return x(this,Cb(this))},findKey:function(L,M){var N=this.findEntry(L,M);return N&&N[0]},findLastKey:function(L,M){return this.toSeq().reverse().findKey(L,M)},keyOf:function(L){return this.findKey(function(M){return u(M,L)})},lastKeyOf:function(L){return this.findLastKey(function(M){return u(M,L)})},mapEntries:function(L,M){var N=this,O=0;return x(this,this.toSeq().map(function(P,Q){return L.call(M,[Q,P],O++,N)}).fromEntrySeq())},mapKeys:function(L,M){var N=this;return x(this,this.toSeq().flip().map(function(O,P){return L.call(M,O,P,N)}).flip())}});var xd=i.prototype;xd[ya]=true;xd[Fa]=K.entries;xd.__toJS=K.toObject;xd.__toStringMapper=function(L,M){return JSON.stringify(M)+": "+Cd(L)};wd(ua,{toKeyedSeq:function(){return new yb(this,false)},filter:function(L,M){return x(this,Fb(this,L,M,false))},findIndex:function(L,M){var N=this.findEntry(L,M);return N?N[0]:-1},indexOf:function(L){var M=this.toKeyedSeq().keyOf(L);return M===undefined?-1:M},lastIndexOf:function(L){return this.toSeq().reverse().indexOf(L)},reverse:function(){return x(this,Eb(this,false))},slice:function(L,M){return x(this,Ib(this,L,M,false))},splice:function(L,M){var N=arguments.length;M=Math.max(M|0,0);if(N===0||N===2&&!M)return this;L=ra(L,this.size);var O=this.slice(0,L);return x(this,N===1?O:O.concat(ma(arguments,2),this.slice(L+M)))},findLastIndex:function(L,M){var N=this.toKeyedSeq().findLastKey(L,M);return N===undefined?-1:N},first:function(){return this.get(0)},flatten:function(L){return x(this,Mb(this,L,false))},get:function(L,M){L=oa(this,L);return L<0||this.size===Infinity||this.size!==undefined&&L>this.size?M:this.find(function(N,O){return O===L},undefined,M)},has:function(L){L=oa(this,L);return L>=0&&(this.size!==undefined?this.size===Infinity||L<this.size:this.indexOf(L)!==-1)},interpose:function(L){return x(this,Ob(this,L))},interleave:function(){var L=[this].concat(ma(arguments)),M=Sb(this.toSeq(),t.of,L),N=M.flatten(true);if(M.size)N.size=M.size*L.length;return x(this,N)},last:function(){return this.get(-1)},skipWhile:function(L,M){return x(this,Kb(this,L,M,false))},zip:function(){var L=[this].concat(ma(arguments));return x(this,Sb(this,Dd,L))},zipWith:function(L){var M=ma(arguments);M[0]=this;return x(this,Sb(this,L,M))}});ua.prototype[za]=true;ua.prototype[Aa]=true;wd(j,{get:function(L,M){return this.has(L)?L:M},includes:function(L){return this.has(L)},keySeq:function(){return this.valueSeq()}});j.prototype.has=K.includes;wd(s,i.prototype);wd(t,ua.prototype);wd(La,j.prototype);wd(ab,i.prototype);wd(bb,ua.prototype);wd(cb,j.prototype);function yd(L,M){return M}function zd(L,M){return[M,L]}function Ad(L){return function(){return!L.apply(this,arguments)}}function Bd(L){return function(){return-L.apply(this,arguments)}}function Cd(L){return typeof L==="string"?JSON.stringify(L):L}function Dd(){return ma(arguments)}function Ed(L,M){return L<M?1:L>M?-1:0}function Fd(L){if(L.size===Infinity)return 0;var M=wa(L),N=l(L),O=M?1:0,P=L.__iterate(N?M?function(Q,R){O=31*O+Hd(v(Q),v(R))|0}:function(Q,R){O=O+Hd(v(Q),v(R))|0}:M?function(Q){O=31*O+v(Q)|0}:function(Q){O=O+v(Q)|0});return Gd(P,O)}function Gd(L,M){M=hb(M,3432918353);M=hb(M<<15|M>>>-15,461845907);M=hb(M<<13|M>>>-13,5);M=(M+3864292196|0)^L;M=hb(M^M>>>16,2246822507);M=hb(M^M>>>13,3266489909);M=ib(M^M>>>16);return M}function Hd(L,M){return L^M+2654435769+(L<<6)+(L>>2)|0}var Id={Iterable:h,Seq:r,Collection:$a,Map:y,OrderedMap:C,List:A,Stack:D,Set:E,OrderedSet:jd,Record:G,Range:I,Repeat:J,is:u,fromJS:db};return Id})}),null);
__d("ReactionUtils",["immutable","gkx"],(function a(b,c,d,e,f,g){var h={useChatEmojiReact:function i(j){var k=j.filter(function(l){return l!=null}).every(function(l){return l.employee});return k&&c("gkx")("AT6A1OO2lJlnHHdkzHOPkllgq2YBSZ42wJAnMnfeaJEnCNUkgcLE__VIZKrcnnkybvVMYEfu3rwvCBYOLMeSgn0B")}};f.exports=h}),null);
__d("MessengerReactions.react",["cx","fbt","Bootloader","CurrentUser","MercuryIDs","MercuryParticipants","MessengerEnvironment","MessengerReactionsUtil","MessengerReactionsPrompt.react","MessengerTextWithEmoticons.react","MessengerWebViewReactionsTypedLogger","MercuryConfig","ReactionUtils","TooltipData","React","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ReactionUtils").useChatEmojiReact,m=c("React").PropTypes,n="ALL",o=c("CurrentUser").getID(),p=3,q=9;j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(){__p&&__p();var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.$MessengerReactions2=function(){var x=c("MessengerEnvironment").messengerui,y=this.props,z=y.isFromViewer,A=y.message,B=y.participants,C=A.reactions;new(c("MessengerWebViewReactionsTypedLogger"))().setEvent("open_details").setMid(A.message_id).setSenderID(A.author).setEmojiGroup(n).setEmojiGroupCount(Object.values(C).length).log();if(x)c("Bootloader").loadModules(["messengerDialogsRe","messengerReactionsDialogReact"],function(D,E){var F=E.jsComponent;D.showDialog(function(){return c("React").createElement(F,{isFromViewer:z,participants:B,message:A})})},"MessengerReactions.react");else c("Bootloader").loadModules(["ChatReactionsDialog"],function(D){D.show(A,B,z)},"MessengerReactions.react")}.bind(this),t}r.prototype.render=function(){__p&&__p();var s=this.props,t=s.message,u=s.participants,v=s.renderQuickAdd,w=s.hovered,x=t.reactions,y=t.attachments;if(!w&&c("MercuryConfig").MessengerForwardButtonForSharedLinksQE&&y&&y.length===1&&y[0].attach_type==="share"&&x&&Object.keys(x).length===0)return null;if((!x||!u)&&!v)return null;var z={},A=0,B=false;Object.entries(x||{}).forEach(function(G){var H=G[0],I=G[1];if(typeof I==="string"){if(H===o)B=true;if(!z[I])z[I]=0;z[I]++;A++}});var C=Object.keys(z).sort(c("MessengerReactionsUtil").sortFunction).slice(0,p).map(function(G,H,x){return c("React").createElement("span",{className:"_4kf5",style:{zIndex:x.length-H,marginLeft:H===0?0:"-4px"},key:G},c("React").createElement(c("MessengerTextWithEmoticons.react"),{customSize:true,renderEmoticons:true,renderEmoji:true,text:G}))}),D=A>0?c("React").createElement("span",{className:"_4kf5 _4kf6"+(B?" _fy2":"")},A):null,E=v&&!B?c("React").createElement("div",{className:"_aou _aov"},c("React").createElement("span",{className:"_aow"},c("React").createElement(c("MessengerReactionsPrompt.react"),{message:t,messageIsSelected:true,isQuickAdd:true,useChatEmojiReact:l(u)}))):null,F=c("TooltipData").propsFor(this.$MessengerReactions1());return c("React").createElement("div",babelHelpers["extends"]({},F,{className:"_4kf7 preview"}),c("React").createElement(c("ShimButton.react"),{className:"_aou",onClick:this.$MessengerReactions2},C,D),E)};r.prototype.$MessengerReactions1=function(){__p&&__p();var s=this.props.message.reactions,t=this.props.participants;if(!s||!t)return"";var u=Object.keys(s),v=u.reduce(function(v,z){if(v.length>=q)return v;var A=c("MercuryIDs").getParticipantIDFromUserID(z),B=t.get(A)||c("MercuryParticipants").getNow(A),C=B&&B.name;if(C)v.push(C);return v},[]),w=v.length,x=v.join("\n");if(u.length>w){var y=i._("and {count} other(s)",[i.param("count",u.length-w)]);x+="\n"+y.toString()}return x};r.propTypes={isFromViewer:m.bool.isRequired,message:m.object.isRequired,participants:m.object,renderQuickAdd:m.bool,hovered:m.bool};f.exports=r}),null);
__d("MessengerDecorator",["cssVar","cx","BootloadedComponent.react","CurrentUser","JSResource","MercuryAttachment","MercuryConfig","MercuryMessageActions","MercuryMessageCustomizations","MercuryTagHelper","MessageBorderType","MessageCustomizationType","MessagingFlowerBorder.react","MessagingGiftWrap.react","MessagingGiftWrapConstants","MessengerEnvironment","MessengerReactions.react","ReactionUtils","React","gkx","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("ReactionUtils").useChatEmojiReact,k=function k(v){var w=v.attachments&&v.attachments.length===1&&v.attachments[0];return!!w},l=function l(v){return k(v)&&c("MercuryAttachment").isLightweightActionAttachment(v.attachments[0])},m=function m(v){var w=v.attachments&&v.attachments.length===1&&v.attachments[0];if(!w)return false;if(c("MercuryAttachment").isPhotoGroupAttachment(w))return true;if(c("MercuryAttachment").isFileAttachment(w))if(c("MercuryConfig").MessengerForwardButtonForSharedFilesGK&&w.message_file_fbid)return true;return false},n=function n(v){var w;if(c("MessengerEnvironment").messengerui)return false;var x=(w=v.reactions)!=null?w[c("CurrentUser").getID()]:w;return!!x&&typeof x==="string"},o=function o(v){__p&&__p();var w=[],x=[];v.attachments.forEach(function(y){if(y.metadata&&y.metadata.fbid){w.push(y.metadata.fbid.toString());x.push(y.attach_type.toString())}if(c("MercuryAttachment").isFileAttachment(y)&&y.message_file_fbid)if(c("MercuryConfig").MessengerForwardButtonForSharedFilesGK){w.push(y.message_file_fbid);x.push(y.attach_type)}});return{ids:w,types:x}},p=[{name:"GiftWrap",check:function v(w){var x=function x(z){return c("MercuryTagHelper").get(z,c("MessagingGiftWrapConstants").TAG_PREFIX)===c("MessagingGiftWrapConstants").VALENTINES_GIFT},y=function y(z){return!!c("MercuryTagHelper").get(z,c("MessagingGiftWrapConstants").UNWRAPPED_TAG)};return!!(w.tags&&x(w.tags)&&!y(w.tags))},render:function v(w,x){return c("React").createElement(c("MessagingGiftWrap.react"),{key:"giftwrap",onUnwrap:function y(){var z="2500ms",A=parseInt(z.substring(0,z.length-2),10);setTimeout(function(){return c("MercuryMessageActions").get().unwrap(w)},A)}})},getAdditionalClassNames:function v(){return null}},{name:"FlowerBorder",check:function v(w){return c("gkx")("AT7rTubr3N_DsfglfGkvVFG3tMrhGme9-eELltAXoSOKkQuD-9JepjOeFPMl1e8XndLLgVmcw1EaaNThD3K6r4QJpohV9bITGr6_ur1k_X_RGQ")&&c("MercuryMessageCustomizations").getCustomizationValue(w,c("MessageCustomizationType").BORDER)===c("MessageBorderType").FLOWERS},render:function v(w,x){if(c("MessengerEnvironment").messengerui)return c("React").createElement(c("MessagingFlowerBorder.react"),{offset:-10,key:"giftwrap:"+w.message_id});return c("React").createElement(c("MessagingFlowerBorder.react"),{key:"giftwrap:"+w.message_id})},getAdditionalClassNames:function v(){if(!c("MessengerEnvironment").messengerui)return"_337n";return null}},{name:"Reactions",check:function v(w,x){var y=!!(w.reactions&&Object.keys(w.reactions).length>0),z=!!(!x&&(m(w)||k(w)&&c("MercuryConfig").MessengerForwardButtonForSharedLinksQE));return(y||z)&&!l(w)},render:function v(w,x,y,z){var A=m(w)||k(w)&&c("MercuryConfig").MessengerForwardButtonForSharedLinksQE;return c("React").createElement(c("MessengerReactions.react"),{isFromViewer:x,key:w.message_id+"-reactions",message:w,renderQuickAdd:A&&!x,hovered:z,participants:y&&y.participants})},getAdditionalClassNames:function v(){return"_5z-5"}}],q=[],r=[],s=[{name:"MontageReply",check:function v(w){if(!c("MercuryConfig").MontageThreadViewer)return false;var x=w.montage_reply_data&&w.montage_reply_data.message_id;return!!x},render:function v(w,x){var y=w.montage_reply_data&&w.montage_reply_data.message_id,z=w.montage_reply_data&&w.montage_reply_data.reply_action;return c("React").createElement(c("BootloadedComponent.react"),{key:"montagereply:"+w.message_id,bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("MontageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:x,messageID:y,replyAction:z,replyAuthorID:w.author,threadID:w.thread_id})},getAdditionalClassNames:function v(){return null}}],t=[{name:"ForwardImages",check:function v(w){return m(w)},render:function v(w,x){var y=o(w),z=y.ids,A=y.types;return c("React").createElement(c("BootloadedComponent.react"),{key:"forwardimages:"+w.message_id,bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("MessengerEnvironment").messengerui?c("JSResource")("MessengerPhotoForwardButton.react").__setRef("MessengerDecorator"):c("JSResource")("ChatPhotoForwardButton.react").__setRef("MessengerDecorator"),attachmentIDs:z,attachmentTypes:A,isFromViewer:x})},getAdditionalClassNames:function v(){return"_ylc"}},{name:"ReactionPrompt",check:function v(w){return n(w)||!m(w)&&!l(w)},render:function v(w,x,y){return c("React").createElement(c("BootloadedComponent.react"),{key:"reactionprompt:"+w.message_id,bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("MessengerReactionsPrompt.react").__setRef("MessengerDecorator"),message:w,messageIsSelected:y&&y.messageIsSelected&&(!c("MercuryConfig").MessengerForwardButtonForSharedLinksQE||c("MercuryConfig").MessengerForwardButtonForSharedLinksQE&&!k(w)),useChatEmojiReact:y&&y.participants&&j(y.participants),onShowMenu:y&&y.onShowMenu})},getAdditionalClassNames:function v(){return null}},{name:"MessageActions",check:function v(w){return c("MessengerEnvironment").messengerui},render:function v(w,x,y){var z=(m(w)||k(w)&&c("MercuryConfig").MessengerForwardButtonForSharedLinksQE)&&!l(w);return c("React").createElement(c("BootloadedComponent.react"),{key:"messageactions:"+w.message_id,bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("MessengerMessageActions.react").__setRef("MessengerDecorator"),message:w,isActive:y&&y.messageIsSelected,onShowMenu:y&&y.onShowMenu,includeReactions:z,isShowingOriginal:y&&y.isShowingOriginal,hasFormatting:y&&y.hasFormatting,onToggleOriginal:y&&y.handleToggleOriginal})},getAdditionalClassNames:function v(){return null}}],u={getBeforeDecorators:function v(){return s},getAfterDecorators:function v(){return p},getInnerDecorators:function v(){return t},getAfterExternalDecorators:function v(){return q},getInsideDecorators:function v(){return r}};f.exports=u}),null);
__d("MessengerInnerDecorators.react",["cx","Locale","MessengerDecorator","React","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={shown:false},this.$MessengerInnerDecorators1=function(q){this.setState({shown:q})}.bind(this),m}k.prototype.render=function(){var l=c("MessengerDecorator").getInnerDecorators().map(function(m){if(m.check(this.props.message))return m.render(this.props.message,this.props.isFromViewer,babelHelpers["extends"]({},this.props.messageProps,{messageIsSelected:this.props.hovered||this.state.shown,onShowMenu:this.$MessengerInnerDecorators1}));return null}.bind(this)).filter(Boolean);return c("React").createElement("span",{className:"_40fu"+(c("gkx")("AT70rONwKRIflAfK7-b4vyJ1_mxpZCDSr6xln8L8WEV8pNQI_XsW4Dd8Eel-gRLLo1OcnJGbyGR6AUa0wFCxwPsr")&&c("Locale").isRTL()?" _64wc":"")},c("React").createElement("span",{className:"_2u_d"},l))};f.exports=k}),null);
__d("MessengerVideoAutoplayActions",["MessengerFluxReduceDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h="messenger_video",i=c("keyMirror")({DESTROY:null,DSTROY_ALL:null,SCROLL:null,UPDATE:null}),j={Types:i,Namespace:h,onScroll:function k(l,m,n,o){c("MessengerFluxReduceDispatcher").dispatch({type:i.SCROLL,namespace:h,threadID:l,messageIDs:m,messageRectMap:n,viewportRect:o})},updateStore:function k(l,m){c("MessengerFluxReduceDispatcher").dispatch({type:i.UPDATE,namespace:h,threadID:l,messageIDs:m})},deleteThread:function k(l){c("MessengerFluxReduceDispatcher").dispatch({type:i.DESTROY,namespace:h,threadID:l})},deleteAllThreads:function k(){c("MessengerFluxReduceDispatcher").dispatch({type:i.DESTROY_ALL,namespace:h})}};f.exports=j}),null);
__d("MessengerVideoAutoplayStore",["FluxReduceStore","immutable","MessengerVideoAutoplayActions","MessengerFluxReduceDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("MessengerVideoAutoplayActions").Types;h=babelHelpers.inherits(m,c("immutable").Record({currentVideoMessageID:null,lastVideoMessageID:null,messageIDs:null,videoVisibilityMap:null}));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return c("immutable").Map()};n.prototype.reduce=function(o,p){__p&&__p();if(p.namespace!==c("MessengerVideoAutoplayActions").Namespace)return o;switch(p.type){case l.SCROLL:if(p.messageIDs)o=this.$MessengerVideoAutoplayStore1(o,p.threadID,p.messageIDs);return this.$MessengerVideoAutoplayStore2(o,p.threadID,p.messageRectMap,p.viewportRect);case l.UPDATE:return this.$MessengerVideoAutoplayStore1(o,p.threadID,p.messageIDs);case l.DESTROY:return this.$MessengerVideoAutoplayStore3(o,p.threadID);case l.DESTROY_ALL:return o.clear()}return o};n.prototype.$MessengerVideoAutoplayStore1=function(o,p,q){if(!q)return o["delete"](p);return o.set(p,new m({currentVideoMessageID:null,lastVideoMessageID:q.first(),messageIDs:q,videoVisibilityMap:null}))};n.prototype.$MessengerVideoAutoplayStore3=function(o,p){return o["delete"](p)};n.prototype.$MessengerVideoAutoplayStore4=function(o,p,q,r,s){var t=null,u=q.map(function(v){if(t)return[v,false];else{var w=this.$MessengerVideoAutoplayStore5(v,r,s);if(w)t=v;return[v,w]}}.bind(this)).fromEntrySeq().toOrderedMap();return o.mergeIn([p],{currentVideoMessageID:t,videoVisibilityMap:u})};n.prototype.$MessengerVideoAutoplayStore2=function(o,p,q,r){__p&&__p();var s=o.getIn([p,"messageIDs"]);if(!s||!q||!r)return o;if(!o.getIn([p,"currentVideoMessageID"]))return this.$MessengerVideoAutoplayStore4(o,p,s,q,r);else{var t=o.getIn([p,"videoVisibilityMap"]),u=o.getIn([p,"lastVideoMessageID"]),v=o.getIn([p,"currentVideoMessageID"]);if(this.$MessengerVideoAutoplayStore5(u,q,r)){if(t&&t.first())return o}else if(this.$MessengerVideoAutoplayStore5(v,q,r))return o;o=o.setIn([p,"currentVideoMessageID"],null);return this.$MessengerVideoAutoplayStore4(o,p,s,q,r)}};n.prototype.$MessengerVideoAutoplayStore6=function(o,p){if(!o)return false;return o.top>p.top&&o.bottom<p.bottom};n.prototype.$MessengerVideoAutoplayStore5=function(o,p,q){var r=p.get(o);return this.$MessengerVideoAutoplayStore6(r,q)};n.prototype.getVideoVisibilityMap=function(o){return this.getState().getIn([o,"videoVisibilityMap"])};n.prototype.getMessageIDs=function(o){return this.getState().getIn([o,"messageIDs"])};n.prototype.isVisible=function(o,p){return!!this.getState().getIn([o,"videoVisibilityMap",p])};function n(){j.apply(this,arguments)}f.exports=new n(c("MessengerFluxReduceDispatcher"))}),null);
__d("convertMIGColorToFIGColor",["cssVar"],(function a(b,c,d,e,f,g,h){"use strict";var i={"#0077e5":"#4080ff","#44bec7":"#54C7EC","#ffc300":"#f5c33b","#fa3c4c":"#F35369","#d696bb":"#d696bb","#6699cc":"#7596c8","#13cf13":"#42b72a","#ff7e29":"#F7923B","#e68585":"#e68585","#7646ff":"#8C72CB","#20cef5":"#54C7EC","#67b868":"#A3CE71","#d4a88c":"#cfa588","#ff5ca1":"#EC7EBD","#a695c7":"#AF9CDA"};function j(k){return k&&i[k]||k||""}f.exports=j}),null);
__d("ChatMessage.react",["cx","fbt","BootloadedComponent.react","ChatAnimatedGifs","ChatBubble.react","EmojiLikeUtils","FluxContainer","MercuryTimestamp","CSS","immutable","ImmutableObject","Locale","JSResource","MercuryAttachment","MercuryConfig","MercuryErrorInfo","MercuryIDs","MercuryMessageCustomizations","MercuryMessageError.react","MercuryMessageInfo","MessageBorderType","MessageCustomizationType","MessagingGiftWrapChecker","MessengerDecorator","MessengerInnerDecorators.react","MessengerVideoAutoplayStore","ChatCodePasteUtils","MNCommerceMessageType","MercuryDisplayTimeFilterMessageRenderer","React","ReactDOM","TooltipData","XUISpinner.react","convertMIGColorToFIGColor","isRTL","joinClasses","gkx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={isVisible:false},this.$ChatMessage1=function(){return this.setState({hovered:true})}.bind(this),this.$ChatMessage2=function(){return this.setState({hovered:false})}.bind(this),o}m.getStores=function(){return[c("MessengerVideoAutoplayStore")]};m.calculateState=function(n,o){return{isVisible:c("MessengerVideoAutoplayStore").isVisible(o.message.thread_id,o.message.message_id)}};m.prototype.componentDidMount=function(){c("CSS").conditionClass(c("ReactDOM").findDOMNode(this),"_2cnu",this.isOneLine())};m.prototype.isOneLine=function(){var n=this.props.message;return c("MercuryMessageInfo").isInbound(n)&&!this.refs.attachmentsInside&&this.refs.bubble&&!this.refs.bubble.contentWraps()};m.prototype.shouldComponentUpdate=function(n,o){var p=n.message!==this.props.message,q=false,r=false,s=this.props.thread;if(s){q=s.custom_like_icon!==n.thread.custom_like_icon;r=s.custom_color!==n.thread.custom_color}else if(n.thread)return true;return p||q||r||o.isVisible!==this.state.isVisible};m.prototype.render=function(){var n=this.props.message,o=c("MercuryAttachment").get(n).length>0,p=c("MercuryMessageInfo").isInbound(n),q=c("MercuryIDs").isGroupChat(n.thread_id),r=c("MercuryErrorInfo").hasErrorStatus(n),s="_5wd4"+(p?" _1nc7":"")+(!p?" _1nc6":"")+(o?" _2_-t":"")+(p&&q?" _5ysy":"")+(r?" _1zcs":""),t=this.props,u=t.isFromViewer,v=t.participants,w=[],x=n;if(x)c("MessengerDecorator").getBeforeDecorators().forEach(function(y){if(y.check(x))w.push(y.render(x,u))});return c("React").createElement("div",{className:c("joinClasses")(this.props.className,s),onMouseEnter:this.$ChatMessage1,onMouseLeave:this.$ChatMessage2},c("React").createElement("div",{className:"_h8t"},w,this.$ChatMessage3()),c("React").createElement(c("MessengerInnerDecorators.react"),{message:n,isFromViewer:this.props.isFromViewer||false,hovered:this.state.hovered,messageProps:this.props}),this.$ChatMessage4(x,u),this.$ChatMessage5())};m.prototype.$ChatMessage3=function(){var n=this.props.message,o={};if(c("MercuryMessageInfo").isOutbound(n)){var p=i._("{time}",[i.param("time",c("MercuryTimestamp").getPreciseTimestamp(n.timestamp))]);Object.assign(o,c("TooltipData").propsFor(p,"right"))}if(n.is_filtered_content)return c("React").createElement("div",babelHelpers["extends"]({className:"_5wd9 _5wdc uiBoxYellow clearfix",ref:"inner"},o),c("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(n));var q=this.$ChatMessage6("outside"),r=n.body&&n.body!==""?c("isRTL")(n.body):c("Locale").isRTL();return c("React").createElement("div",babelHelpers["extends"]({className:"_5wd9"+(r?" direction_rtl":"")+(!r?" direction_ltr":""),ref:"inner"},o),this.$ChatMessage7(!q),q)};m.prototype.$ChatMessage4=function(n,o){__p&&__p();var p,q=this;if(n){var p=function(){__p&&__p();var r=[],s=[];c("MessengerDecorator").getAfterExternalDecorators().forEach(function(u){if(n&&u.check(n)){r.push(u.render(n,o,this.props));s.push(u.getAdditionalClassNames())}}.bind(q));if(s.length===0&&r.length===0)return{v:null};var t=s.join(" ");return{v:c("React").createElement("div",{className:c("joinClasses")(t,"_5ijz"+(!o?" isFromOther":""))},r)}}();if(typeof p==="object")return p.v}return null};m.prototype.$ChatMessage5=function(){var n=this.props.message;if(n.is_filtered_content||!c("MercuryMessageInfo").hasError(n))return null;return c("React").createElement("div",{className:"_3ry4",ref:"undertext"},c("React").createElement(c("MercuryMessageError.react"),{className:"_5wda clearfix",message:n,ref:"status"}),this.$ChatMessage8())};m.prototype.$ChatMessage8=function(){return this.props.message.is_spoof_warning?c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",null),bootloadLoader:c("JSResource")("MercurySpoofWarning.react").__setRef("ChatMessage.react"),authorID:this.props.message.author,className:"_5wdb"}):null};m.prototype.$ChatMessage9=function(){return c("React").createElement("div",{style:{padding:"20px",text_align:"center"}},c("React").createElement(c("XUISpinner.react"),null))};m.prototype.$ChatMessage6=function(n){__p&&__p();if(this.props.message.commerce_message_type===c("MNCommerceMessageType").RIDE_INTENT)return null;var o=this.props.message,p=this.props.thread?this.props.thread.custom_like_icon:null,q=n=="inside"?"attachmentsInside":"attachmentsOutside",r=c("MercuryAttachment").get(o).filter(function(v){var w=c("MercuryAttachment").isBubblePreferred(v);return w&&n==="inside"||!w&&n==="outside"}),s=this.props.thread?c("convertMIGColorToFIGColor")(this.props.thread.custom_color):"",t=[],u=[];if(n==="outside"&&o)c("MessengerDecorator").getAfterDecorators().forEach(function(v){if(v.check(o,this.props.isFromViewer)){t.push(v.render(o,this.props.isFromViewer,this.props,this.state.hovered));u.push(v.getAdditionalClassNames())}}.bind(this));if(r.length>0)return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:this.$ChatMessage9(),bootloadLoader:c("JSResource")("MercuryAttachments.react").__setRef("ChatMessage.react"),className:c("joinClasses")((n==="outside"?"_3e7u":"")+(!!o.body?" _16ys":"")+(!!s?" _3al":"")+" _n4o",u),attachments:r,customLike:p,customColor:s,hasFlowerBorder:c("gkx")("AT7rTubr3N_DsfglfGkvVFG3tMrhGme9-eELltAXoSOKkQuD-9JepjOeFPMl1e8XndLLgVmcw1EaaNThD3K6r4QJpohV9bITGr6_ur1k_X_RGQ")&&c("MercuryMessageCustomizations").getCustomizationValue(o,c("MessageCustomizationType").BORDER)===c("MessageBorderType").FLOWERS&&n==="outside",isChat:true,isGiftWrapped:c("MessagingGiftWrapChecker").shouldRenderWithGiftWrap(o)&&n==="outside",afterDecorators:t,isVisible:this.state.isVisible,maxWidth:this.props.maxBubbleWidth,message:o,onUnwrap:this.$ChatMessage10,onAttachmentLoad:this.props.onAttachmentLoad,onStickerClick:this.props.onStickerClick,ref:q});return null};m.prototype.$ChatMessage7=function(n){__p&&__p();var o=this.props,p=o.isFromViewer,q=o.message,r=o.thread,s=q.body,t=this.$ChatMessage6("inside"),u=[],v=[],w=[],x=q;if(x){if(n)c("MessengerDecorator").getAfterDecorators().forEach(function(A){if(A.check(x,p)){u.push(A.render(x,p,this.props));v.push(A.getAdditionalClassNames())}}.bind(this));c("MessengerDecorator").getInsideDecorators().forEach(function(A){if(A.check(x,p)){w.push(A.render(x,p,this.props));v.push(A.getAdditionalClassNames())}}.bind(this));c("MessengerDecorator").getBeforeDecorators().forEach(function(A){if(A.check(x,p))v.push(A.getAdditionalClassNames())})}var y=v.join(" ");if(c("ChatAnimatedGifs").shouldHideBody(q))s="";var z=q.ranges;if(q.profile_ranges&&q.profile_ranges.length)z=(z||[]).concat(q.profile_ranges.map(function(A){return babelHelpers["extends"]({},A,{url:"/"+A.id})}));if(c("ChatCodePasteUtils").containsCodeBlock(s))return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("div",{style:{height:22}}),bootloadLoader:c("JSResource")("ChatCodeBubble.react").__setRef("ChatMessage.react"),body:s,className:"_5wdf",maxWidth:this.props.maxBubbleWidth,ranges:z,threadID:q.thread_id,customColor:r&&p?c("convertMIGColorToFIGColor")(r.custom_color):""});if(s||t)return c("React").createElement("div",{className:c("joinClasses")(y,"_5wde _n4o")},c("React").createElement(c("ChatBubble.react"),{attachments:t,body:s,className:"_5wdf",insideDecorators:w,isEmojiLike:c("EmojiLikeUtils").isEmojiLike(q),isFromViewer:this.props.isFromViewer,metaRanges:q.meta_ranges,message:q,maxWidth:this.props.maxBubbleWidth,ranges:z,ref:"bubble",threadID:q.thread_id,customLike:q.customLike,customColor:r&&p?c("convertMIGColorToFIGColor")(r.custom_color):"",threadCustomColor:r&&c("convertMIGColorToFIGColor")(r.custom_color)}),u);return null};m.propTypes={message:l.instanceOf(c("ImmutableObject")).isRequired,maxBubbleWidth:l.number.isRequired,onAttachmentLoad:l.func,onStickerClick:l.func,participants:l.instanceOf(c("immutable").Map).isRequired,readReceipts:l.instanceOf(c("immutable").OrderedMap).isRequired,thread:l.instanceOf(c("ImmutableObject"))};f.exports=c("FluxContainer").create(m,{withProps:true})}),null);
__d("StoreBasedStateMixinHelper",["invariant","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){this.$StoreBasedStateMixinHelper1=j;this.$StoreBasedStateMixinHelper2=new(c("SubscriptionsHandler"))()}i.prototype.subscribeCallback=function(j){__p&&__p();var k=this.$StoreBasedStateMixinHelper1.map(function(l){if(l.hasChanged&&l.getDispatchToken&&l.addListener)return l.addListener(j);else if(l.subscribe)return l.subscribe("change",j);else if(l.addListener)return l.addListener("change",j);else h(0)});if(this.$StoreBasedStateMixinHelper1.length>0)this.$StoreBasedStateMixinHelper2.addSubscriptions.apply(this.$StoreBasedStateMixinHelper2,k)};i.prototype.release=function(){this.$StoreBasedStateMixinHelper2.release()};f.exports=i}),null);
__d("StoreAndPropBasedStateMixin",["invariant","StoreBasedStateMixinHelper","setImmediate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function(){__p&&__p();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];return{getInitialState:function m(){return this.constructor.calculateState(this.props)},componentWillMount:function m(){__p&&__p();this.constructor.calculateState||h(0);this._recalculateStateID=null;var n=function(){if(this.isMounted())this.setState(this.constructor.calculateState(this.props));this._recalculateStateID=null}.bind(this);this._mixin=new(c("StoreBasedStateMixinHelper"))(k);this._mixin.subscribeCallback(function(){if(this._recalculateStateID===null)this._recalculateStateID=c("setImmediate")(n)}.bind(this))},componentWillReceiveProps:function m(n){this.setState(this.constructor.calculateState(n))},componentWillUnmount:function m(){this._mixin.release();this._mixin=null}}}.bind(this);f.exports=i}),null);
__d("ChatMessageGroup.react",["cx","fbt","ChatConfig","ChatDateBreak.react","ChatMessage.react","CurrentUser","Image.react","immutable","ImmutableObject","MercuryConfig","MercuryIDs","MercuryParticipants","MercuryTimestamp","MessengerTextWithEmoticons.react","React","ReactDOM","StoreAndPropBasedStateMixin","QE2Logger"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("immutable").OrderedMap,k=c("React").PropTypes,l=new(c("ImmutableObject"))({name:"",href:"#",image_src:""}),m=c("ChatConfig").get("chattab_rounded_profile",false),n=c("React").createClass({displayName:"ChatMessageGroup",mixins:[c("StoreAndPropBasedStateMixin")(c("MercuryParticipants"))],propTypes:{activeMessageID:k.string,author:k.string,hasDateBreak:k.bool,isCanonical:k.bool,isFromViewer:k.bool,isPageMessage:k.bool,isOnline:k.bool,maxBubbleWidth:k.number,messages:k.instanceOf(c("immutable").List).isRequired,readReceipts:k.instanceOf(j).isRequired,onAttachmentLoad:k.func,onStickerClick:k.func,thread:k.instanceOf(c("ImmutableObject")),threadID:k.string},statics:{calculateState:function p(q){return{participants:o(q)}}},componentDidMount:function p(){c("QE2Logger").logExposureForUser("messenger_growth_tombstone")},shouldComponentUpdate:function p(q,r){return this.props.isOnline!==q.isOnline||this.props.activeMessageID!==q.activeMessageID||this.props.isFromViewer!==q.isFromViewer||!c("immutable").is(this.props.messages,q.messages)||!c("immutable").is(this.state.participants,r.participants)||!c("immutable").is(this.props.thread,q.thread)},render:function p(){return c("React").createElement("div",{className:"_4tdt"+(this.props.isFromViewer?" _ua0":"")+(!this.props.isFromViewer?" _ua1":"")+(this._hasSeenHeadsAtBottom()?" _3lil":"")},this._renderProfileColumn(),c("React").createElement("div",{className:"_ua2"},this._renderName(),c("React").createElement("div",{className:"_4tdv"},this._renderMessages())))},_renderProfileColumn:function p(){if(this.props.isFromViewer)return null;var q=this.state.participants.get(this.props.author)||l,r=i._("{name} {time}",[i.param("name",q.name),i.param("time",c("MercuryTimestamp").getPreciseTimestamp(this.props.messages.last().timestamp))]),s=q.image_src?c("React").createElement(c("Image.react"),{src:q.image_src}):null,t=c("MercuryConfig").GDWC&&this.props.isOnline,u=c("CurrentUser").isWorkUser()&&q.is_coworker===false;return c("React").createElement("div",{className:"_31o4"+(m?" _3njy":"")},c("React").createElement("a",{"aria-label":r,className:"_4tdw","data-hover":"tooltip","data-tooltip-content":r,"data-tooltip-position":"left",href:q.href,ref:"link"},s),u?c("React").createElement("div",{className:"_4rwx _4rwy"}):t?c("React").createElement("div",{className:"_sce"}):null)},_renderName:function p(){__p&&__p();if(this.props.isCanonical||this.props.isFromViewer)return null;var q=this.state.participants.get(this.props.messages.first().author);if(!q)return null;var r=q.short_name;if(this.props.thread&&this.props.thread.custom_nickname){var s=c("MercuryIDs").getUserIDFromParticipantID(q.id);if(this.props.thread.custom_nickname[s])r=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:this.props.thread.custom_nickname[s]})}return c("React").createElement("div",{className:"_4tdx"},r)},_renderMessages:function p(){var q=this.props.messages.size,r=[];this.props.messages.forEach(function(s,t,u){var v=s.message_id===this.props.activeMessageID;if(v&&!(t===0&&this.props.hasDateBreak))r.push(c("React").createElement(c("ChatDateBreak.react"),{date:new Date(s.timestamp),key:"db:"+s.message_id}));r.push(c("React").createElement(c("ChatMessage.react"),{isFromViewer:this.props.isFromViewer,key:s.message_id,maxBubbleWidth:this.props.maxBubbleWidth,message:s,participants:this.state.participants,readReceipts:this.props.readReceipts,ref:s.message_id,nextTimestamp:this._getNextTimestamp(u,q,t),onAttachmentLoad:this.props.onAttachmentLoad,onStickerClick:this.props.onStickerClick,thread:this.props.thread}))}.bind(this));return r},_hasSeenHeadsAtBottom:function p(){var q=this.props,r=q.messages,s=q.nextTimestamp,t=q.readReceipts,u=r.last().timestamp,v=0;t.forEach(function(w){if(w>=u&&w<s)if(++v===2)return false;return null});return v===2},_getNextTimestamp:function p(q,r,s){return s<r-1?q.get(s+1).timestamp:this.props.nextTimestamp},getMessageElement:function p(q){return c("ReactDOM").findDOMNode(this.refs[q])}});function o(p){return c("immutable").Map().withMutations(function(q){p.readReceipts.forEach(function(r,s){q.set(s,c("MercuryParticipants").getOrFetch(s))});q.set(p.author,c("MercuryParticipants").getOrFetch(p.author))})}f.exports=n}),null);
__d("MercuryMessageRendererUtils",["cx","invariant","HovercardLink","MercuryViewer","MessengerTextWithEmoticons.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={getLinkToParticipant:function k(l,m){var n=l.fbid,o=c("HovercardLink").constructEndpoint({id:n}),p=m&&m.custom_nickname&&m.custom_nickname[n];if(p)p=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:p});var q=p?p:l.name;if(l.href)return c("React").createElement("a",{className:"_5wzt",href:l.href,"data-hovercard":o},q);return q},moveCurrentUserToFront:function k(){var l=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];l||i(0);var m=l.indexOf(c("MercuryViewer").getID());if(m>0){var n=l.filter(function(o){return o!==c("MercuryViewer").getID()});return[c("MercuryViewer").getID()].concat(n)}return l}};f.exports=j}),null);
__d("TimeSpentRoomTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({GROUP:"GROUP",EVENT:"EVENT"})}),null);
__d("MessageThreadAssociatedObjectUtils",["TimeSpentRoomTypeEnum"],(function a(b,c,d,e,f,g){"use strict";var h={shouldRender:function i(j){return j&&j.room_type===c("TimeSpentRoomTypeEnum").GROUP&&!j.is_workplace_community},isLinkedToGroupChat:function i(j){return j&&j.room_type===c("TimeSpentRoomTypeEnum").GROUP&&!j.is_workplace_community}};f.exports=h}),null);
__d("MessengerApprovalModeTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN:0,APPROVALS:1})}),null);
__d("MessengerJoinableModeType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PRIVATE:0,JOINABLE:1})}),null);
__d("MessengerParticipantAddModeTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD:"ADD",INVITE:"INVITE",ADD_INVITE:"ADD_INVITE"})}),null);
__d("MessengerAdminGroupUtils",["fbt","MercuryConfig","MercuryIDs","MessageThreadAssociatedObjectUtils","MessengerApprovalModeTypes","MessengerJoinableModeType","MessengerParticipantAddModeTypes","WorkModeConfig","CurrentUser","QE2Logger","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="messenger_use_new_group_participant_suggestion_ranking",j="show_nullstate_chat_tab_composer",k="show_nullstate_chat_tab_group_chat",l={isJoinableAndOpenThread:function m(n){return this.isJoinableThread(n)&&this.isApprovalOpenThread(n)},isJoinableAndApprovalRequiredThread:function m(n){return!!(this.isJoinableThread(n)&&n&&n.approval_mode===c("MessengerApprovalModeTypes").APPROVALS)},shouldAddToApprovalQueue:function m(n,o){return!!(this.isJoinableAndApprovalRequiredThread(n)&&n&&!l.isViewerAdmin(n.admin_ids,o))},isJoinableThread:function m(n){return!!(c("gkx")("AT5xrCi08i7kM3hip_Bf4sUgmdKPV1QphRx_J6kDVSso_LwnuXnsPyhq98JRQV_MqHjleZ_pelk8UHK4mDklEDU4gdH-DgPi3glxyQ2_7CHTgw")&&n&&n.is_thread_queue_enabled===true&&n.joinable_mode&&n.joinable_mode.mode===c("MessengerJoinableModeType").JOINABLE)},isGroupChat:function m(n){return!!(n&&c("MessageThreadAssociatedObjectUtils").isLinkedToGroupChat(n.associated_object))},shouldInvite:function m(n){return!!(c("gkx")("AT5xrCi08i7kM3hip_Bf4sUgmdKPV1QphRx_J6kDVSso_LwnuXnsPyhq98JRQV_MqHjleZ_pelk8UHK4mDklEDU4gdH-DgPi3glxyQ2_7CHTgw")&&n&&n.participant_add_mode===c("MessengerParticipantAddModeTypes").INVITE)},isApprovalOpenThread:function m(n){return!!(c("gkx")("AT5xrCi08i7kM3hip_Bf4sUgmdKPV1QphRx_J6kDVSso_LwnuXnsPyhq98JRQV_MqHjleZ_pelk8UHK4mDklEDU4gdH-DgPi3glxyQ2_7CHTgw")&&n&&n.approval_mode===c("MessengerApprovalModeTypes").OPEN)},isOwner:function m(n,o){return n&&this.isJoinableThread(o)},canSeeGroupOptions:function m(n,o,p){var q=c("WorkModeConfig").is_work_user;return!q&&this.isJoinableThread(o)},canSeeBotsInGroupTypeahead:function m(){var n=c("CurrentUser").isWorkUser();return n&&c("gkx")("AT5GhC4rylRpYKpnZf2oEtsedOSc0WCJLB5V8z6-mqCNieSKORSJnqenUlgYVRpQaRNASrJq2SeIYY3m4QNhPBlK")},canMakeOthersAdmins:function m(n,o,p){return this.isOwner(n,p)&&!o},canMakeSelfAdmin:function m(n,o){return this.isJoinableThread(o)&&o.admin_ids.length===0&&n},canRemoveAdmin:function m(n,o,p){return this.isOwner(n,p)&&o},canRemoveFromGroup:function m(n,o){return this.isOwner(n,o)||!this.isJoinableThread(o)},showJoinableLink:function m(n){var o=!!(n&&n.joinable_mode&&n.joinable_mode.link),p=l.isJoinableThread(n);return p&&o},showJoinableApprovalToggle:function m(n,o){if(n.associated_object&&!n.associated_object.approval_mode_toggleable)return false;var p=l.isViewerAdmin(n.admin_ids,o);return l.isOwner(p,n)},showApprovalQueue:function m(n,o){var p=l.isViewerAdmin(n.admin_ids,o),q=l.isOwner(p,n),r=0;if(n&&n.approval_queue_ids&&n.approval_queue_ids.length)r=n.approval_queue_ids.length;var s=l.isJoinableAndApprovalRequiredThread(n);return s&&q&&r>0},showParticipantsModal:function m(n,o,p){return this.isJoinableThread(p)&&!n&&!o},useNewGroupMemberSuggestionRanking:function m(){c("QE2Logger").logExposureForUser(i);return c("MercuryConfig").MessengerNewGroupParticipantSuggestionQE},showDefaultListForNewPersonAddChatTab:function m(){c("QE2Logger").logExposureForUser(k);return c("MercuryConfig").ChatGroupChat},showDefaultListForNewChatTab:function m(){c("QE2Logger").logExposureForUser(j);return c("MercuryConfig").ChatComposer},canUpdateThreadCustomization:function m(n,o){var p=l.isJoinableThread(n),q=l.isViewerAdmin(n.admin_ids,o);return n.is_subscribed&&(!p||q)},isViewerAdmin:function m(n,o){return this.isAdmin(n,c("MercuryIDs").getParticipantIDFromUserID(o))},isAdmin:function m(n,o){return n!==null&&n!==undefined&&n.indexOf(o)!==-1},getLeaveGroupBodyText:function m(n,o){return this.isOwner(n,o)?h._("Leaving this group will remove you as an owner and allow other members to manage the group. You will no longer be able to send or receive new messages."):h._("You will stop receiving messages from this conversation and people will see that you left.")},getLeaveGroupTitleText:function m(n,o){return this.isOwner(n,o)?h._("Leave this conversation?"):h._("Leave Conversation?")},getLeaveGroupButtonText:function m(n,o){return this.isOwner(n,o)?h._("Leave converstaion"):h._("Leave")},getMakeOwnerBodyText:function m(n,o){return n?h._("As a group owner, you will be able to manage group ownership and remove members from the conversation. Only owners will be able to add other owners."):h._("As a group owner, \"{owner's name}\" will be able to manage group ownership and remove members from the conversation. They will be able to remove ownership from other owners.",[h.param("owner's name",o)])},getMakeOwnerTitleText:function m(n){return n?h._("Become group owner?"):h._("Add group owner?")},getMakeOwnerButtonText:function m(n){return n?h._("Become owner"):h._("Make owner")},getRemoveOwnerBodyText:function m(n,o,p){var q=void 0;if(n&&o)q=h._("You will no longer manage group ownership and remove members from this conversation. You will still be a participant in the group. Any other member will be able to own the group.");else if(n&&!o)q=h._("You will no longer manage group ownership and remove members from this conversation. You will still be a participant in the group.");else q=h._("\"{owner's name}\" will no longer manage group ownership and remove members from the conversation. They will still be a participant in the group.",[h.param("owner's name",p)]);return q}};f.exports=l}),null);
__d("MessengerLightweightActionUtils",["MercuryAttachmentType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l){return!!(l&&l.attach_type===c("MercuryAttachmentType").SHARE&&l.share&&l.share.target&&l.share.target.lwa_type)}function i(l){var m=l.attachments;return!!(m&&m.length===1&&h(m[0]))}function j(l){return l.attachments[0].share.title}function k(l){return l[0].share.title}f.exports={isLWAMessage:i,isLWAAttachment:h,getCollapsedLWAText:j,getLWASnippetText:k}}),null);
__d("MercuryLogMessageRenderer",["cx","fbt","invariant","ix","Bootloader","CSS","Image.react","MercuryAttachmentViewer","MercuryViewer","MercuryLogMessageType","MessagingSourceEnum","MessengerAdminGroupUtils","MessengerLightweightActionUtils","MessengerTextWithEmoticons.react","MercuryParticipants","React","ReactDOM","MercuryMessageRendererUtils","MercuryThreads","TooltipLink.react","UserAgent","convertMIGColorToFIGColor"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=c("MercuryThreads").get(),m={renderText:function F(G,H,I,J){__p&&__p();H=H||l.getThreadMetaNow(G.thread_id);if(c("MessengerLightweightActionUtils").isLWAMessage(G)){J(c("MessengerLightweightActionUtils").getCollapsedLWAText(G));return}switch(G.log_message_type){case c("MercuryLogMessageType").SUBSCRIBE:var K=G.author;G.log_message_data||j(0);var L=G.log_message_data.added_participants;L||j(0);var M=L.length===1&&K===L[0];if(M)c("Bootloader").loadModules(["MercuryJoinableMessageRenderer"],function(O){O.renderText(G,H,J)},"MercuryLogMessageRenderer");else p(G,J);break;case c("MercuryLogMessageType").UNSUBSCRIBE:if(c("MessengerAdminGroupUtils").isJoinableThread(H))c("MessengerAdminGroupUtils").isGroupChat(H)?C(G,J):v(G,J);else u(G,J);break;case c("MercuryLogMessageType").THREAD_NAME:if(H&&c("MessengerAdminGroupUtils").isJoinableThread(H))c("MessengerAdminGroupUtils").isGroupChat(H)?D(G,H,J):w(G,H,J);else y(G,H,J);break;case c("MercuryLogMessageType").THREAD_IMAGE:if(H&&c("MessengerAdminGroupUtils").isJoinableThread(H))c("MessengerAdminGroupUtils").isGroupChat(H)?E(G,H,J):z(G,H,J);else A(G,H,J);break;case c("MercuryLogMessageType").WALLPAPER:B(G,J);break;case c("MercuryLogMessageType").GENERIC_ADMIN_TEXT:var N=c("convertMIGColorToFIGColor")(H&&H.custom_color);c("Bootloader").loadModules(["MercuryXMATRenderer"],function(O){J(O.renderText(N,G,I))},"MercuryLogMessageRenderer");break;default:c("Bootloader").loadModules(["MercurySpecialLogMessageRenderer"],function(O){O.renderText(G,J)},"MercuryLogMessageRenderer");break}},renderIcon:function F(G){return c("React").createElement(c("Image.react"),{className:n(G.log_message_type,G.log_message_data),src:k("99239")})},renderLegacy:function F(G,H,I,J){n(J.log_message_type,J.log_message_data).split(" ").forEach(function(K){return K&&c("CSS").addClass(G,K)});this.renderText(J,null,false,function(K){c("ReactDOM").render(c("React").createElement("span",null,K),H)});this.renderAttachmentLegacy(I,J)},renderAttachmentLegacy:function F(G,H){__p&&__p();var I;if(H.log_message_type===c("MercuryLogMessageType").THREAD_IMAGE)(function(){H.log_message_data||j(0);var J=H.log_message_data.image;if(J&&J.preview_url){c("ReactDOM").render(c("React").createElement(c("Image.react"),{className:"_z6a",onClick:function K(){return o(J)},src:J.preview_url}),G);c("CSS").show(G)}})()}};f.exports=m;function n(F,G){var H=!!(G&&G.answered);return"_5wzu"+(F===c("MercuryLogMessageType").SUBSCRIBE?" _5wzj":"")+(F===c("MercuryLogMessageType").UNSUBSCRIBE?" _5wzk":"")+(F===c("MercuryLogMessageType").THREAD_NAME?" _5wzl":"")+(F===c("MercuryLogMessageType").THREAD_IMAGE?" _5wzm":"")+(F===c("MercuryLogMessageType").VIDEO_CALL&&H?" _5wzn":"")+(F===c("MercuryLogMessageType").VIDEO_CALL&&!H?" _5wzo":"")+(F===c("MercuryLogMessageType").PHONE_CALL&&H?" _5wzp":"")+(F===c("MercuryLogMessageType").PHONE_CALL&&!H?" _5wzq":"")+(F===c("MercuryLogMessageType").SERVER_ERROR?" _5wzr":"")+(!F?" _2r5l":"")}function o(F){c("MercuryAttachmentViewer").bootstrapWithConfig({src:F.preview_url,endpoint:F.url,fbid:F.metadata.fbid,dimensions:F.metadata.dimensions,disablePaging:true},null)}function p(F,G){__p&&__p();F.log_message_data||j(0);var H=c("MercuryMessageRendererUtils").moveCurrentUserToFront(F.log_message_data.added_participants);H||j(0);switch(H.length){case 1:q(F,G,H);break;case 2:r(F,G,H);break;case 3:s(F,G,H);break;default:t(F,G,H);break}}function q(F,G,H){var I=[F.author,H[0]];c("MercuryParticipants").getMulti(I,function(J){if(F.author===c("MercuryViewer").getID())G(i._("You added {subscriber1}.",[i.param("subscriber1",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[0]]))]));else if(H[0]===c("MercuryViewer").getID())G(i._("{actor} added you.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(J[F.author]))]));else G(i._("{actor} added {subscriber1}.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(J[F.author])),i.param("subscriber1",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[0]]))]))})}function r(F,G,H){var I=[F.author].concat(H);c("MercuryParticipants").getMulti(I,function(J){if(F.author===c("MercuryViewer").getID())G(i._("You added {subscriber1} and {subscriber2}.",[i.param("subscriber1",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[0]])),i.param("subscriber2",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[1]]))]));else if(H[0]===c("MercuryViewer").getID())G(i._("{actor} added you and {subscriber2}.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(J[F.author])),i.param("subscriber2",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[1]]))]));else G(i._("{actor} added {subscriber1} and {subscriber2}.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(J[F.author])),i.param("subscriber1",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[0]])),i.param("subscriber2",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[1]]))]))})}function s(F,G,H){var I=[F.author].concat(H);c("MercuryParticipants").getMulti(I,function(J){if(F.author===c("MercuryViewer").getID())G(i._("You added {subscriber1}, {subscriber2} and {subscriber3}.",[i.param("subscriber1",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[0]])),i.param("subscriber2",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[1]])),i.param("subscriber3",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[2]]))]));else if(H[0]===c("MercuryViewer").getID())G(i._("{actor} added you, {subscriber2} and {subscriber3}.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(J[F.author])),i.param("subscriber2",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[1]])),i.param("subscriber3",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[2]]))]));else G(i._("{actor} added {subscriber1}, {subscriber2} and {subscriber3}.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(J[F.author])),i.param("subscriber1",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[0]])),i.param("subscriber2",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[1]])),i.param("subscriber3",c("MercuryMessageRendererUtils").getLinkToParticipant(J[H[2]]))]))})}function t(F,G,H){__p&&__p();var I=[F.author].concat(H);c("MercuryParticipants").getMulti(I,function(J){__p&&__p();function K(M){var N=c("React").createElement("div",null,M.map(function(O){return c("React").createElement("div",null,O.name)}));return c("React").createElement(c("TooltipLink.react"),{alignH:"center",position:"above",tooltip:N},i._({"*":"{num} more"},[i.param("num",M.length,[0])]))}var L=H.map(function(M){return J[M]});if(F.author===c("MercuryViewer").getID())G(i._("You added {subscriber1}, {subscriber2} and {more_people}.",[i.param("subscriber1",c("MercuryMessageRendererUtils").getLinkToParticipant(L[0])),i.param("subscriber2",c("MercuryMessageRendererUtils").getLinkToParticipant(L[1])),i.param("more_people",K(L.slice(2)))]));else if(H[0]===c("MercuryViewer").getID())G(i._("{actor} added you, {subscriber2} and {more_people}.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(J[F.author])),i.param("subscriber2",c("MercuryMessageRendererUtils").getLinkToParticipant(L[1])),i.param("more_people",K(L.slice(2)))]));else G(i._("{actor} added {subscriber1}, {subscriber2} and {more_people}.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(J[F.author])),i.param("subscriber1",c("MercuryMessageRendererUtils").getLinkToParticipant(L[0])),i.param("subscriber2",c("MercuryMessageRendererUtils").getLinkToParticipant(L[1])),i.param("more_people",K(L.slice(2)))]))})}function u(F,G){__p&&__p();var H=[F.author];F.log_message_data||j(0);var I=F.log_message_data.removed_participants;I||j(0);var J=void 0;if(I.length===1){J=I[0];H.push(J)}c("MercuryParticipants").getMulti(H,function(K){__p&&__p();var L=K[F.author],M=K[J];if(F.author===c("MercuryViewer").getID())if(!J||J===F.author)G(i._("You left the conversation."));else G(i._("You removed {name} from the conversation.",[i.param("name",c("MercuryMessageRendererUtils").getLinkToParticipant(M))]));else if(!J||J===F.author)G(i._("{actor} left the conversation.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(L))]));else if(J===c("MercuryViewer").getID())G(i._("{actor} removed you from the conversation.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(L))]));else G(i._("{actor} removed {name} from the conversation.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(L)),i.param("name",c("MercuryMessageRendererUtils").getLinkToParticipant(M))]))})}function v(F,G){__p&&__p();var H=[F.author];F.log_message_data||j(0);var I=F.log_message_data.removed_participants;I||j(0);var J=void 0;if(I.length===1){J=I[0];H.push(J)}c("MercuryParticipants").getMulti(H,function(K){__p&&__p();var L=K[F.author],M=K[J];if(F.author===c("MercuryViewer").getID())if(!J||J===F.author)G(i._("You left the room."));else G(i._("You removed {name} from the room.",[i.param("name",c("MercuryMessageRendererUtils").getLinkToParticipant(M))]));else if(!J||J===F.author)G(i._("{actor} left the room.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(L))]));else if(J===c("MercuryViewer").getID())G(i._("{actor} removed you from the room.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(L))]));else G(i._("{actor} removed {name} from the room.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(L)),i.param("name",c("MercuryMessageRendererUtils").getLinkToParticipant(M))]))})}function w(F,G,H){__p&&__p();F.log_message_data||j(0);var I=F.log_message_data.name,J="_5wzs"+(c("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(F.author===c("MercuryViewer").getID())if(I){var K=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:I});H(i._("You named the room: {name}.",[i.param("name",c("React").createElement("span",{className:J},K))]))}else H(i._("You removed the room name."));else c("MercuryParticipants").get(F.author,function(L){var M=c("MercuryMessageRendererUtils").getLinkToParticipant(L,G);if(I){var N=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:I});H(i._("{actor} named the room: {name}.",[i.param("actor",M),i.param("name",c("React").createElement("span",{className:J},N))]))}else H(i._("{actor} removed the room name.",[i.param("actor",M)]))})}function x(F,G,H,I,J){if(F.author===c("MercuryViewer").getID())J(i._("You named the group {thread_name}. Your group is also on Facebook.",[i.param("thread_name",c("React").createElement("span",{className:I},c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:H})))]));else c("MercuryParticipants").get(F.author,function(K){var L=c("MercuryMessageRendererUtils").getLinkToParticipant(K,G);J(i._("{actor} named the group {thread_name}. Your group is also on Facebook.",[i.param("actor",L),i.param("thread_name",c("React").createElement("span",{className:I},c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:H})))]))})}function y(F,G,H){__p&&__p();F.log_message_data||j(0);var I=F.log_message_data.name,J="_5wzs"+(c("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(I&&F.tags&&F.tags.indexOf(c("MessagingSourceEnum").EVENT_UPCOMING_BUMP)!==-1)H(i._("The group has been named {name}.",[i.param("name",c("React").createElement("span",{className:J},c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:I})))]));else if(I&&F.tags&&F.tags.indexOf(c("MessagingSourceEnum").GROUPSYNC_NAMING)!==-1)x(F,G,I,J,H);else if(F.author===c("MercuryViewer").getID())if(I){var K=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:I});H(i._("You named the conversation: {name}.",[i.param("name",c("React").createElement("span",{className:J},K))]))}else H(i._("You removed the conversation name."));else c("MercuryParticipants").get(F.author,function(L){var M=c("MercuryMessageRendererUtils").getLinkToParticipant(L,G);if(I){var N=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:I});H(i._("{actor} named the conversation: {name}.",[i.param("actor",M),i.param("name",c("React").createElement("span",{className:J},N))]))}else H(i._("{actor} removed the conversation name.",[i.param("actor",M)]))})}function z(F,G,H){__p&&__p();if(F.author===c("MercuryViewer").getID()){F.log_message_data||j(0);if(F.log_message_data.image)H(i._("You changed the room picture."));else H(i._("You removed the room picture."))}else c("MercuryParticipants").get(F.author,function(I){var J=c("MercuryMessageRendererUtils").getLinkToParticipant(I,G);F.log_message_data||j(0);if(F.log_message_data.image)H(i._("{actor} changed the room picture.",[i.param("actor",J)]));else H(i._("{actor} removed the room picture.",[i.param("actor",J)]))})}function A(F,G,H){__p&&__p();if(F.tags!==undefined&&F.tags.indexOf(c("MessagingSourceEnum").EVENT_UPCOMING_BUMP)!==-1)H(i._("The conversation picture has been set."));else if(F.author===c("MercuryViewer").getID()){F.log_message_data||j(0);if(F.log_message_data.image)H(i._("You changed the conversation picture."));else H(i._("You removed the conversation picture."))}else c("MercuryParticipants").get(F.author,function(I){var J=c("MercuryMessageRendererUtils").getLinkToParticipant(I,G);F.log_message_data||j(0);if(F.log_message_data.image)H(i._("{actor} changed the conversation picture.",[i.param("actor",J)]));else H(i._("{actor} removed the conversation picture.",[i.param("actor",J)]))})}function B(F,G){if(F.author===c("MercuryViewer").getID())G(i._("You changed the wallpaper."));else c("MercuryParticipants").get(F.author,function(H){var I=c("MercuryMessageRendererUtils").getLinkToParticipant(H);G(i._("{actor} changed the wallpaper.",[i.param("actor",I)]))})}function C(F,G){__p&&__p();var H=[F.author];F.log_message_data||j(0);var I=F.log_message_data.removed_participants;I||j(0);var J=void 0;if(I.length===1){J=I[0];H.push(J)}c("MercuryParticipants").getMulti(H,function(K){__p&&__p();var L=K[F.author],M=K[J];if(F.author===c("MercuryViewer").getID())if(!J||J===F.author)G(i._("You left the chat."));else G(i._("You removed {name} from the chat.",[i.param("name",c("MercuryMessageRendererUtils").getLinkToParticipant(M))]));else if(!J||J===F.author)G(i._("{actor} left the chat.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(L))]));else if(J===c("MercuryViewer").getID())G(i._("{actor} removed you from the chat.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(L))]));else G(i._("{actor} removed {name} from the chat.",[i.param("actor",c("MercuryMessageRendererUtils").getLinkToParticipant(L)),i.param("name",c("MercuryMessageRendererUtils").getLinkToParticipant(M))]))})}function D(F,G,H){__p&&__p();F.log_message_data||j(0);var I=F.log_message_data.name,J="_5wzs"+(c("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(F.author===c("MercuryViewer").getID())if(I){var K=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:I});H(i._("You named the chat: {name}.",[i.param("name",c("React").createElement("span",{className:J},K))]))}else H(i._("You removed the chat name."));else c("MercuryParticipants").get(F.author,function(L){var M=c("MercuryMessageRendererUtils").getLinkToParticipant(L,G);if(I){var N=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:I});H(i._("{actor} named the chat: {name}.",[i.param("actor",M),i.param("name",c("React").createElement("span",{className:J},N))]))}else H(i._("{actor} removed the chat name.",[i.param("actor",M)]))})}function E(F,G,H){__p&&__p();if(F.author===c("MercuryViewer").getID()){F.log_message_data||j(0);if(F.log_message_data.image)H(i._("You changed the chat picture."));else H(i._("You removed the chat picture."))}else c("MercuryParticipants").get(F.author,function(I){var J=c("MercuryMessageRendererUtils").getLinkToParticipant(I,G);F.log_message_data||j(0);if(F.log_message_data.image)H(i._("{actor} changed the chat picture.",[i.param("actor",J)]));else H(i._("{actor} removed the chat picture.",[i.param("actor",J)]))})}}),null);
__d("MercuryLogMessage.react",["cx","fbt","DOM","DOMDimensions","Event","EventReminderRequestHelper","ImmutableObject","MercuryLogMessageRenderer","MercuryLogMessageType","MessagingGenericAdminTextType","React","ReactDOM","ShimButton.react","cancelAnimationFrame","emptyFunction","formatDate","joinClasses","requestAnimationFrame","requireWeak"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=266;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={messageText:null,showEventReminderFlyout:false},this.$MercuryLogMessage4=function(){this.$MercuryLogMessage5()}.bind(this),this.$MercuryLogMessage9=function(){if(!this.state.showEventReminderFlyout)c("EventReminderRequestHelper").fetchEventReminder(this.props.thread.thread_id,this.props.thread.lightweight_event.oid,function(){this.$MercuryLogMessage1&&this.setState({showEventReminderFlyout:true})}.bind(this));else this.setState({showEventReminderFlyout:false})}.bind(this),this.$MercuryLogMessage11=function(t){if(t!==this.state.showEventReminderFlyout)this.setState({showEventReminderFlyout:t})}.bind(this),p}n.prototype.componentDidMount=function(){this.$MercuryLogMessage1=true;this.componentWillReceiveProps(this.props)};n.prototype.componentWillUnmount=function(){this.$MercuryLogMessage1=false;if(this.$MercuryLogMessage2)c("cancelAnimationFrame")(this.$MercuryLogMessage2)};n.prototype.$MercuryLogMessage3=function(){return c("React").createElement(c("ShimButton.react"),{form:"link",onClick:this.$MercuryLogMessage4},i._("Show previous messages."))};n.prototype.$MercuryLogMessage5=function(){var o=this.props.loadMoreMessages&&this.props.loadMoreMessages();if(!this.$MercuryLogMessage1)return;if(o)this.setState({messageText:this.$MercuryLogMessage3()});else{var p=i._("Couldn't find previous messages.");this.setState({messageText:p})}};n.prototype.componentWillReceiveProps=function(o){if(o.message.log_message_type===c("MercuryLogMessageType").SERVER_ERROR)return;c("MercuryLogMessageRenderer").renderText(o.message,o.thread,o.isLastOfType,function(p){this.$MercuryLogMessage1&&this.setState({messageText:p})}.bind(this))};n.prototype.shouldComponentUpdate=function(o,p){return this.state.messageText!=p.messageText||o.maxWidth!==this.props.maxWidth||this.state.showEventReminderFlyout!==p.showEventReminderFlyout};n.prototype.componentDidUpdate=function(){this.$MercuryLogMessage6();if(!this.refs.attachment)return;c("MercuryLogMessageRenderer").renderAttachmentLegacy(this.refs.attachment,this.props.message);c("DOM").scry(this.refs.wrap,"img").forEach(function(o){var p=c("Event").listen(o,"load",function(){this.$MercuryLogMessage6();p.remove()}.bind(this))}.bind(this))};n.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_5ye6"),ref:"wrap",style:babelHelpers["extends"]({},this.props.style,this.$MercuryLogMessage7()),title:c("formatDate")(new Date(this.props.message.timestamp),"g:ia")}),c("React").createElement("div",{className:"_5ye7"},c("MercuryLogMessageRenderer").renderIcon(this.props.message),this.state.messageText),c("React").createElement("div",{className:"_5ye8",ref:"attachment"},this.$MercuryLogMessage8()))};n.prototype.$MercuryLogMessage8=function(){__p&&__p();if(this.props.thread&&!this.props.thread.lightweight_event||!this.props.message.log_message_data)return null;var o=void 0;c("requireWeak")("EventReminderStateStore",function(s){o=s.getEvent(this.props.thread.thread_id)}.bind(this));if(!o||!o.exists)return null;var p;c("requireWeak")("Link.react",function(s){p=s});var q=void 0;switch(this.props.message.log_message_data.message_type){case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE:q=i._("Change");break;default:q=null}var r=c("React").createElement(p,{href:"#",onClick:this.$MercuryLogMessage9,title:i._("Edit Event"),ref:"event_rem_link"},q);if(this.props.displayItems)r=null;return c("React").createElement("span",null,r,this.$MercuryLogMessage10())};n.prototype.$MercuryLogMessage10=function(){__p&&__p();if(!this.state.showEventReminderFlyout)return null;var o="right",p=c("ReactDOM").findDOMNode(this.refs.wrap);if(p&&p instanceof Element&&p.getBoundingClientRect().left<m)o="left";var q={alignment:o,position:"above",contextRef:function(){return this.refs.event_rem_link}.bind(this),shown:this.state.showEventReminderFlyout,onToggle:this.$MercuryLogMessage11},r=void 0;c("requireWeak")("EventsActionsLogger",function(v){r=v});var s={action_history:[{surface:r.Surface.MESSENGER_CHAT_TAB,mechanism:r.Mechanism.REMINDER_ADMIN_TEXT}]},t={threadID:this.props.thread.thread_id,dialogProps:q,flyoutNoSheet:true,isEditing:true,actionContext:s},u;c("requireWeak")("ChatEventReminderContainer.react",function(v){u=v});return c("React").createElement(u,t)};n.prototype.$MercuryLogMessage7=function(){return this.props.maxWidth?{maxWidth:this.props.maxWidth}:null};n.prototype.$MercuryLogMessage6=function(){if(this.$MercuryLogMessage2)c("cancelAnimationFrame")(this.$MercuryLogMessage2);this.$MercuryLogMessage2=c("requestAnimationFrame")(function(){this.props.onImageLoad&&this.props.onImageLoad(c("DOMDimensions").getElementDimensions(this.refs.wrap).height);delete this.$MercuryLogMessage2}.bind(this))};n.propTypes={loadMoreMessages:l.func,maxWidth:l.number,message:l.instanceOf(c("ImmutableObject")).isRequired,onImageLoad:l.func,thread:l.object};n.defaultProps={onImageLoad:c("emptyFunction")};f.exports=n}),null);
__d("MercuryShareAttachmentRenderLocations",[],(function a(b,c,d,e,f,g){"use strict";var h={CHAT:"chat",CHAT_PREVIEW:"chat_preview",COMPOSER:"ufi_composer",MESSENGER:"messenger",PAGES_INBOX:"pages_inbox",getValues:function i(){return[h.CHAT,h.CHAT_PREVIEW,h.COMPOSER,h.MESSENGER,h.PAGES_INBOX]},isPreview:function i(j){return j===h.CHAT_PREVIEW}};f.exports=h}),null);
__d("enumerate",[],(function a(b,c,d,e,f,g){"use strict";f.exports=function(b){return b.FB_enumerate}(b)}),null);
__d("MercuryMessageGroup",["MercuryActionType","MercuryAttachmentType","MercuryShareAttachmentRenderLocations","MercuryThreadlistConstants","MessengerLightweightActionUtils","enumerate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={calculateMessageGroups:function k(l,m){__p&&__p();var n=[],o=null,p={value:null},q=c("enumerate")(l),r=void 0;while(!(r=q.next()).done){var s=h.canAppendMessageToLastGroup(p.value,r.value,m);if(!s){o=[];n.push(o)}o.push(r.value);p=r}return n},canAppendMessageToLastGroup:function k(l,m,n){var o=c("MercuryThreadlistConstants").GROUPING_THRESHOLD;if(!l||i(l,n)||i(m,n)||l.author!=m.author||l.timestamp<m.timestamp-o||l.is_spoof_warning!==m.is_spoof_warning||l.page_admin_notes)return false;return true}};function i(k,l){var m=k.has_attachment;if(m&&(l===c("MercuryShareAttachmentRenderLocations").MESSENGER||l===c("MercuryShareAttachmentRenderLocations").CHAT))m=j(k);return!!(c("MessengerLightweightActionUtils").isLWAMessage(k)||k.action_type==c("MercuryActionType").LOG_MESSAGE||m||k.html_body||k.body&&k.body.length>c("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK)}function j(k){var l=k.attachments[0];return!l||l.attach_type===c("MercuryAttachmentType").STICKER||l.attach_type===c("MercuryAttachmentType").ANIMATED_IMAGE}f.exports=h}),null);
__d("PagesMessagingMercuryChatTabActionKeys",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({REQUEST_GREETING_CONFIG:null,NOTIFY_GREETING_CONFIG_RECEIVED:null});f.exports=h}),null);
__d("PagesMessagingMercuryChatTabDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationDispatcher"))({strict:false})}),null);
__d("PagesMessagingMercuryChatTabActions",["PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h={requestGreetingConfig:function i(j){c("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:c("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG,threadID:j})},notifyGreetingConfigReceived:function i(j,k){c("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:c("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED,threadID:j,payload:k})}};f.exports=h}),null);
__d("PagesMessagingMercuryChatTabState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("immutable").Record({pagesGreetingShouldShow:false,pagesGreetingContent:null,pageResponsiveness:null,coverPhotoData:null,connectionContext:null,pageOnlineMessage:null,pageOneClickMessages:null}));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("XMercuryChatTabPagesNullStateConfigController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/messaging/mercury/greeting/",{})}),null);
__d("PagesMessagingMercuryChatTabStore",["invariant","PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabActions","AsyncRequest","PagesMessagingMercuryChatTabDispatcher","FluxStore","Map","MercuryIDs","PagesMessagingMercuryChatTabState","XMercuryChatTabPagesNullStateConfigController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FluxStore"));j=i&&i.prototype;function k(){j.constructor.call(this,c("PagesMessagingMercuryChatTabDispatcher"));this.$PagesMessagingMercuryChatTabStore1=new(c("Map"))()}k.prototype.getStateByThread=function(l){if(!this.$PagesMessagingMercuryChatTabStore1.has(l))this.$PagesMessagingMercuryChatTabStore1.set(l,new(c("PagesMessagingMercuryChatTabState"))());var m=this.$PagesMessagingMercuryChatTabStore1.get(l);m||h(0);return m};k.prototype.__onDispatch=function(l){var m=l.actionType,n=l.payload,o=l.threadID,p=this.getStateByThread(o);p||h(0);switch(m){case c("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG:this.$PagesMessagingMercuryChatTabStore2(o);break;case c("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED:this.$PagesMessagingMercuryChatTabStore3(o,this.$PagesMessagingMercuryChatTabStore4(n,p));break}};k.prototype.$PagesMessagingMercuryChatTabStore2=function(l){var m=c("XMercuryChatTabPagesNullStateConfigController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(m).setMethod("POST").setData({page_id:c("MercuryIDs").getUserIDFromThreadID(l)}).setHandler(function(n){return c("PagesMessagingMercuryChatTabActions").notifyGreetingConfigReceived(l,n.payload)}).send()};k.prototype.$PagesMessagingMercuryChatTabStore3=function(l,m){this.$PagesMessagingMercuryChatTabStore1.set(l,m);this.__emitChange()};k.prototype.$PagesMessagingMercuryChatTabStore4=function(l,m){var n=m.set("pagesGreetingShouldShow",l.pagesGreetingShouldShow).set("pagesGreetingContent",l.pagesGreetingContent).set("pageResponsiveness",l.pageResponsiveness).set("coverPhotoData",l.coverPhotoData).set("connectionContext",l.connectionContext).set("pageOnlineMessage",l.pageOnlineMessage);if(m.pageOneClickMessages===null||m.pageOneClickMessages===undefined||Object.keys(m.pageOneClickMessages).length===0)n=n.set("pageOneClickMessages",l.pageOneClickMessages);return n};f.exports=new k()}),null);
__d("PagesMessageListGreeting.react",["cx","FluxContainer","PagesMessagingMercuryChatTabActions","PagesMessagingMercuryChatTabStore","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("PagesMessagingMercuryChatTabStore")]};k.calculateState=function(l,m){if(m.messageCount>0)return{shouldShowGreeting:false};var n=c("PagesMessagingMercuryChatTabStore").getStateByThread(m.threadID);return{greetingContent:n.pagesGreetingContent,shouldShowGreeting:n.pagesGreetingShouldShow}};k.prototype.componentDidMount=function(){c("PagesMessagingMercuryChatTabActions").requestGreetingConfig(this.props.threadID)};k.prototype.render=function(){if(!this.state.shouldShowGreeting||!this.state.greetingContent||this.state.greetingContent.trim().length===0)return null;return c("React").createElement("div",{className:"_4fsh _3-8z"},this.state.greetingContent)};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k,{withProps:true})}),null);
__d("messengerDomIDsRe",["uniqueID"],(function a(b,c,d,e,f,g){"use strict";var h={COMPOSER_INPUT_DESCRIPTION:c("uniqueID")(),CONVERSATION:c("uniqueID")(),MAIN_LABEL:c("uniqueID")(),MUTE_DIALOG_TITLE:c("uniqueID")(),THREAD_INFO_PANEL:c("uniqueID")(),THREAD_TITLE:c("uniqueID")()};g.ids=h}),null);
__d("MessageList.react",["cx","immutable","ImmutableObject","MercuryActionType","MercuryIDs","MercuryLogMessageType","MercuryMessageGroup","MessagingGenericAdminTextType","MessengerAdminGroupUtils","messengerDomIDsRe","MessengerLightweightActionUtils","PagesMessageListGreeting.react","React","ReactDOM","MercuryShareAttachmentRenderLocations","idx"],(function aa(ba,a,ca,da,b,ea,fa){"use strict";__p&&__p();var c,d,e=a("messengerDomIDsRe").ids,f=a("React").PropTypes,g=1e3*60*60,h=function h(p){var q,r,s,t=(q=p)!=null?(q=q.log_message_data)!=null?q.message_type:q:q;switch(t){case a("MessagingGenericAdminTextType").GROUP_POLL:return(r=p)!=null?(r=r.log_message_data)!=null?(r=r.untypedData)!=null?r.question_id:r:r:r;case a("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE:return(s=p)!=null?(s=s.log_message_data)!=null?(s=s.untypedData)!=null?s.game_id:s:s:s;default:return null}},i=function i(p){if(a("MessengerLightweightActionUtils").isLWAMessage(p))return"lwa";return null};c=babelHelpers.inherits(j,a("React").PureComponent);d=c&&c.prototype;function j(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=d.constructor).call.apply(p,[this].concat(s)),this.state={activeMessageID:null,messageGroups:a("MercuryMessageGroup").calculateMessageGroups(this.props.messages,this.props.location)},this.$MessageList4=function(u){this.setState(function(v){return{activeMessageID:v.activeMessageID===u?null:v.activeMessageID}})}.bind(this),this.$MessageList5=function(u){this.setState({activeMessageID:u})}.bind(this),q}j.prototype.componentWillReceiveProps=function(p){if(p.messages!==this.props.messages)this.setState({messageGroups:a("MercuryMessageGroup").calculateMessageGroups(p.messages,p.location)})};j.prototype.render=function(){__p&&__p();var p=this.props,q=p.DateBreak,r=p.location,s=p.MessageGroup,t=p.CollapsedLogMessageGroup,u=[],v=[],w=void 0,x=this.props.thread&&this.props.thread.custom_color,y=x?{backgroundColor:x}:null,z=this.state.activeMessageID,A=this.state.messageGroups,B=A.length,C=this.props.readReceipts,D=C.last(),E=D?D.watermark:0,F=a("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),G=a("MessengerAdminGroupUtils").isJoinableThread(this.props.thread),H={};for(var I=this.props.messages.size-1;I>=0;I--){var J=this.props.messages.get(I),K=h(J)||i(J);if(K&&!H[K])H[K]=J.message_id}for(var L=0;L<B;L++){var M=L>0?A[L-1]:null,N=M&&M.length>0?M[M.length-1]:null,O=A[L],P=O[0],Q=O[O.length-1],R=false;if(!N||P.timestamp-N.timestamp>g){R=true;var S=a("React").createElement(q,{date:new Date(P.timestamp),key:"db:"+P.message_id,ref:"db:"+P.message_id});if(v.length===0)u.push(S)}if(a("MessengerLightweightActionUtils").isLWAMessage(P))if(H[i(P)]!==P.message_id){var T=this.$MessageList1(P,H);u.push(T);continue}if(P.action_type==a("MercuryActionType").LOG_MESSAGE){var U,V=(U=P)!=null?(U=U.log_message_data)!=null?U.message_type:U:U,W=V===a("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE,ga=V===a("MessagingGenericAdminTextType").GROUP_POLL;if((r===a("MercuryShareAttachmentRenderLocations").CHAT||r===a("MercuryShareAttachmentRenderLocations").MESSENGER)&&(P.log_message_type===a("MercuryLogMessageType").VIDEO_CALL||P.log_message_type===a("MercuryLogMessageType").PHONE_CALL)){var ha=this.$MessageList2(P,F,A,B,L,C,E,Q);u.push(ha)}else{var X=this.$MessageList3(P,H);w=P.message_id;if(G&&!W&&!ga)v.push(X);else{if(v.length!==0){if(v.length>1)u.push(a("React").createElement(t,{key:"mg:"+w,style:y},v));else u.push(a("React").createElement("div",{key:"mg:"+w},v));v=[]}u.push(X)}}continue}if(v.length!==0){if(v.length>1)u.push(a("React").createElement(t,{key:"mg:"+w,style:y},v));else u.push(a("React").createElement("div",{key:"mg:"+w},v));v=[]}O=a("immutable").List(O);var Y=l(A,B,L),ia=!n(C,O,Y),ja=m(E,Q),ka=o(this.props.deliveryTimestamp,Q),la=this.props.onlineUsers!==undefined&&this.props.onlineUsers.includes(a("MercuryIDs").getUserIDFromParticipantID(O.first().author));u.push(a("React").createElement(s,{activeMessageID:k(z,O),author:O.first().author,deliveryTimestamp:ka,hasDateBreak:R,isCanonical:this.props.isCanonical,isFromViewer:F===P.author,isPageMessage:this.props.isPageMessage,isOnline:la,key:"mg:"+P.message_id,lastReadTimestamp:ja,maxBubbleWidth:this.props.maxBubbleWidth,messages:O,nextTimestamp:Y,onAttachmentLoad:this.props.onAttachmentLoad,onMessageDeselect:this.$MessageList4,onMessageSelect:this.$MessageList5,onStickerClick:this.props.onStickerClick,pageID:this.props.isPageMessage?this.props.viewer:null,readReceipts:ia?C:a("immutable").OrderedMap(),ref:"mg:"+P.message_id,thread:this.props.thread,threadID:this.props.threadID}))}if(v.length!==0){if(v.length>1)u.push(a("React").createElement(t,{key:"mg:"+w,style:y},v));else u.push(a("React").createElement("div",{key:"mg:"+w},v));v=[]}var Z=this.props.threadID||this.props.thread&&this.props.thread.thread_id||this.props.thread&&this.props.thread.thread_fbid,$=null;if(r===a("MercuryShareAttachmentRenderLocations").MESSENGER&&Z&&this.props.isPageMessage)$=a("React").createElement(a("PagesMessageListGreeting.react"),{messageCount:v.length+B,threadID:Z});return a("React").createElement("div",{id:r===a("MercuryShareAttachmentRenderLocations").MESSENGER?e.CONVERSATION:null},$,u)};j.prototype.getMessageElement=function(p,q){__p&&__p();if(q){var r=this.refs["db:"+p];if(r)return a("ReactDOM").findDOMNode(r)}var s=this.state.messageGroups.find(function(v){return v.some(function(w){return w.message_id===p})});if(!s)return null;var t=s[0].message_id,u=this.refs["mg:"+t];if(!u)return null;if(q&&t===p)return a("ReactDOM").findDOMNode(u);return u.getMessageElement(p)};j.prototype.$MessageList2=function(p,q,r,s,t,u,v,w){var x=this.props.MessageGroup,y={attach_type:"share",share:{style_list:["rtc_call_log","fallback"],log_message_body:p.log_message_body,log_message_data:p.log_message_data,log_message_type:p.log_message_type,timestamp:p.timestamp}},z=a("ImmutableObject").setProperty(p,"attachments",[y]);z=a("ImmutableObject").setProperty(z,"body","");var A=a("immutable").List([z]),B=l(r,s,t),C=!n(u,A,B),D=m(v,w),E=o(this.props.deliveryTimestamp,w);return a("React").createElement(x,{author:A.first().author,deliveryTimestamp:E,isFromViewer:q===p.author,key:p.message_id,lastReadTimestamp:D,maxBubbleWidth:this.props.maxBubbleWidth,messages:A,nextTimestamp:B,onAttachmentLoad:this.props.onAttachmentLoad,onMessageDeselect:this.$MessageList4,onMessageSelect:this.$MessageList5,onStickerClick:this.props.onStickerClick,readReceipts:C?u:a("immutable").OrderedMap(),thread:this.props.thread,threadID:this.props.threadID})};j.prototype.$MessageList3=function(p,q){var r=this.props.LogMessage,s=q[h(p)];if(p.log_message_type!==a("MercuryLogMessageType").SERVER_ERROR)return a("React").createElement(r,{className:this.props.location===a("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,key:p.message_id,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:p,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,isPageMessage:this.props.isPageMessage,thread:this.props.thread,isLastOfType:s===p.message_id});return null};j.prototype.$MessageList1=function(p,q){var r=q[i(p)],s=this.props.LogMessage;return a("React").createElement(s,{className:this.props.location===a("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,key:p.message_id,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:p,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,thread:this.props.thread,isLastOfType:r===p.message_id})};j.propTypes={CollapsedLogMessageGroup:f.func.isRequired,DateBreak:f.func.isRequired,deliveryTimestamp:f.number.isRequired,isCanonical:f.bool,isPageMessage:f.bool,location:f.string.isRequired,LogMessage:f.func.isRequired,loadMoreMessages:f.func,MessageGroup:f.func.isRequired,messages:f.instanceOf(a("immutable").List).isRequired,onAttachmentLoad:f.func,onlineUsers:f.instanceOf(a("immutable").List),onStickerClick:f.func,readReceipts:f.instanceOf(a("immutable").OrderedMap).isRequired,viewer:f.string.isRequired,thread:f.object,threadID:f.string};function k(p,q){return q.find(function(r){return r.message_id===p})?p:null}function l(p,q,r){return r<q-1?p[r+1][0].timestamp:Infinity}function m(p,q){return q.timestamp>p?p:Infinity}function n(p,q,r){return q.isEmpty()||p.last()<q.first().timestamp||p.first()>=r}function o(p,q){return q.timestamp>p?p:Infinity}b.exports=j}),null);
__d("mercuryRogerRe",["bs_array","Arbiter","utilsRe","JSLogger","immutable","bs_js_boolean","MercuryThreads","MercuryDispatcher","MercuryActionStatus","mercurySingletonProviderRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m,n,o,p){__p&&__p();var q=+(n>=m.timestamp),r=m.status,s=1-p||+(o!==m.author);if(q!==0)if(r==null)if(s!==0)return 1;else return 0;else if(s!==0&&r===c("MercuryActionStatus").SUCCESS)return 1;else return 0;else return 0}function i(m){__p&&__p();var n=[{}],o=new(c("Arbiter"))(),p={__fbid:m,getSeenBy:function t(u,v){__p&&__p();var w=n,x=u,y=v;if(x==null)return[];else{var z=w[0][x.thread_id];if(z!==undefined)return z.reduce(function(A,B,C,D){if(h(x,B.watermark,C,c("utilsRe").isTruthy(y)))return c("bs_array").append(A,[C]);else return A},[]);else return[]}},wasSeenByAll:function t(u){var v=n,w=u,x=v[0][w.thread_id];if(x!==undefined)return c("bs_js_boolean").to_js_boolean(x.reduce(function(y,z,A,B){if(y)return h(w,z.watermark,A,0);else return 0},1));else return false},getSeenTimestamp:function t(u,v){var w=n,x=u,y=v,z=w[0][x];if(z!==undefined){var A=z.get(y);if(A==null)return null;else return A}else return null},getSeenTimestamps:function t(u){var v=n,w=u,x=v[0][w];if(x!==undefined)return x;else return c("immutable").OrderedMap()},subscribe:function t(u,v){return o.subscribe(u,v)},mockInform:function t(u,v){o.inform(u,v);return 0}},q=[[]],r=c("MercuryDispatcher").getForFBID(m),s=c("MercuryThreads").getForFBID(m);r.subscribe("update-roger",function(t,u){__p&&__p();if(u==null)return 0;else{Object.keys(u).forEach(function(v){__p&&__p();var w=s.getThreadMetaNow(v);Object.keys(u[v]).forEach(function(y){__p&&__p();var x=n[0][v],z=x!==undefined?x:c("immutable").OrderedMap(),A=w==null?0:[w.participants],B=0;if(A)if(A[0].indexOf(y)===-1){q[0].push(z);return 0}else B=1;else B=1;if(B===1){var C=z.get(y),D=u[v][y],E=0;if(C==null)E=2;else if(D.watermark<=C.watermark)return 0;else E=2;if(E===2){n[0][v]=z.set(y,D);return 0}}});var x=n[0][v];if(x!==undefined){n[0][v]=x.sort(function(y,z){return y.watermark-z.watermark|0});return 0}else return 0});o.inform("change",u);return 0}});r.subscribe("invalidate-global-state",function(t,u){n[0]={};q[0]=[];return 0});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(t,u){u.read_receipts={valid_receipts:n[0],bad_receipts:q[0]};return 0});return p}var j=c("mercurySingletonProviderRe").Provider([i]),k=j[0],l=j[1];g.getForFBID=k;g.get=l}),null);
__d("ChatConversation.react",["ChatCollapsedLogMessageGroup.react","ChatDateBreak.react","ChatMessageGroup.react","immutable","MercuryLogMessage.react","MercuryIDs","mercuryRogerRe","MessageList.react","React","Set","MercuryShareAttachmentRenderLocations","cancelAnimationFrame","requestAnimationFrame"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("mercuryRogerRe").get(),i=c("immutable").OrderedMap,j=c("React").PropTypes,k=c("React").createClass({displayName:"ChatConversation",_raf:undefined,_onMountTimeout:undefined,propTypes:{contextBanner:j.object,isCanonical:j.bool.isRequired,loadMoreMessages:j.func,maxBubbleWidth:j.number.isRequired,messages:j.instanceOf(c("immutable").List).isRequired,onAttachmentLoad:j.func,onMount:j.func,onlineUsers:j.instanceOf(c("immutable").List).isRequired,onStickerClick:j.func,viewer:j.string.isRequired,thread:j.object,threadID:j.string.isRequired},componentDidMount:function l(){this._raf=c("requestAnimationFrame")(function(){this._onMountTimeout=setTimeout(function(){this.props.onMount&&this.props.onMount();delete this._onMountTimeout}.bind(this),0);delete this._raf}.bind(this))},componentWillUnmount:function l(){if(this._raf)c("cancelAnimationFrame")(this._raf);clearTimeout(this._onMountTimeout)},render:function l(){return c("React").createElement("div",null,this.props.contextBanner,c("React").createElement(c("MessageList.react"),{DateBreak:c("ChatDateBreak.react"),LogMessage:c("MercuryLogMessage.react"),MessageGroup:c("ChatMessageGroup.react"),deliveryTimestamp:0,isCanonical:this.props.isCanonical,location:c("MercuryShareAttachmentRenderLocations").CHAT,loadMoreMessages:this.props.loadMoreMessages,maxBubbleWidth:this.props.maxBubbleWidth,CollapsedLogMessageGroup:c("ChatCollapsedLogMessageGroup.react"),messages:this.props.messages,onAttachmentLoad:this.props.onAttachmentLoad,onlineUsers:this.props.onlineUsers,onStickerClick:this.props.onStickerClick,readReceipts:this._calculateReceipts(this.props),ref:"messageList",viewer:this.props.viewer,thread:this.props.thread,threadID:this.props.threadID}))},_calculateReceipts:function l(m){__p&&__p();var n=c("MercuryIDs").getParticipantIDFromUserID(m.viewer),o=h.getSeenTimestamps(m.threadID),p=new(c("Set"))(m.thread?m.thread.participants:o.keys());p["delete"](n);return o.withMutations(function(o){__p&&__p();c("immutable").Seq(m.messages).reverse().forEach(function(q){__p&&__p();if(p.size===0)return false;if(!p.has(q.author))return null;o.update(q.author,function(r){if(!r||r.watermark<=q.timestamp)return{watermark:q.timestamp,action:q.timestamp};return r});p["delete"](q.author);return null})})},getMessageList:function l(){return this.refs.messageList}});f.exports=k}),null);
__d("ChatEditParticipantsUtils",["AsyncDialog","AsyncRequest","MercuryIDs","MercuryThreadIDMap","URI"],(function a(b,c,d,e,f,g){"use strict";var h=c("MercuryThreadIDMap").get(),i={showParticipantsModal:function j(k){if(!c("MercuryIDs").isGroupChat(k))return;h.getServerIDFromClientID(k,function(l){c("AsyncDialog").send(new(c("AsyncRequest"))(new(c("URI"))("/ajax/browser/dialog/multichat_members/").addQueryData({id:l})))})}};f.exports=i}),null);
__d("ChatFlyoutPlaceholder.react",["React","XUISpinner.react"],(function a(b,c,d,e,f,g){"use strict";var h={padding:"30px",textAlign:"center"},i=function i(){return c("React").createElement("div",{style:h},c("React").createElement(c("XUISpinner.react"),{size:"large"}))};f.exports=i}),null);
__d("DefaultDraftBlockRenderMap",["cx","immutable","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").Map,j=c("React").createElement("ul",{className:"_1bv0"}),k=c("React").createElement("ol",{className:"_1bv1"}),l=c("React").createElement("pre",{className:"_1bv2"}),m=i({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:j},"ordered-list-item":{element:"li",wrapper:k},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:l},unstyled:{element:"div",aliasedElements:["p"]}});f.exports=m}),null);
__d("DefaultDraftInlineStyle",[],(function a(b,c,d,e,f,g){"use strict";f.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}}),null);
__d("DraftFeatureFlags-core",[],(function a(b,c,d,e,f,g){"use strict";var h={draft_killswitch_allow_nontextnodes:false,draft_segmented_entities_behavior:false,draft_handlebeforeinput_composed_text:false,draft_tree_data_support:false};f.exports=h}),null);
__d("fbjs/lib/CSSCore",["CSSCore"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("CSSCore")}),null);
__d("DraftODS",["cx","BanzaiODS","CurrentUser","fbjs/lib/CSSCore"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("CurrentUser").isEmployee()?".employee":"",j={init:function k(){document.addEventListener("input",function(l){if(l.target.nodeType===1&&c("fbjs/lib/CSSCore").hasClass(l.target,"_5rpu"))c("BanzaiODS").bumpEntityKey("draft_js","input_events"+i)})}};f.exports=j}),null);
__d("DraftFeatureFlags",["DraftFeatureFlags-core","DraftGK","DraftODS"],(function a(b,c,d,e,f,g){"use strict";Object.assign(c("DraftFeatureFlags-core"),c("DraftGK"));if(c("DraftGK").draft_ods_enabled)c("DraftODS").init();f.exports=c("DraftFeatureFlags-core")}),null);
__d("CharacterMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").Map,k=c("immutable").OrderedSet,l=c("immutable").Record,m=k(),n={style:m,entity:null},o=l(n);h=babelHelpers.inherits(p,o);i=h&&h.prototype;p.prototype.getStyle=function(){return this.get("style")};p.prototype.getEntity=function(){return this.get("entity")};p.prototype.hasStyle=function(s){return this.getStyle().includes(s)};p.applyStyle=function(s,t){var u=s.set("style",s.getStyle().add(t));return p.create(u)};p.removeStyle=function(s,t){var u=s.set("style",s.getStyle().remove(t));return p.create(u)};p.applyEntity=function(s,t){var u=s.getEntity()===t?s:s.set("entity",t);return p.create(u)};p.create=function(s){if(!s)return q;var t={style:m,entity:null},u=j(t).merge(s),v=r.get(u);if(v)return v;var w=new p(u);r=r.set(u,w);return w};function p(){h.apply(this,arguments)}var q=new p(),r=j([[j(n),q]]);p.EMPTY=q;f.exports=p}),null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").Map,i={add:function k(l,m,n){return j(l,m,n,true)},remove:function k(l,m,n){return j(l,m,n,false)}};function j(k,l,m,n){__p&&__p();var o=k.getBlockMap(),p=l.getStartKey(),q=l.getStartOffset(),r=l.getEndKey(),s=l.getEndOffset(),t=o.skipUntil(function(u,v){return v===p}).takeUntil(function(u,v){return v===r}).concat(h([[r,o.get(r)]])).map(function(u,v){__p&&__p();var w,x;if(p===r){w=q;x=s}else{w=v===p?q:0;x=v===r?s:u.getLength()}var y=u.getCharacterList(),z;while(w<x){z=y.get(w);y=y.set(w,n?c("CharacterMetadata").applyStyle(z,m):c("CharacterMetadata").removeStyle(z,m));w++}return u.set("characterList",y)});return k.merge({blockMap:o.merge(t),selectionBefore:l,selectionAfter:l})}f.exports=i}),null);
__d("applyEntityToContentBlock",["CharacterMetadata"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k,l){var m=i.getCharacterList();while(j<k){m=m.set(j,c("CharacterMetadata").applyEntity(m.get(j),l));j++}return i.set("characterList",m)}f.exports=h}),null);
__d("applyEntityToContentState",["immutable","applyEntityToContentBlock"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){var l=i.getBlockMap(),m=j.getStartKey(),n=j.getStartOffset(),o=j.getEndKey(),p=j.getEndOffset(),q=l.skipUntil(function(r,s){return s===m}).takeUntil(function(r,s){return s===o}).toOrderedMap().merge(c("immutable").OrderedMap([[o,l.get(o)]])).map(function(r,s){var t=s===m?n:0,u=s===o?p:r.getLength();return c("applyEntityToContentBlock")(r,t,u,k)});return i.merge({blockMap:l.merge(q),selectionBefore:j,selectionAfter:j})}f.exports=h}),null);
__d("DraftEntitySegments",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getRemovalRange:function i(j,k,l,m,n){__p&&__p();var o=l.split(" ");o=o.map(function(r,y){if(n==="forward"){if(y>0)return" "+r}else if(y<o.length-1)return r+" ";return r});var p=m,q,r,s=null,t=null;for(var u=0;u<o.length;u++){r=o[u];q=p+r.length;if(j<q&&p<k)if(s!==null)t=q;else{s=p;t=q}else if(s!==null)break;p=q}var v=m+l.length,w=s===m,x=t===v;if(!w&&x||w&&!x)if(n==="forward"){if(t!==v)t++}else if(s!==m)s--;return{start:s,end:t}}};f.exports=h}),null);
__d("getRangesForDraftEntity",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";function i(j,k){var l=[];j.findEntityRanges(function(m){return m.getEntity()===k},function(m,n){l.push({start:m,end:n})});!!l.length||h(0);return l}f.exports=i}),null);
__d("getCharacterRemovalRange",["invariant","DraftEntitySegments","getRangesForDraftEntity"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(k,l,m,n,o){__p&&__p();var p=n.getStartOffset(),q=n.getEndOffset(),r=l.getEntityAt(p),s=m.getEntityAt(q-1);if(!r&&!s)return n;var t=n;if(r&&r===s)t=j(k,l,t,o,r,true,true);else if(r&&s){var u=j(k,l,t,o,r,false,true),v=j(k,m,t,o,s,false,false);t=t.merge({anchorOffset:u.getAnchorOffset(),focusOffset:v.getFocusOffset(),isBackward:false})}else if(r){var w=j(k,l,t,o,r,false,true);t=t.merge({anchorOffset:w.getStartOffset(),isBackward:false})}else if(s){var x=j(k,m,t,o,s,false,false);t=t.merge({focusOffset:x.getEndOffset(),isBackward:false})}return t}function j(k,l,m,n,o,p,q){__p&&__p();var r=m.getStartOffset(),s=m.getEndOffset(),t=k.__get(o),u=t.getMutability(),v=q?r:s;if(u==="MUTABLE")return m;var w=c("getRangesForDraftEntity")(l,o).filter(function(z){return v<=z.end&&v>=z.start});w.length==1||h(0);var x=w[0];if(u==="IMMUTABLE")return m.merge({anchorOffset:x.start,focusOffset:x.end,isBackward:false});if(!p)if(q)s=x.end;else r=x.start;var y=c("DraftEntitySegments").getRemovalRange(r,s,l.getText().slice(x.start,x.end),x.start,n);return m.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:false})}f.exports=i}),null);
__d("findRangesImmutable",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k,l){__p&&__p();if(!i.size)return;var m=0;i.reduce(function(n,o,p){if(!j(n,o)){if(k(n))l(m,p);m=p}return o});k(i.last())&&l(m,i.count())}f.exports=h}),null);
__d("ContentBlockNode",["CharacterMetadata","immutable","findRangesImmutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").List,k=c("immutable").Map,l=c("immutable").OrderedSet,m=c("immutable").Record,n=c("immutable").Repeat,o=l(),p={parent:null,characterList:j(),data:k(),depth:0,key:"",text:"",type:"unstyled",children:j(),prevSibling:null,nextSibling:null},q=function q(u,v){return u.getStyle()===v.getStyle()},r=function r(u,v){return u.getEntity()===v.getEntity()},s=function s(u){if(!u)return u;var v=u.characterList,w=u.text;if(w&&!v)u.characterList=j(n(c("CharacterMetadata").EMPTY,w.length));return u};h=babelHelpers.inherits(t,m(p));i=h&&h.prototype;function t(){var u=arguments.length<=0||arguments[0]===undefined?p:arguments[0];i.constructor.call(this,s(u))}t.prototype.getKey=function(){return this.get("key")};t.prototype.getType=function(){return this.get("type")};t.prototype.getText=function(){return this.get("text")};t.prototype.getCharacterList=function(){return this.get("characterList")};t.prototype.getLength=function(){return this.getText().length};t.prototype.getDepth=function(){return this.get("depth")};t.prototype.getData=function(){return this.get("data")};t.prototype.getInlineStyleAt=function(u){var v=this.getCharacterList().get(u);return v?v.getStyle():o};t.prototype.getEntityAt=function(u){var v=this.getCharacterList().get(u);return v?v.getEntity():null};t.prototype.getChildKeys=function(){return this.get("children")};t.prototype.getParentKey=function(){return this.get("parent")};t.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")};t.prototype.getNextSiblingKey=function(){return this.get("nextSibling")};t.prototype.findStyleRanges=function(u,v){c("findRangesImmutable")(this.getCharacterList(),q,u,v)};t.prototype.findEntityRanges=function(u,v){c("findRangesImmutable")(this.getCharacterList(),r,u,v)};f.exports=t}),null);
__d("generateRandomKey",[],(function a(b,c,d,e,f,g){"use strict";var h={},i=Math.pow(2,24);function j(){var k=void 0;while(k===undefined||Object.prototype.hasOwnProperty.call(h,k)||!isNaN(+k))k=Math.floor(Math.random()*i).toString(32);h[k]=true;return k}f.exports=j}),null);
__d("randomizeBlockMapKeys",["ContentBlockNode","immutable","generateRandomKey"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").OrderedMap,i=function i(l){__p&&__p();var m=[];return h(l.withMutations(function(n){__p&&__p();n.forEach(function(o,p){__p&&__p();var q=o.getKey(),r=o.getNextSiblingKey(),s=o.getPrevSiblingKey(),t=o.getChildKeys(),u=o.getParentKey(),v=c("generateRandomKey")();m.push(v);if(r){var w=n.get(r);if(w)n.mergeIn(r,w.merge({prevSibling:v}));else n.mergeIn(q,o.merge({nextSibling:null}))}if(s){var x=n.get(s);if(x)n.mergeIn(s,x.merge({nextSibling:v}));else n.mergeIn(q,o.merge({prevSibling:null}))}if(u){var y=n.get(u);if(y){var z=y.getChildKeys();n.setIn(u,y.merge({children:z.set(z.indexOf(o.getKey()),v)}))}else n.mergeIn(q,o.merge({parent:null}))}t.forEach(function(A){var B=n.get(A);if(B)n.mergeIn(A,B.merge({parent:v}));else n.mergeIn(q,o.merge({children:o.getChildKeys().filter(function(C){return C!==A})}))})})}).toArray().map(function(n,o){return[m[o],n.set("key",m[o])]}))},j=function j(l){return h(l.toArray().map(function(m){var n=c("generateRandomKey")();return[n,m.set("key",n)]}))},k=function k(l){var m=l.first()instanceof c("ContentBlockNode");if(!m)return j(l);return i(l)};f.exports=k}),null);
__d("removeEntitiesAtEdges",["invariant","CharacterMetadata","findRangesImmutable"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(l,m){__p&&__p();var n=l.getBlockMap(),o=l.getEntityMap(),p={},q=m.getStartKey(),r=m.getStartOffset(),s=n.get(q),t=k(o,s,r);if(t!==s)p[q]=t;var u=m.getEndKey(),v=m.getEndOffset(),w=n.get(u);if(q===u)w=t;var x=k(o,w,v);if(x!==w)p[u]=x;if(!Object.keys(p).length)return l.set("selectionAfter",m);return l.merge({blockMap:n.merge(p),selectionAfter:m})}function j(l,m,n){var o;c("findRangesImmutable")(l,function(p,q){return p.getEntity()===q.getEntity()},function(p){return p.getEntity()===m},function(p,q){if(p<=n&&q>=n)o={start:p,end:q}});typeof o==="object"||h(0);return o}function k(l,m,n){__p&&__p();var o=m.getCharacterList(),p=n>0?o.get(n-1):undefined,q=n<o.count()?o.get(n):undefined,r=p?p.getEntity():undefined,s=q?q.getEntity():undefined;if(s&&s===r){var t=l.__get(s);if(t.getMutability()!=="MUTABLE"){var u=j(o,s,n),v=u.start,w=u.end,x;while(v<w){x=o.get(v);o=o.set(v,c("CharacterMetadata").applyEntity(x,null));v++}return m.set("characterList",o)}}return m}f.exports=i}),null);
__d("getContentStateFragment",["randomizeBlockMapKeys","removeEntitiesAtEdges"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(i,j){__p&&__p();var k=j.getStartKey(),l=j.getStartOffset(),m=j.getEndKey(),n=j.getEndOffset(),o=c("removeEntitiesAtEdges")(i,j),p=o.getBlockMap(),q=p.keySeq(),r=q.indexOf(k),s=q.indexOf(m)+1;return c("randomizeBlockMapKeys")(p.slice(r,s).map(function(t,u){var v=t.getText(),w=t.getCharacterList();if(k===m)return t.merge({text:v.slice(l,n),characterList:w.slice(l,n)});if(u===k)return t.merge({text:v.slice(l),characterList:w.slice(l)});if(u===m)return t.merge({text:v.slice(0,n),characterList:w.slice(0,n)});return t}))};f.exports=h}),null);
__d("BlockMapBuilder",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").OrderedMap,i={createFromArray:function j(k){return h(k.map(function(l){return[l.getKey(),l]}))}};f.exports=i}),null);
__d("insertIntoList",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k){__p&&__p();if(k===i.count())j.forEach(function(n){i=i.push(n)});else if(k===0)j.reverse().forEach(function(n){i=i.unshift(n)});else{var l=i.slice(0,k),m=i.slice(k);i=l.concat(j,m).toList()}return i}f.exports=h}),null);
__d("insertFragmentIntoContentState",["invariant","BlockMapBuilder","generateRandomKey","insertIntoList"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j,k,l){__p&&__p();k.isCollapsed()||h(0);var m=k.getStartKey(),n=k.getStartOffset(),o=j.getBlockMap(),p=l.size,q,r;if(p===1){var s=o.get(m),t=l.first(),u=s.getText(),v=s.getCharacterList(),w=s.merge({text:u.slice(0,n)+t.getText()+u.slice(n),characterList:c("insertIntoList")(v,t.getCharacterList(),n),data:t.getData()});q=m;r=n+t.getText().length;return j.merge({blockMap:o.set(m,w),selectionBefore:k,selectionAfter:k.merge({anchorKey:q,anchorOffset:r,focusKey:q,focusOffset:r,isBackward:false})})}var x=[];j.getBlockMap().forEach(function(y,z){__p&&__p();if(z!==m){x.push(y);return}var u=y.getText(),v=y.getCharacterList(),A=u.length,B=u.slice(0,n),C=v.slice(0,n),D=l.first(),E=y.merge({text:B+D.getText(),characterList:C.concat(D.getCharacterList()),type:B?y.getType():D.getType(),data:D.getData()});x.push(E);l.slice(1,p-1).forEach(function(J){x.push(J.set("key",c("generateRandomKey")()))});var F=u.slice(n,A),G=v.slice(n,A),H=l.last();q=c("generateRandomKey")();var I=H.merge({key:q,text:H.getText()+F,characterList:H.getCharacterList().concat(G),data:H.getData()});x.push(I)});r=l.last().getLength();return j.merge({blockMap:c("BlockMapBuilder").createFromArray(x),selectionBefore:k,selectionAfter:k.merge({anchorKey:q,anchorOffset:r,focusKey:q,focusOffset:r,isBackward:false})})}f.exports=i}),null);
__d("insertTextIntoContentState",["invariant","immutable","insertIntoList"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").Repeat;function j(k,l,m,n){l.isCollapsed()||h(0);var o=m.length;if(!o)return k;var p=k.getBlockMap(),q=l.getStartKey(),r=l.getStartOffset(),s=p.get(q),t=s.getText(),u=s.merge({text:t.slice(0,r)+m+t.slice(r,s.getLength()),characterList:c("insertIntoList")(s.getCharacterList(),i(n,o).toList(),r)}),v=r+o;return k.merge({blockMap:p.set(q,u),selectionAfter:l.merge({anchorOffset:v,focusOffset:v})})}f.exports=j}),null);
__d("modifyBlockForContentState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Map;function i(j,k,l){var m=k.getStartKey(),n=k.getEndKey(),o=j.getBlockMap(),p=o.toSeq().skipUntil(function(q,r){return r===m}).takeUntil(function(q,r){return r===n}).concat(h([[n,o.get(n)]])).map(l);return j.merge({blockMap:o.merge(p),selectionBefore:k,selectionAfter:k})}f.exports=i}),null);
__d("getNextDelimiterBlockKey",["ContentBlockNode"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i,j){__p&&__p();var k=i instanceof c("ContentBlockNode");if(!k)return null;var l=i.getNextSiblingKey();if(l)return l;var m=i.getParentKey();if(!m)return null;var n=j.get(m);while(n&&!n.getNextSiblingKey()){var o=n.getParentKey();n=o?j.get(o):null}if(!n)return null;return n.getNextSiblingKey()};f.exports=h}),null);
__d("removeRangeFromContentState",["ContentBlockNode","immutable","getNextDelimiterBlockKey"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=c("immutable").Map,j=function j(r,s,t){if(!r)return;var u=s.get(r);if(!u)return;s.set(r,t(u))},k=function k(r,s){__p&&__p();var t=[];if(!r)return t;var u=s.get(r);while(u&&u.getParentKey()){var v=u.getParentKey();if(v)t.push(v);u=v?s.get(v):null}return t},l=function l(r,s){__p&&__p();var t=[];if(!r)return t;var u=c("getNextDelimiterBlockKey")(r,s);while(u&&s.get(u)){var v=s.get(u);t.push(u);u=v.getParentKey()?c("getNextDelimiterBlockKey")(v,s):null}return t},m=function m(r,s,t){if(!r)return null;var u=t.get(r.getKey()).getNextSiblingKey();while(u&&!s.get(u))u=t.get(u).getNextSiblingKey()||null;return u},n=function n(r,s,t){if(!r)return null;var u=t.get(r.getKey()).getPrevSiblingKey();while(u&&!s.get(u))u=t.get(u).getPrevSiblingKey()||null;return u},o=function o(r,s,t,u){__p&&__p();return r.withMutations(function(v){__p&&__p();j(s.getKey(),v,function(w){return w.merge({nextSibling:m(s,v,u),prevSibling:n(s,v,u)})});j(t.getKey(),v,function(w){return w.merge({nextSibling:m(t,v,u),prevSibling:n(t,v,u)})});k(s.getKey(),u).forEach(function(w){return j(w,v,function(x){return x.merge({children:x.getChildKeys().filter(function(y){return v.get(y)}),nextSibling:m(x,v,u),prevSibling:n(x,v,u)})})});j(s.getNextSiblingKey(),v,function(w){return w.merge({prevSibling:s.getPrevSiblingKey()})});j(s.getPrevSiblingKey(),v,function(w){return w.merge({nextSibling:m(s,v,u)})});j(t.getNextSiblingKey(),v,function(w){return w.merge({prevSibling:n(t,v,u)})});j(t.getPrevSiblingKey(),v,function(w){return w.merge({nextSibling:t.getNextSiblingKey()})});k(t.getKey(),u).forEach(function(w){j(w,v,function(x){return x.merge({children:x.getChildKeys().filter(function(y){return v.get(y)}),nextSibling:m(x,v,u),prevSibling:n(x,v,u)})})});l(t,u).forEach(function(w){return j(w,v,function(x){return x.merge({nextSibling:m(x,v,u),prevSibling:n(x,v,u)})})})})},p=function p(r,s){__p&&__p();if(s.isCollapsed())return r;var t=r.getBlockMap(),u=s.getStartKey(),v=s.getStartOffset(),w=s.getEndKey(),x=s.getEndOffset(),y=t.get(u),z=t.get(w),A=y instanceof c("ContentBlockNode"),B=[];if(A){var C=z.getChildKeys(),D=k(w,t);if(z.getNextSiblingKey())B=B.concat(D);if(!C.isEmpty())B=B.concat(D.concat([w]));B=B.concat(k(c("getNextDelimiterBlockKey")(z,t),t))}var E=void 0;if(y===z)E=q(y.getCharacterList(),v,x);else E=y.getCharacterList().slice(0,v).concat(z.getCharacterList().slice(x));var F=y.merge({text:y.getText().slice(0,v)+z.getText().slice(x),characterList:E}),G=t.toSeq().skipUntil(function(I,J){return J===u}).takeUntil(function(I,J){return J===w}).filter(function(I,J){return B.indexOf(J)===-1}).concat(i([[w,null]])).map(function(I,J){return J===u?F:null}),H=t.merge(G).filter(function(I){return!!I});if(A)H=o(H,y,z,t);return r.merge({blockMap:H,selectionBefore:s,selectionAfter:s.merge({anchorKey:u,anchorOffset:v,focusKey:u,focusOffset:v,isBackward:false})})},q=function q(r,s,t){__p&&__p();if(s===0)while(s<t){r=r.shift();s++}else if(t===r.count())while(t>s){r=r.pop();t--}else{var u=r.slice(0,s),v=r.slice(t);r=u.concat(v).toList()}return r};f.exports=p}),null);
__d("splitBlockInContentState",["invariant","ContentBlockNode","immutable","generateRandomKey"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").List,j=c("immutable").Map,k=function k(n,o,p){if(!n)return;var q=o.get(n);if(!q)return;o.set(n,p(q))},l=function l(n,o,p){__p&&__p();return n.withMutations(function(q){__p&&__p();var r=o.getKey(),s=p.getKey();k(o.getParentKey(),q,function(t){var u=t.getChildKeys(),v=u.indexOf(r)+1,w=u.toArray();w.splice(v,0,s);return t.merge({children:i(w)})});k(o.getNextSiblingKey(),q,function(t){return t.merge({prevSibling:s})});k(r,q,function(t){return t.merge({nextSibling:s})});k(s,q,function(t){return t.merge({prevSibling:r})})})},m=function m(n,o){o.isCollapsed()||h(0);var p=o.getAnchorKey(),q=o.getAnchorOffset(),r=n.getBlockMap(),s=r.get(p),t=s.getText(),u=s.getCharacterList(),v=c("generateRandomKey")(),w=s instanceof c("ContentBlockNode"),x=s.merge({text:t.slice(0,q),characterList:u.slice(0,q)}),y=x.merge({key:v,text:t.slice(q),characterList:u.slice(q),data:j()}),z=r.toSeq().takeUntil(function(C){return C===s}),A=r.toSeq().skipUntil(function(C){return C===s}).rest(),B=z.concat([[p,x],[v,y]],A).toOrderedMap();if(w){s.getChildKeys().isEmpty()||h(0);B=l(B,x,y)}return n.merge({blockMap:B,selectionBefore:o,selectionAfter:o.merge({anchorKey:v,anchorOffset:0,focusKey:v,focusOffset:0,isBackward:false})})};f.exports=m}),null);
__d("DraftModifier",["invariant","CharacterMetadata","ContentStateInlineStyle","DraftFeatureFlags","immutable","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","insertFragmentIntoContentState","insertTextIntoContentState","modifyBlockForContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").OrderedSet,j={replaceText:function k(l,m,n,o,p){var q=c("removeEntitiesAtEdges")(l,m),r=c("removeRangeFromContentState")(q,m),s=c("CharacterMetadata").create({style:o||i(),entity:p||null});return c("insertTextIntoContentState")(r,r.getSelectionAfter(),n,s)},insertText:function k(l,m,n,o,p){m.isCollapsed()||h(0);return j.replaceText(l,m,n,o,p)},moveText:function k(l,m,n){var o=c("getContentStateFragment")(l,m),p=j.removeRange(l,m,"backward");return j.replaceWithFragment(p,n,o)},replaceWithFragment:function k(l,m,n){var o=c("removeEntitiesAtEdges")(l,m),p=c("removeRangeFromContentState")(o,m);return c("insertFragmentIntoContentState")(p,p.getSelectionAfter(),n)},removeRange:function k(l,m,n){__p&&__p();var o=void 0,p=void 0,q=void 0,r=void 0;if(m.getIsBackward())m=m.merge({anchorKey:m.getFocusKey(),anchorOffset:m.getFocusOffset(),focusKey:m.getAnchorKey(),focusOffset:m.getAnchorOffset(),isBackward:false});o=m.getAnchorKey();p=m.getFocusKey();q=l.getBlockForKey(o);r=l.getBlockForKey(p);var s=m.getStartOffset(),t=m.getEndOffset(),u=q.getEntityAt(s),v=r.getEntityAt(t-1);if(o===p)if(u&&u===v){var w=c("getCharacterRemovalRange")(l.getEntityMap(),q,r,m,n);return c("removeRangeFromContentState")(l,w)}var x=m;if(c("DraftFeatureFlags").draft_segmented_entities_behavior)x=c("getCharacterRemovalRange")(l.getEntityMap(),q,r,m,n);var y=c("removeEntitiesAtEdges")(l,x);return c("removeRangeFromContentState")(y,x)},splitBlock:function k(l,m){var n=c("removeEntitiesAtEdges")(l,m),o=c("removeRangeFromContentState")(n,m);return c("splitBlockInContentState")(o,o.getSelectionAfter())},applyInlineStyle:function k(l,m,n){return c("ContentStateInlineStyle").add(l,m,n)},removeInlineStyle:function k(l,m,n){return c("ContentStateInlineStyle").remove(l,m,n)},setBlockType:function k(l,m,n){return c("modifyBlockForContentState")(l,m,function(o){return o.merge({type:n,depth:0})})},setBlockData:function k(l,m,n){return c("modifyBlockForContentState")(l,m,function(o){return o.merge({data:n})})},mergeBlockData:function k(l,m,n){return c("modifyBlockForContentState")(l,m,function(o){return o.merge({data:o.getData().merge(n)})})},applyEntity:function k(l,m,n){var o=c("removeEntitiesAtEdges")(l,m);return c("applyEntityToContentState")(o,m,n)}};f.exports=j}),null);
__d("BlockTree",["immutable","emptyFunction","findRangesImmutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=c("immutable").Repeat,j=c("immutable").Record,k=c("emptyFunction").thatReturnsTrue,l="-",m={start:null,end:null},n=j(m),o={start:null,end:null,decoratorKey:null,leaves:null},p=j(o),q={generate:function t(u,v,w){var x=v.getLength();if(!x)return h.of(new p({start:0,end:0,decoratorKey:null,leaves:h.of(new n({start:0,end:0}))}));var y=[],z=w?w.getDecorations(v,u):h(i(null,x)),A=v.getCharacterList();c("findRangesImmutable")(z,s,k,function(B,C){y.push(new p({start:B,end:C,decoratorKey:z.get(B),leaves:r(A.slice(B,C).toList(),B)}))});return h(y)},getFingerprint:function t(u){return u.map(function(v){var w=v.get("decoratorKey"),x=w!==null?w+"."+(v.get("end")-v.get("start")):"";return""+x+"."+v.get("leaves").size}).join(l)}};function r(t,u){var v=[],w=t.map(function(x){return x.getStyle()}).toList();c("findRangesImmutable")(w,s,k,function(x,y){v.push(new n({start:x+u,end:y+u}))});return h(v)}function s(t,u){return t===u}f.exports=q}),null);
__d("ContentBlock",["CharacterMetadata","immutable","findRangesImmutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").List,k=c("immutable").Map,l=c("immutable").OrderedSet,m=c("immutable").Record,n=c("immutable").Repeat,o=l(),p={key:"",type:"unstyled",text:"",characterList:j(),depth:0,data:k()},q=m(p),r=function r(v){if(!v)return v;var w=v.characterList,x=v.text;if(x&&!w)v.characterList=j(n(c("CharacterMetadata").EMPTY,x.length));return v};h=babelHelpers.inherits(s,q);i=h&&h.prototype;function s(v){i.constructor.call(this,r(v))}s.prototype.getKey=function(){return this.get("key")};s.prototype.getType=function(){return this.get("type")};s.prototype.getText=function(){return this.get("text")};s.prototype.getCharacterList=function(){return this.get("characterList")};s.prototype.getLength=function(){return this.getText().length};s.prototype.getDepth=function(){return this.get("depth")};s.prototype.getData=function(){return this.get("data")};s.prototype.getInlineStyleAt=function(v){var w=this.getCharacterList().get(v);return w?w.getStyle():o};s.prototype.getEntityAt=function(v){var w=this.getCharacterList().get(v);return w?w.getEntity():null};s.prototype.findStyleRanges=function(v,w){c("findRangesImmutable")(this.getCharacterList(),t,v,w)};s.prototype.findEntityRanges=function(v,w){c("findRangesImmutable")(this.getCharacterList(),u,v,w)};function t(v,w){return v.getStyle()===w.getStyle()}function u(v,w){return v.getEntity()===w.getEntity()}f.exports=s}),null);
__d("DraftEntityInstance",["immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").Record,k=j({type:"TOKEN",mutability:"IMMUTABLE",data:Object});h=babelHelpers.inherits(l,k);i=h&&h.prototype;l.prototype.getType=function(){return this.get("type")};l.prototype.getMutability=function(){return this.get("mutability")};l.prototype.getData=function(){return this.get("data")};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("DraftEntity",["invariant","DraftEntityInstance","immutable"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("immutable").Map,j=i(),k=0;function l(n,o){}var m={getLastCreatedEntityKey:function n(){l("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey");return m.__getLastCreatedEntityKey()},create:function n(o,p,q){l("DraftEntity.create","contentState.createEntity");return m.__create(o,p,q)},add:function n(o){l("DraftEntity.add","contentState.addEntity");return m.__add(o)},get:function n(o){l("DraftEntity.get","contentState.getEntity");return m.__get(o)},mergeData:function n(o,p){l("DraftEntity.mergeData","contentState.mergeEntityData");return m.__mergeData(o,p)},replaceData:function n(o,p){l("DraftEntity.replaceData","contentState.replaceEntityData");return m.__replaceData(o,p)},__getLastCreatedEntityKey:function n(){return""+k},__create:function n(o,p,q){return m.__add(new(c("DraftEntityInstance"))({type:o,mutability:p,data:q||{}}))},__add:function n(o){var p=""+ ++k;j=j.set(p,o);return p},__get:function n(o){var p=j.get(o);!!p||h(0);return p},__mergeData:function n(o,p){var q=m.__get(o),r=babelHelpers["extends"]({},q.getData(),p),s=q.set("data",r);j=j.set(o,s);return s},__replaceData:function n(o,p){var q=m.__get(o),r=q.set("data",p);j=j.set(o,r);return r}};f.exports=m}),null);
__d("SelectionState",["immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").Record,k={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:false,hasFocus:false},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())};m.prototype.getAnchorKey=function(){return this.get("anchorKey")};m.prototype.getAnchorOffset=function(){return this.get("anchorOffset")};m.prototype.getFocusKey=function(){return this.get("focusKey")};m.prototype.getFocusOffset=function(){return this.get("focusOffset")};m.prototype.getIsBackward=function(){return this.get("isBackward")};m.prototype.getHasFocus=function(){return this.get("hasFocus")};m.prototype.hasEdgeWithin=function(n,o,p){var q=this.getAnchorKey(),r=this.getFocusKey();if(q===r&&q===n){var s=this.getStartOffset(),t=this.getEndOffset();return o<=t&&s<=p}if(n!==q&&n!==r)return false;var u=n===q?this.getAnchorOffset():this.getFocusOffset();return o<=u&&p>=u};m.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()};m.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()};m.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()};m.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()};m.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()};m.createEmpty=function(n){return new m({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:false,hasFocus:false})};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("sanitizeDraftText",[],(function a(b,c,d,e,f,g){"use strict";var h=new RegExp("\r","g");function i(j){return j.replace(h,"")}f.exports=i}),null);
__d("ContentState",["BlockMapBuilder","CharacterMetadata","ContentBlock","ContentBlockNode","DraftEntity","DraftFeatureFlags","immutable","SelectionState","generateRandomKey","sanitizeDraftText"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").List,k=c("immutable").Record,l=c("immutable").Repeat,m=c("DraftFeatureFlags").draft_tree_data_support,n={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},o=m?c("ContentBlockNode"):c("ContentBlock"),p=k(n);h=babelHelpers.inherits(q,p);i=h&&h.prototype;q.prototype.getEntityMap=function(){return c("DraftEntity")};q.prototype.getBlockMap=function(){return this.get("blockMap")};q.prototype.getSelectionBefore=function(){return this.get("selectionBefore")};q.prototype.getSelectionAfter=function(){return this.get("selectionAfter")};q.prototype.getBlockForKey=function(r){var s=this.getBlockMap().get(r);return s};q.prototype.getKeyBefore=function(r){return this.getBlockMap().reverse().keySeq().skipUntil(function(s){return s===r}).skip(1).first()};q.prototype.getKeyAfter=function(r){return this.getBlockMap().keySeq().skipUntil(function(s){return s===r}).skip(1).first()};q.prototype.getBlockAfter=function(r){return this.getBlockMap().skipUntil(function(s,t){return t===r}).skip(1).first()};q.prototype.getBlockBefore=function(r){return this.getBlockMap().reverse().skipUntil(function(s,t){return t===r}).skip(1).first()};q.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()};q.prototype.getFirstBlock=function(){return this.getBlockMap().first()};q.prototype.getLastBlock=function(){return this.getBlockMap().last()};q.prototype.getPlainText=function(r){return this.getBlockMap().map(function(s){return s?s.getText():""}).join(r||"\n")};q.prototype.getLastCreatedEntityKey=function(){return c("DraftEntity").__getLastCreatedEntityKey()};q.prototype.hasText=function(){var r=this.getBlockMap();return r.size>1||r.first().getLength()>0};q.prototype.createEntity=function(r,s,t){c("DraftEntity").__create(r,s,t);return this};q.prototype.mergeEntityData=function(r,s){c("DraftEntity").__mergeData(r,s);return this};q.prototype.replaceEntityData=function(r,s){c("DraftEntity").__replaceData(r,s);return this};q.prototype.addEntity=function(r){c("DraftEntity").__add(r);return this};q.prototype.getEntity=function(r){return c("DraftEntity").__get(r)};q.createFromBlockArray=function(r,s){var t=Array.isArray(r)?r:r.contentBlocks,u=c("BlockMapBuilder").createFromArray(t),v=u.isEmpty()?new(c("SelectionState"))():c("SelectionState").createEmpty(u.first().getKey());return new q({blockMap:u,entityMap:s||c("DraftEntity"),selectionBefore:v,selectionAfter:v})};q.createFromText=function(r){var s=arguments.length<=1||arguments[1]===undefined?/\r\n?|\n/g:arguments[1],t=r.split(s),u=t.map(function(v){v=c("sanitizeDraftText")(v);return new o({key:c("generateRandomKey")(),text:v,type:"unstyled",characterList:j(l(c("CharacterMetadata").EMPTY,v.length))})});return q.createFromBlockArray(u)};function q(){h.apply(this,arguments)}f.exports=q}),null);
__d("UnicodeBidiService",["invariant","UnicodeBidi","UnicodeBidiDirection","UnicodeBidiGlobalDirection"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){if(!j)j=c("UnicodeBidiGlobalDirection").getDir();else c("UnicodeBidiDirection").isStrong(j)||h(0);this.$UnicodeBidiService1=j;this.reset()}i.prototype.reset=function(){this.$UnicodeBidiService2=this.$UnicodeBidiService1};i.prototype.getDirection=function(j){this.$UnicodeBidiService2=c("UnicodeBidi").getDirection(j,this.$UnicodeBidiService2);return this.$UnicodeBidiService2};f.exports=i}),null);
__d("EditorBidiService",["immutable","UnicodeBidiService","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").OrderedMap,i,j={getDirectionMap:function k(l,m){if(!i)i=new(c("UnicodeBidiService"))();else i.reset();var n=l.getBlockMap(),o=n.valueSeq().map(function(q){return c("nullthrows")(i).getDirection(q.getText())}),p=h(n.keySeq().zip(o));if(m!=null&&c("immutable").is(m,p))return m;return p}};f.exports=j}),null);
__d("EditorState",["BlockTree","ContentState","EditorBidiService","immutable","SelectionState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").OrderedSet,i=c("immutable").Record,j=c("immutable").Stack,k={allowUndo:true,currentContent:null,decorator:null,directionMap:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:j(),selection:null,treeMap:null,undoStack:j()},l=i(k);m.createEmpty=function(v){return m.createWithContent(c("ContentState").createFromText(""),v)};m.createWithContent=function(v,w){var x=v.getBlockMap().first().getKey();return m.create({currentContent:v,undoStack:j(),redoStack:j(),decorator:w||null,selection:c("SelectionState").createEmpty(x)})};m.create=function(v){var w=v.currentContent,x=v.decorator,y=babelHelpers["extends"]({},v,{treeMap:o(w,x),directionMap:c("EditorBidiService").getDirectionMap(w)});return new m(new l(y))};m.set=function(v,w){__p&&__p();var x=v.getImmutable().withMutations(function(y){__p&&__p();var z=y.get("decorator"),A=z;if(w.decorator===null)A=null;else if(w.decorator)A=w.decorator;var B=w.currentContent||v.getCurrentContent();if(A!==z){var C=y.get("treeMap"),D;if(A&&z)D=q(B,B.getBlockMap(),C,A,z);else D=o(B,A);y.merge({decorator:A,treeMap:D,nativelyRenderedContent:null});return}var E=v.getCurrentContent();if(B!==E)y.set("treeMap",p(v,B.getBlockMap(),B.getEntityMap(),A));y.merge(w)});return new m(x)};m.prototype.toJS=function(){return this.getImmutable().toJS()};m.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")};m.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")};m.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")};m.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")};m.prototype.getSelection=function(){return this.getImmutable().get("selection")};m.prototype.getDecorator=function(){return this.getImmutable().get("decorator")};m.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")};m.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")};m.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")};m.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")};m.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")};m.setInlineStyleOverride=function(v,w){return m.set(v,{inlineStyleOverride:w})};m.prototype.getCurrentInlineStyle=function(){var v=this.getInlineStyleOverride();if(v!=null)return v;var w=this.getCurrentContent(),x=this.getSelection();if(x.isCollapsed())return s(w,x);return t(w,x)};m.prototype.getBlockTree=function(v){return this.getImmutable().getIn(["treeMap",v])};m.prototype.isSelectionAtStartOfContent=function(){var v=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(v,0,0)};m.prototype.isSelectionAtEndOfContent=function(){var v=this.getCurrentContent(),w=v.getBlockMap(),x=w.last(),y=x.getLength();return this.getSelection().hasEdgeWithin(x.getKey(),y,y)};m.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")};m.acceptSelection=function(v,w){return n(v,w,false)};m.forceSelection=function(v,w){if(!w.getHasFocus())w=w.set("hasFocus",true);return n(v,w,true)};m.moveSelectionToEnd=function(v){var w=v.getCurrentContent(),x=w.getLastBlock(),y=x.getKey(),z=x.getLength();return m.acceptSelection(v,new(c("SelectionState"))({anchorKey:y,anchorOffset:z,focusKey:y,focusOffset:z,isBackward:false}))};m.moveFocusToEnd=function(v){var w=m.moveSelectionToEnd(v);return m.forceSelection(w,w.getSelection())};m.push=function(v,w,x){__p&&__p();if(v.getCurrentContent()===w)return v;var y=x!=="insert-characters",z=c("EditorBidiService").getDirectionMap(w,v.getDirectionMap());if(!v.getAllowUndo())return m.set(v,{currentContent:w,directionMap:z,lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:null});var A=v.getSelection(),B=v.getCurrentContent(),C=v.getUndoStack(),D=w;if(A!==B.getSelectionAfter()||r(v,x)){C=C.push(B);D=D.set("selectionBefore",A)}else if(x==="insert-characters"||x==="backspace-character"||x==="delete-character")D=D.set("selectionBefore",B.getSelectionBefore());var E=v.getInlineStyleOverride(),F=["adjust-depth","change-block-type","split-block"];if(F.indexOf(x)===-1)E=null;var G={currentContent:D,directionMap:z,undoStack:C,redoStack:j(),lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:E};return m.set(v,G)};m.undo=function(v){if(!v.getAllowUndo())return v;var w=v.getUndoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent(),z=c("EditorBidiService").getDirectionMap(x,v.getDirectionMap());return m.set(v,{currentContent:x,directionMap:z,undoStack:w.shift(),redoStack:v.getRedoStack().push(y),forceSelection:true,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:y.getSelectionBefore()})};m.redo=function(v){if(!v.getAllowUndo())return v;var w=v.getRedoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent(),z=c("EditorBidiService").getDirectionMap(x,v.getDirectionMap());return m.set(v,{currentContent:x,directionMap:z,undoStack:v.getUndoStack().push(y),redoStack:w.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:x.getSelectionAfter()})};function m(v){this.$EditorState1=v}m.prototype.getImmutable=function(){return this.$EditorState1};function n(v,w,x){return m.set(v,{selection:w,forceSelection:x,nativelyRenderedContent:null,inlineStyleOverride:null})}function o(v,w){return v.getBlockMap().map(function(x){return c("BlockTree").generate(v,x,w)}).toOrderedMap()}function p(v,w,x,y){var z=v.getCurrentContent().set("entityMap",x),A=z.getBlockMap(),B=v.getImmutable().get("treeMap");return B.merge(w.toSeq().filter(function(C,D){return C!==A.get(D)}).map(function(C){return c("BlockTree").generate(z,C,y)}))}function q(v,w,x,y,z){return x.merge(w.toSeq().filter(function(A){return y.getDecorations(A,v)!==z.getDecorations(A,v)}).map(function(A){return c("BlockTree").generate(v,A,y)}))}function r(v,w){var x=v.getLastChangeType();return w!==x||w!=="insert-characters"&&w!=="backspace-character"&&w!=="delete-character"}function s(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y>0)return z.getInlineStyleAt(y-1);if(z.getLength())return z.getInlineStyleAt(0);return u(v,x)}function t(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y<z.getLength())return z.getInlineStyleAt(y);if(y>0)return z.getInlineStyleAt(y-1);return u(v,x)}function u(v,w){var x=v.getBlockMap().reverse().skipUntil(function(y,z){return z===w}).skip(1).skipUntil(function(y,z){return y.getLength()}).first();if(x)return x.getInlineStyleAt(x.getLength()-1);return h()}f.exports=m}),null);
__d("getEntityKeyForSelection",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){__p&&__p();var l;if(k.isCollapsed()){var m=k.getAnchorKey(),n=k.getAnchorOffset();if(n>0){l=j.getBlockForKey(m).getEntityAt(n-1);if(l!==j.getBlockForKey(m).getEntityAt(n))return null;return i(j.getEntityMap(),l)}return null}var o=k.getStartKey(),p=k.getStartOffset(),q=j.getBlockForKey(o);l=p===q.getLength()?null:q.getEntityAt(p);return i(j.getEntityMap(),l)}function i(j,k){if(k){var l=j.__get(k);return l.getMutability()==="MUTABLE"?k:null}return null}f.exports=h}),null);
__d("isEventHandled",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i==="handled"||i===true}f.exports=h}),null);
__d("isSelectionAtLeafStart",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.getSelection(),k=j.getAnchorKey(),l=i.getBlockTree(k),m=j.getStartOffset(),n=false;l.some(function(o){__p&&__p();if(m===o.get("start")){n=true;return true}if(m<o.get("end"))return o.get("leaves").some(function(p){var q=p.get("start");if(m===q){n=true;return true}return false});return false});return n}f.exports=h}),null);
__d("DraftEditorCompositionHandler",["DraftFeatureFlags","DraftModifier","EditorState","Keys","getEntityKeyForSelection","isEventHandled","isSelectionAtLeafStart"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=20,i=false,j=false,k="",l={onBeforeInput:function m(n,o){k=(k||"")+o.data},onCompositionStart:function m(n){j=true},onCompositionEnd:function m(n){i=false;j=false;setTimeout(function(){if(!i)l.resolveComposition(n)},h)},onKeyDown:function m(n,o){if(!j){l.resolveComposition(n);n._onKeyDown(o);return}if(o.which===c("Keys").RIGHT||o.which===c("Keys").LEFT)o.preventDefault()},onKeyPress:function m(n,o){if(o.which===c("Keys").RETURN)o.preventDefault()},resolveComposition:function m(n){__p&&__p();if(j)return;i=true;var o=k;k="";var p=c("EditorState").set(n._latestEditorState,{inCompositionMode:false}),q=p.getCurrentInlineStyle(),r=c("getEntityKeyForSelection")(p.getCurrentContent(),p.getSelection()),s=!o||c("isSelectionAtLeafStart")(p)||q.size>0||r!==null;if(s)n.restoreEditorDOM();n.exitCurrentMode();if(o){if(c("DraftFeatureFlags").draft_handlebeforeinput_composed_text&&n.props.handleBeforeInput&&c("isEventHandled")(n.props.handleBeforeInput(o,p)))return;var t=c("DraftModifier").replaceText(p.getCurrentContent(),p.getSelection(),o,q,r);n.update(c("EditorState").push(p,t,"insert-characters"));return}if(s)n.update(c("EditorState").set(p,{nativelyRenderedContent:null,forceSelection:true}))}};f.exports=l}),null);
__d("DraftEditorTextNode.react",["invariant","React","ReactDOM","UserAgent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("UserAgent").isBrowser("IE <= 11");function l(p){return k?p.textContent==="\n":p.tagName==="BR"}var m=k?c("React").createElement("span",{key:"A","data-text":"true"},"\n"):c("React").createElement("br",{key:"A","data-text":"true"}),n=k?c("React").createElement("span",{key:"B","data-text":"true"},"\n"):c("React").createElement("br",{key:"B","data-text":"true"});i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(p){j.constructor.call(this,p);this.$DraftEditorTextNode1=false}o.prototype.shouldComponentUpdate=function(p){var q=c("ReactDOM").findDOMNode(this),r=p.children==="";q instanceof Element||h(0);if(r)return!l(q);return q.textContent!==p.children};o.prototype.componentDidMount=function(){this.$DraftEditorTextNode1=!this.$DraftEditorTextNode1};o.prototype.componentDidUpdate=function(){this.$DraftEditorTextNode1=!this.$DraftEditorTextNode1};o.prototype.render=function(){if(this.props.children==="")return this.$DraftEditorTextNode1?m:n;return c("React").createElement("span",{key:this.$DraftEditorTextNode1?"A":"B","data-text":"true"},this.props.children)};f.exports=o}),null);
__d("DraftJsDebugLogging",["CurrentUser","DraftJsEventsTypedLogger","ScriptPath"],(function a(b,c,d,e,f,g){"use strict";f.exports={logSelectionStateFailure:function h(i){var j=i.anonymizedDom,k=i.extraParams,l=i.selectionState;if(c("CurrentUser").isEmployee())new(c("DraftJsEventsTypedLogger"))().setEvent("selection_state_failure").setAnonymizedDom(j).setExtraParams(k).setScriptPath(c("ScriptPath").getScriptPath()).setSelectionState(l).log()}}}),null);
__d("setDraftEditorSelection",["invariant","DraftJsDebugLogging","containsNode","getActiveElement"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(p,q){if(!p)return"[empty]";var r=j(p,q);if(r.nodeType===Node.TEXT_NODE)return r.textContent;r instanceof Element||h(0);return r.outerHTML}function j(p,q){__p&&__p();var r=q!==undefined?q(p):[];if(p.nodeType===Node.TEXT_NODE){var s=p.textContent.length;return document.createTextNode("[text "+s+(r.length?" | "+r.join(", "):"")+"]")}var t=p.cloneNode();if(t.nodeType===1&&r.length)t.setAttribute("data-labels",r.join(", "));var u=p.childNodes;for(var v=0;v<u.length;v++)t.appendChild(j(u[v],q));return t}function k(p,q){var r=p;while(r)if(r instanceof Element&&r.hasAttribute("contenteditable"))return i(r,q);else r=r.parentNode;return"Could not find contentEditable parent of node"}function l(p){return p.nodeValue===null?p.childNodes.length:p.nodeValue.length}function m(p,q,r,s,t){__p&&__p();if(!c("containsNode")(document.documentElement,q))return;var u=b.getSelection(),v=p.getAnchorKey(),w=p.getAnchorOffset(),x=p.getFocusKey(),y=p.getFocusOffset(),z=p.getIsBackward();if(!u.extend&&z){var A=v,B=w;v=x;w=y;x=A;y=B;z=false}var C=v===r&&s<=w&&t>=w,D=x===r&&s<=y&&t>=y;if(C&&D){u.removeAllRanges();o(u,q,w-s,p);n(u,q,y-s,p);return}if(!z){if(C){u.removeAllRanges();o(u,q,w-s,p)}if(D)n(u,q,y-s,p)}else{if(D){u.removeAllRanges();o(u,q,y-s,p)}if(C){var E=u.focusNode,F=u.focusOffset;u.removeAllRanges();o(u,q,w-s,p);n(u,E,F,p)}}}function n(p,q,r,s){__p&&__p();var t=c("getActiveElement")();if(p.extend&&c("containsNode")(t,q)){if(r>l(q))c("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(q),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(s.toJS())});var u=q===p.focusNode;try{p.extend(q,r)}catch(v){c("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(q,function(x){var y=[];if(x===t)y.push("active element");if(x===p.anchorNode)y.push("selection anchor node");if(x===p.focusNode)y.push("selection focus node");return y}),extraParams:JSON.stringify({activeElementName:t?t.nodeName:null,nodeIsFocus:q===p.focusNode,nodeWasFocus:u,selectionRangeCount:p.rangeCount,selectionAnchorNodeName:p.anchorNode?p.anchorNode.nodeName:null,selectionAnchorOffset:p.anchorOffset,selectionFocusNodeName:p.focusNode?p.focusNode.nodeName:null,selectionFocusOffset:p.focusOffset,message:v?""+v:null,offset:r},null,2),selectionState:JSON.stringify(s.toJS(),null,2)});throw v}}else{var w=p.getRangeAt(0);w.setEnd(q,r);p.addRange(w.cloneRange())}}function o(p,q,r,s){var t=document.createRange();if(r>l(q))c("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(q),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(s.toJS())});t.setStart(q,r);p.addRange(t)}f.exports=m}),null);
__d("DraftEditorLeaf.react",["invariant","DraftEditorTextNode.react","React","ReactDOM","setDraftEditorSelection"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$DraftEditorLeaf1=function(){__p&&__p();var l=this.props.selection;if(l==null||!l.getHasFocus())return;var m=this.props,n=m.block,o=m.start,p=m.text,q=n.getKey(),r=o+p.length;if(!l.hasEdgeWithin(q,o,r))return;var s=c("ReactDOM").findDOMNode(this);s||h(0);var t=s.firstChild;t||h(0);var u=void 0;if(t.nodeType===Node.TEXT_NODE)u=t;else if(t.tagName==="BR")u=s;else{u=t.firstChild;u||h(0)}c("setDraftEditorSelection")(l,u,q,o,r)};k.prototype.shouldComponentUpdate=function(l){var m=c("ReactDOM").findDOMNode(this.leaf);m||h(0);return m.textContent!==l.text||l.styleSet!==this.props.styleSet||l.forceSelection};k.prototype.componentDidUpdate=function(){this.$DraftEditorLeaf1()};k.prototype.componentDidMount=function(){this.$DraftEditorLeaf1()};k.prototype.render=function(){__p&&__p();var l=this.props.block,m=this.props.text;if(m.endsWith("\n")&&this.props.isLast)m+="\n";var n=this.props,o=n.customStyleMap,p=n.customStyleFn,q=n.offsetKey,r=n.styleSet,s=r.reduce(function(u,v){var w={},x=o[v];if(x!==undefined&&u.textDecoration!==x.textDecoration)w.textDecoration=[u.textDecoration,x.textDecoration].join(" ").trim();return Object.assign(u,x,w)},{});if(p){var t=p(r,l);s=Object.assign(s,t)}return c("React").createElement("span",{"data-offset-key":q,ref:function(u){return this.leaf=u}.bind(this),style:s},c("React").createElement(c("DraftEditorTextNode.react"),null,m))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("DraftOffsetKey",[],(function a(b,c,d,e,f,g){"use strict";var h="-",i={encode:function j(k,l,m){return k+h+l+h+m},decode:function j(k){var l=k.split(h),m=l[0],n=l[1],o=l[2];return{blockKey:m,decoratorKey:parseInt(n,10),leafKey:parseInt(o,10)}}};f.exports=i}),null);
__d("getScrollPosition",["getDocumentScrollElement","getUnboundedScrollPosition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=c("getDocumentScrollElement")(i.ownerDocument||i.document);if(i.Window&&i instanceof i.Window)i=j;var k=c("getUnboundedScrollPosition")(i),l=i===j?i.ownerDocument.documentElement:i,m=i.scrollWidth-l.clientWidth,n=i.scrollHeight-l.clientHeight;k.x=Math.max(0,Math.min(k.x,m));k.y=Math.max(0,Math.min(k.y,n));return k}f.exports=h}),null);
__d("DraftEditorBlock.react",["cx","invariant","DraftEditorLeaf.react","DraftOffsetKey","React","ReactDOM","Scroll","Style","UnicodeBidi","UnicodeBidiDirection","getElementPosition","getScrollPosition","getViewportDimensions","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=10,m=function m(o,p){return o.getAnchorKey()===p||o.getFocusKey()===p};j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.shouldComponentUpdate=function(o){return this.props.block!==o.block||this.props.tree!==o.tree||this.props.direction!==o.direction||m(o.selection,o.block.getKey())&&o.forceSelection};n.prototype.componentDidMount=function(){__p&&__p();var o=this.props.selection,p=o.getEndKey();if(!o.getHasFocus()||p!==this.props.block.getKey())return;var q=c("ReactDOM").findDOMNode(this),r=c("Style").getScrollParent(q),s=c("getScrollPosition")(r),t=void 0;if(r===window){var u=c("getElementPosition")(q),v=u.y+u.height,w=c("getViewportDimensions")().height;t=v-w;if(t>0)window.scrollTo(s.x,s.y+t+l)}else{q instanceof HTMLElement||i(0);var x=q.offsetHeight+q.offsetTop,y=r.offsetHeight+s.y;t=x-y;if(t>0)c("Scroll").setTop(r,c("Scroll").getTop(r)+t+l)}};n.prototype.$DraftEditorBlock1=function(){__p&&__p();var o=this.props.block,p=o.getKey(),q=o.getText(),r=this.props.tree.size-1,s=m(this.props.selection,p);return this.props.tree.map(function(t,u){__p&&__p();var v=t.get("leaves"),w=v.size-1,x=v.map(function(F,G){var H=c("DraftOffsetKey").encode(p,u,G),I=F.get("start"),J=F.get("end");return c("React").createElement(c("DraftEditorLeaf.react"),{key:H,offsetKey:H,block:o,start:I,selection:s?this.props.selection:null,forceSelection:this.props.forceSelection,text:q.slice(I,J),styleSet:o.getInlineStyleAt(I),customStyleMap:this.props.customStyleMap,customStyleFn:this.props.customStyleFn,isLast:u===r&&G===w})}.bind(this)).toArray(),y=t.get("decoratorKey");if(y==null)return x;if(!this.props.decorator)return x;var z=c("nullthrows")(this.props.decorator),A=z.getComponentForKey(y);if(!A)return x;var B=z.getPropsForKey(y),C=c("DraftOffsetKey").encode(p,u,0),D=q.slice(v.first().get("start"),v.last().get("end")),E=c("UnicodeBidiDirection").getHTMLDirIfDifferent(c("UnicodeBidi").getDirection(D),this.props.direction);return c("React").createElement(A,babelHelpers["extends"]({},B,{contentState:this.props.contentState,decoratedText:D,dir:E,key:C,entityKey:o.getEntityAt(t.get("start")),offsetKey:C}),x)}.bind(this)).toArray()};n.prototype.render=function(){var o=this.props,p=o.direction,q=o.offsetKey,r="_1mf"+(p==="LTR"?" _1mj":"")+(p==="RTL"?" _1mk":"");return c("React").createElement("div",{"data-offset-key":q,className:r},this.$DraftEditorBlock1())};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("DraftEditorContents-core.react",["cx","DraftEditorBlock.react","DraftOffsetKey","EditorState","React","joinClasses","nullthrows"],(function a(b,c,d,e,f,aa,ba){"use strict";__p&&__p();var g,h,i=function i(k,l,m,n){return(k==="unordered-list-item"?"_3kpz":"")+(k==="ordered-list-item"?" _3kp_":"")+(m?" _3kq0":"")+(l===0?" _3kq1":"")+(l===1?" _3kq2":"")+(l===2?" _3kq3":"")+(l===3?" _3kq4":"")+(l===4?" _3kq5":"")+(n==="LTR"?" _3kq6":"")+(n==="RTL"?" _3kq7":"")};g=babelHelpers.inherits(j,c("React").Component);h=g&&g.prototype;j.prototype.shouldComponentUpdate=function(k){__p&&__p();var l=this.props.editorState,m=k.editorState,n=l.getDirectionMap(),o=m.getDirectionMap();if(n!==o)return true;var p=l.getSelection().getHasFocus(),q=m.getSelection().getHasFocus();if(p!==q)return true;var r=m.getNativelyRenderedContent(),s=l.isInCompositionMode(),t=m.isInCompositionMode();if(l===m||r!==null&&m.getCurrentContent()===r||s&&t)return false;var u=l.getCurrentContent(),v=m.getCurrentContent(),w=l.getDecorator(),x=m.getDecorator();return s!==t||u!==v||w!==x||m.mustForceSelection()};j.prototype.render=function(){__p&&__p();var k=this.props,l=k.blockRenderMap,m=k.blockRendererFn,n=k.blockStyleFn,o=k.customStyleMap,p=k.customStyleFn,q=k.editorState,r=k.editorKey,s=k.textDirectionality,t=q.getCurrentContent(),u=q.getSelection(),v=q.mustForceSelection(),w=q.getDecorator(),x=c("nullthrows")(q.getDirectionMap()),y=t.getBlocksAsArray(),z=[],A=null,B=null;for(var C=0;C<y.length;C++){var D=y[C],E=D.getKey(),F=D.getType(),G=m(D),H=void 0,I=void 0,J=void 0;if(G){H=G.component;I=G.props;J=G.editable}var K=s?s:x.get(E),L=c("DraftOffsetKey").encode(E,0,0),M={contentState:t,block:D,blockProps:I,blockStyleFn:n,customStyleMap:o,customStyleFn:p,decorator:w,direction:K,forceSelection:v,key:E,offsetKey:L,selection:u,tree:q.getBlockTree(E)},N=l.get(F)||l.get("unstyled"),O=N.wrapper,P=N.element||l.get("unstyled").element,Q=D.getDepth(),R="";if(n)R=n(D);if(P==="li"){var S=B!==O||A===null||Q>A;R=c("joinClasses")(R,i(F,Q,S,K))}var T=H||c("DraftEditorBlock.react"),U={className:R,"data-block":true,"data-editor":r,"data-offset-key":L,key:E};if(J!==undefined)U=babelHelpers["extends"]({},U,{contentEditable:J,suppressContentEditableWarning:true});var V=c("React").createElement(P,U,c("React").createElement(T,M));z.push({block:V,wrapperTemplate:O,key:E,offsetKey:L});if(O)A=D.getDepth();else A=null;B=O}var W=[];for(var X=0;X<z.length;){var Y=z[X];if(Y.wrapperTemplate){var Z=[];do{Z.push(z[X].block);X++}while(X<z.length&&z[X].wrapperTemplate===Y.wrapperTemplate);var $=c("React").cloneElement(Y.wrapperTemplate,{key:Y.key+"-wrap","data-offset-key":Y.offsetKey},Z);W.push($)}else{W.push(Y.block);X++}}return c("React").createElement("div",{"data-contents":"true"},W)};function j(){g.apply(this,arguments)}f.exports=j}),null);
__d("DraftEditorDecoratedLeaves.react",["DraftOffsetKey","React","UnicodeBidi","UnicodeBidiDirection"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props,l=k.block,m=k.children,n=k.contentState,o=k.decorator,p=k.decoratorKey,q=k.direction,r=k.leafSet,s=k.text,t=l.getKey(),u=r.get("leaves"),v=o.getComponentForKey(p),w=o.getPropsForKey(p),x=c("DraftOffsetKey").encode(t,parseInt(p,10),0),y=s.slice(u.first().get("start"),u.last().get("end")),z=c("UnicodeBidiDirection").getHTMLDirIfDifferent(c("UnicodeBidi").getDirection(y),q);return c("React").createElement(v,babelHelpers["extends"]({},w,{contentState:n,decoratedText:y,dir:z,key:x,entityKey:l.getEntityAt(r.get("start")),offsetKey:x}),m)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("DraftEditorNode.react",["cx","DraftEditorDecoratedLeaves.react","DraftEditorLeaf.react","DraftOffsetKey","immutable","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("immutable").List;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.block,o=m.contentState,p=m.customStyleFn,q=m.customStyleMap,r=m.decorator,s=m.direction,t=m.forceSelection,u=m.hasSelection,v=m.selection,w=m.tree,x=n.getKey(),y=n.getText(),z=w.size-1,A=this.props.children||w.map(function(B,C){var D=B.get("decoratorKey"),E=B.get("leaves"),F=E.size-1,G=E.map(function(H,I){var J=c("DraftOffsetKey").encode(x,C,I),K=H.get("start"),L=H.get("end");return c("React").createElement(c("DraftEditorLeaf.react"),{key:J,offsetKey:J,block:n,start:K,selection:u?v:null,forceSelection:t,text:y.slice(K,L),styleSet:n.getInlineStyleAt(K),customStyleMap:q,customStyleFn:p,isLast:D===z&&I===F})}).toArray();if(!D||!r)return G;return c("React").createElement(c("DraftEditorDecoratedLeaves.react"),{block:n,children:G,contentState:o,decorator:r,decoratorKey:D,direction:s,leafSet:B,text:y,key:C})}).toArray();return c("React").createElement("div",{"data-offset-key":c("DraftOffsetKey").encode(x,0,0),className:"_1mf"+(s==="LTR"?" _1mj":"")+(s==="RTL"?" _1mk":"")},A)};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("DraftEditorBlockNode.react",["invariant","DraftEditorNode.react","DraftOffsetKey","EditorState","immutable","React","ReactDOM","Scroll","Style","getElementPosition","getScrollPosition","getViewportDimensions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=10,l=c("immutable").List,m=function m(t,u){return t.getAnchorKey()===u||t.getFocusKey()===u},n=function n(t,u){var v=t.getNextSiblingKey();return v?u.getBlockForKey(v).getType()===t.getType():false},o=function o(t,u,v){__p&&__p();var w=[];for(var x=v.reverse(),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}var B=A;if(B.type!==u)break;w.push(B)}v.splice(v.indexOf(w[0]),w.length+1);var C=w.reverse(),D=C[0].key;v.push(c("React").cloneElement(t,{key:D+"-wrap","data-offset-key":c("DraftOffsetKey").encode(D,0,0)},C));return v},p=function p(t,u){var v=u.get(t.getType())||u.get("unstyled"),w=v.wrapper,x=v.element||u.get("unstyled").element;return{Element:x,wrapperTemplate:w}},q=function q(t,u){var v=u(t);if(!v)return{};var w=v.component,x=v.props,y=v.editable;return{CustomComponent:w,customProps:x,customEditable:y}},r=function r(t,u,v,w,x){var y={"data-block":true,"data-editor":u,"data-offset-key":v,key:t.getKey()},z=w(t);if(z)y.className=z;if(x.customEditable!==undefined)y=babelHelpers["extends"]({},y,{contentEditable:x.customEditable,suppressContentEditableWarning:true});return y};i=babelHelpers.inherits(s,c("React").Component);j=i&&i.prototype;s.prototype.shouldComponentUpdate=function(t){var u=this.props,v=u.block,w=u.direction,x=u.tree,y=!v.getChildKeys().isEmpty(),z=v!==t.block||x!==t.tree||w!==t.direction||m(t.selection,t.block.getKey())&&t.forceSelection;return y||z};s.prototype.componentDidMount=function(){__p&&__p();var t=this.props.selection,u=t.getEndKey();if(!t.getHasFocus()||u!==this.props.block.getKey())return;var v=c("ReactDOM").findDOMNode(this),w=c("Style").getScrollParent(v),x=c("getScrollPosition")(w),y=void 0;if(w===window){var z=c("getElementPosition")(v),A=z.y+z.height,B=c("getViewportDimensions")().height;y=A-B;if(y>0)window.scrollTo(x.x,x.y+y+k)}else{v instanceof HTMLElement||h(0);var C=v.offsetHeight+v.offsetTop,D=w.offsetHeight+x.y;y=C-D;if(y>0)c("Scroll").setTop(w,c("Scroll").getTop(w)+y+k)}};s.prototype.render=function(){__p&&__p();var t=this.props,u=t.block,v=t.blockRenderMap,w=t.blockRendererFn,x=t.blockStyleFn,y=t.contentState,z=t.decorator,A=t.editorKey,B=t.editorState,C=t.customStyleFn,D=t.customStyleMap,E=t.direction,F=t.forceSelection,G=t.selection,H=t.tree,I=null;if(u.children.size)I=u.children.reduce(function(P,Q){var K=c("DraftOffsetKey").encode(Q,0,0),R=y.getBlockForKey(Q),S=q(R,w),T=S.CustomComponent||s,U=p(R,v),N=U.Element,V=U.wrapperTemplate,O=r(R,A,K,x,S),W=babelHelpers["extends"]({},this.props,{tree:B.getBlockTree(Q),blockProps:S.customProps,offsetKey:K,block:R});P.push(c("React").createElement(N,O,c("React").createElement(T,W)));if(!V||n(R,y))return P;o(V,N,P);return P}.bind(this),[]);var J=u.getKey(),K=c("DraftOffsetKey").encode(J,0,0),L=c("React").createElement(c("DraftEditorNode.react"),{block:u,children:I,contentState:y,customStyleFn:C,customStyleMap:D,decorator:z,direction:E,forceSelection:F,hasSelection:m(G,J),selection:G,tree:H});if(u.getParentKey())return L;var M=p(u,v),N=M.Element,O=r(u,A,K,x,q(u,w));return c("React").createElement(N,O,L)};function s(){i.apply(this,arguments)}f.exports=s}),null);
__d("DraftEditorContentsExperimental.react",["DraftEditorBlockNode.react","DraftOffsetKey","EditorState","React","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.shouldComponentUpdate=function(k){__p&&__p();var l=this.props.editorState,m=k.editorState,n=l.getDirectionMap(),o=m.getDirectionMap();if(n!==o)return true;var p=l.getSelection().getHasFocus(),q=m.getSelection().getHasFocus();if(p!==q)return true;var r=m.getNativelyRenderedContent(),s=l.isInCompositionMode(),t=m.isInCompositionMode();if(l===m||r!==null&&m.getCurrentContent()===r||s&&t)return false;var u=l.getCurrentContent(),v=m.getCurrentContent(),w=l.getDecorator(),x=m.getDecorator();return s!==t||u!==v||w!==x||m.mustForceSelection()};j.prototype.render=function(){__p&&__p();var k=this.props,l=k.blockRenderMap,m=k.blockRendererFn,n=k.blockStyleFn,o=k.customStyleMap,p=k.customStyleFn,q=k.editorState,r=k.editorKey,s=k.textDirectionality,t=q.getCurrentContent(),u=q.getSelection(),v=q.mustForceSelection(),w=q.getDecorator(),x=c("nullthrows")(q.getDirectionMap()),y=t.getBlocksAsArray(),z=y[0],A=[],B=z;while(B){var C=B.getKey(),D={blockRenderMap:l,blockRendererFn:m,blockStyleFn:n,contentState:t,customStyleFn:p,customStyleMap:o,decorator:w,editorKey:r,editorState:q,forceSelection:v,selection:u,block:B,direction:s?s:x.get(C),tree:q.getBlockTree(C)},E=l.get(B.getType())||l.get("unstyled"),F=E.wrapper;A.push({block:c("React").createElement(c("DraftEditorBlockNode.react"),babelHelpers["extends"]({key:C},D)),wrapperTemplate:F,key:C,offsetKey:c("DraftOffsetKey").encode(C,0,0)});var G=B.getNextSiblingKey();B=G?t.getBlockForKey(G):null}var H=[];for(var I=0;I<A.length;){var J=A[I];if(J.wrapperTemplate){var K=[];do{K.push(A[I].block);I++}while(I<A.length&&A[I].wrapperTemplate===J.wrapperTemplate);var L=c("React").cloneElement(J.wrapperTemplate,{key:J.key+"-wrap","data-offset-key":J.offsetKey},K);H.push(L)}else{H.push(J.block);I++}}return c("React").createElement("div",{"data-contents":"true"},H)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("DraftEditorContents.react",["DraftFeatureFlags","DraftEditorContentsExperimental.react","DraftEditorContents-core.react"],(function a(b,c,d,e,f,g){"use strict";var h=c("DraftFeatureFlags").draft_tree_data_support;f.exports=h?c("DraftEditorContentsExperimental.react"):c("DraftEditorContents-core.react")}),null);
__d("getSelectionOffsetKeyForNode",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();if(i instanceof Element){var j=i.getAttribute("data-offset-key");if(j)return j;for(var k=0;k<i.childNodes.length;k++){var l=h(i.childNodes[k]);if(l)return l}}return null}f.exports=h}),null);
__d("findAncestorOffsetKey",["getSelectionOffsetKeyForNode"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=i;while(j&&j!==document.documentElement){var k=c("getSelectionOffsetKeyForNode")(j);if(k!=null)return k;j=j.parentNode}return null}f.exports=h}),null);
__d("getTextContentFromFiles",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=/\.textClipping$/,j={"text/plain":true,"text/html":true,"text/rtf":true},k=5e3;function l(n,o){var p=0,q=[];n.forEach(function(r){m(r,function(s){p++;s&&q.push(s.slice(0,k));if(p==n.length)o(q.join("\r"))})})}function m(n,o){__p&&__p();if(!b.FileReader||n.type&&!(n.type in j)){o("");return}if(n.type===""){var p="";if(i.test(n.name))p=n.name.replace(i,"");o(p);return}var q=new FileReader();q.onload=function(){var r=q.result;typeof r==="string"||h(0);o(r)};q.onerror=function(){o("")};q.readAsText(n)}f.exports=l}),null);
__d("getUpdatedSelectionState",["DraftOffsetKey","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k,l,m){__p&&__p();var n=c("nullthrows")(i.getSelection()),o=c("DraftOffsetKey").decode(j),p=o.blockKey,q=i.getBlockTree(p).getIn([o.decoratorKey,"leaves",o.leafKey]),r=c("DraftOffsetKey").decode(l),s=r.blockKey,t=i.getBlockTree(s).getIn([r.decoratorKey,"leaves",r.leafKey]),u=q.get("start"),v=t.get("start"),w=q?u+k:null,x=t?v+m:null,y=n.getAnchorKey()===p&&n.getAnchorOffset()===w&&n.getFocusKey()===s&&n.getFocusOffset()===x;if(y)return n;var z=false;if(p===s){var A=q.get("end"),B=t.get("end");if(v===u&&B===A)z=m<k;else z=v<u}else{var C=i.getCurrentContent().getBlockMap().keySeq().skipUntil(function(D){return D===p||D===s}).first();z=C===s}return n.merge({anchorKey:p,anchorOffset:w,focusKey:s,focusOffset:x,isBackward:z})}f.exports=h}),null);
__d("DraftEditorDragHandler",["DataTransfer","DraftModifier","EditorState","findAncestorOffsetKey","getTextContentFromFiles","getUpdatedSelectionState","isEventHandled","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(event,l){__p&&__p();var m=null,n=null;if(typeof document.caretRangeFromPoint==="function"){var o=document.caretRangeFromPoint(event.x,event.y);m=o.startContainer;n=o.startOffset}else if(event.rangeParent){m=event.rangeParent;n=event.rangeOffset}else return null;m=c("nullthrows")(m);n=c("nullthrows")(n);var p=c("nullthrows")(c("findAncestorOffsetKey")(m));return c("getUpdatedSelectionState")(l,p,n,p,n)}var i={onDragEnd:function l(m){m.exitCurrentMode()},onDrop:function l(m,n){__p&&__p();var o=new(c("DataTransfer"))(n.nativeEvent.dataTransfer),p=m._latestEditorState,q=h(n.nativeEvent,p);n.preventDefault();m.exitCurrentMode();if(q==null)return;var r=o.getFiles();if(r.length>0){if(m.props.handleDroppedFiles&&c("isEventHandled")(m.props.handleDroppedFiles(q,r)))return;c("getTextContentFromFiles")(r,function(t){t&&m.update(k(p,q,t))});return}var s=m._internalDrag?"internal":"external";if(m.props.handleDrop&&c("isEventHandled")(m.props.handleDrop(q,o,s)))return;if(m._internalDrag){m.update(j(p,q));return}m.update(k(p,q,o.getText()))}};function j(l,m){var n=c("DraftModifier").moveText(l.getCurrentContent(),l.getSelection(),m);return c("EditorState").push(l,n,"insert-fragment")}function k(l,m,n){var o=c("DraftModifier").insertText(l.getCurrentContent(),m,n,l.getCurrentInlineStyle());return c("EditorState").push(l,o,"insert-fragment")}f.exports=i}),null);
__d("editOnBeforeInput",["BlockTree","DraftModifier","EditorState","UserAgent","getEntityKeyForSelection","isEventHandled","isSelectionAtLeafStart","nullthrows","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="'",i="/",j=c("UserAgent").isBrowser("Firefox");function k(n){return j&&(n==h||n==i)}function l(n,o,p,q){var r=c("DraftModifier").replaceText(n.getCurrentContent(),n.getSelection(),o,p,q);return c("EditorState").push(n,r,"insert-characters")}function m(n,o){__p&&__p();if(n._pendingStateFromBeforeInput!==undefined){n.update(n._pendingStateFromBeforeInput);n._pendingStateFromBeforeInput=undefined}var p=n._latestEditorState,q=o.data;if(!q)return;if(n.props.handleBeforeInput&&c("isEventHandled")(n.props.handleBeforeInput(q,p))){o.preventDefault();return}var r=p.getSelection(),s=r.getStartOffset(),t=r.getEndOffset(),u=r.getAnchorKey();if(!r.isCollapsed()){o.preventDefault();var v=p.getCurrentContent().getPlainText().slice(s,t);if(q===v)this.update(c("EditorState").forceSelection(p,r.merge({focusOffset:t})));else n.update(l(p,q,p.getCurrentInlineStyle(),c("getEntityKeyForSelection")(p.getCurrentContent(),p.getSelection())));return}var w=l(p,q,p.getCurrentInlineStyle(),c("getEntityKeyForSelection")(p.getCurrentContent(),p.getSelection())),x=false;if(!x)x=c("isSelectionAtLeafStart")(n._latestCommittedEditorState);if(!x){var y=b.getSelection();if(y.anchorNode&&y.anchorNode.nodeType===Node.TEXT_NODE){var z=y.anchorNode.parentNode;x=z.nodeName==="SPAN"&&z.firstChild.nodeType===Node.TEXT_NODE&&z.firstChild.nodeValue.indexOf("\t")!==-1}}if(!x){var A=c("BlockTree").getFingerprint(p.getBlockTree(u)),B=c("BlockTree").getFingerprint(w.getBlockTree(u));x=A!==B}if(!x)x=k(q);if(!x)x=c("nullthrows")(w.getDirectionMap()).get(u)!==c("nullthrows")(p.getDirectionMap()).get(u);if(x){o.preventDefault();n.update(w);return}w=c("EditorState").set(w,{nativelyRenderedContent:w.getCurrentContent()});n._pendingStateFromBeforeInput=w;c("setImmediate")(function(){if(n._pendingStateFromBeforeInput!==undefined){n.update(n._pendingStateFromBeforeInput);n._pendingStateFromBeforeInput=undefined}})}f.exports=m}),null);
__d("editOnBlur",["EditorState","containsNode","getActiveElement"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();if(c("getActiveElement")()===document.body){var k=b.getSelection(),l=i.editor;if(k.rangeCount===1&&c("containsNode")(l,k.anchorNode)&&c("containsNode")(l,k.focusNode))k.removeAllRanges()}var m=i._latestEditorState,n=m.getSelection();if(!n.getHasFocus())return;var o=n.set("hasFocus",false);i.props.onBlur&&i.props.onBlur(j);i.update(c("EditorState").acceptSelection(m,o))}f.exports=h}),null);
__d("editOnCompositionStart",["EditorState"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){i.setMode("composite");i.update(c("EditorState").set(i._latestEditorState,{inCompositionMode:true}));i._onCompositionStart(j)}f.exports=h}),null);
__d("getFragmentFromSelection",["getContentStateFragment"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=i.getSelection();if(j.isCollapsed())return null;return c("getContentStateFragment")(i.getCurrentContent(),j)}f.exports=h}),null);
__d("editOnCopy",["getFragmentFromSelection"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=i._latestEditorState,l=k.getSelection();if(l.isCollapsed()){j.preventDefault();return}i.setClipboard(c("getFragmentFromSelection")(i._latestEditorState))}f.exports=h}),null);
__d("editOnCut",["DraftModifier","EditorState","Style","getFragmentFromSelection","getScrollPosition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){__p&&__p();var l=j._latestEditorState,m=l.getSelection(),n=k.target,o=void 0;if(m.isCollapsed()){k.preventDefault();return}if(n instanceof Node)o=c("getScrollPosition")(c("Style").getScrollParent(n));var p=c("getFragmentFromSelection")(l);j.setClipboard(p);j.setMode("cut");setTimeout(function(){j.restoreEditorDOM(o);j.exitCurrentMode();j.update(i(l))},0)}function i(j){var k=c("DraftModifier").removeRange(j.getCurrentContent(),j.getSelection(),"forward");return c("EditorState").push(j,k,"remove-range")}f.exports=h}),null);
__d("editOnDragOver",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){i._internalDrag=false;i.setMode("drag");j.preventDefault()}f.exports=h}),null);
__d("editOnDragStart",[],(function a(b,c,d,e,f,g){"use strict";function h(i){i._internalDrag=true;i.setMode("drag")}f.exports=h}),null);
__d("editOnFocus",["EditorState","UserAgent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=i._latestEditorState,l=k.getSelection();if(l.getHasFocus())return;var m=l.set("hasFocus",true);i.props.onFocus&&i.props.onFocus(j);if(c("UserAgent").isBrowser("Chrome < 60.0.3081.0"))i.update(c("EditorState").forceSelection(k,m));else i.update(c("EditorState").acceptSelection(k,m))}f.exports=h}),null);
__d("editOnInput",["DraftFeatureFlags","DraftModifier","DraftOffsetKey","EditorState","UserAgent","findAncestorOffsetKey","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("UserAgent").isEngine("Gecko"),i="\n\n";function j(k){__p&&__p();if(k._pendingStateFromBeforeInput!==undefined){k.update(k._pendingStateFromBeforeInput);k._pendingStateFromBeforeInput=undefined}var l=b.getSelection(),m=l.anchorNode,n=l.isCollapsed,o=m.nodeType!==Node.TEXT_NODE,p=m.nodeType!==Node.TEXT_NODE&&m.nodeType!==Node.ELEMENT_NODE;if(c("DraftFeatureFlags").draft_killswitch_allow_nontextnodes){if(o)return}else if(p)return;if(m.nodeType===Node.TEXT_NODE&&(m.previousSibling!==null||m.nextSibling!==null)){var q=m.parentNode;m.nodeValue=q.textContent;for(var r=q.firstChild;r!==null;r=r.nextSibling)if(r!==m)q.removeChild(r)}var s=m.textContent,t=k._latestEditorState,u=c("nullthrows")(c("findAncestorOffsetKey")(m)),v=c("DraftOffsetKey").decode(u),w=v.blockKey,x=v.decoratorKey,y=v.leafKey,z=t.getBlockTree(w).getIn([x,"leaves",y]),A=z.start,B=z.end,C=t.getCurrentContent(),D=C.getBlockForKey(w),E=D.getText().slice(A,B);if(s.endsWith(i))s=s.slice(0,-1);if(s===E)return;var F=t.getSelection(),G=F.merge({anchorOffset:A,focusOffset:B,isBackward:false}),H=D.getEntityAt(A),I=H&&C.getEntity(H),J=I&&I.getMutability(),K=J==="MUTABLE",L=K?"spellcheck-change":"apply-entity",M=c("DraftModifier").replaceText(C,G,s,D.getInlineStyleAt(A),K?D.getEntityAt(A):null),N,O,P,Q;if(h){N=l.anchorOffset;O=l.focusOffset;P=A+Math.min(N,O);Q=P+Math.abs(N-O);N=P;O=Q}else{var R=s.length-E.length;P=F.getStartOffset();Q=F.getEndOffset();N=n?Q+R:P;O=Q+R}var S=M.merge({selectionBefore:C.getSelectionAfter(),selectionAfter:F.merge({anchorOffset:N,focusOffset:O})});k.update(c("EditorState").push(t,S,L))}f.exports=j}),null);
__d("KeyBindingUtil",["UserAgent"],(function a(b,c,d,e,f,g){"use strict";var h=c("UserAgent").isPlatform("Mac OS X"),i={isCtrlKeyCommand:function j(k){return!!k.ctrlKey&&!k.altKey},isOptionKeyCommand:function j(k){return h&&k.altKey},hasCommandModifier:function j(k){return h?!!k.metaKey&&!k.altKey:i.isCtrlKeyCommand(k)}};f.exports=i}),null);
__d("SecondaryClipboard",["DraftModifier","EditorState","getContentStateFragment","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i={cut:function j(k){__p&&__p();var l=k.getCurrentContent(),m=k.getSelection(),n=null;if(m.isCollapsed()){var o=m.getAnchorKey(),p=l.getBlockForKey(o).getLength();if(p===m.getAnchorOffset())return k;n=m.set("focusOffset",p)}else n=m;n=c("nullthrows")(n);h=c("getContentStateFragment")(l,n);var q=c("DraftModifier").removeRange(l,n,"forward");if(q===l)return k;return c("EditorState").push(k,q,"remove-range")},paste:function j(k){if(!h)return k;var l=c("DraftModifier").replaceWithFragment(k.getCurrentContent(),k.getSelection(),h);return c("EditorState").push(k,l,"insert-fragment")}};f.exports=i}),null);
__d("getRangeClientRects",["invariant","UserAgent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("UserAgent").isBrowser("Chrome");function j(l){__p&&__p();var m=l.cloneRange(),n=[];for(var o=l.endContainer;o!=null;o=o.parentNode){var p=o===l.commonAncestorContainer;if(p)m.setStart(l.startContainer,l.startOffset);else m.setStart(m.endContainer,0);var q=Array.from(m.getClientRects());n.push(q);if(p){var r;n.reverse();return(r=[]).concat.apply(r,n)}m.setEndBefore(o)}h(0)}var k=i?j:function(l){return Array.from(l.getClientRects())};f.exports=k}),null);
__d("expandRangeToStartOfLine",["invariant","UnicodeUtils","getRangeClientRects"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(m){__p&&__p();var n=getComputedStyle(m),o=document.createElement("div");o.style.fontFamily=n.fontFamily;o.style.fontSize=n.fontSize;o.style.fontStyle=n.fontStyle;o.style.fontWeight=n.fontWeight;o.style.lineHeight=n.lineHeight;o.style.position="absolute";o.textContent="M";var p=document.body;p||h(0);p.appendChild(o);var q=o.getBoundingClientRect();p.removeChild(o);return q.height}function j(m,n){__p&&__p();var o=Infinity,p=Infinity,q=-Infinity,r=-Infinity;for(var s=0;s<m.length;s++){var t=m[s];if(t.width===0||t.width===1)continue;o=Math.min(o,t.top);p=Math.min(p,t.bottom);q=Math.max(q,t.top);r=Math.max(r,t.bottom)}return q<=p&&q-o<n&&r-p<n}function k(m){switch(m.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return m.length;default:return m.childNodes.length}}function l(m){__p&&__p();m.collapsed||h(0);m=m.cloneRange();var n=m.startContainer;if(n.nodeType!==1)n=n.parentNode;var o=i(n),p=m.endContainer,q=m.endOffset;m.setStart(m.startContainer,0);while(j(c("getRangeClientRects")(m),o)){p=m.startContainer;q=m.startOffset;p.parentNode||h(0);m.setStartBefore(p);if(p.nodeType===1&&getComputedStyle(p).display!=="inline")break}var r=p,s=q-1;do{var t=r.nodeValue;for(var u=s;u>=0;u--){if(t!=null&&u>0&&c("UnicodeUtils").isSurrogatePair(t,u-1))continue;m.setStart(r,u);if(j(c("getRangeClientRects")(m),o)){p=r;q=u}else break}if(u===-1||r.childNodes.length===0)break;r=r.childNodes[u];s=k(r)}while(true);m.setStart(p,q);return m}f.exports=l}),null);
__d("getDraftEditorSelectionWithNodes",["invariant","findAncestorOffsetKey","getSelectionOffsetKeyForNode","getUpdatedSelectionState","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(n,o,p,q,r,s){__p&&__p();var t=p.nodeType===Node.TEXT_NODE,u=r.nodeType===Node.TEXT_NODE;if(t&&u)return{selectionState:c("getUpdatedSelectionState")(n,c("nullthrows")(c("findAncestorOffsetKey")(p)),q,c("nullthrows")(c("findAncestorOffsetKey")(r)),s),needsRecovery:false};var v=null,w=null,x=true;if(t){v={key:c("nullthrows")(c("findAncestorOffsetKey")(p)),offset:q};w=l(o,r,s)}else if(u){w={key:c("nullthrows")(c("findAncestorOffsetKey")(r)),offset:s};v=l(o,p,q)}else{v=l(o,p,q);w=l(o,r,s);if(p===r&&q===s)x=!!p.firstChild&&p.firstChild.nodeName!=="BR"}return{selectionState:c("getUpdatedSelectionState")(n,v.key,v.offset,w.key,w.offset),needsRecovery:x}}function j(n){while(n.firstChild&&(n.firstChild instanceof Element&&n.firstChild.getAttribute("data-blocks")==="true"||c("getSelectionOffsetKeyForNode")(n.firstChild)))n=n.firstChild;return n}function k(n){while(n.lastChild&&(n.lastChild instanceof Element&&n.lastChild.getAttribute("data-blocks")==="true"||c("getSelectionOffsetKeyForNode")(n.lastChild)))n=n.lastChild;return n}function l(n,o,p){__p&&__p();var q=o,r=c("findAncestorOffsetKey")(q);r!=null||n&&(n===q||n.firstChild===q)||h(0);if(n===q){q=q.firstChild;q instanceof Element&&q.getAttribute("data-contents")==="true"||h(0);if(p>0)p=q.childNodes.length}if(p===0){var s=null;if(r!=null)s=r;else{var t=j(q);s=c("nullthrows")(c("getSelectionOffsetKeyForNode")(t))}return{key:s,offset:0}}var u=q.childNodes[p-1],v=null,w=null;if(!c("getSelectionOffsetKeyForNode")(u)){v=c("nullthrows")(r);w=m(u)}else{var x=k(u);v=c("nullthrows")(c("getSelectionOffsetKeyForNode")(x));w=m(x)}return{key:v,offset:w}}function m(n){var o=n.textContent;return o==="\n"?0:o.length}f.exports=i}),null);
__d("moveSelectionBackward",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();var k=i.getSelection(),l=i.getCurrentContent(),m=k.getStartKey(),n=k.getStartOffset(),o=m,p=0;if(j>n){var q=l.getKeyBefore(m);if(q==null)o=m;else{o=q;var r=l.getBlockForKey(q);p=r.getText().length}}else p=n-j;return k.merge({focusKey:o,focusOffset:p,isBackward:true})}f.exports=h}),null);
__d("removeTextWithStrategy",["DraftModifier"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k){__p&&__p();var l=i.getSelection(),m=i.getCurrentContent(),n=l;if(l.isCollapsed()){if(k==="forward"){if(i.isSelectionAtEndOfContent())return m}else if(i.isSelectionAtStartOfContent())return m;n=j(i);if(n===l)return m}return c("DraftModifier").removeRange(m,n,k)}f.exports=h}),null);
__d("keyCommandBackspaceToStartOfLine",["EditorState","expandRangeToStartOfLine","getDraftEditorSelectionWithNodes","moveSelectionBackward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=c("removeTextWithStrategy")(i,function(k){var l=k.getSelection();if(l.isCollapsed()&&l.getAnchorOffset()===0)return c("moveSelectionBackward")(k,1);var m=b.getSelection(),n=m.getRangeAt(0);n=c("expandRangeToStartOfLine")(n);return c("getDraftEditorSelectionWithNodes")(k,null,n.endContainer,n.endOffset,n.startContainer,n.startOffset).selectionState},"backward");if(j===i.getCurrentContent())return i;return c("EditorState").push(i,j,"remove-range")}f.exports=h}),null);
__d("DraftRemovableWord",["TokenizeUtil"],(function a(b,c,d,e,f,g){"use strict";var h=c("TokenizeUtil").getPunctuation(),i="['\u2018\u2019]",j="\\s|(?![_])"+h,k="^(?:"+j+")*(?:"+i+"|(?!"+j+").)*(?:(?!"+j+").)",l=new RegExp(k),m="(?:(?!"+j+").)(?:"+i+"|(?!"+j+").)*(?:"+j+")*$",n=new RegExp(m);function o(q,r){var s=r?n.exec(q):l.exec(q);return s?s[0]:q}var p={getBackward:function q(r){return o(r,true)},getForward:function q(r){return o(r,false)}};f.exports=p}),null);
__d("keyCommandBackspaceWord",["DraftRemovableWord","EditorState","moveSelectionBackward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=c("removeTextWithStrategy")(i,function(k){var l=k.getSelection(),m=l.getStartOffset();if(m===0)return c("moveSelectionBackward")(k,1);var n=l.getStartKey(),o=k.getCurrentContent(),p=o.getBlockForKey(n).getText().slice(0,m),q=c("DraftRemovableWord").getBackward(p);return c("moveSelectionBackward")(k,q.length||1)},"backward");if(j===i.getCurrentContent())return i;return c("EditorState").push(i,j,"remove-range")}f.exports=h}),null);
__d("moveSelectionForward",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=i.getSelection(),l=k.getStartKey(),m=k.getStartOffset(),n=i.getCurrentContent(),o=l,p,q=n.getBlockForKey(l);if(j>q.getText().length-m){o=n.getKeyAfter(l);p=0}else p=m+j;return k.merge({focusKey:o,focusOffset:p})}f.exports=h}),null);
__d("keyCommandDeleteWord",["DraftRemovableWord","EditorState","moveSelectionForward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=c("removeTextWithStrategy")(i,function(k){var l=k.getSelection(),m=l.getStartOffset(),n=l.getStartKey(),o=k.getCurrentContent(),p=o.getBlockForKey(n).getText().slice(m),q=c("DraftRemovableWord").getForward(p);return c("moveSelectionForward")(k,q.length||1)},"forward");if(j===i.getCurrentContent())return i;return c("EditorState").push(i,j,"remove-range")}f.exports=h}),null);
__d("keyCommandInsertNewline",["DraftModifier","EditorState"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=c("DraftModifier").splitBlock(i.getCurrentContent(),i.getSelection());return c("EditorState").push(i,j,"split-block")}f.exports=h}),null);
__d("keyCommandMoveSelectionToEndOfBlock",["EditorState"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=i.getSelection(),k=j.getEndKey(),l=i.getCurrentContent(),m=l.getBlockForKey(k).getLength();return c("EditorState").set(i,{selection:j.merge({anchorKey:k,anchorOffset:m,focusKey:k,focusOffset:m,isBackward:false}),forceSelection:true})}f.exports=h}),null);
__d("keyCommandMoveSelectionToStartOfBlock",["EditorState"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=i.getSelection(),k=j.getStartKey();return c("EditorState").set(i,{selection:j.merge({anchorKey:k,anchorOffset:0,focusKey:k,focusOffset:0,isBackward:false}),forceSelection:true})}f.exports=h}),null);
__d("keyCommandPlainBackspace",["EditorState","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=c("removeTextWithStrategy")(i,function(l){var k=l.getSelection(),m=l.getCurrentContent(),n=k.getAnchorKey(),o=k.getAnchorOffset(),p=m.getBlockForKey(n).getText()[o-1];return c("moveSelectionBackward")(l,p?c("UnicodeUtils").getUTF16Length(p,0):1)},"backward");if(j===i.getCurrentContent())return i;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"backspace-character":"remove-range")}f.exports=h}),null);
__d("keyCommandPlainDelete",["EditorState","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=c("removeTextWithStrategy")(i,function(l){var k=l.getSelection(),m=l.getCurrentContent(),n=k.getAnchorKey(),o=k.getAnchorOffset(),p=m.getBlockForKey(n).getText()[o];return c("moveSelectionForward")(l,p?c("UnicodeUtils").getUTF16Length(p,0):1)},"forward");if(j===i.getCurrentContent())return i;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"delete-character":"remove-range")}f.exports=h}),null);
__d("keyCommandTransposeCharacters",["DraftModifier","EditorState","getContentStateFragment"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.getSelection();if(!j.isCollapsed())return i;var k=j.getAnchorOffset();if(k===0)return i;var l=j.getAnchorKey(),m=i.getCurrentContent(),n=m.getBlockForKey(l),o=n.getLength();if(o<=1)return i;var p,q;if(k===o){p=j.set("anchorOffset",k-1);q=j}else{p=j.set("focusOffset",k+1);q=p.set("anchorOffset",k+1)}var r=c("getContentStateFragment")(m,p),s=c("DraftModifier").removeRange(m,p,"backward"),t=s.getSelectionAfter(),u=t.getAnchorOffset()-1,v=t.merge({anchorOffset:u,focusOffset:u}),w=c("DraftModifier").replaceWithFragment(s,v,r),x=c("EditorState").push(i,w,"insert-fragment");return c("EditorState").acceptSelection(x,q)}f.exports=h}),null);
__d("keyCommandUndo",["EditorState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k){__p&&__p();var l=c("EditorState").undo(j);if(j.getLastChangeType()==="spellcheck-change"){var m=l.getCurrentContent();k(c("EditorState").set(l,{nativelyRenderedContent:m}));return}i.preventDefault();if(!j.getNativelyRenderedContent()){k(l);return}k(c("EditorState").set(j,{nativelyRenderedContent:null}));setTimeout(function(){k(l)},0)}f.exports=h}),null);
__d("editOnKeyDown",["DraftModifier","EditorState","KeyBindingUtil","Keys","SecondaryClipboard","UserAgent","isEventHandled","keyCommandBackspaceToStartOfLine","keyCommandBackspaceWord","keyCommandDeleteWord","keyCommandInsertNewline","keyCommandMoveSelectionToEndOfBlock","keyCommandMoveSelectionToStartOfBlock","keyCommandPlainBackspace","keyCommandPlainDelete","keyCommandTransposeCharacters","keyCommandUndo"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("KeyBindingUtil").isOptionKeyCommand,i=c("UserAgent").isBrowser("Chrome");function j(l,m){__p&&__p();switch(l){case"redo":return c("EditorState").redo(m);case"delete":return c("keyCommandPlainDelete")(m);case"delete-word":return c("keyCommandDeleteWord")(m);case"backspace":return c("keyCommandPlainBackspace")(m);case"backspace-word":return c("keyCommandBackspaceWord")(m);case"backspace-to-start-of-line":return c("keyCommandBackspaceToStartOfLine")(m);case"split-block":return c("keyCommandInsertNewline")(m);case"transpose-characters":return c("keyCommandTransposeCharacters")(m);case"move-selection-to-start-of-block":return c("keyCommandMoveSelectionToStartOfBlock")(m);case"move-selection-to-end-of-block":return c("keyCommandMoveSelectionToEndOfBlock")(m);case"secondary-cut":return c("SecondaryClipboard").cut(m);case"secondary-paste":return c("SecondaryClipboard").paste(m);default:return m}}function k(l,m){__p&&__p();var n=m.which,o=l._latestEditorState;switch(n){case c("Keys").RETURN:m.preventDefault();if(l.props.handleReturn&&c("isEventHandled")(l.props.handleReturn(m,o)))return;break;case c("Keys").ESC:m.preventDefault();l.props.onEscape&&l.props.onEscape(m);return;case c("Keys").TAB:l.props.onTab&&l.props.onTab(m);return;case c("Keys").UP:l.props.onUpArrow&&l.props.onUpArrow(m);return;case c("Keys").RIGHT:l.props.onRightArrow&&l.props.onRightArrow(m);return;case c("Keys").DOWN:l.props.onDownArrow&&l.props.onDownArrow(m);return;case c("Keys").LEFT:l.props.onLeftArrow&&l.props.onLeftArrow(m);return;case c("Keys").SPACE:if(i&&h(m)){m.preventDefault();var p=c("DraftModifier").replaceText(o.getCurrentContent(),o.getSelection(),"\xa0");l.update(c("EditorState").push(o,p,"insert-characters"));return}}var q=l.props.keyBindingFn(m);if(!q)return;if(q==="undo"){c("keyCommandUndo")(m,o,l.update);return}m.preventDefault();if(l.props.handleKeyCommand&&c("isEventHandled")(l.props.handleKeyCommand(q,o)))return;var r=j(q,o);if(r!==o)l.update(r)}f.exports=k}),null);
__d("getSafeBodyFromHTML",["invariant","UserAgent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("UserAgent").isBrowser("IE <= 9");function j(k){var l,m=null;if(!i&&document.implementation&&document.implementation.createHTMLDocument){l=document.implementation.createHTMLDocument("foo");l.documentElement||h(0);l.documentElement.innerHTML=k;m=l.getElementsByTagName("body")[0]}return m}f.exports=j}),null);
__d("convertFromHTMLToContentBlocks",["invariant","CharacterMetadata","ContentBlock","ContentBlockNode","DefaultDraftBlockRenderMap","DraftEntity","DraftFeatureFlags","immutable","URI","generateRandomKey","getSafeBodyFromHTML","sanitizeDraftText"],(function aa(ba,a,ca,da,ea,fa,ga){"use strict";__p&&__p();var ha=a("immutable").Set,b=a("DraftFeatureFlags").draft_tree_data_support,c=a("immutable").List,d=a("immutable").OrderedSet,ia="&nbsp;",e=" ",ja=4,ka=new RegExp("\r","g"),la=new RegExp("\n","g"),ma=new RegExp(ia,"g"),na=new RegExp("&#13;?","g"),oa=new RegExp("&#8203;?","g"),pa=["bold","bolder","500","600","700","800","900"],qa=["light","lighter","100","200","300","400"],ra={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},sa=["className","href","rel","target","title"],ta=["alt","className","height","src","width"],f=void 0,g={text:"",inlines:[],entities:[],blocks:[]},ua={children:c(),depth:0,key:"",type:""},h=function h(u,v){if(u==="li")return v==="ol"?"ordered-list-item":"unordered-list-item";return null},i=function i(u){var v=u.get("unstyled").element,w=ha([]);u.forEach(function(x){if(x.aliasedElements)x.aliasedElements.forEach(function(y){w=w.add(y)});w=w.add(x.element)});return w.filter(function(x){return x&&x!==v}).toArray().sort()},j=function j(u,v,w){for(var x=0;x<w.length;x++){var y=w[x](u,v);if(y)return y}return null},k=function k(u,v,w){var x=w.filter(function(y){return y.element===u||y.wrapper===u||y.aliasedElements&&y.aliasedElements.some(function(z){return z===u})}).keySeq().toSet().toArray().sort();switch(x.length){case 0:return"unstyled";case 1:return x[0];default:return j(u,v,[h])||"unstyled"}},l=function l(u,v,w){__p&&__p();var x,y=ra[u];if(y)w=w.add(y).toOrderedSet();else if(v instanceof HTMLElement)(function(){__p&&__p();var z=v;w=w.withMutations(function(A){__p&&__p();var B=z.style.fontWeight,C=z.style.fontStyle,D=z.style.textDecoration;if(pa.indexOf(B)>=0)A.add("BOLD");else if(qa.indexOf(B)>=0)A.remove("BOLD");if(C==="italic")A.add("ITALIC");else if(C==="normal")A.remove("ITALIC");if(D==="underline")A.add("UNDERLINE");if(D==="line-through")A.add("STRIKETHROUGH");if(D==="none"){A.remove("UNDERLINE");A.remove("STRIKETHROUGH")}}).toOrderedSet()})();return w},m=function m(u,v,w){__p&&__p();var x=u.text.slice(-1),y=v.text.slice(0,1);if(x==="\r"&&y==="\r"&&!w){u.text=u.text.slice(0,-1);u.inlines.pop();u.entities.pop();u.blocks.pop()}if(x==="\r")if(v.text===e||v.text==="\n")return u;else if(y===e||y==="\n"){v.text=v.text.slice(1);v.inlines.shift();v.entities.shift()}return{text:u.text+v.text,inlines:u.inlines.concat(v.inlines),entities:u.entities.concat(v.entities),blocks:u.blocks.concat(v.blocks)}},n=function n(u,v){return v.some(function(w){return u.indexOf("<"+w)!==-1})},o=function o(u){u instanceof HTMLAnchorElement||ga(0);var v=u.protocol;return v==="http:"||v==="https:"||v==="mailto:"},p=function p(u){return babelHelpers["extends"]({},g,{text:e,inlines:[d()],entities:new Array(1).map(function(v){return u?u:v})})},q=function q(){return babelHelpers["extends"]({},g,{text:"\n",inlines:[d()],entities:new Array(1)})},r=function r(){var u=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return babelHelpers["extends"]({},ua,u)},s=function s(u,v){var w=arguments.length<=2||arguments[2]===undefined?null:arguments[2];return{text:"\r",inlines:[d()],entities:new Array(1),blocks:[r({parent:w,key:a("generateRandomKey")(),type:u,depth:Math.max(0,Math.min(ja,v))})]}},t=function t(u,v,w,x,y,z,A,B,C,D){__p&&__p();var ya,E,F=f,G=v.nodeName.toLowerCase(),H=u,I="unstyled",J=false,K=y&&k(y,x,B),L=babelHelpers["extends"]({},g),M=null,N=void 0;if(G==="#text"){var O=v.textContent,P=O.trim();if(x&&P===""&&v.parentElement){var Q=v.parentElement.nodeName.toLowerCase();if(Q==="ol"||Q==="ul")return{chunk:babelHelpers["extends"]({},g),entityMap:u}}if(P===""&&y!=="pre")return{chunk:p(C),entityMap:u};if(y!=="pre")O=O.replace(la,e);f=G;return{chunk:{text:O,inlines:Array(O.length).fill(w),entities:Array(O.length).fill(C),blocks:[]},entityMap:u}}f=G;if(G==="br"){if(F==="br"&&(!y||K==="unstyled"))return{chunk:s("unstyled",A,D),entityMap:u};return{chunk:q(),entityMap:u}}if(G==="img"&&v instanceof HTMLImageElement&&v.attributes.getNamedItem("src")&&v.attributes.getNamedItem("src").value)(function(){var X=v,Y={};ta.forEach(function(Z){var $=X.getAttribute(Z);if($)Y[Z]=$});v.textContent="\ud83d\udcf7";C=a("DraftEntity").__create("IMAGE","MUTABLE",Y||{})})();w=l(G,v,w);if(G==="ul"||G==="ol"){if(x)A+=1;x=G}var R=k(G,x,B),S=x&&y==="li"&&G==="li",T=(!y||b)&&z.indexOf(G)!==-1;if(S||T){L=s(R,A,D);N=L.blocks[0].key;y=G;J=!b}if(S)I=x==="ul"?"unordered-list-item":"ordered-list-item";var U=v.firstChild;if(U!=null)G=U.nodeName.toLowerCase();var V=null;while(U){if(U instanceof HTMLAnchorElement&&U.href&&o(U))(function(){var X=U,Y={};sa.forEach(function(Z){var $=X.getAttribute(Z);if($)Y[Z]=$});Y.url=new(a("URI"))(X.href).toString();V=a("DraftEntity").__create("LINK","MUTABLE",Y||{})})();else V=undefined;var za=t(H,U,w,x,y,z,A,B,V||C,b?N:null),Aa=za.chunk,Ba=za.entityMap;M=Aa;H=Ba;L=m(L,M,b);var W=U.nextSibling;if(!D&&W&&z.indexOf(G)>=0&&y)L=m(L,q());if(W)G=W.nodeName.toLowerCase();U=W}if(J)L=m(L,s(I,A,D));return{chunk:L,entityMap:H}},va=function va(u,v,w,x){__p&&__p();u=u.trim().replace(ka,"").replace(ma,e).replace(na,"").replace(oa,"");var y=i(w),z=v(u);if(!z)return null;f=null;var A=n(u,y)?y:["div"],B=t(x,z,d(),"ul",null,A,-1,w),C=B.chunk,D=B.entityMap;if(C.text.indexOf("\r")===0)C={text:C.text.slice(1),inlines:C.inlines.slice(1),entities:C.entities.slice(1),blocks:C.blocks};if(C.text.slice(-1)==="\r"){C.text=C.text.slice(0,-1);C.inlines=C.inlines.slice(0,-1);C.entities=C.entities.slice(0,-1);C.blocks.pop()}if(C.blocks.length===0)C.blocks.push(babelHelpers["extends"]({},g,{type:"unstyled",depth:0}));if(C.text.split("\r").length===C.blocks.length+1)C.blocks.unshift({type:"unstyled",depth:0});return{chunk:C,entityMap:D}},wa=function wa(u){__p&&__p();if(!u||!u.text||!Array.isArray(u.blocks))return null;var v={cacheRef:{},contentBlocks:[]},w=0,x=u.blocks,y=u.inlines,z=u.entities,A=b?a("ContentBlockNode"):a("ContentBlock");return u.text.split("\r").reduce(function(B,C,D){__p&&__p();var ya;C=a("sanitizeDraftText")(C);var E=x[D],F=w+C.length,G=y.slice(w,F),H=z.slice(w,F),I=c(G.map(function(P,D){var Q={style:P,entity:null};if(H[D])Q.entity=H[D];return a("CharacterMetadata").create(Q)}));w=F+1;var J=E.depth,K=E.type,L=E.parent,M=E.key||a("generateRandomKey")(),N=null;if(L)(function(){__p&&__p();var P,Q=B.cacheRef[L],R=B.contentBlocks[Q];if(R.getChildKeys().isEmpty()&&R.getText())(function(){var S=R.getCharacterList(),T=R.getText();N=a("generateRandomKey")();var U=new(a("ContentBlockNode"))({key:N,text:T,characterList:S,parent:L,nextSibling:M});B.contentBlocks.push(U);R=R.withMutations(function(E){E.set("characterList",c()).set("text","").set("children",R.children.push(U.getKey()))})})();B.contentBlocks[Q]=R.set("children",R.children.push(M))})();var O=new A({key:M,parent:L,type:K,depth:J,text:C,characterList:I,prevSibling:N||(D===0||x[D-1].parent!==L?null:x[D-1].key),nextSibling:D===x.length-1||x[D+1].parent!==L?null:x[D+1].key});B.contentBlocks.push(O);B.cacheRef[O.key]=D;return B},v).contentBlocks},xa=function xa(u){var v=arguments.length<=1||arguments[1]===undefined?a("getSafeBodyFromHTML"):arguments[1],w=arguments.length<=2||arguments[2]===undefined?a("DefaultDraftBlockRenderMap"):arguments[2],x=va(u,v,w,a("DraftEntity"));if(x==null)return null;var y=x.chunk,z=x.entityMap,A=wa(y);return{contentBlocks:A,entityMap:z}};ea.exports=xa}),null);
__d("DraftPasteProcessor",["CharacterMetadata","ContentBlock","ContentBlockNode","DraftFeatureFlags","immutable","convertFromHTMLToContentBlocks","generateRandomKey","getSafeBodyFromHTML","sanitizeDraftText"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=c("immutable").Repeat,j=c("DraftFeatureFlags").draft_tree_data_support,k=j?c("ContentBlockNode"):c("ContentBlock"),l={processHTML:function m(n,o){return c("convertFromHTMLToContentBlocks")(n,c("getSafeBodyFromHTML"),o)},processText:function m(n,o,p){return n.reduce(function(q,r,s){r=c("sanitizeDraftText")(r);var t=c("generateRandomKey")(),u={key:t,type:p,text:r,characterList:h(i(o,r.length))};if(j&&s!==0){var v=s-1,w=q[v]=q[v].merge({nextSibling:t});u=babelHelpers["extends"]({},u,{prevSibling:w.getKey()})}q.push(new k(u));return q},[])}};f.exports=l}),null);
__d("adjustBlockDepthForContentState",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k,l){var m=j.getStartKey(),n=j.getEndKey(),o=i.getBlockMap(),p=o.toSeq().skipUntil(function(q,r){return r===m}).takeUntil(function(q,r){return r===n}).concat([[n,o.get(n)]]).map(function(q){var r=q.getDepth()+k;r=Math.max(0,Math.min(r,l));return q.set("depth",r)});o=o.merge(p);return i.merge({blockMap:o,selectionBefore:j,selectionAfter:j})}f.exports=h}),null);
__d("RichTextEditorUtil",["DraftModifier","EditorState","SelectionState","adjustBlockDepthForContentState","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={currentBlockContainsLink:function i(j){var k=j.getSelection(),l=j.getCurrentContent(),m=l.getEntityMap();return l.getBlockForKey(k.getAnchorKey()).getCharacterList().slice(k.getStartOffset(),k.getEndOffset()).some(function(n){var o=n.getEntity();return!!o&&m.__get(o).getType()==="LINK"})},getCurrentBlockType:function i(j){var k=j.getSelection();return j.getCurrentContent().getBlockForKey(k.getStartKey()).getType()},getDataObjectForLinkURL:function i(j){return{url:j.toString()}},handleKeyCommand:function i(j,k){switch(k){case"bold":return h.toggleInlineStyle(j,"BOLD");case"italic":return h.toggleInlineStyle(j,"ITALIC");case"underline":return h.toggleInlineStyle(j,"UNDERLINE");case"code":return h.toggleCode(j);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return h.onBackspace(j);case"delete":case"delete-word":case"delete-to-end-of-block":return h.onDelete(j);default:return null}},insertSoftNewline:function i(j){var k=c("DraftModifier").insertText(j.getCurrentContent(),j.getSelection(),"\n",j.getCurrentInlineStyle(),null),l=c("EditorState").push(j,k,"insert-characters");return c("EditorState").forceSelection(l,k.getSelectionAfter())},onBackspace:function i(j){__p&&__p();var k=j.getSelection();if(!k.isCollapsed()||k.getAnchorOffset()||k.getFocusOffset())return null;var l=j.getCurrentContent(),m=k.getStartKey(),n=l.getBlockBefore(m);if(n&&n.getType()==="atomic"){var o=l.getBlockMap()["delete"](n.getKey()),p=l.merge({blockMap:o,selectionAfter:k});if(p!==l)return c("EditorState").push(j,p,"remove-range")}var q=h.tryToRemoveBlockStyle(j);if(q)return c("EditorState").push(j,q,"change-block-type");return null},onDelete:function i(j){__p&&__p();var k=j.getSelection();if(!k.isCollapsed())return null;var l=j.getCurrentContent(),m=k.getStartKey(),n=l.getBlockForKey(m),o=n.getLength();if(k.getStartOffset()<o)return null;var p=l.getBlockAfter(m);if(!p||p.getType()!=="atomic")return null;var q=k.merge({focusKey:p.getKey(),focusOffset:p.getLength()}),r=c("DraftModifier").removeRange(l,q,"forward");if(r!==l)return c("EditorState").push(j,r,"remove-range");return null},onTab:function i(event,j,k){__p&&__p();var l=j.getSelection(),m=l.getAnchorKey();if(m!==l.getFocusKey())return j;var n=j.getCurrentContent(),o=n.getBlockForKey(m),p=o.getType();if(p!=="unordered-list-item"&&p!=="ordered-list-item")return j;event.preventDefault();var q=n.getBlockBefore(m);if(!q)return j;var r=q.getType();if(r!=="unordered-list-item"&&r!=="ordered-list-item")return j;var s=o.getDepth();if(!event.shiftKey&&s===k)return j;k=Math.min(q.getDepth()+1,k);var t=c("adjustBlockDepthForContentState")(n,l,event.shiftKey?-1:1,k);return c("EditorState").push(j,t,"adjust-depth")},toggleBlockType:function i(j,k){__p&&__p();var l=j.getSelection(),m=l.getStartKey(),n=l.getEndKey(),o=j.getCurrentContent(),p=l;if(m!==n&&l.getEndOffset()===0){var q=c("nullthrows")(o.getBlockBefore(n));n=q.getKey();p=p.merge({anchorKey:m,anchorOffset:l.getStartOffset(),focusKey:n,focusOffset:q.getLength(),isBackward:false})}var r=o.getBlockMap().skipWhile(function(t,u){return u!==m}).reverse().skipWhile(function(t,u){return u!==n}).some(function(t){return t.getType()==="atomic"});if(r)return j;var s=o.getBlockForKey(m).getType()===k?"unstyled":k;return c("EditorState").push(j,c("DraftModifier").setBlockType(o,p,s),"change-block-type")},toggleCode:function i(j){var k=j.getSelection(),l=k.getAnchorKey(),m=k.getFocusKey();if(k.isCollapsed()||l!==m)return h.toggleBlockType(j,"code-block");return h.toggleInlineStyle(j,"CODE")},toggleInlineStyle:function i(j,k){var l=j.getSelection(),m=j.getCurrentInlineStyle();if(l.isCollapsed())return c("EditorState").setInlineStyleOverride(j,m.has(k)?m.remove(k):m.add(k));var n=j.getCurrentContent(),o;if(m.has(k))o=c("DraftModifier").removeInlineStyle(n,l,k);else o=c("DraftModifier").applyInlineStyle(n,l,k);return c("EditorState").push(j,o,"change-inline-style")},toggleLink:function i(j,k,l){var m=c("DraftModifier").applyEntity(j.getCurrentContent(),k,l);return c("EditorState").push(j,m,"apply-entity")},tryToRemoveBlockStyle:function i(j){__p&&__p();var k=j.getSelection(),l=k.getAnchorOffset();if(k.isCollapsed()&&l===0){var m=k.getAnchorKey(),n=j.getCurrentContent(),o=n.getBlockForKey(m),p=n.getFirstBlock();if(o.getLength()>0&&o!==p)return null;var q=o.getType(),r=n.getBlockBefore(m);if(q==="code-block"&&r&&r.getType()==="code-block"&&r.getLength()!==0)return null;if(q!=="unstyled")return c("DraftModifier").setBlockType(n,k,"unstyled")}return null}};f.exports=h}),null);
__d("splitTextIntoTextBlocks",[],(function a(b,c,d,e,f,g){"use strict";var h=/\r\n?|\n/g;function i(j){return j.split(h)}f.exports=i}),null);
__d("editOnPaste",["BlockMapBuilder","CharacterMetadata","DataTransfer","DraftModifier","DraftPasteProcessor","EditorState","RichTextEditorUtil","getEntityKeyForSelection","getTextContentFromFiles","isEventHandled","splitTextIntoTextBlocks"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k,l){__p&&__p();l.preventDefault();var m=new(c("DataTransfer"))(l.clipboardData);if(!m.isRichText()){var n=m.getFiles(),o=m.getText();if(n.length>0){if(k.props.handlePastedFiles&&c("isEventHandled")(k.props.handlePastedFiles(n)))return;c("getTextContentFromFiles")(n,function(C){C=C||o;if(!C)return;var s=k._latestEditorState,D=c("splitTextIntoTextBlocks")(C),y=c("CharacterMetadata").create({style:s.getCurrentInlineStyle(),entity:c("getEntityKeyForSelection")(s.getCurrentContent(),s.getSelection())}),z=c("RichTextEditorUtil").getCurrentBlockType(s),q=c("DraftPasteProcessor").processText(D,y,z),E=c("BlockMapBuilder").createFromArray(q),F=c("DraftModifier").replaceWithFragment(s.getCurrentContent(),s.getSelection(),E);k.update(c("EditorState").push(s,F,"insert-fragment"))});return}}var p=[],q=m.getText(),r=m.getHTML(),s=k._latestEditorState;if(k.props.handlePastedText&&c("isEventHandled")(k.props.handlePastedText(q,r,s)))return;if(q)p=c("splitTextIntoTextBlocks")(q);if(!k.props.stripPastedStyles){var t=k.getClipboard();if(m.isRichText()&&t){if(r.indexOf(k.getEditorKey())!==-1||p.length===1&&t.size===1&&t.first().getText()===q){k.update(i(k._latestEditorState,t));return}}else if(t&&m.types.includes("com.apple.webarchive")&&!m.types.includes("text/html")&&j(p,t)){k.update(i(k._latestEditorState,t));return}if(r){var u=c("DraftPasteProcessor").processHTML(r,k.props.blockRenderMap);if(u){var v=u.contentBlocks,w=u.entityMap;if(v){var x=c("BlockMapBuilder").createFromArray(v);k.update(i(k._latestEditorState,x,w));return}}}k.setClipboard(null)}if(p.length){var y=c("CharacterMetadata").create({style:s.getCurrentInlineStyle(),entity:c("getEntityKeyForSelection")(s.getCurrentContent(),s.getSelection())}),z=c("RichTextEditorUtil").getCurrentBlockType(s),A=c("DraftPasteProcessor").processText(p,y,z),B=c("BlockMapBuilder").createFromArray(A);k.update(i(k._latestEditorState,B))}}function i(k,l,m){var n=c("DraftModifier").replaceWithFragment(k.getCurrentContent(),k.getSelection(),l);return c("EditorState").push(k,n.set("entityMap",m),"insert-fragment")}function j(k,l){return k.length===l.size&&l.valueSeq().every(function(m,n){return m.getText()===k[n]})}f.exports=h}),null);
__d("getDraftEditorSelection",["getDraftEditorSelectionWithNodes"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=b.getSelection();if(k.rangeCount===0)return{selectionState:i.getSelection().set("hasFocus",false),needsRecovery:false};return c("getDraftEditorSelectionWithNodes")(i,j,k.anchorNode,k.anchorOffset,k.focusNode,k.focusOffset)}f.exports=h}),null);
__d("editOnSelect",["invariant","EditorState","ReactDOM","getDraftEditorSelection"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){__p&&__p();if(j._blockSelectEvents||j._latestEditorState!==j.props.editorState)return;var k=j.props.editorState,l=c("ReactDOM").findDOMNode(j.editorContainer);l||h(0);l.firstChild instanceof HTMLElement||h(0);var m=c("getDraftEditorSelection")(k,l.firstChild),n=m.selectionState;if(n!==k.getSelection()){if(m.needsRecovery)k=c("EditorState").forceSelection(k,n);else k=c("EditorState").acceptSelection(k,n);j.update(k)}}f.exports=i}),null);
__d("DraftEditorEditHandler",["editOnBeforeInput","editOnBlur","editOnCompositionStart","editOnCopy","editOnCut","editOnDragOver","editOnDragStart","editOnFocus","editOnInput","editOnKeyDown","editOnPaste","editOnSelect"],(function a(b,c,d,e,f,g){"use strict";var h={onBeforeInput:c("editOnBeforeInput"),onBlur:c("editOnBlur"),onCompositionStart:c("editOnCompositionStart"),onCopy:c("editOnCopy"),onCut:c("editOnCut"),onDragOver:c("editOnDragOver"),onDragStart:c("editOnDragStart"),onFocus:c("editOnFocus"),onInput:c("editOnInput"),onKeyDown:c("editOnKeyDown"),onPaste:c("editOnPaste"),onSelect:c("editOnSelect")};f.exports=h}),null);
__d("DraftEditorPlaceholder.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l){return this.props.text!==l.text||this.props.editorState.getSelection().getHasFocus()!==l.editorState.getSelection().getHasFocus()};k.prototype.render=function(){var l=this.props.editorState.getSelection().getHasFocus(),m="_1p1t"+(l?" _1p1u":""),n={whiteSpace:"pre-wrap"};return c("React").createElement("div",{className:m},c("React").createElement("div",{className:"_1p1v",id:this.props.accessibilityID,style:n},this.props.text))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("getDefaultKeyBinding",["KeyBindingUtil","Keys","UserAgent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("UserAgent").isPlatform("Mac OS X"),i=c("UserAgent").isPlatform("Windows"),j=h&&c("UserAgent").isBrowser("Firefox < 29"),k=c("KeyBindingUtil").hasCommandModifier,l=c("KeyBindingUtil").isCtrlKeyCommand;function m(r){return h&&r.altKey||l(r)}function n(r){if(!k(r))return null;return r.shiftKey?"redo":"undo"}function o(r){if(i&&r.shiftKey)return null;return m(r)?"delete-word":"delete"}function p(r){if(k(r)&&h)return"backspace-to-start-of-line";return m(r)?"backspace-word":"backspace"}function q(r){__p&&__p();switch(r.keyCode){case 66:return k(r)?"bold":null;case 68:return l(r)?"delete":null;case 72:return l(r)?"backspace":null;case 73:return k(r)?"italic":null;case 74:return k(r)?"code":null;case 75:return!i&&l(r)?"secondary-cut":null;case 77:return l(r)?"split-block":null;case 79:return l(r)?"split-block":null;case 84:return h&&l(r)?"transpose-characters":null;case 85:return k(r)?"underline":null;case 87:return h&&l(r)?"backspace-word":null;case 89:if(l(r))return i?"redo":"secondary-paste";return null;case 90:return n(r)||null;case c("Keys").RETURN:return"split-block";case c("Keys").DELETE:return o(r);case c("Keys").BACKSPACE:return p(r);case c("Keys").LEFT:return j&&k(r)?"move-selection-to-start-of-block":null;case c("Keys").RIGHT:return j&&k(r)?"move-selection-to-end-of-block":null;default:return null}}f.exports=q}),null);
__d("DraftEditor.react",["cx","invariant","DefaultDraftBlockRenderMap","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents.react","DraftEditorDragHandler","DraftEditorEditHandler","DraftEditorPlaceholder.react","EditorState","React","ReactDOM","Scroll","Style","UserAgent","emptyFunction","generateRandomKey","getDefaultKeyBinding","getScrollPosition","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("UserAgent").isBrowser("IE"),m=!l,n={edit:c("DraftEditorEditHandler"),composite:c("DraftEditorCompositionHandler"),drag:c("DraftEditorDragHandler"),cut:null,render:null};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(p){__p&&__p();k.constructor.call(this,p);this.focus=function(q){__p&&__p();var r=this.props.editorState,s=r.getSelection().getHasFocus(),t=c("ReactDOM").findDOMNode(this.editor);if(!t)return;var u=c("Style").getScrollParent(t),v=q||c("getScrollPosition")(u),w=v.x,x=v.y;t instanceof HTMLElement||i(0);t.focus();if(u===window)window.scrollTo(w,x);else c("Scroll").setTop(u,x);if(!s)this.update(c("EditorState").forceSelection(r,r.getSelection()))}.bind(this);this.blur=function(){var q=c("ReactDOM").findDOMNode(this.editor);q instanceof HTMLElement||i(0);q.blur()}.bind(this);this.setMode=function(q){this._handler=n[q]}.bind(this);this.exitCurrentMode=function(){this.setMode("edit")}.bind(this);this.restoreEditorDOM=function(q){this.setState({contentsKey:this.state.contentsKey+1},function(){this.focus(q)}.bind(this))}.bind(this);this.setClipboard=function(q){this._clipboard=q}.bind(this);this.getClipboard=function(){return this._clipboard}.bind(this);this.update=function(q){this._latestEditorState=q;this.props.onChange(q)}.bind(this);this.onDragEnter=function(){this._dragCount++}.bind(this);this.onDragLeave=function(){this._dragCount--;if(this._dragCount===0)this.exitCurrentMode()}.bind(this);this._blockSelectEvents=false;this._clipboard=null;this._handler=null;this._dragCount=0;this._editorKey=p.editorKey||c("generateRandomKey")();this._placeholderAccessibilityID="placeholder-"+this._editorKey;this._latestEditorState=p.editorState;this._latestCommittedEditorState=p.editorState;this._onBeforeInput=this._buildHandler("onBeforeInput");this._onBlur=this._buildHandler("onBlur");this._onCharacterData=this._buildHandler("onCharacterData");this._onCompositionEnd=this._buildHandler("onCompositionEnd");this._onCompositionStart=this._buildHandler("onCompositionStart");this._onCopy=this._buildHandler("onCopy");this._onCut=this._buildHandler("onCut");this._onDragEnd=this._buildHandler("onDragEnd");this._onDragOver=this._buildHandler("onDragOver");this._onDragStart=this._buildHandler("onDragStart");this._onDrop=this._buildHandler("onDrop");this._onInput=this._buildHandler("onInput");this._onFocus=this._buildHandler("onFocus");this._onKeyDown=this._buildHandler("onKeyDown");this._onKeyPress=this._buildHandler("onKeyPress");this._onKeyUp=this._buildHandler("onKeyUp");this._onMouseDown=this._buildHandler("onMouseDown");this._onMouseUp=this._buildHandler("onMouseUp");this._onPaste=this._buildHandler("onPaste");this._onSelect=this._buildHandler("onSelect");this.getEditorKey=function(){return this._editorKey}.bind(this);this.state={contentsKey:0}}o.prototype._buildHandler=function(p){return function(q){if(!this.props.readOnly){var r=this._handler&&this._handler[p];r&&r(this,q)}}.bind(this)};o.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()};o.prototype._renderPlaceholder=function(){if(this._showPlaceholder()){var p={text:c("nullthrows")(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return c("React").createElement(c("DraftEditorPlaceholder.react"),p)}return null};o.prototype.render=function(){var p=this.props,q=p.blockRenderMap,r=p.blockRendererFn,s=p.blockStyleFn,t=p.customStyleFn,u=p.customStyleMap,v=p.editorState,w=p.readOnly,x=p.textAlignment,y=p.textDirectionality,z="_5rp7"+(x==="left"?" _5rp8":"")+(x==="right"?" _5rp9":"")+(x==="center"?" _5rpa":""),A={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},B=this.props.role||"textbox",C=B==="combobox"?!!this.props.ariaExpanded:null,D={blockRenderMap:q,blockRendererFn:r,blockStyleFn:s,customStyleMap:babelHelpers["extends"]({},c("DefaultDraftInlineStyle"),u),customStyleFn:t,editorKey:this._editorKey,editorState:v,key:"contents"+this.state.contentsKey,textDirectionality:y};return c("React").createElement("div",{className:z},this._renderPlaceholder(),c("React").createElement("div",{className:"_5rpb",ref:function(E){return this.editorContainer=E}.bind(this)},c("React").createElement("div",{"aria-activedescendant":w?null:this.props.ariaActiveDescendantID,"aria-autocomplete":w?null:this.props.ariaAutoComplete,"aria-controls":w?null:this.props.ariaControls,"aria-describedby":this._showPlaceholder()?this._placeholderAccessibilityID:null,"aria-expanded":w?null:C,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:(!w?"notranslate":"")+" _5rpu",contentEditable:!w,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(E){return this.editor=E}.bind(this),role:w?null:B,spellCheck:m&&this.props.spellCheck,style:A,suppressContentEditableWarning:true,tabIndex:this.props.tabIndex},c("React").createElement(c("DraftEditorContents.react"),D))))};o.prototype.componentDidMount=function(){this.setMode("edit");if(l)document.execCommand("AutoUrlDetect",false,false)};o.prototype.componentWillUpdate=function(p){this._blockSelectEvents=true;this._latestEditorState=p.editorState};o.prototype.componentDidUpdate=function(){this._blockSelectEvents=false;this._latestCommittedEditorState=this.props.editorState};o.defaultProps={blockRenderMap:c("DefaultDraftBlockRenderMap"),blockRendererFn:c("emptyFunction").thatReturnsNull,blockStyleFn:c("emptyFunction").thatReturns(""),keyBindingFn:c("getDefaultKeyBinding"),readOnly:false,spellCheck:false,stripPastedStyles:false};f.exports=o}),null);
__d("TypeaheadNavigation",[],(function a(b,c,d,e,f,g){var h={moveUp:function i(j,k,l){var m=k?j.indexOf(k):-1,n=m==-1?j.length-1:m-1;l(n==-1?null:j[n])},moveDown:function i(j,k,l){var m=k?j.indexOf(k)+1:0;l(m==j.length?null:j[m])}};f.exports=h}),null);
__d("GroupTypeaheadTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({USER:"user",PAGE:"page",APP:"app",GROUP:"group",EVENT:"event",PLACE:"place",GROUP_RULE:"group_rule"})}),null);
__d("insertMentionIntoEditorState",["DraftModifier","EditorState","GroupTypeaheadTypeEnum","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="@\uff20\ufe68";function i(l,m,n,o){var p=m.getSelection(),q=m.getCurrentContent(),r=p.getAnchorKey(),s=p.getAnchorOffset(),t=q.getBlockMap().get(r),u=p.getStartOffset(),v=t.getText().substr(u-n,n),w=j(l,v),x=s-k(t.getText().substr(0,s),w,n);q=o(q,l);var y=q.getLastCreatedEntityKey(),z=c("DraftModifier").replaceText(q,p.set("anchorOffset",x),w,m.getCurrentInlineStyle(),y);return c("EditorState").push(m,z,"insert-fragment")}function j(l,m){__p&&__p();if(l.getType()===c("GroupTypeaheadTypeEnum").GROUP_RULE)return l.getSubtitle();if(!c("gkx")("AT4eVhAyXs5l-SdU2eMzGAtYZHW_8azbWQtRzBkQx-hxEYvZmrk9VzKrNwtfnQLv-dOZuBnZ683myig4JsVLktUm"))return l.getTitle();m=m.toLowerCase();if(h.includes(m.substring(0,1)))m=m.substring(1,m.length);if(l.getTitle().toLowerCase().startsWith(m))return l.getTitle();else if(l.getSubtitle().toLowerCase().startsWith(m))return"@"+l.getSubtitle();else if(l.getTitle().toLowerCase().includes(m))return l.getTitle();else if(l.getSubtitle().toLowerCase().includes(m))return"@"+l.getSubtitle();return l.getTitle()}function k(l,m,n){for(var o=n;o<=m.length;o++)if(l.substr(-o)==m.substr(0,o))n=o;return n}f.exports=i}),null);
__d("AbstractMentionsTextEditor.react",["DraftEditor.react","React","SearchableEntry","TypeaheadNavigation","clearImmediate","getOrCreateDOMID","insertMentionIntoEditorState","setImmediate","uniqueID"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes,k=5,l="handled",m="not-handled";h=babelHelpers.inherits(n,c("React").Component);i=h&&h.prototype;function n(o,p){"use strict";__p&&__p();i.constructor.call(this,o,p);this.__onShowMentions=function(q,r){__p&&__p();if(!this.$AbstractMentionsTextEditor2)return;var s=r||0;if(!q||!q.length){this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return}var t=q.slice(0,this.props.maxResults),u=this.props.typeaheadViewProps;if(u&&u.mentionSortFn)t.sort(u.mentionSortFn);var v=null;if(this.props.autoHighlight||this.state.highlightedMentionable!==null)v=q[0];this.setState({highlightedMentionable:v,mentionableEntries:t,characterOffset:s});if(this.props.onShowMentions)this.props.onShowMentions(t,s)}.bind(this);this.$AbstractMentionsTextEditor8=function(q){this.setState(this.$AbstractMentionsTextEditor12());this.props.onBlur&&this.props.onBlur(q)}.bind(this);this.$AbstractMentionsTextEditor7=function(q){this.props.mentionsSource&&this.props.mentionsSource.bootstrap();this.props.onFocus&&this.props.onFocus(q)}.bind(this);this.$AbstractMentionsTextEditor13=function(q,r){if(this.state.highlightedMentionable){this.$AbstractMentionsTextEditor10(this.state.highlightedMentionable,q);return l}else if(this.props.handleContentReturn&&this.props.handleContentReturn(q,r))return l;return m}.bind(this);this.$AbstractMentionsTextEditor6=function(q){var r=this.state.highlightedMentionable;if(r){q.preventDefault();this.$AbstractMentionsTextEditor10(r,q)}else if(this.props.onTab)this.props.onTab(q)}.bind(this);this.$AbstractMentionsTextEditor5=function(q){if(this.props.onEscape)this.props.onEscape(q);if(this.state.mentionableEntries){q.stopPropagation();q.nativeEvent.isPropagationStopped=true;this.setState(this.$AbstractMentionsTextEditor12())}}.bind(this);this.$AbstractMentionsTextEditor11=function(q){var r=this.state.mentionableEntries;if(r){q.preventDefault();c("TypeaheadNavigation").moveUp(r,this.state.highlightedMentionable,this.$AbstractMentionsTextEditor9)}else this.props.onUpArrow&&this.props.onUpArrow(q)}.bind(this);this.$AbstractMentionsTextEditor4=function(q){var r=this.state.mentionableEntries;if(r){q.preventDefault();c("TypeaheadNavigation").moveDown(r,this.state.highlightedMentionable,this.$AbstractMentionsTextEditor9)}else this.props.onDownArrow&&this.props.onDownArrow(q)}.bind(this);this.$AbstractMentionsTextEditor9=function(q){this.setState({highlightedMentionable:q})}.bind(this);this.$AbstractMentionsTextEditor14=function(q){var r=c("getOrCreateDOMID")(q);this.setState({ariaActiveDescendantID:r})}.bind(this);this.$AbstractMentionsTextEditor10=function(q,r){var s=c("insertMentionIntoEditorState")(q,this.props.editorState,this.state.characterOffset,this.props.mentionCreationForContentStateFn);this.props.onChange(s);this.setState(this.$AbstractMentionsTextEditor12());var t=this.props.onAddMention,u=this.state.mentionableEntries;if(t&&u){var v=u.indexOf(q);t(q,v,r)}}.bind(this);this.__onShowMentions=this.__onShowMentions.bind(this);this.$AbstractMentionsTextEditor4=this.$AbstractMentionsTextEditor4.bind(this);this.$AbstractMentionsTextEditor5=this.$AbstractMentionsTextEditor5.bind(this);this.$AbstractMentionsTextEditor6=this.$AbstractMentionsTextEditor6.bind(this);this.$AbstractMentionsTextEditor7=this.$AbstractMentionsTextEditor7.bind(this);this.$AbstractMentionsTextEditor8=this.$AbstractMentionsTextEditor8.bind(this);this.$AbstractMentionsTextEditor9=this.$AbstractMentionsTextEditor9.bind(this);this.$AbstractMentionsTextEditor10=this.$AbstractMentionsTextEditor10.bind(this);this.$AbstractMentionsTextEditor11=this.$AbstractMentionsTextEditor11.bind(this);this.state=this.$AbstractMentionsTextEditor12()}n.prototype.componentWillMount=function(){"use strict";this.$AbstractMentionsTextEditor2=true;this.$AbstractMentionsTextEditor1=c("uniqueID")();this.$AbstractMentionsTextEditor3=[]};n.prototype.componentWillUnmount=function(){"use strict";this.$AbstractMentionsTextEditor2=false;this.$AbstractMentionsTextEditor3.forEach(function(o){return c("clearImmediate")(o)});this.$AbstractMentionsTextEditor3=[]};n.prototype.$AbstractMentionsTextEditor12=function(){"use strict";return{highlightedMentionable:null,mentionableEntries:null,characterOffset:0}};n.prototype.shouldComponentUpdate=function(o,p){"use strict";return this.props.editorState!==o.editorState||this.props.placeholder!==o.placeholder||this.props.readOnly!==o.readOnly||this.state.mentionableEntries!==p.mentionableEntries||this.state.highlightedMentionable!==p.highlightedMentionable||this.state.ariaActiveDescendantID!==p.ariaActiveDescendantID};n.prototype.componentDidUpdate=function(o){__p&&__p();var p,q=this;"use strict";var r=this.props.editorState;if(r===o.editorState)return;var s=r.getSelection();if(s.getHasFocus()&&s.isCollapsed()){var t;(function(){t=r.getCurrentContent();var u=q.props.mentionsSource;if(u)q.$AbstractMentionsTextEditor3.push(c("setImmediate")(function(){u.search(t,s,this.__onShowMentions)}.bind(q)))})()}};n.prototype.blur=function(){"use strict";this.refs.abstractTextEditor.blur()};n.prototype.focus=function(){"use strict";this.refs.abstractTextEditor.focus()};n.prototype.$AbstractMentionsTextEditor15=function(){"use strict";var o=this.state.mentionableEntries;if(!o||!o.length)return null;var p=this.props.mentionResultsComponent;return c("React").createElement(p,babelHelpers["extends"]({},this.props.mentionResultsProps,{viewID:this.$AbstractMentionsTextEditor1,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:o||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this.$AbstractMentionsTextEditor10,onMentionHighlight:this.$AbstractMentionsTextEditor9,onMentionRenderHighlight:this.$AbstractMentionsTextEditor14}))};n.prototype.exitCurrentMode=function(){"use strict";this.refs.abstractTextEditor&&this.refs.abstractTextEditor.exitCurrentMode()};n.prototype.render=function(){"use strict";var o=this.state.mentionableEntries,p=!!(o&&o.length),q=this.props.readOnly?null:"-1",r=this.props.role||"combobox",s=this.props.ariaAutoComplete||"list";return c("React").createElement("div",{ref:"container",className:this.props.className,tabIndex:q},c("React").createElement(c("DraftEditor.react"),babelHelpers["extends"]({},this.props,{ref:"abstractTextEditor",role:r,ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:s,ariaControls:this.$AbstractMentionsTextEditor1,ariaExpanded:p,ariaHasPopup:p,editorState:this.props.editorState,onBlur:this.$AbstractMentionsTextEditor8,onChange:this.props.onChange,onFocus:this.$AbstractMentionsTextEditor7,onTab:this.$AbstractMentionsTextEditor6,onEscape:this.$AbstractMentionsTextEditor5,onDownArrow:this.$AbstractMentionsTextEditor4,onUpArrow:this.$AbstractMentionsTextEditor11,handleReturn:this.$AbstractMentionsTextEditor13})),this.$AbstractMentionsTextEditor15())};n.prototype.isShowingMentionables=function(){"use strict";return!!this.state.mentionableEntries};n.defaultProps=babelHelpers["extends"]({},c("DraftEditor.react").defaultProps,{autoHighlight:true,maxResults:k});n.propTypes={mentionsSource:j.object,mentionCreationForContentStateFn:j.func.isRequired,mentionResultsComponent:j.func.isRequired,mentionResultsProps:j.object,excludedEntries:j.object,handleContentReturn:j.func,onAddMention:j.func,onShowMentions:j.func,autoHighlight:j.bool,maxResults:j.number,webDriverTestID:j.string};f.exports=n}),null);
__d("CompositeDraftDecorator",["immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=".";function j(m){this.$CompositeDraftDecorator1=m.slice()}j.prototype.getDecorations=function(m,n){var o=Array(m.getText().length).fill(null);this.$CompositeDraftDecorator1.forEach(function(p,q){var r=0,s=p.strategy,t=function t(u,v){if(k(o,u,v)){l(o,u,v,q+i+r);r++}};s(m,t,n)});return h(o)};j.prototype.getComponentForKey=function(m){var n=parseInt(m.split(i)[0],10);return this.$CompositeDraftDecorator1[n].component};j.prototype.getPropsForKey=function(m){var n=parseInt(m.split(i)[0],10);return this.$CompositeDraftDecorator1[n].props};function k(m,n,o){for(var p=n;p<o;p++)if(m[p]!=null)return false;return true}function l(m,n,o,p){for(var q=n;q<o;q++)m[q]=p}f.exports=j}),null);
__d("cssURL",[],(function a(b,c,d,e,f,g){function h(i){return"url('"+i.replace(/[\ud800-\udfff].|[^-a-zA-Z0-9./_?]/g,function(j){return"\\"+j.codePointAt().toString(16)+" "})+"')"}f.exports=h}),null);
__d("MessengerEmojiSpan.react",["cx","EmojiLikeConstants","MessengerSupportedEmojiUtils","React","cssURL"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.contentState.getEntity(this.props.entityKey),n=m.getData(),o=n.type,p=c("MessengerSupportedEmojiUtils").getUrl(o,c("EmojiLikeConstants").size.SMALL);p=p?p:"";return c("React").createElement("span",{className:"_21wj",style:{backgroundImage:c("cssURL")(p)},"data-offset-key":this.props.offsetKey},c("React").createElement("span",{className:"_21wk"},this.props.children))};function l(){i.apply(this,arguments)}l.propTypes={children:k.arrayOf(k.object),contentState:k.object.isRequired,entityKey:k.string.isRequired,offsetKey:k.string};f.exports=l}),null);
__d("MessengerEmoticonSpan.react",["cx","EmojiLikeConstants","MessengerSupportedEmojiUtils","EmoticonEmojiList","React","cssURL"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.contentState.getEntity(this.props.entityKey),n=m.getData(),o=n.type,p=c("EmoticonEmojiList").emote2emojis[o],q=c("MessengerSupportedEmojiUtils").getUrl(p,c("EmojiLikeConstants").size.XSMALL);q=q?q:"";return c("React").createElement("span",{className:"_21wj",style:{backgroundImage:c("cssURL")(q)},"data-offset-key":this.props.offsetKey},c("React").createElement("span",{className:"_21wk"},this.props.children))};function l(){i.apply(this,arguments)}l.propTypes={children:k.arrayOf(k.object),contentState:k.object.isRequired,entityKey:k.string.isRequired,offsetKey:k.string};f.exports=l}),null);
__d("MessengerMentionSource",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({REPLY:"reply",ATSIGN:"@",TYPEAHEAD:"typeahead"});f.exports=h}),null);
__d("MessengerMentionsEntityDecorator.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"_fy2"},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("createMessengerMentionDraftEntity",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){return i.createEntity("MENTION","SEGMENTED",{mid:j.getUniqueID()})}f.exports=h}),null);
__d("getEntityMatcher",["DraftEntity"],(function a(b,c,d,e,f,g){var h=c("DraftEntity").get;function i(j,k){var l=k||h;return function(m,n){m.findEntityRanges(function(o){var p=o.getEntity();return typeof p==="string"&&j(l(p))},n)}}f.exports=i}),null);
__d("getProfileRangesForContentState",["EmojiFormat","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("emptyFunction").thatReturnsTrue;function i(j,k){__p&&__p();var l=[],m=0;j.getBlockMap().forEach(function(n){__p&&__p();var o=0,p=n.getText();n.findEntityRanges(h,function(q,r){__p&&__p();var s=n.getEntityAt(q);if(s){var t=j.getEntity(s);if(t.getType()==="EMOTICON")o+=t.getData().originalEmoticon.length-1;else if(t.getType()==="EMOJI"){var u=t.getData().type,v=c("EmojiFormat").codeStringToCodeArray(u),w=String.fromCodePoint.apply(String,v);o+=w.length-1}else if(t.getType()==="MENTION"){var x=t.getData().mid,y=q+o+m,z=x===k;if(/^\d+$/.test(x)||z)l.push({id:x,offset:y,length:r-q,type:z?"t":"p"})}}});m+=p.length+o+1});return l}f.exports=i}),null);
__d("getVisibleValueForContentStateWithMessengerEmoji",["EmojiFormat","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.getBlockMap().map(function(k){__p&&__p();var l=k.getText(),m="";k.findEntityRanges(c("emptyFunction").thatReturnsTrue,function(n,o){__p&&__p();var p=k.getEntityAt(n);if(!p)m+=l.slice(n,o);else{var q=i.getEntity(p);if(q.getType()==="EMOTICON")m+=q.getData().originalEmoticon;else if(q.getType()==="EMOJI"){var r=q.getData().type,s=c("EmojiFormat").codeStringToCodeArray(r);m+=String.fromCodePoint.apply(String,s)}else m+=l.slice(n,o)}});return m});return j.join("\n")}f.exports=h}),null);
__d("insertMessengerEmojiIntoContentState",["DraftModifier","EmojiFormat"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k,l){var m=j.createEntity("EMOJI","IMMUTABLE",{type:i}),n=m.getLastCreatedEntityKey();return c("DraftModifier").insertText(j,k,c("EmojiFormat").codeStringToUnicode(i),l,n)}f.exports=h}),null);
__d("handleBeforeInputForMessengerEmoji",["EditorState","MessengerSupportedEmojiUtils","insertMessengerEmojiIntoContentState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=i.getSelection();if(!k.isCollapsed()||!j)return i;var l=c("MessengerSupportedEmojiUtils").getEmojiMatchObj(j);if(!l||!l.is_supported)return i;var m=c("insertMessengerEmojiIntoContentState")(l.emoji_key,i.getCurrentContent(),k,i.getCurrentInlineStyle());return c("EditorState").push(i,m,"insert-characters")}f.exports=h}),null);
__d("applyMessengerEmoticonToContentBlock",["CharacterMetadata","EmoticonEmojiList","immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i="\u3000";function j(k,l,m,n){if(!c("EmoticonEmojiList").names[m])return l;var o=k.createEntity("EMOTICON","IMMUTABLE",{type:c("EmoticonEmojiList").names[m],originalEmoticon:m}),p=o.getLastCreatedEntityKey(),q=l.getText(),r=l.getCharacterList(),s=m.length,t=r.get(n);return l.merge({text:q.slice(0,n)+i+q.slice(n+s),characterList:r.slice(0,n).concat(h.of(c("CharacterMetadata").applyEntity(t,p)),r.slice(n+s))})}f.exports=j}),null);
__d("getTextAfterNearestEntity",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=j;while(k>0&&i.getEntityAt(k-1)===null)k--;return i.getText().slice(k,j)}f.exports=h}),null);
__d("applyMessengerEmoticonToContentState",["EmoticonEmojiList","applyMessengerEmoticonToContentBlock","getTextAfterNearestEntity"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=j.getAnchorKey(),l=j.getAnchorOffset(),m=i.getBlockForKey(k),n=c("getTextAfterNearestEntity")(m,l),o=c("EmoticonEmojiList").regexp.exec(n);if(!o)return i;var p=o[1];if(!p&&l!==n.length)return i;var q=o[2],r=l-n.length,s=r+o.index+o[1].length,t=i.getBlockMap().set(k,c("applyMessengerEmoticonToContentBlock")(i,m,q,s));l-=q.length-1;return i.merge({blockMap:t,selectionBefore:j,selectionAfter:j.merge({anchorOffset:l,focusOffset:l})})}f.exports=h}),null);
__d("handleBeforeInputForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new RegExp(/[\s\'\".,!?]/);function i(j,k){var l=j.getSelection();if(!l.isCollapsed()||!k||!h.test(k))return j;var m=j.getCurrentContent(),n=c("applyMessengerEmoticonToContentState")(m,l);if(n===m)return j;var o=c("DraftModifier").insertText(n,n.getSelectionAfter(),k);return c("EditorState").push(j,o,"insert-characters")}f.exports=i}),null);
__d("handleSoftNewlineForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=i.getCurrentContent(),k=i.getSelection(),l=c("applyMessengerEmoticonToContentState")(j,k),m=c("DraftModifier").splitBlock(l,j===l?k:l.getSelectionAfter());return c("EditorState").push(i,m,"split-block")}f.exports=h}),null);
__d("applyEmoticonToContentBlock",["CharacterMetadata","DraftEntity","EmoticonsList","immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i="\u3000";function j(k,l,m){if(!c("EmoticonsList").emotes[l])return k;var n=c("DraftEntity").create("EMOTICON","IMMUTABLE",{type:c("EmoticonsList").emotes[l],originalEmoticon:l}),o=k.getText(),p=k.getCharacterList(),q=l.length,r=p.get(m);return k.merge({text:o.slice(0,m)+i+o.slice(m+q),characterList:p.slice(0,m).concat(h.of(c("CharacterMetadata").applyEntity(r,n)),p.slice(m+q))})}f.exports=j}),null);
__d("insertEmoticonIntoContentState",["DraftModifier","applyEmoticonToContentBlock"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){var l=c("DraftModifier").replaceText(j,k,i),m=k.getAnchorKey(),n=k.getAnchorOffset(),o=l.getBlockForKey(m),p=l.getBlockMap().set(m,c("applyEmoticonToContentBlock")(o,i,n));n++;return j.merge({blockMap:p,selectionBefore:k,selectionAfter:k.merge({anchorOffset:n,focusOffset:n})})}f.exports=h}),null);
__d("insertEmoticonIntoEditorState",["DraftModifier","EditorState","insertEmoticonIntoContentState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=" ";function i(j,k){__p&&__p();var l=k.getSelection(),m=k.getCurrentContent(),n=l.getStartOffset(),o=l.getEndOffset(),p=m.getBlockForKey(l.getStartKey()).getText(),q=m.getBlockForKey(l.getEndKey()).getText(),r="";if(o<=q.length&&q[o]!==h)r=h;if(n>0&&p[n-1]!==h){m=c("DraftModifier").insertText(m,l,h);l=m.getSelectionAfter()}var s=c("insertEmoticonIntoContentState")(j,m,l);m=c("DraftModifier").insertText(s,s.getSelectionAfter(),r);return c("EditorState").push(k,m,"insert-characters")}f.exports=i}),null);
__d("isSoftNewlineEvent",["Keys"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.which===c("Keys").RETURN&&(i.getModifierState("Shift")||i.getModifierState("Alt")||i.getModifierState("Control"))}f.exports=h}),null);
__d("FantaTypeFileUploader",["immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=Object.freeze({ANIMATED_IMAGE:"animated_image",AUDIO:"audio",FILE:"file",GENERIC_ATTACHMENT:"generic_attachment",IMAGE:"image",VIDEO:"video"}),k={uploadedFiles:c("immutable").Map(),uploadingFiles:c("immutable").Map()};h=babelHelpers.inherits(l,c("immutable").Record(k));i=h&&h.prototype;l.prototype.getTypeIDs=function(m){return this.uploadedFiles.reduce(function(n,o){if(o.type===m&&o.uploadedID)n=n.concat(o.uploadedID);return n},[])};function l(){h.apply(this,arguments)}l.fileTypes=j;f.exports=l}),null);
__d("messengerUploadFilesUtilRe",["bs_array","bs_curry","FantaTypeFileUploader"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i=(h={},h[c("FantaTypeFileUploader").fileTypes.ANIMATED_IMAGE]="gif_ids",h[c("FantaTypeFileUploader").fileTypes.AUDIO]="audio_ids",h[c("FantaTypeFileUploader").fileTypes.FILE]="file_ids",h[c("FantaTypeFileUploader").fileTypes.GENERIC_ATTACHMENT]="generic_attachment_ids",h[c("FantaTypeFileUploader").fileTypes.IMAGE]="image_ids",h[c("FantaTypeFileUploader").fileTypes.VIDEO]="video_ids",h);function j(n,o){if(n==null)return null;else{var p=n.getTypeIDs(o);if(p.length)return p;else return null}}function k(n){__p&&__p();if(n==null)return 0;else{var o=n.get("uploadedFiles"),p=[],q=[],r=[];o.forEach(function(s,t,u){__p&&__p();var v=s.file;if(v.type.startsWith("image/")){p.push(v);return 0}else if(v.type.startsWith("video/")){q.push(v);return 0}else{r.push(v);return 0}});return[[p,q,r]]}}function l(n,o){if(o.length)return c("bs_curry")._1(n,o);else return 0}function m(n,o){__p&&__p();if(n==null)return 0;else if(o==null)return 0;else{var p=k(n);if(p){var q=p[0];c("bs_array").iter(function(r){return l(o,[r])},q[1]);l(o,q[0]);return l(o,q[2])}else return 0}}g.supportAttachments=i;g.getAttachmentIDs=j;g.getAttachments=k;g.sendAttchment=l;g.sendAttchments=m}),null);
__d("ChatInput.react",["AbstractMentionsTextEditor.react","BootloadedComponent.react","Bootloader","CompositeDraftDecorator","ContentState","DraftModifier","EditorState","EmojiFormat","ifRequired","JSResource","MessengerEmojiSpan.react","MessengerEmoticonSpan.react","MessengerMentionsEntityDecorator.react","MessengerMentionSource","messengerUploadFilesUtilRe","React","ReactDOM","cancelAnimationFrame","clearImmediate","createMessengerMentionDraftEntity","createCancelableFunction","debounce","emptyFunction","getDefaultKeyBinding","getEntityMatcher","getProfileRangesForContentState","getThreadTypeNameFromThreadType","getVisibleValueForContentStateWithMessengerEmoji","handleBeforeInputForMessengerEmoji","handleBeforeInputForMessengerEmoticon","handleSoftNewlineForMessengerEmoticon","insertEmoticonIntoEditorState","insertMentionIntoEditorState","insertMessengerEmojiIntoContentState","isSoftNewlineEvent","setImmediate","requestAnimationFrame","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("emptyFunction").thatReturnsNull,l=1,m="handled",n=8,o="not-handled";h=babelHelpers.inherits(p,c("React").Component);i=h&&h.prototype;function p(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=i.constructor).call.apply(r,[this].concat(u)),this.$ChatInput4=c("createCancelableFunction")(function(w,x){var y=w.participants,z=w.viewer,A=w.thread;this.setState({mentionsSource:x(z,y,A,c("gkx")("AT49sw5n0nlIyoqYGYpRJXtOnRzCLqSpsmIoWA7hmyYTaoQcU5JHlDW_AWGZ_laa8hQ933FOWyuLNLlpGxYhTnOb"))})}.bind(this)),this.$ChatInput6=function(){var w=this.$ChatInput8(this.state.editorState.getCurrentContent());this.$ChatInput1=c("setImmediate")(function(){this.$ChatInput1=null;var x=c("EditorState").set(this.state.editorState,{decorator:w});this.setState({editorState:x})}.bind(this))}.bind(this),this.onChange=function(w){if(w!==this.state.editorState){this.setState({editorState:w});this.$ChatInput3(w)}}.bind(this),this.onReturn=function(event,w){__p&&__p();if(c("isSoftNewlineEvent")(event)){var x=c("handleSoftNewlineForMessengerEmoticon");this.setState({editorState:x(w)});return m}event.persist();this.setState({},function(){if(c("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw"))c("messengerUploadFilesUtilRe").sendAttchments(this.props.fileUploader,this.props.uploadPhotoFn);this.props.inputKeyDown(event,this.getValue())}.bind(this));return m}.bind(this),this.getValue=function(){return this.getValueFromEditorState(this.state.editorState)}.bind(this),this.$ChatInput9=function(w,x){this.props.onBeforeInput&&this.props.onBeforeInput();var y=this.$ChatInput10(w,x),z=this.$ChatInput11(w,x);return y||z?m:o}.bind(this),this.$ChatInput13=function(w){return this.$ChatInput12(w)}.bind(this),this.$ChatInput14=function(w,x){return this.$ChatInput12(x)}.bind(this),this.state={editorState:this.$ChatInput7(this.props.defaultText)},this.$ChatInput16=function(){var w=(this.state.addedMentionsCount||0)+1;this.setState({addedMentionsCount:w})}.bind(this),this.$ChatInput18=function(w,x){var y=(this.state.mentionsTriggeredCount||0)+1,z={mentionsTriggeredCount:y};if(!this.state.mentionsTriggerSource)z.mentionsTriggerSource=x===l?c("MessengerMentionSource").ATSIGN:c("MessengerMentionSource").TYPEAHEAD;this.setState(z)}.bind(this),this.$ChatInput17=function(w){if(!this.refs.input.isShowingMentionables())this.props.onEscape&&this.props.onEscape(w)}.bind(this),s}p.prototype.componentDidMount=function(){__p&&__p();this.$ChatInput2=c("ReactDOM").findDOMNode(this).getBoundingClientRect().height;this.props.resizeFn(this.$ChatInput2);this.props.initializeThingsWithInputFn(c("ReactDOM").findDOMNode(this.refs.input),this.getValue);this.setState({triggeredWord:this.props.triggeredWord});var r=this.props.onTextChange;this.$ChatInput3=r?c("debounce")(function(s){r(this.getValueFromEditorState(s),200)}.bind(this),200):c("emptyFunction");c("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],this.$ChatInput4.bind(this,this.props),"ChatInput.react");if(c("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw"))c("Bootloader").loadModules(["FantaMessageActions"],c("emptyFunction"),"ChatInput.react")};p.prototype.componentWillUnmount=function(){if(this.$ChatInput1)c("clearImmediate")(this.$ChatInput1);if(this.$ChatInput5)c("cancelAnimationFrame")(this.$ChatInput5);this.$ChatInput4.cancel();this.$ChatInput5=null};p.prototype.componentWillReceiveProps=function(r){if(this.state.triggeredWord!==r.triggeredWord)this.setState({triggeredWord:r.triggeredWord},this.$ChatInput6);if(!this.props.thread||!r.thread||q(r,this.props))c("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],this.$ChatInput4.bind(this,r),"ChatInput.react")};p.prototype.componentDidUpdate=function(){this.$ChatInput5=c("requestAnimationFrame")(function(){if(!this.$ChatInput5)return;this.$ChatInput5=null;var r=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),s=r.height;if(this.$ChatInput2!==s)this.props.resizeFn(s);this.$ChatInput2=s}.bind(this))};p.prototype.$ChatInput7=function(r){var s=c("ContentState").createFromText(r);return c("EditorState").createWithContent(s,this.$ChatInput8(s))};p.prototype.resetState=function(){if(this.state.typeaheadReporter){this.state.typeaheadReporter.sessionEnd();this.state.typeaheadReporter.sessionStart()}this.setState({editorState:c("EditorState").moveFocusToEnd(this.$ChatInput7("")),triggeredWord:null,addedMentionsCount:0,mentionsTriggeredCount:0,mentionsTriggerSource:null})};p.prototype.resetAfterSend=function(r){var s,t=this,u=this.getMentions();if(r&&(u&&u.length||this.state.addedMentionsCount||this.state.mentionsTriggeredCount||this.state.mentionsTriggerSource))(function(){var v=t.state,w=v.addedMentionsCount,x=v.mentionsTriggeredCount,y=v.mentionsTriggerSource,z=t.props,A=z.thread,B=z.participants;c("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(C,D){new C().setEvent(D.MENTION).setGroupSize(B&&B.length).setNumDelivered(u?u.length:0).setNumSelects(w).setNumTriggers(x).setThreadid(A&&A.thread_id).setThreadType(c("getThreadTypeNameFromThreadType")(A&&A.thread_type)).setOfflineThreadid(r.offline_threading_id).updateExtraData({source:y}).log()},"ChatInput.react")})();this.resetState()};p.prototype.$ChatInput8=function(r){var s=[{strategy:c("getEntityMatcher")(function(t){return t.getType()==="EMOTICON"},r.getEntity),component:c("MessengerEmoticonSpan.react")}];s.push({strategy:c("getEntityMatcher")(function(t){return t.getType()==="EMOJI"},r.getEntity),component:c("MessengerEmojiSpan.react")});s.push({strategy:c("getEntityMatcher")(function(t){return t.getType()==="MENTION"},r.getEntity),component:c("MessengerMentionsEntityDecorator.react")});return new(c("CompositeDraftDecorator"))(s)};p.prototype.getValueFromEditorState=function(r){var s=r.getCurrentContent();return c("getVisibleValueForContentStateWithMessengerEmoji")(s)};p.prototype.getMentions=function(){var r=this.props.thread;return c("getProfileRangesForContentState")(this.state.editorState.getCurrentContent(),r?r.thread_fbid:null)};p.prototype.focus=function(){this.refs.input&&this.refs.input.focus&&this.refs.input.focus()};p.prototype.$ChatInput10=function(r,s){var t=c("handleBeforeInputForMessengerEmoticon")(s,r);if(t===s)return false;this.setState({editorState:t});return true};p.prototype.$ChatInput11=function(r,s){var t=c("handleBeforeInputForMessengerEmoji")(s,r);if(t===s)return false;this.setState({editorState:t});return true};p.prototype.$ChatInput12=function(r){__p&&__p();var s=/^image\//,t=r.filter(function(u){return s.test(u.type)});if(t.length){if(c("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw"))c("ifRequired")("FantaMessageActions",function(u){u.prepareFilesForSend(this.props.threadID,t)}.bind(this),function(){c("Bootloader").loadModules(["FantaMessageActions"],function(u){u.prepareFilesForSend(this.props.threadID,t)}.bind(this),"ChatInput.react")}.bind(this));else this.props.uploadPhotoFn(t[0]);return true}return false};p.prototype.insertEmoticon=function(r){var s=c("insertEmoticonIntoEditorState")(r,this.state.editorState);if(s!==this.state.editorState)this.setState({editorState:s})};p.prototype.insertEmoji=function(r){var s=this.state.editorState,t=c("insertMessengerEmojiIntoContentState")(c("EmojiFormat").codeArrayToCodeString(r),s.getCurrentContent(),s.getSelection(),s.getCurrentInlineStyle()),u=c("EditorState").push(s,t,"insert-characters");if(u!==this.state.editorState)this.setState({editorState:c("EditorState").forceSelection(u,t.getSelectionAfter())})};p.prototype.appendText=function(r){var s=this.state.editorState,t=s.getSelection(),u=s.getCurrentContent();u=c("DraftModifier").insertText(u,t,r);s=c("EditorState").push(s,u,"insert-characters");this.setState({editorState:s})};p.prototype.render=function(){var r=babelHelpers["extends"]({},this.props,this.$ChatInput15());return c("React").createElement(c("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({ref:"input"},r,{editorState:this.state.editorState,onChange:this.onChange,handleBeforeInput:this.$ChatInput9,handlePastedFiles:this.$ChatInput13,handleDroppedFiles:this.$ChatInput14,handleReturn:this.onReturn,spellCheck:true,stripPastedStyles:true,textAlignment:"left"}))};p.prototype.$ChatInput15=function(){return{autoHighlight:true,handleContentReturn:this.onReturn,maxResults:n,mentionResultsProps:{typeaheadView:c("BootloadedComponent.react").create(c("JSResource")("ChatMentionsInputTypeaheadView.react").__setRef("ChatInput.react")),typeaheadViewProps:{},position:"above",autoflip:true},mentionResultsComponent:c("BootloadedComponent.react").create(c("JSResource")("MentionsLayer.react").__setRef("ChatInput.react")),mentionCreationForContentStateFn:c("createMessengerMentionDraftEntity"),mentionsSource:this.state.mentionsSource,onAddMention:this.$ChatInput16,onEscape:this.$ChatInput17,onShowMentions:this.$ChatInput18}};p.prototype.addMention=function(r){var s=c("insertMentionIntoEditorState")(r,this.state.editorState,0,c("createMessengerMentionDraftEntity"));if(!this.state.mentionsTriggerSource)this.setState({mentionsTriggerSource:c("MessengerMentionSource").REPLY});this.onChange(s);this.$ChatInput16()};p.propTypes={blockStyleFn:j.func,fileUploader:j.object,initializeThingsWithInputFn:j.func,inputKeyDown:j.func,keyBindingFn:j.func,onBeforeInput:j.func,onBlur:j.func,onEscape:j.func,onFocus:j.func,onTab:j.func,resizeFn:j.func,thread:j.object,threadID:j.string,viewer:j.string};p.defaultProps={blockStyleFn:k,keyBindingFn:c("getDefaultKeyBinding")};function q(r,s){var t=r.participants,u=s.participants;if(!t||!u)return true;var v=t.filter(Boolean),w=u.filter(Boolean);return v.length!==w.length}f.exports=p}),null);
__d("ChatPhotoUploader.react",["cx","fbt","Promise","Bootloader","ifRequired","InlineBlock.react","Link.react","MercuryConfig","MessengerEnvironment","React","ReactDOM","SubscriptionsHandler","emptyFunction","gkx","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ChatPhotoUploader",_uploader:null,_uploaderPromiseIsResolving:false,_uploaderPromise:null,_subscriptions:null,propTypes:{actionURI:j.string,allowCrossPage:j.bool,customUI:j.bool,disabled:j.bool,imageClassName:j.string,imagesOnly:j.bool,inputClassname:j.string,linkClassName:j.string,threadID:j.string,focusInput:j.func,onSubmit:j.func,onAllUploadsComplete:j.func,onLastUploadFail:j.func,onLastUploadCancel:j.func,onMount:j.func,onUploadError:j.func},getDefaultProps:function l(){return{actionURI:c("MercuryConfig").upload_url,allowCrossPage:true,costomUI:false,disabled:false,imageClassName:"_509w",imagesOnly:true,linkClassName:"",onSubmit:c("emptyFunction"),onAllUploadsComplete:c("emptyFunction"),onLastUploadFail:c("emptyFunction"),onLastUploadCancel:c("emptyFunction")}},shouldComponentUpdate:function l(m){return m.actionURI!=this.props.actionURI||m.disabled!==this.props.disabled},componentDidMount:function l(){if(this.props.onMount)this.props.onMount(this);if(c("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw"))c("MessengerEnvironment").messengerui?c("Bootloader").loadModules(["MessengerActions"],c("emptyFunction"),"ChatPhotoUploader.react"):c("Bootloader").loadModules(["FantaMessageActions"],c("emptyFunction"),"ChatPhotoUploader.react")},componentDidUpdate:function l(m){if(this._uploader)this._uploader.setAllowCrossPage(this.props.allowCrossPage)},componentWillUnmount:function l(){if(!this.isUploading()||!this.props.allowCrossPage)this._cleanup()},render:function l(){var m=this.props.imagesOnly?i._("Add Photos"):i._("Add Files"),n=c("joinClasses")("_4q61"+(!this.props.customUI?" _5f0v":"")+(!this.props.customUI?" _509v":""),this.props.linkClassName),o=c("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw");return c("React").createElement("form",{action:this.props.actionURI,className:"_vzk",title:m,method:"post",onClick:function(p){p.stopPropagation();if(this.props.disabled)p.preventDefault()}.bind(this),ref:"form"},c("React").createElement("input",{type:"hidden",name:"attach_id",ref:"attachID"}),c("React").createElement("input",{type:"hidden",name:"images_only",value:this.props.imagesOnly}),c("React").createElement(c("InlineBlock.react"),{onClick:o?c("emptyFunction"):this._bootloadChatAutoSendPhotoUploader,className:c("joinClasses")(this.props.className,"_m _4q60 _3rzn")},c("React").createElement("input",{disabled:this.props.disabled,type:"file",className:c("joinClasses")(this.props.inputClassname,"_n _2__f"),name:"attachment[]",multiple:"true",accept:this.props.imagesOnly?"image/*":"*",ref:"input",title:m,onChange:o?function(event){this._handleInputOnChange(event,this.props.threadID)}.bind(this):c("emptyFunction")}),c("React").createElement(c("Link.react"),{className:n,tabIndex:-1},c("React").createElement("i",{className:this.props.imageClassName,alt:i._("Camera")}))))},_handleInputOnChange:function l(event,m){c("MessengerEnvironment").messengerui?c("ifRequired")("MessengerActions",function(n){return n.prepareFilesForSend(m,event.target.files)},function(){c("Bootloader").loadModules(["MessengerActions"],function(n){n.prepareFilesForSend(m,event.target.files)},"ChatPhotoUploader.react")}):c("ifRequired")("FantaMessageActions",function(n){return n.prepareFilesForSend(this.props.threadID,event.target.files)}.bind(this),function(){c("Bootloader").loadModules(["FantaMessageActions"],function(n){n.prepareFilesForSend(this.props.threadID,event.target.files)}.bind(this),"ChatPhotoUploader.react")}.bind(this));this.props.focusInput&&this.props.focusInput()},_handleSubmit:function l(m,n){this.props.onSubmit&&this.props.onSubmit(m,n)},_handleAllUploadsCompleted:function l(m,n){this.props.onAllUploadsComplete&&this.props.onAllUploadsComplete(m,n);if(!this.isMounted())this._cleanup()},_handleLastUploadFailed:function l(m,n){this.props.onLastUploadFail&&this.props.onLastUploadFail(m,n);if(!this.isMounted())this._cleanup()},_handleLastUploadCanceled:function l(m,n){this.props.onLastUploadCancel&&this.props.onLastUploadCancel(m,n);if(!this.isMounted())this._cleanup()},_handleUploadError:function l(m,n){this.props.onUploadError&&this.props.onUploadError(n);if(!this.isMounted())this._cleanup()},isUploading:function l(){return this._uploader&&this._uploader.isUploading()||this._uploaderPromiseIsResolving},_bootloadChatAutoSendPhotoUploader:function l(){__p&&__p();if(!this._uploaderPromise){this._uploaderPromiseIsResolving=true;this._uploaderPromise=new(c("Promise"))(function(m){c("Bootloader").loadModules(["ChatAutoSendPhotoUploader"],function(n){this._uploaderPromiseIsResolving=false;var o=new n(c("ReactDOM").findDOMNode(this.refs.form),c("ReactDOM").findDOMNode(this.refs.input),c("ReactDOM").findDOMNode(this.refs.attachID),c("MercuryConfig").msgr_region);o.setAllowCrossPage(this.props.allowCrossPage);var p=new(c("SubscriptionsHandler"))();p.addSubscriptions(o.subscribe("submit",this._handleSubmit),o.subscribe("all-uploads-completed",this._handleAllUploadsCompleted),o.subscribe("last-upload-failed",this._handleLastUploadFailed),o.subscribe("last-upload-canceled",this._handleLastUploadCanceled),o.subscribe("file-upload-error",this._handleUploadError));this._subscriptions=p;this._uploader=o;m(this._uploader)}.bind(this),"ChatPhotoUploader.react")}.bind(this))}return this._uploaderPromise},uploadFiles:function l(m){this._bootloadChatAutoSendPhotoUploader().then(function(n){n.uploadFiles(m)}).done()},uploadURL:function l(m){this._bootloadChatAutoSendPhotoUploader().then(function(n){n.uploadURL(m)}).done()},_cleanup:function l(){this._subscriptions&&this._subscriptions.release();this._uploader&&this._uploader.destroy()}});f.exports=k}),null);
__d("TransactionsFeedConversionLogger",["Banzai","TransactionsFeedConversionLoggerJSConfig"],(function a(b,c,d,e,f,g){f.exports={log:function h(i,j,k){var l={time:Date.now(),type:i,event_id:j,extra_data:k};c("Banzai").post("transactions_feed_conversion_logging",l)},Type:c("TransactionsFeedConversionLoggerJSConfig").type}}),null);
__d("EventsActionsLogger",["Banzai","EventsActionsLoggerJSConfig","TransactionsFeedConversionLogger","LoggerSlogXConfigs"],(function a(b,c,d,e,f,g){f.exports={log:function h(i,j,k){var l=babelHelpers["extends"]({time:Date.now(),event_id:i,extra_data:k},j);c("Banzai").post("events_actions_logging",l);if(j.type===c("EventsActionsLoggerJSConfig").type.CLICK&&j.target===c("EventsActionsLoggerJSConfig").target.BUY_ONSITE_TICKET_BUTTON&&k&&k.transactions_feed_conversion_logging_type===c("TransactionsFeedConversionLogger").Type.EVENT_ONSITE_TICKET_CLICK)c("TransactionsFeedConversionLogger").log(c("TransactionsFeedConversionLogger").Type.EVENT_ONSITE_TICKET_CLICK,i,{})},Type:c("EventsActionsLoggerJSConfig").type,Target:c("EventsActionsLoggerJSConfig").target,Surface:c("EventsActionsLoggerJSConfig").surface,Mechanism:c("EventsActionsLoggerJSConfig").mechanism}}),null);
__d("ChatEventPlanButton.react",["cx","fbt","Bootloader","BootloadOnRender.react","ChatFlyoutPlaceholder.react","EventsActionsLogger","JSResource","LazyComponent.react","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={showFlyout:false},this.$ChatEventPlanButton2=false,this.$ChatEventPlanButton3=function(){__p&&__p();c("Bootloader").loadModules(["EventReminderStateStore","EventReminderRequestHelper","EventReminderActionsLogger"],function(r,s,t){__p&&__p();t.logClickOnEntryPoint();var u=r.getEvent(this.props.threadID);if(!this.$ChatEventPlanButton2)return;if(u&&u.exists){this.$ChatEventPlanButton1=true;if(!this.state.showFlyout)s.fetchEventReminder(this.props.threadID,u.eventID,function(){if(!this.$ChatEventPlanButton2)return;this.setState({showFlyout:true})}.bind(this));else this.setState({showFlyout:false})}else{this.$ChatEventPlanButton1=false;this.setState({showFlyout:!this.state.showFlyout})}}.bind(this),"ChatEventPlanButton.react")}.bind(this),this.onToggle=function(r){if(r!==this.state.showFlyout)this.setState({showFlyout:r})}.bind(this),n}l.prototype.componentDidMount=function(){this.$ChatEventPlanButton2=true};l.prototype.componentWillUnmount=function(){this.$ChatEventPlanButton2=false};l.prototype.render=function(){var m="_6gb _3k_u";return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{className:m,onClick:this.$ChatEventPlanButton3,ref:"event_plan",role:"button",title:i._("Start a plan")},this.$ChatEventPlanButton4()))};l.prototype.$ChatEventPlanButton4=function(){if(!this.state.showFlyout)return null;var m={alignment:"right",position:"above",contextRef:function(){return this.refs.event_plan}.bind(this),shown:this.state.showFlyout,onToggle:this.onToggle},n={action_history:[{surface:c("EventsActionsLogger").Surface.MESSENGER_CHAT_TAB,mechanism:c("EventsActionsLogger").Mechanism.MESSENGER_COMPOSER}]};return c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{actionContext:n,dialogProps:m,flyoutNoSheet:true,isEditing:this.$ChatEventPlanButton1,threadID:this.props.threadID}),loader:c("JSResource")("ChatEventReminderContainer.react").__setRef("ChatEventPlanButton.react"),placeholder:c("React").createElement(c("ChatFlyoutPlaceholder.react"),null)})};f.exports=l}),null);
__d("CustomColorHighlighting.react",["cssVar","csx","cx","React","UserAgent","guid","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n="._fy2",o="._43by",p="._mh6",q=c("UserAgent").isEngine("Gecko")?"._mh6 *::-moz-selection":"._mh6 ::selection",r=c("UserAgent").isEngine("Gecko")?"._43by *::-moz-selection":"._43by ::selection",s=n+n,t=o+o,u=p+q,v=p+p,w=o+r,x="rgba(255, 255, 255, 0.3)";k=babelHelpers.inherits(y,c("React").PureComponent);l=k&&k.prototype;function y(z){l.constructor.call(this,z);this.state={id:"cch_"+c("guid")()}}y.prototype.componentWillMount=function(){this.$CustomColorHighlighting1()};y.prototype.componentWillUnmount=function(){this.$CustomColorHighlighting2();if(this.state.styleTag)document.head.removeChild(this.state.styleTag)};y.prototype.componentWillReceiveProps=function(z){if(this.props.customColor&&!z.customColor)this.$CustomColorHighlighting2();else if(z.customColor!==this.props.customColor)this.$CustomColorHighlighting3(z.customColor)};y.prototype.render=function(){return c("React").createElement("span",{className:c("joinClasses")("_mh6",this.props.className),id:this.state.id},this.props.children)};y.prototype.$CustomColorHighlighting1=function(){var z=document.createElement("style");z.appendChild(document.createTextNode(""));document.head.appendChild(z);this.setState({styleSheet:z.sheet,styleTag:z},function(){return this.$CustomColorHighlighting3(this.props.customColor)}.bind(this))};y.prototype.$CustomColorHighlighting4=function(z,A,B){if(z.insertRule)z.insertRule(A+"{"+B+"}",0);else if(z.addRule)z.addRule(A,B,0)};y.prototype.$CustomColorHighlighting5=function(z){if("removeRule"in z)z.removeRule(0);else if("deleteRule"in z)z.deleteRule(0)};y.prototype.$CustomColorHighlighting2=function(){if(this.state.styleSheet){if(this.state.styleSheet.rules)while(this.state.styleSheet.rules.length)this.$CustomColorHighlighting5(this.state.styleSheet);if(this.state.styleSheet.cssRules)while(this.state.styleSheet.cssRules.length)this.$CustomColorHighlighting5(this.state.styleSheet)}};y.prototype.$CustomColorHighlighting6=function(z){var A=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(z),B=parseInt(A[1],16),C=parseInt(A[2],16),D=parseInt(A[3],16);return"rgba("+B+","+C+","+D+",0.2)"};y.prototype.$CustomColorHighlighting3=function(z){this.$CustomColorHighlighting2();var A=z||this.props.customColor;if(A){var B=this.$CustomColorHighlighting6(A),C="background: "+B;this.$CustomColorHighlighting4(this.state.styleSheet,"#"+this.state.id+u,C);this.$CustomColorHighlighting4(this.state.styleSheet,"#"+this.state.id+" "+s,"color: "+A);this.$CustomColorHighlighting4(this.state.styleSheet,"#"+this.state.id+" "+t,"background-color: "+A);this.$CustomColorHighlighting4(this.state.styleSheet,"#"+this.state.id+v+" "+w,"background-color: "+x)}};y.propTypes={className:m.string,customColor:m.string};f.exports=y}),null);
__d("FantaDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=new j({strict:false})}),null);
__d("FantaMessageActions",["Bootloader","FantaDispatcher","MercuryConfig","ifRequired","keyMirror","emptyFunction","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({CANCEL_FILE_UPLOAD:null,COMPOSER_TEXT_UPDATE:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,PREPARE_FILES_FOR_SEND:null,RECEIVED_NEW_MESSAGE:null,REMOVE_SHARE_PREVIEW:null,SEND_GROUP_MESSAGE:null,SEND_HOT_LIKE:null,SEND_MESSAGE:null,SEND_PHOTO:null,SEND_STICKER:null,UPDATE_GROUP_NAME:null,UPLOAD_FILE_FAILED:null,UPLOADED_FILE:null});function i(){var l=document.createElement("form");l.action=c("MercuryConfig").upload_url;l.method="post";return l}function j(l,m){var n=document.createElement("input");n.type="file";n.name="attachment[]";n.multiple=true;if(m)n.onchange=m;l.appendChild(n);return n}var k={Types:h,prepareFilesForSend:function l(m,n){this.dispatchOrBootloadUploader(function(){c("FantaDispatcher").dispatch({type:h.PREPARE_FILES_FOR_SEND,tabID:m,files:n})})},openUploadFilePicker:function l(m){var n=i(),o=j(n,function(){k.prepareFilesForSend(m,this.files)});o.click()},uploadedFile:function l(m,n,o){this.dispatchOrBootloadUploader(function(){c("FantaDispatcher").dispatch({type:h.UPLOADED_FILE,tabID:m,uploadID:n,payload:o})})},uploadFileFailed:function l(m,n){this.dispatchOrBootloadUploader(function(){c("FantaDispatcher").dispatch({type:h.UPLOAD_FILE_FAILED,tabID:m,uploadID:n})})},cancelFileUpload:function l(m,n){this.dispatchOrBootloadUploader(function(){c("FantaDispatcher").dispatch({type:h.CANCEL_FILE_UPLOAD,tabID:m,uploadID:n})})},linkPreview:function l(m,n){this.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:h.LINK_PREVIEW,tabID:m,uri:n})})},loadedShareData:function l(m,n){this.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:h.LOADED_SHARE_DATA,tabID:m,attachmentData:n})})},loadingShareData:function l(m){this.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:h.LOADING_SHARE_DATA,tabID:m})})},removeSharePreview:function l(m){this.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:h.REMOVE_SHARE_PREVIEW,tabID:m})})},receivedNewMessage:function l(m,n){c("FantaDispatcher").dispatch({type:h.RECEIVED_NEW_MESSAGE,tabID:m,message:n})},updateGroupName:function l(m,n){this.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:h.UPDATE_GROUP_NAME,threadID:m,newName:n})})},sendGroupMessage:function l(m,n){this.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:h.SEND_GROUP_MESSAGE,threadID:m,onSendSuccess:n})})},sendMessage:function l(m,n,o){this.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:h.SEND_MESSAGE,threadID:m,message:n,onSendSuccess:o})})},sendPhoto:function l(m,n,o){this.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:h.SEND_PHOTO,onSendSuccess:o,photoData:n,threadID:m})})},sendHotLike:function l(m,n,o,p,q){this.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:h.SEND_HOT_LIKE,emoji:n,onSendSuccess:q,size:o,source:p,threadID:m})})},sendSticker:function l(m,n,o){this.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:h.SEND_STICKER,threadID:m,stickerID:n,onSendSuccess:o})})},composerTextUpdate:function l(m,n){if(n.length>0)c("ifRequired")("FantaReducersSendMessages",c("emptyFunction"),function(){return this.dispatchOrBootloadSendMessages(c("emptyFunction"))}.bind(this));this.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:h.COMPOSER_TEXT_UPDATE,threadID:m,message:n})})},dispatchOrBootloadSendMessages:function l(m){c("ifRequired")("FantaReducersSendMessages",function(){c("setImmediate")(m)},function(){c("Bootloader").loadModules(["FantaAppStore","FantaReducersSendMessages"],function(n,o){n.addReducers(o);c("setImmediate")(m)},"FantaMessageActions")})},dispatchOrBootloadUploader:function l(m){c("ifRequired")("FantaReducersFileUploader",function(){m()},function(){c("Bootloader").loadModules(["FantaAppStore","FantaReducersFileUploader"],function(n,o){n.addReducers(o);m()},"FantaMessageActions")})},dispatchOrBootloadSharePreview:function l(m){c("ifRequired")("FantaReducersSharePreview",function(){m()},function(){c("Bootloader").loadModules(["FantaAppStore","FantaReducersSharePreview"],function(n,o){n.addReducers(o);m()},"FantaMessageActions")})}};f.exports=k}),null);
__d("MercuryTriodeSourceUtil",["MessengerEnvironment","MercurySourceType"],(function a(b,c,d,e,f,g){"use strict";var h={getMercuryTriodeSource:function i(){return c("MessengerEnvironment").messengerdotcom?c("MercurySourceType").MESSENGER_WEB:c("MercurySourceType").TITAN_WEB}};f.exports=h}),null);
__d("MessengerHotLikeOutlineSVG.react",["cssVar","fbt","CurrentUser","React","MercuryShareAttachmentRenderLocations","uniqueID","UserAgent"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m="transparent",n=i._("Thumbs Up Sign");j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={titleId:c("uniqueID")()},q}o.prototype.render=function(){var p=this.props.color||(c("CurrentUser").isWorkUser()?"#1479fb":"#0084ff"),q=c("UserAgent").isBrowser("Safari")?"0 0 40.16 42.24":"-1 -1 40.16 42.24",r={height:this.props.height||"85%"};if(this.props.location!==c("MercuryShareAttachmentRenderLocations").CHAT&&this.props.location!==c("MercuryShareAttachmentRenderLocations").PAGES_INBOX)r.width="66%";return c("React").createElement("svg",{"aria-labelledby":this.state.titleId,version:"1.1",viewBox:q,preserveAspectRatio:"xMinYMax meet",style:r},c("React").createElement("title",{id:this.state.titleId},n),c("React").createElement("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:m,fillRule:"evenodd",stroke:p,strokeLinecap:"round",strokeWidth:"5%"}))};o.propTypes={color:l.string,height:l.string,location:l.string};f.exports=o}),null);
__d("MessengerHotLikePreviewEvents",["mixInEventEmitter"],(function a(b,c,d,e,f,g){"use strict";var h={START:"start",STOP:"stop",STOP_EMOJI:"stop_emoji",POP:"pop",REMOVE:"remove",FINISH_ANIMATION:"finish_animation",FINISH_EMOJI_ANIMATION:"finish_emoji_animation"};c("mixInEventEmitter")(h,{start:true,stop:true,stop_emoji:true,pop:true,remove:"remove",finish_animation:"finish_animation",finish_emoji_animation:"finish_emoji_animation"});f.exports=h}),null);
__d("StickerAssetType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IMAGE:"BestEffortImage",SPRITE:"SpriteImage",PADDED_SPRITE:"PaddedSpriteImage"})}),null);
__d("XStickerAssetController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:true},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerAssetType","StickerConstants","XStickerAssetController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={SizeTimes:{small:1e3,medium:2e3,large:3e3},getStickerIDForTime:function i(j){var k=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(true){case j<this.SizeTimes.small:k=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case j<this.SizeTimes.medium:k=c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case j<this.SizeTimes.large:k=c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return k},getEmojiSizeForTime:function i(j){var k=c("EmojiLikeConstants").size.SMALL;if(j<this.SizeTimes.small)k=c("EmojiLikeConstants").size.SMALL;else if(j<this.SizeTimes.medium)k=c("EmojiLikeConstants").size.MEDIUM;else if(j<this.SizeTimes.large)k=c("EmojiLikeConstants").size.LARGE;return k},getMetadataForHotLike:function i(j){__p&&__p();var k=void 0;switch(j){case c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:k=120;break;case c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:k=84;break;case c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:k=35;break;case c("EmojiLikeConstants").size.LARGE:k=64;break;case c("EmojiLikeConstants").size.MEDIUM:k=64;break;case c("EmojiLikeConstants").size.SMALL:k=32;break}return k?{height:k,width:k}:undefined},getPreviewURI:function i(){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type",c("StickerAssetType").IMAGE).getURI().toString()},getURIWithID:function i(j){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",j).setEnum("image_type",c("StickerAssetType").IMAGE).getURI().toString()},getCustomEmojiFromThread:function i(j){return j&&j.custom_like_icon}};f.exports=h}),null);
__d("MessengerHotLikeButton.react",["cx","fbt","EmojiLikeConstants","Image.react","ImmutableObject","Keys","KeyStatus","Link.react","MercuryMessageObject","MercuryTriodeSourceUtil","MessengerEnvironment","MessengerHotLikePreviewEvents","MessengerHotLikeOutlineSVG.react","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","React","StickerConstants","clearTimeout","ifRequired","joinClasses","setIntervalAcrossTransitions","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MercuryMessageObject").get(),m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerHotLikeButton1=null,this.$MessengerHotLikeButton2=null,this.$MessengerHotLikeButton3=null,this.$MessengerHotLikeButton4=null,this.$MessengerHotLikeButton6=function(t){__p&&__p();if(this.props.disabled||this.$MessengerHotLikeButton3){t.preventDefault();t.stopPropagation()}if(this.props.disabled||t.button!==0)return;this.props.onMouseDown&&this.props.onMouseDown();this.$MessengerHotLikeButton3=Date.now();this.$MessengerHotLikeButton9();this.$MessengerHotLikeButton10()}.bind(this),this.$MessengerHotLikeButton8=function(){if(!(this.props.threadID&&this.$MessengerHotLikeButton3))return;this.$MessengerHotLikeButton3=0;this.$MessengerHotLikeButton11();this.$MessengerHotLikeButton12()}.bind(this),this.$MessengerHotLikeButton14=function(){if(!this.props.threadID)return;c("MessengerHotLikePreviewEvents").emit(c("MessengerHotLikePreviewEvents").POP,this.props.threadID)}.bind(this),this.$MessengerHotLikeButton7=function(){if(this.$MessengerHotLikeButton3){this.$MessengerHotLikeButton3=0;this.$MessengerHotLikeButton11();this.$MessengerHotLikeButton14()}}.bind(this),this.$MessengerHotLikeButton5=function(t){t.stopPropagation();if(this.props.disabled)return;if(c("KeyStatus").getKeyDownCode()===c("Keys").RETURN||!this.props.threadID){var u=this.props.sendCustomLike;if(this.props.customLike&&u)u(this.props.customLike,c("MessengerHotLikeUtils").getEmojiSizeForTime(1));else this.props.sendSticker(c("MessengerHotLikeUtils").getStickerIDForTime(1))}}.bind(this),p}n.prototype.componentDidMount=function(){this.$MessengerHotLikeButton4=c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(o,p,q){if(o===this.props.threadID)if(q&&this.props.customLike&&this.props.sendCustomLike)this.props.sendCustomLike(this.props.customLike,q,c("EmojiLikeConstants").source.HOT_LIKE);else this.props.sendSticker(p)}.bind(this))};n.prototype.componentWillUnmount=function(){this.$MessengerHotLikeButton4&&this.$MessengerHotLikeButton4.remove()};n.prototype.render=function(){__p&&__p();var o=null,p={};if(this.props.customLike&&this.props.customLike.emoji){var q=this.props.customLike.emoji,r=c("MessengerSupportedEmojiUtils").getNewEmojiData(q,c("EmojiLikeConstants").size.SMALL),s=this.props.renderSize?this.props.renderSize:16;p.background="none";o=c("React").createElement(c("Image.react"),{src:r&&r.url,style:{padding:s==16?0:3,display:"block",height:s,width:s}})}else if(this.props.CustomRenderer){var t=this.props.CustomRenderer;o=c("React").createElement(t,{color:this.props.customColor,location:this.props.location,renderSize:this.props.renderSize})}else if(this.props.customColor)o=c("React").createElement(c("MessengerHotLikeOutlineSVG.react"),{color:this.props.customColor,location:this.props.location});var u=i._("Send a Like");return c("React").createElement(c("Link.react"),{"aria-label":u,className:c("joinClasses")(this.props.customColor||this.props.CustomRenderer?"_5j_u":"",this.props.className),disabled:this.props.disabled,href:"#",onClick:this.$MessengerHotLikeButton5,onDragStart:function v(w){return w.preventDefault()},onMouseDown:this.$MessengerHotLikeButton6,onMouseLeave:this.$MessengerHotLikeButton7,onMouseUp:this.$MessengerHotLikeButton8,role:"button",style:p,title:u},o)};n.prototype.$MessengerHotLikeButton9=function(){if(!this.props.threadID)return;c("MessengerHotLikePreviewEvents").emit(c("MessengerHotLikePreviewEvents").START,this.$MessengerHotLikeButton13(),this.props.threadID)};n.prototype.$MessengerHotLikeButton12=function(){__p&&__p();if(!this.props.threadID)return;if(!c("MessengerEnvironment").messengerui)c("ifRequired")("MessengerHotLikePreview.react",function(){c("MessengerHotLikePreviewEvents").emit(c("MessengerHotLikePreviewEvents").STOP,this.props.threadID)}.bind(this),function(){if(this.$MessengerHotLikeButton1!==null)return;this.$MessengerHotLikeButton1=c("setIntervalAcrossTransitions")(function(){c("ifRequired")("MessengerHotLikePreview.react",function(){if(this.$MessengerHotLikeButton1!==null){clearInterval(this.$MessengerHotLikeButton1);this.$MessengerHotLikeButton1=null}c("MessengerHotLikePreviewEvents").emit(c("MessengerHotLikePreviewEvents").STOP,this.props.threadID)}.bind(this))}.bind(this),100)}.bind(this));else c("MessengerHotLikePreviewEvents").emit(c("MessengerHotLikePreviewEvents").STOP,this.props.threadID)};n.prototype.$MessengerHotLikeButton13=function(){__p&&__p();var o=this.props.threadID;if(!o)return null;var p=l.constructStickerMessageObject(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,c("MercuryTriodeSourceUtil").getMercuryTriodeSource(),o);l.normalizeNewMessage(p);p.is_like_preview=true;p.like_preview_since=this.$MessengerHotLikeButton3;p.customLike=this.props.customLike&&this.props.customLike.emoji?this.props.customLike:null;p.body="";return new(c("ImmutableObject"))(p)};n.prototype.$MessengerHotLikeButton10=function(){this.$MessengerHotLikeButton11();this.$MessengerHotLikeButton2=c("setTimeoutAcrossTransitions")(this.$MessengerHotLikeButton14,c("MessengerHotLikeUtils").SizeTimes.large)};n.prototype.$MessengerHotLikeButton11=function(){c("clearTimeout")(this.$MessengerHotLikeButton2)};n.propTypes={CustomRenderer:m.func,onMouseDown:m.func,customLike:m.object,customColor:m.string,location:m.string,sendSticker:m.func.isRequired,sendCustomLike:m.func,threadID:m.string,disabled:m.bool,renderSize:m.number};f.exports=n}),null);
__d("MessengerHotLikeChatSVGIcon.react",["cssVar","fbt","React","gkx","uniqueID"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("gkx")("AT5ZvVwuqKWcfrio0AdnNomF7UAfIh6xykST_qUQlvhzlEwa0D-O1yjSaPSHOODgL1U"),m=c("React").PropTypes,n="transparent",o=i._("Thumbs Up Sign");j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={titleId:c("uniqueID")()},r}p.prototype.render=function(){var q=this.props.color||"#0084ff",r=this.props.renderSize,s=r?{height:r.toString(),width:r.toString()}:undefined,t=l?{fill:n,stroke:q,opacity:.2}:{fill:q,opacity:.2},u="bounds_"+this.state.titleId;return l?c("React").createElement("svg",babelHelpers["extends"]({width:"32px",height:"31px","aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},s),c("React").createElement("title",{id:this.state.titleId},o),c("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c("React").createElement("rect",{id:u,fill:n,width:"32",height:"32"}),c("React").createElement("g",{style:t},c("React").createElement("path",{d:"M670.93,460a0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.17,467,668,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41c1.34-1,3.07-.23,4,2.6a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66c1.77,0,6.77,0,6.77,0,2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2A2,2,0,0,1,670.93,460Zm-20.13-7h-5.6a0.2,0.2,0,0,0-.2.2v15.6a0.2,0.2,0,0,0,.2.2h5.6a0.2,0.2,0,0,0,.2-0.2V453.2A0.2,0.2,0,0,0,650.8,453Z",transform:"translate(-643 -439)"})),c("React").createElement("g",{transform:"translate(1.000000, 0.000000)"},c("React").createElement("path",{d:"M7.195,29.2559 L0.804,29.2559 C0.362,29.2559 0,28.8939 0,28.4509 L0,13.0609 C0,12.6179 0.362,12.2559 0.804,12.2559 L7.195,12.2559 C7.637,12.2559 8,12.6179 8,13.0609 L8,28.4509 C8,28.8939 7.637,29.2559 7.195,29.2559 Z",id:"Stroke-172",stroke:q,strokeWidth:"2"}),c("React").createElement("path",{d:"M15.9694,0 L15.9694,0 C14.6414,0 13.5214,0.568 13.0414,1.097 L12.4654,1.732 L12.5184,2.63 L12.8154,6.635 C12.8204,6.692 12.8074,6.749 12.7804,6.8 L9.5534,12.791 L8.1544,13.443 L6.9994,13.982 L6.9994,15.256 L6.9994,25.256 L6.9994,27.256 L8.5914,27.256 C8.7024,27.35 8.8354,27.47 8.9364,27.562 C9.1404,27.747 9.3424,27.928 9.5324,28.078 C10.4784,28.825 11.8634,29.174 12.8444,29.25 L12.9214,29.256 L12.9994,29.256 L23.3374,29.256 C25.3594,29.256 26.7824,28.521 27.5704,27.072 C28.0124,26.258 28.1384,25.438 28.0904,24.695 C28.9084,24.168 29.5624,23.33 29.7984,22.148 C29.9184,21.549 29.8984,20.985 29.7854,20.474 C30.4514,19.814 30.9374,18.865 30.9374,17.581 C30.9374,16.549 30.6654,15.739 30.2574,15.123 C30.4314,14.637 30.5364,14.081 30.5364,13.459 C30.5364,10.906 28.4954,9.256 25.3374,9.256 L21.0124,9.256 C21.1474,8.379 21.2494,7.521 21.2494,6.931 C21.2494,4.646 20.4484,1.775 18.2014,0.569 C17.4974,0.191 16.7464,0 15.9694,0 M15.9694,2 C16.3574,2 16.7974,2.085 17.2564,2.332 C18.6054,3.056 19.2494,5.021 19.2494,6.931 C19.2494,7.863 18.8974,9.829 18.7254,10.731 C18.6784,10.978 18.8684,11.256 19.1184,11.256 L25.3374,11.256 C26.2704,11.256 28.5364,11.456 28.5364,13.459 C28.5364,14.979 27.5584,15.534 27.5584,15.534 C27.5584,15.534 28.9374,15.673 28.9374,17.581 C28.9374,19.489 27.0854,19.682 27.0854,19.682 C27.0854,19.682 28.0924,20.481 27.8374,21.756 C27.5284,23.3 26.0264,23.391 25.6764,23.391 C25.6294,23.391 25.6044,23.389 25.6044,23.389 C25.6044,23.389 26.5714,24.723 25.8124,26.118 C25.5674,26.57 25.0414,27.256 23.3374,27.256 L12.9994,27.256 C12.2824,27.2 11.3154,26.937 10.7734,26.51 C10.1994,26.056 9.5134,25.256 8.9994,25.256 L8.9994,15.256 L10.6304,14.494 C10.8704,14.383 11.0674,14.197 11.1934,13.965 L14.5404,7.748 C14.7494,7.362 14.8424,6.924 14.8104,6.486 L14.5124,2.482 C14.5114,2.465 14.5114,2.453 14.5234,2.44 C14.5964,2.359 15.1744,2 15.9694,2",id:"Fill-174",fill:q})))):c("React").createElement("svg",babelHelpers["extends"]({"aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},s),c("React").createElement("title",{id:this.state.titleId},o),c("React").createElement("g",null,c("React").createElement("rect",{id:u,fill:n,width:"32",height:"32"}),c("React").createElement("g",{style:t},c("React").createElement("path",{d:"M670.93,460a0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.17,467,668,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41c1.34-1,3.07-.23,4,2.6a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66c1.77,0,6.77,0,6.77,0,2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2A2,2,0,0,1,670.93,460Zm-20.13-7h-5.6a0.2,0.2,0,0,0-.2.2v15.6a0.2,0.2,0,0,0,.2.2h5.6a0.2,0.2,0,0,0,.2-0.2V453.2A0.2,0.2,0,0,0,650.8,453Z",transform:"translate(-643 -439)"})),c("React").createElement("g",{style:t},c("React").createElement("rect",{x:"2",y:"14",width:"6",height:"16",rx:"0.2",ry:"0.2"})),c("React").createElement("path",{fill:q,d:"M650.8,453a0.2,0.2,0,0,1,.2.2v15.6a0.2,0.2,0,0,1-.2.2h-5.6a0.2,0.2,0,0,1-.2-0.2V453.2a0.2,0.2,0,0,1,.2-0.2h5.6m0-2h-5.6a2.2,2.2,0,0,0-2.2,2.2v15.6a2.2,2.2,0,0,0,2.2,2.2h5.6a2.2,2.2,0,0,0,2.2-2.2V453.2a2.2,2.2,0,0,0-2.2-2.2h0Z",transform:"translate(-643 -439)"}),c("React").createElement("path",{fill:q,"data-name":"stroke",d:"M658.83,441c1.06,0,2.16,1,2.83,3a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66h1.18l5.59,0c2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2,2,2,0,0,1-2.07,1.91,0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.24,467,668.07,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41,2,2,0,0,1,1.17-.41m0-2h0a4,4,0,0,0-2.36.8,2.45,2.45,0,0,0-1,2.23l0.39,3.67h0v0.05l-1.41,5.32a3.64,3.64,0,0,1-.47.69l-2.19,1.59L651,454v11.15l0.36,0.52A7.58,7.58,0,0,0,658,469h10.07c3.25,0,4.95-1.21,5-3.59a4.54,4.54,0,0,0-.05-0.93,3.59,3.59,0,0,0,1.14-2.71,3.77,3.77,0,0,0-.18-1.15,3.85,3.85,0,0,0,1-2.57,4,4,0,0,0-.82-2.55,4.38,4.38,0,0,0,.31-2.25c-0.2-1.59-1.18-4.25-5.53-4.25l-5,0a12.65,12.65,0,0,0-.35-5.63c-0.91-2.75-2.67-4.38-4.73-4.38h0Z",transform:"translate(-643 -439)"})))};p.propTypes={color:m.string,location:m.string,renderSize:m.number};f.exports=p}),null);
__d("XMessagingQuickCamController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/quick-cam/",{thread_id:{type:"String",required:true},__asyncDialog:{type:"Int"}})}),null);
__d("MessengerQuickCamButton.react",["fbt","AsyncRequest","BootloadOnRender.react","ChatConfig","JSResource","LazyComponent.react","Link.react","React","XMessagingQuickCamController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l="seen_cam_button_nux";i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={nuxOpen:false,nuxShown:!!c("ChatConfig").get(l)},this.$MessengerQuickCamButton2=function(){this.setState({nuxShown:true,nuxOpen:false},function(){return this.$MessengerQuickCamButton3()}.bind(this))}.bind(this),this.$MessengerQuickCamButton1=function(){if(!this.state.nuxShown)this.setState({nuxOpen:true});else this.$MessengerQuickCamButton3()}.bind(this),o}m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{className:this.props.className,onClick:this.$MessengerQuickCamButton1,ref:"photoButton",role:"button",title:h._("Take a picture using quick cam")}),c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("MessagingShowNUX.react").__setRef("MessengerQuickCamButton.react"),component:c("React").createElement(c("LazyComponent.react"),{contextRef:function(){return this.refs.photoButton}.bind(this),settingName:l,shown:this.state.nuxOpen,onHidden:this.$MessengerQuickCamButton2,ref:"camNUX"},h._("Send photos from your computer's camera.")),placeholder:c("React").createElement("span",null)}))};m.prototype.$MessengerQuickCamButton3=function(){var n=c("XMessagingQuickCamController").getURIBuilder().setString("thread_id",this.props.threadID).getURI();new(c("AsyncRequest"))().setMethod("GET").setURI(n).setRelativeTo(this).setReadOnly(true).send()};m.propTypes={className:k.string.isRequired,threadID:k.string.isRequired};f.exports=m}),null);
__d("MessengerQuickCamOrigins",[],(function a(b,c,d,e,f,g){"use strict";var h={CHAT_TAB:"chat tab",MESSENGER:"messenger",getValues:function i(){return[h.CHAT_TAB,h.MESSENGER]}};f.exports=h}),null);
__d("P2PAbstractSendMoneyButton.react",["cx","fbt","React","TooltipLink.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$P2PAbstractSendMoneyButton1=false,this.$P2PAbstractSendMoneyButton3=function(){this.props.onMouseDown&&this.props.onMouseDown();this.$P2PAbstractSendMoneyButton1=this.props.isActive}.bind(this),this.$P2PAbstractSendMoneyButton2=function(r){r.stopPropagation();if(this.$P2PAbstractSendMoneyButton1){this.$P2PAbstractSendMoneyButton1=false;return}this.props.onClick()}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("TooltipLink.react"),{alignH:"center",className:c("joinClasses")(this.props.className,(this.props.isActive?"open":"")+(this.props.isDisabled?" disabled":"")+(this.props.isActive?" _10gz":"")+(this.props.isDisabled?" _10g-":"")+(!this.props.isMessenger&&!this.props.className?" _5uqy":"")+(this.props.isMessenger?" _3ggc":"")),href:"#",onClick:this.$P2PAbstractSendMoneyButton2,onMouseDown:this.$P2PAbstractSendMoneyButton3,onMouseOver:this.props.onMouseOver,position:"above",role:"button",title:this.$P2PAbstractSendMoneyButton4()},this.getButton())};l.prototype.getButton=function(){if(this.props.button)return this.props.button;return c("React").createElement("i",{className:"_5s8l"})};l.prototype.$P2PAbstractSendMoneyButton4=function(){if(this.props.isDisabled)return null;return i._("Send Money")};f.exports=l}),null);
__d("WebMessengerThreadPermalinks",["MercuryIDs","MessagingTag","MessengerURIConstants","URI","WWWBase","requireWeak"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getThreadURI:function j(k,l,m){var n="";if(c("MercuryIDs").isCanonical(k))n=c("MercuryIDs").tokenize(k).value;else c("requireWeak")("MercuryThreadIDMap",function(p){n=p.get().getServerIDFromClientIDNow(k)});var o=h.getThreadURIFromServerID(n||"",m);l&&l(o)},getThreadURIFromServerID:function j(k,l){__p&&__p();var m=new(c("URI"))(c("WWWBase").uri),n=c("MessengerURIConstants").FACEBOOK_PREFIX;if(l)switch(l){case c("MessagingTag").OTHER:n+="/filtered";break;case c("MessagingTag").PENDING:n+="/requests";break;case c("MessagingTag").INBOX:break;default:n+="/"+l;break}m.setPath(n+c("MessengerURIConstants").THREAD_PREFIX+k);return m.toString()},getThreadURIFromUserID:function j(k,l){var m=new(c("URI"))(c("WWWBase").uri),n=c("MessengerURIConstants").FACEBOOK_PREFIX;m.setPath(i(n,l)+"/t/"+k);return m.toString()}};function i(j,k){if(k&&k!=c("MessagingTag").INBOX)j+="/"+k;return j}f.exports=h}),null);
__d("FantaTabActions",["Bootloader","FantaDispatcher","MessengerURIConstants","URI","WebMessengerThreadPermalinks","goURI","ifRequired","gkx","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({BLUR_TAB:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HOVERED_TAB:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SHOW_UNSEEN_MESSAGES:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null});function i(l){var m=l?new(c("URI"))(c("WebMessengerThreadPermalinks").getThreadURIFromServerID(l)):new(c("URI"))(c("MessengerURIConstants").COMPOSE_SUBPATH);c("ifRequired")("BusinessURI.brands",function(n){return c("goURI")(n(m))},function(){return c("goURI")(m)})}function j(l,m){if(c("gkx")("AT5ScswYLx0QkbjiBbItMkI3oVZ6FHkc26D44aZlz5WlFY1daXnEu8ucCvEMWLRvmXHHKlERR0tywelmI-Pgawhs"))setTimeout(function(){k.openTabEventually(l,m)},100);else i(l)}var k={Types:h,openTab:function l(m,n){c("ifRequired")("FantaTabsEagerBootloader",function(o){return o.bootload()});this.dispatchOrBootloadGetMessages(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:m,entryPoint:n});c("ifRequired")("FantaTabsReactApp",function(o){this._tryLoadSlimApp(m,n)}.bind(this),function(){this._tryLoadSlimApp(m,n,function(){return i(m)})}.bind(this))}.bind(this))},openTabEventually:function l(m,n){this.dispatchOrBootloadGetMessages(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:m,entryPoint:n});c("ifRequired")("FantaTabsReactApp",function(o){this._tryLoadSlimApp(m,n)}.bind(this),function(){this._tryLoadSlimApp(m,n,function(){return j(m,n)})}.bind(this))}.bind(this))},openInterstitialTab:function l(m,n,o){this.dispatchOrBootloadGetMessages(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:m,interstitialData:n,entryPoint:o});c("ifRequired")("FantaTabsReactApp",function(p){this._tryLoadSlimAppWithInterstitialData(m,n,o)}.bind(this),function(){this._tryLoadSlimAppWithInterstitialData(m,n,o)}.bind(this))}.bind(this))},_tryLoadSlimApp:function l(m,n,i){c("ifRequired")("FantaTabsSlimApp",function(o){c("ifRequired")("FantaAppStore",function(){},function(){o.getPumpedUp(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:m,entryPoint:n})})})},function(){return i&&i(m)})},_tryLoadSlimAppWithInterstitialData:function l(m,n,o){c("ifRequired")("FantaTabsSlimApp",function(p){c("ifRequired")("FantaAppStore",function(){},function(){p.getPumpedUp(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:m,interstitialData:n,entryPoint:o})})})})},replaceTab:function l(m,n){c("FantaDispatcher").dispatch({type:h.REPLACE_TAB,tabID:m,newTabID:n})},minimizeTab:function l(m){c("FantaDispatcher").dispatch({type:h.MINIMIZE_TAB,tabID:m})},minimizeAllTabs:function l(){c("FantaDispatcher").dispatch({type:h.MINIMIZE_ALL_TABS})},unminimizeTab:function l(m){c("FantaDispatcher").dispatch({type:h.UNMINIMIZE_TAB,tabID:m})},closeTab:function l(m){c("FantaDispatcher").dispatch({type:h.CLOSE_TAB,tabID:m})},closeAllTabs:function l(){c("FantaDispatcher").dispatch({type:h.CLOSE_ALL_TABS})},closeAndTabNext:function l(m){c("FantaDispatcher").dispatch({type:h.CLOSE_AND_TAB_NEXT,tabID:m})},deleteTab:function l(m){c("FantaDispatcher").dispatch({type:h.DELETE_TAB,tabID:m})},focusTab:function l(m){c("FantaDispatcher").dispatch({type:h.FOCUS_TAB,tabID:m})},blurTab:function l(m){c("FantaDispatcher").dispatch({type:h.BLUR_TAB,tabID:m})},hoveredTab:function l(m){c("FantaDispatcher").dispatch({type:h.HOVERED_TAB,tabID:m})},unhoveredTab:function l(m){c("FantaDispatcher").dispatch({type:h.UNHOVERED_TAB,tabID:m})},setAllowedRaisedTabs:function l(m){c("FantaDispatcher").dispatch({type:h.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:m})},loadFromData:function l(m){this.dispatchOrBootloadGetMessages(function(){if(m)c("FantaDispatcher").dispatch({type:h.LOAD_FROM_DATA,tabData:m})})},focusNextTab:function l(event){c("FantaDispatcher").dispatch({type:h.FOCUS_NEXT_TAB,event:event})},focusPreviousTab:function l(event){c("FantaDispatcher").dispatch({type:h.FOCUS_PREVIOUS_TAB,event:event})},scrollBottomChanged:function l(m,n,o){c("FantaDispatcher").dispatch({type:h.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:n,tabID:m,showUnseenMessages:o})},showUnseenMessages:function l(m){c("FantaDispatcher").dispatch({type:h.SHOW_UNSEEN_MESSAGES,tabID:m})},dispatchOrBootloadGetMessages:function l(m){c("ifRequired")("FantaReducersGetMessages",function(){m()},function(){c("ifRequired")("FantaAppStore",function(n){c("Bootloader").loadModules(["FantaReducersGetMessages"],function(o){n.addReducers(o);m()},"FantaTabActions")},function(){m()})})}};f.exports=k}),null);
__d("P2PActionConstants",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({CREDIT_CARDS_UPDATED:"credit_cards_updated",CREDIT_CARDS_UPDATED_ERROR:"credit_cards_updated_error",CHANNEL_EVENTS_ALLOWED:"channel_events_allowed",CHANNEL_EVENTS_IGNORED:"channel_events_ignored",CREDIT_CARD_SAVING:"credit_card_saving",CREDIT_CARD_ADDED:"credit_card_added",CREDIT_CARD_ADDED_ERROR:"credit_card_added_error",CREDIT_CARD_ADDED_ERROR_CLEARED:"credit_card_added_error_cleared",CREDIT_CARD_DELETED:"credit_card_deleted",CREDIT_CARD_DELETED_ERROR:"credit_card_deleted_error",CREDIT_CARD_UPDATED:"credit_card_updated",CREDIT_CARD_UPDATED_ERROR:"credit_card_updated_error",PRESET_CREDIT_CARD_UPDATED:"preset_credit_card_updated",PRESET_CREDIT_CARD_UPDATED_ERROR:"preset_credit_card_updated_error",CREDIT_CARD_VERIFIED:"credit_card_verified",CREDIT_CARD_VERIFIED_ERROR:"credit_card_verified_error",PAYMENT_METHODS_UPDATED:"payment_methods_updated",PAYMENT_METHODS_UPDATED_ERROR:"payment_methods_updated_error",TRANSFERS_UPDATED:"transfers_updated",TRANSFERS_UPDATED_ERROR:"transfers_updated_error",NUX_TRANSFERS_UPDATED:"nux_transfers_updated",TRANSFER_ADDED:"transfer_added",TRANSFER_ADDED_ERROR:"transfer_added_error",TRANSFER_UPDATED:"transfer_updated",TRANSFER_UPDATED_ERROR:"transfer_updated_error",TRANSFER_ACCEPTED:"transfer_accepted",TRANSFER_DECLINED:"transfer_declined",CHAT_SEND_VIEW_OPENED:"chat_send_view_opened",CHAT_SEND_VIEW_CLOSED:"chat_send_view_closed",BIN_NUMBER_VALIDATED:"bin_number_validated",BIN_NUMBER_VALIDATED_ERROR:"bin_number_validated_error",USER_ELIGIBILITY_UDPATED:"user_eligibility_updated",FRIENDS_LIST_UPDATED:"friends_list_updated",DIALOG_SHOWN:"dialog_shown",DIALOG_CLOSED:"dialog_closed",BANNER_STATES_UPDATED:"banner_states_updated",BANNER_DISMISSED:"banner_dismissed",BANNER_VIEWED:"banner_viewed",BANNER_COMPLETED:"banner_completed",MONEYPENNY_TRANSFER_CREATED:"moneypenny_transfer_created",MONEYPENNY_TRANSFER_CREATED_ERROR:"moneypenny_transfer_created_error",PLATFORM_CONTEXT_ADDED:"platform_context_added",PLATFORM_CONTEXT_ADDED_ERROR:"platform_context_added_error",PLATFORM_CONTEXT_SAVE_ERRORS_CLEARED:"platform_context_save_errors_cleared",PLATFORM_CONTEXT_BANNER_DISMISSED:"platform_context_banner_dismissed",PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD:"platform_context_product_item_sold",PLATFORM_CONTEXT_CHANGED:"platform_context_changed",EXTENSIVE_TRANSFER_DETAILS_UPDATED:"extensive_transfer_details_updated",ADDRESS_SAVING:"address_saving",ADDRESSES_UPDATED:"addresses_updated",ADDRESS_ADDED:"address_added",ADDRESS_ADDED_ERROR:"address_added_error",ADDRESS_ADDED_ERROR_CLEARED:"address_added_error_cleared",CHECKOUT_CART_INITIATED:"checkout_cart_initiated",CHECKOUT_CART_CREATED:"checkout_cart_created",CHECKOUT_SHIPPING_OPTION_SELECTED:"checkout_shipping_option_selected",CHECKOUT_ADDRESS_SELECTED:"checkout_address_selected",CHECKOUT_CREDIT_CARD_SELECTED:"checkout_credit_card_selected",CHECKOUT_ADDRESS_FORM_TOGGLED:"checkout_address_form_toggled",CHECKOUT_CREDIT_CARD_FORM_TOGGLED:"checkout_credit_card_form_toggled",CHECKOUT_ADDRESS_EDIT_OPTIONS_TOGGLED:"checkout_address_options_toggled",CHECKOUT_CREDIT_CARD_EDIT_OPTIONS_TOGGLED:"checkout_credit_card_edit_options_toggled",CHECKOUT_PAYMENT_METHOD_EDIT_OPTIONS_TOGGLED:"checkout_payment_edit_options_toggled",CHECKOUT_PAYMENT_METHOD_SELECTED:"checkout_payment_method_selected",CHECKOUT_PAYMENT_METHOD_CONFIGURED:"checkout_payment_method_configured",CHECKOUT_PAYMENT_METHOD_CONFIRMED:"checkout_payment_method_confirmed",CHECKOUT_ADDRESS_FORM_VALIDATED:"checkout_address_form_validated",CHECKOUT_CREDIT_CARD_FORM_VALIDATED:"checkout_credit_card_form_validated",CHECKOUT_EDIT_COMPLETED:"checkout_completed",CHECKOUT_PROCESSING:"checkout_processing",CHECKOUT_BUYER_PROFILE_UPDATED:"checkout_buyer_profile_updated",CHECKOUT_MANUAL_PAYMENT_RECEIPT_UPDATED:"checkout_manual_payment_receipt_updated",PAYMENT_REQUEST_INITIATED:"payment_request_initiated",PAYMENT_REQUEST_INITIATED_COMPLETE:"payment_request_initiated_completed",PAYMENT_REQUEST_CREATED:"payment_request_created",PAYMENT_REQUEST_CREATED_ERROR:"payment_request_created_error",PAYMENT_REQUEST_UPDATED:"payment_request_updated",PAYMENT_REQUEST_DECLINE_INITIATED:"payment_request_decline_initiated",PAYMENT_REQUEST_DECLINED:"payment_request_declined",PAYMENT_REQUEST_DECLINE_ERROR:"payment_request_decline_error",PAYMENT_REQUESTS_FETCHED:"payment_requests_fetched",PAYMENT_REQUEST_CANCEL_INITIATED:"payment_request_cancel_initiated",PAYMENT_REQUEST_CANCELED:"payment_request_canceled",PAYMENT_REQUEST_CANCEL_ERROR:"payment_request_cancel_error"});f.exports=h}),null);
__d("P2PDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:false})}),null);
__d("P2PActions",["ChatOpenTab","ChatOpenTabEventLogger","FantaTabActions","P2PActionConstants","P2PDispatcher","MercuryShareAttachmentRenderLocations","ifRequired"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={updateCreditCards:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARDS_UPDATED,data:j})},updateCreditCardsError:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARDS_UPDATED_ERROR})},updatePaymentMethods:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_METHODS_UPDATED,data:j})},updatePaymentMethodsError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_METHODS_UPDATED_ERROR,data:j})},ignoreCreditCardChannelEvents:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHANNEL_EVENTS_IGNORED})},allowCreditCardChannelEvents:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHANNEL_EVENTS_ALLOWED})},creditCardSaving:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_SAVING})},addCreditCard:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_ADDED,data:j})},addCreditCardError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_ADDED_ERROR,data:j})},addCreditCardErrorCleared:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_ADDED_ERROR_CLEARED})},updatePresetCreditCard:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PRESET_CREDIT_CARD_UPDATED,data:j})},updatePresetCreditCardError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PRESET_CREDIT_CARD_UPDATED_ERROR,data:j})},updateCreditCard:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_UPDATED,data:j})},updateCreditCardError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_UPDATED_ERROR,data:j})},deleteCreditCard:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_DELETED,data:j})},deleteCreditCardError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_DELETED_ERROR,data:j})},verifyCreditCard:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_VERIFIED,data:j})},verifyCreditCardError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CREDIT_CARD_VERIFIED_ERROR,data:j})},updateTransfers:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").TRANSFERS_UPDATED,data:j})},updateTransfersError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").TRANSFERS_UPDATED_ERROR,data:j})},updateNUXTransfers:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").NUX_TRANSFERS_UPDATED,data:j})},transferAdded:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").TRANSFER_ADDED,data:j})},transferAddedError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").TRANSFER_ADDED_ERROR,data:j})},transferUpdated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").TRANSFER_UPDATED,data:j})},transferUpdatedError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").TRANSFER_UPDATED_ERROR,data:j})},transferAccepted:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").TRANSFER_ACCEPTED})},transferDeclined:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").TRANSFER_DECLINED,data:j})},chatSendViewOpened:function i(j){__p&&__p();function k(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHAT_SEND_VIEW_OPENED,data:j})}if(c("ChatOpenTab").canOpenTab()){c("FantaTabActions").openTab(j.threadID);c("ChatOpenTabEventLogger").logAutoOpen("p2pAction",j.threadID);k()}else{c("ifRequired")("MessengerActions",function(l){return l.selectThread(j.threadID)});k()}},chatSendViewClosed:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHAT_SEND_VIEW_CLOSED,data:j})},binNumberValidated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").BIN_NUMBER_VALIDATED,data:j})},binNumberValidatedError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").BIN_NUMBER_VALIDATED_ERROR,data:j})},friendsListUpdated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").FRIENDS_LIST_UPDATED,data:j})},userEligibilityUpdated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").USER_ELIGIBILITY_UDPATED,data:j})},showDialog:function i(j,k){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").DIALOG_SHOWN,data:{dialogClass:j,dialogProps:k}})},hideDialog:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").DIALOG_CLOSED})},bannerStatesUpdated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").BANNER_STATES_UPDATED,data:j})},bannerDismissed:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").BANNER_DISMISSED,data:j})},bannerCompleted:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").BANNER_COMPLETED,data:j})},moneypennyTransferCreated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").MONEYPENNY_TRANSFER_CREATED,data:j})},moneypennyTransferCreatedError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").MONEYPENNY_TRANSFER_CREATED_ERROR,data:j})},addPlatformContext:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PLATFORM_CONTEXT_ADDED,data:j})},addPlatformContextError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PLATFORM_CONTEXT_ADDED_ERROR,data:j})},clearPlatformContextSaveErrors:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PLATFORM_CONTEXT_SAVE_ERRORS_CLEARED,data:j})},platformContextBannerDismissed:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PLATFORM_CONTEXT_BANNER_DISMISSED,data:j})},platformContextProductItemSold:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD,data:j})},platformContextChanged:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PLATFORM_CONTEXT_CHANGED,data:j})},extensiveTransferDetailsLoaded:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").EXTENSIVE_TRANSFER_DETAILS_UPDATED,data:j})},updateAddresses:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").ADDRESSES_UPDATED,data:j})},addressSaving:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").ADDRESS_SAVING})},addAddress:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").ADDRESS_ADDED,data:j})},addAddressError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").ADDRESS_ADDED_ERROR,data:j})},addAddressErrorCleared:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").ADDRESS_ADDED_ERROR_CLEARED})},checkoutCartInitiated:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_CART_INITIATED})},checkoutCartCreated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_CART_CREATED,data:j})},checkoutShippingOptionSelected:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_SHIPPING_OPTION_SELECTED,data:j})},checkoutAddressSelected:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_ADDRESS_SELECTED,data:j})},checkoutCreditCardSelected:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_CREDIT_CARD_SELECTED,data:j})},checkoutAddressFormToggled:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_ADDRESS_FORM_TOGGLED,data:j})},checkoutCreditCardFormToggled:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_CREDIT_CARD_FORM_TOGGLED,data:j})},checkoutAddressEditOptionsToggled:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_ADDRESS_EDIT_OPTIONS_TOGGLED,data:j})},checkoutCreditCardEditOptionsToggled:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_CREDIT_CARD_EDIT_OPTIONS_TOGGLED,data:j})},checkoutPaymentMethodEditOptionsToggled:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_EDIT_OPTIONS_TOGGLED,data:j})},checkoutPaymentMethodSelected:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_SELECTED,data:j})},checkoutPaymentMethodConfigured:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_CONFIGURED,data:j})},checkoutPaymentMethodConfirmed:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_CONFIRMED,data:j})},checkoutCreditCardFormValidated:function i(j,k){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_CREDIT_CARD_FORM_VALIDATED,data:{isValid:j,formData:k}})},checkoutAddressFormValidated:function i(j,k){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_ADDRESS_FORM_VALIDATED,data:{isValid:j,formData:k}})},checkoutEditCompleted:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_EDIT_COMPLETED})},checkoutProcessing:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_PROCESSING,data:j})},checkoutBuyerProfileUpdated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_BUYER_PROFILE_UPDATED,data:j})},checkoutManualPaymentReceiptUpdated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").CHECKOUT_MANUAL_PAYMENT_RECEIPT_UPDATED,data:j})},paymentRequestInitiated:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_INITIATED})},paymentRequestInitiatedComplete:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_INITIATED_COMPLETE})},paymentRequestCreated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_CREATED,data:j})},paymentRequestCreatedError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_CREATED_ERROR,data:j})},paymentRequestUpdated:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_UPDATED,data:j})},paymentRequestDeclineInitiated:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_DECLINE_INITIATED})},paymentRequestDeclined:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_DECLINED,data:j})},paymentRequestDeclineError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_DECLINE_ERROR,data:j})},paymentRequestCancelInitiated:function i(){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_CANCEL_INITIATED})},paymentRequestCanceled:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_CANCELED,data:j})},paymentRequestCancelError:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUEST_CANCEL_ERROR,data:j})},paymentRequestsFetched:function i(j){c("P2PDispatcher").dispatch({type:c("P2PActionConstants").PAYMENT_REQUESTS_FETCHED,data:j})}};f.exports=h}),null);
__d("P2PLoadingMask.react",["cx","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.visible)return null;return c("React").createElement("div",{className:"_3de"},c("React").createElement(c("XUISpinner.react"),{background:"dark",size:"large",className:"_3df"}),c("React").createElement("div",{className:"_3dg"}))};function l(){i.apply(this,arguments)}l.propTypes={visible:k.bool};l.defaultProps={visible:false};f.exports=l}),null);
__d("P2PLogger",["BanzaiLogger"],(function a(b,c,d,e,f,g){"use strict";var h="P2PPaymentLoggerConfig",i={log:function j(k,l){l=babelHelpers["extends"]({event:k},l);c("BanzaiLogger").log(h,l)}};f.exports=i}),null);
__d("P2PPaymentLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTN_ADD_CREDIT_CARD:"Actn_AddCreditCard",ACTN_UPDATE_CREDIT_CARD:"Actn_UpdateCreditCard",ACTN_REMOVE_CREDIT_CARD:"Actn_RemoveCreditCard",ACTN_UNLOCK_CREDIT_CARD:"Actn_UnlockCreditCard",ACTN_VALIDATE_CARD:"Actn_ValidateCard",ACTN_ADD_PAYPAL:"Actn_AddPayPal",ACTN_TRANSFER_MONEY:"Actn_TransferMoney",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN:"Actn_TransferMoneyWithCampaign",ACTN_REQUEST_MONEY_WITH_CAMPAIGN_NOT_QUALIFIED:"Actn_RequestMoneyWithCampaignNotQualified",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_NOT_QUALIFIED:"Actn_TransferMoneyWithCampaignNotQualified",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_PARENT_CALL:"Actn_TransferMoneyWithCampaignParentCall",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_POST_SUCCESS:"Actn_TransferMoneyWithCampaignPostSuccess",ACTN_TRANSFER_MONEY_CHECK_NEEDS_REVERT:"Actn_TransferMoneyCheckNeedsRevert",ACTN_TRANSFER_MONEY_REVERT:"Actn_TransferMoneyRevert",ACTN_TRANSFER_MONEY_CREATE_CONTEXT:"Actn_TransferMoneyCreateContext",ACTN_TRANSFER_MONEY_CREATE_PLATFORM_ITEM:"Actn_TransferMoneyCreatePlatformItem",ACTN_ACCEPT_MONEY:"Actn_AcceptMoney",ACTN_DECLINE_MONEY:"Actn_DeclineMoney",ACTN_SET_PRIMARY:"Actn_SetPrimary",ACTN_WITHDRAW_MONEY:"Actn_WithdrawMoney",ACTN_CANCEL_TRANSFER:"Actn_CancelTransfer",ACTN_SET_PHYSICAL_ADDRESS:"Actn_SetPhysicalAddress",ACTN_CREATE_MSGR_COMMERCE_CART:"Actn_CreateMsgrCommerceCart",ACTN_PLACE_MSGR_COMMERCE_ORDER:"Actn_PlaceMsgrCommerceOrder",ACTN_PLATFORM_SET_SHIPPING_ADDRESS:"Actn_PlatformSetShippingAddress",ACTN_PLATFORM_BANNER_IMPRESSION:"Actn_PlatformBannerImpression",ACTN_PLATFORM_BANNER_DISMISSAL:"Actn_PlatformBannerDismissal",ACTN_PLATFORM_CARD_IMPRESSION:"Actn_PlatformCardImpression",ACTN_PLATFORM_CARD_DISMISSAL:"Actn_PlatformCardDismissal",ACTN_SEND_TRANSFER_MESSAGE:"Actn_SendTransferMessage",ACTN_POST_TRANSFER_STEPS:"Actn_PostTransferSteps",ACTN_SEND_SENDER_EMAIL:"Actn_SendSenderEmail",ACTN_SEND_EXPIRE_NOTIFICATIONS:"Actn_SendExpireNotifications",ACTN_SEND_PUSH_FAIL_NOTIFS:"Actn_SendPushFailNotis",ACTN_UNCATEGORIZED_EXCEPTION:"Actn_Uncategorized_Exception",ACTN_INCREASE_CAMPAIGN_COUNTER:"Actn_Increase_Campaign_Counter",ACTN_CREATE_PAYMENT_REQUEST:"Actn_CreatePaymentRequest",ACTN_CREATE_GROUP_PAYMENT_REQUEST:"Actn_CreateGroupPaymentRequest",ACTN_REMIND_PAYMENT_REQUEST:"Actn_RemindPaymentRequest",ACTN_PAY_PAYMENT_REQUEST:"Actn_PayPaymentRequest",ACTN_DECLINE_PAYMENT_REQUEST:"Actn_DeclinePaymentRequest",ACTN_CANCEL_PAYMENT_REQUEST:"Actn_CancelPaymentRequest",ACTN_EXPIRE_PAYMENT_REQUEST:"Actn_ExpirePaymentRequest",ACTN_SEND_PAYMENT_REQUEST_MESSAGE:"Actn_SendPaymentRequestMessage",ACTN_AUTH_FOR_SENDER_REVIEW:"Actn_AuthForSenderReview",ACTN_FINISH_HUMAN_REVIEW:"Actn_FinishHumanReview",ACTN_COMPLETE_SENDER_REVIEW:"Actn_CompleteSenderReview",ACTN_COMPLETE_RECEIVER_REVIEW:"Actn_CompleteReceiverReview",ACTN_SUBMIT_VERIFICATION_STEP:"Actn_SubmitVerificationStep",ACTN_COMPLETE_SENDER_VERIFICATION:"Actn_CompleteSenderVerification",ACTN_COMPLETE_RECEIVER_VERIFICATION:"Actn_CancelReceiverVerification",ACTN_CANCEL_SENDER_VERIFICATION:"Actn_CancelSenderVerification",ACTN_CANCEL_RECEIVER_VERIFICATION:"Actn_CancelReceiverVerification",ACTN_CANCEL_SENDER_RISK:"Actn_CancelSenderRisk",ACTN_CANCEL_EXPIRE:"Actn_CancelExpire",ACTN_CANCEL_FOR_SAME_CARD:"Actn_CancelForSameCard",ACTN_CANCEL_BY_CUSTOMER_SERVICE:"Actn_CancelByCustomerService",ACTN_CANCEL_RECEIVER_REVIEW:"Actn_CancelReceiverReview",ACTN_CANCEL_SENDER_REVIEW:"Actn_CancelSenderReview",ACTN_CANCEL_ALL_PENDING_TRANSFERS:"Actn_CancelAllPendingTransfers",ACTN_FILTER_LOGMESSAGE:"Actn_FilterLogMessage",ACTN_FILTER_NOTIFICATION:"Actn_FilterNotification",ACTN_SEND_NOTIFICATION:"Actn_SendNotification",ACTN_ADD_PIN:"Actn_AddPIN",ACTN_UPDATE_PIN:"Actn_UpdatePIN",ACTN_REMOVE_PIN:"Actn_RemovePIN",ACTN_RESET_PIN:"Actn_ResetPIN",ACTN_VALIDATE_PIN:"Actn_ValidatePIN",ACTN_UPDATE_PASSWORD_SETTINGS:"Actn_UpdatePasswordSettings",ACTN_ENABLE_TOUCH_ID:"Actn_EnableTouchID",ACTN_VERIFY_TOUCH_ID:"Actn_VerifyTouchID",ACTN_DISABLE_TOUCH_ID:"Actn_DisableTouchID",ACTN_CHANNEL_NOTIF_CARD_EVENT:"Actn_ChannelNotifCardEvent",ACTN_CHANNEL_NOTIF_TRANSFER_STATUS_EVENT:"Actn_ChannelNotifTransferStatusEvent",ACTN_CHANNEL_NOTIF_PLATFORM_EVENT:"Actn_ChannelNotifPlatformEvent",ACTN_CHANNEL_NOTIF_PAYMENT_REQUEST_STATUS_EVENT:"Actn_ChannelNotifPaymentRequestStatusEvent",ACTN_PLATFORM_BANNER_DISMISSED:"Actn_PlatformBannerDismissed",ACTN_PLATFORM_BANNER_MARK_AS_SOLD:"Actn_PlatformBannerMarkAsSold",ACTN_ADD_ADDRESS:"Actn_AddAddress",ACTN_GET_ADDRESSES:"Actn_GetAddresses",ACTN_ADD_EMAIL:"Actn_AddEmail",ACTN_UPDATE_EMAIL:"Actn_UpdateEmail",ACTN_SET_PRIMARY_EMAIL:"Actn_SetPrimaryEmail",ACTN_REMOVE_EMAIL:"Actn_RemoveEmail",ACTN_ADD_PHONE:"Actn_AddPhone",ACTN_UPDATE_PHONE:"Actn_UpdatePhone",ACTN_SET_PRIMARY_PHONE:"Actn_SetPrimaryPhone",ACTN_REMOVE_PHONE:"Actn_RemovePhone",ACTN_GET_CURRENT_USER_PROFILE_DATA:"Actn_GetCurrentUserProfileData",ACTN_DO_FRAUD_CHECK:"Actn_DoFraudCheck",ACTN_PEOPLE_SEARCH_SEND_MONEY_BUTTON_CLICKED:"Actn_PeopleSearchSendMoneyButtonClicked",ACTN_CAMPAIGN_CHECK_USER_HAS_NEW_ACTIVITY:"Actn_CampaignCheckUserHasNewActivity",ACTN_CAMPAIGN_SAVE_PROMO_NOTIFICATION_TIME:"Actn_CampaignSavePromoNotificationTime",ACTN_CAMPAIGN_SEND_INCENTIVE_ADMIN_MESSAGE:"Actn_CampaignSendIncentiveAdminMessage",ACTN_FETCH_SEND_PHASE_STEPS:"Actn_FetchSendPhaseSteps",ACTN_FETCH_RECEIVE_NOTIFICATION_PHASE_STEPS:"Actn_FetchReceiveNotificationPhaseSteps",ACTN_FETCH_RECEIVE_BUBBLE_PHASE_STEPS:"Actn_FetchReceiveBubblePhaseSteps",ACTN_START_IDV_FLOW:"Actn_StartIDVFlow",ACTN_START_PROCESS_IDV_PHOTO:"Actn_StartProcessIDVPhoto",ACTN_GET_PHOTO_ID_VERIFICATION_RESP:"Actn_GetPhotoIDVerificationResp",ACTN_GET_PHOTO_ID_GBG_EXCEPTION:"Actn_GetPhotoIDGBGException",ERROR_NON_STANDARD_CHAR:"ErrorNonStandardChar",UI_ACTN_SEND_MONEY_BUTTON_CLICKED:"UI_Actn_Send_Money_Button_Clicked",UI_ACTN_SEND_MONEY_BUTTON_PLACEHOLDER_CLICKED:"UI_Actn_Send_Money_Button_Placeholder_Clicked",UI_ACTN_SEND_MONEY_OMNIM_SUGGESTION_CLICKED:"UI_Actn_Send_Money_OmniM_Suggestion_Clicked",UI_ACTN_INITIATE_SEND:"UI_Actn_Initiate_Send",UI_ACTN_P2P_SENDER_DISABLED_SHOWN:"UI_Actn_P2P_Sender_Disabled_Shown",UI_ACTN_P2P_RECIPIENT_INELIGIBLE_SHOWN:"UI_Actn_P2P_Recipient_Ineligible_Shown",UI_ACTN_CANCEL_SEND:"UI_Actn_Send_Money_Cancelled",UI_ACTN_INITIATE_ADD_CARD:"UI_Actn_Initiate_Add_Card",UI_ACTN_INITIATE_CHOOSE_CARD:"UI_Actn_Initiate_Choose_Card",UI_ACTN_CANCEL_ADD_CARD:"UI_Actn_Cancel_Add_Card",UI_ACTN_CONFIRM_CARD_DETAILS:"UI_Actn_Confirm_Card_Details",UI_ACTN_ACCEPT_MONEY_CANCEL:"UI_Actn_Accept_Money_Cancel",UI_ACTN_ACCEPT_WITH_CARD:"UI_Actn_Accept_With_Card",UI_ACTN_ADD_CARD_SUCCESS:"UI_Actn_Add_Card_Success",UI_ACTN_ADD_CARD_FAIL:"UI_Actn_Add_Card_Fail",UI_ACTN_CONFIRM_SEND:"UI_Actn_Confirm_Send",UI_ACTN_SEND_SUCCESS:"UI_Actn_Send_Success",UI_ACTN_SEND_MONEY_CANCELLED:"UI_Actn_Send_Money_Cancelled",UI_ACTN_SEND_FAIL:"UI_Actn_Send_Fail",UI_ACTN_INITIATE_EDIT_CARD:"UI_Actn_Initiate_Edit_Card",UI_ACTN_CANCEL_EDIT_CARD:"UI_Actn_Cancel_Edit_Card",UI_ACTN_CONFIRM_EDIT_CARD_DETAILS:"UI_Actn_Confirm_Edit_Card_Details",UI_ACTN_EDIT_CARD_SUCCESS:"UI_Actn_Edit_Card_Success",UI_ACTN_EDIT_CARD_FAIL:"UI_Actn_Edit_Card_Fail",UI_ACTN_INITIATE_REMOVE_CARD:"UI_Actn_Initiate_Remove_Card",UI_ACTN_CONFIRM_REMOVE_CARD:"UI_Actn_Confirm_Remove_Card",UI_ACTN_REMOVE_CARD_SUCCESS:"UI_Actn_Remove_Card_Success",UI_ACTN_REMOVE_CARD_FAIL:"UI_Actn_Remove_Card_Fail",UI_ACTN_INITIATE_PASSWORD_PROTECTION_NUX:"UI_Actn_Initiate_Password_Protection_NUX",UI_ACTN_OPT_IN_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_In_Password_Protection_NUX",UI_ACTN_OPT_OUT_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_Out_Password_Protection_NUX",UI_ACTN_ENABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Enabled_Password_Protection_Setting",UI_ACTN_DISABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Disabled_Password_Protection_Setting",UI_ACTN_SEND_CLICKED:"UI_Actn_Send_Clicked",UI_ACTN_VERIFY_CSC:"UI_Actn_Verify_CSC",UI_ACTN_CONFIRM_AMOUNT:"UI_Actn_Confirm_Amount",UI_ACTN_EDIT_CARD:"UI_Actn_Edit_Card",UI_ACTN_CHANGE_CARD:"UI_Actn_Change_Card",UI_ACTN_INITIATE_SEND_TRIGGER:"UI_Actn_Initiate_Send_Trigger",UI_ACTN_INITIATE_GROUP_SEND:"UI_Actn_Initiate_Group_Send",UI_ACTN_GROUP_SEND_CANCELLED:"UI_Actn_Group_Send_Cancelled",UI_ACTN_INITIATE_GROUP_SEND_TRIGGER:"UI_Actn_Initiate_Group_Send_Trigger",UI_ACTN_GROUP_SEND_RECIPIENT_PICKED:"UI_Actn_Group_Send_Recipient_Picked",UI_ACTN_3RD_PARTY_RECEIPT_SHOWN:"UI_Actn_3rd_Party_Receipt_Shown",UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED:"UI_Actn_3rd_Party_Receipt_Dismissed",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CLICKED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Clicked",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CANCELLED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Cancelled",UI_ACTN_CHAT_THREAD_BANNER_CLICKED:"UI_Actn_Chat_Thread_Banner_Clicked",UI_ACTN_CHAT_THREAD_BANNER_VIEWED:"UI_Actn_Chat_Thread_Banner_Viewed",UI_ACTN_CHAT_THREAD_BANNER_DISMISSED:"UI_Actn_Chat_Thread_Banner_Dismissed",UI_ACTN_INITIATE_MONEYPENNY_ORDER:"UI_Actn_Initiate_Moneypenny_Order",UI_ACTN_CONFIRM_MONEYPENNY_ORDER:"UI_Actn_Confirm_Moneypenny_Order",UI_ACTN_MONEYPENNY_ORDER_FAIL:"UI_Actn_Moneypenny_Order_Fail",UI_ACTN_MONEYPENNY_ORDER_SUCCESS:"UI_Actn_Moneypenny_Order_Success",UI_ACTN_MONEYPENNY_ORDER_CANCEL:"UI_Actn_Moneypenny_Order_Cancel",UI_ACTN_FRIEND_PICKER_SEARCH:"UI_Actn_Friend_Picker_Search",UI_ACTN_FRIEND_PICKER_SELECT:"UI_Actn_Friend_Picker_Select",UI_ACTN_FRIEND_PICKER_SHOWN:"UI_Actn_Friend_Picker_Shown",UI_ACTN_FI_CANCEL:"UI_Actn_FI_Cancel",UI_ACTN_FI_SUCCESS_DIALOG_NEXT:"UI_Action_Success_Dialog_Next",UI_ACTN_FI_BANNER_DISMISSED:"UI_Actn_FI_Banner_Dismissed",UI_ACTN_FI_BANNER_IMPRESSION:"UI_Actn_FI_Banner_Impression",UI_ACTN_INCENTIVE_TRANSFER_SUCCESS:"UI_Actn_Incentive_Transfer_Success",UI_ACTN_INCENTIVE_TRANSFER_FAILURE:"UI_Actn_Incentive_Transfer_Failure",UI_ACTN_PLATFORM_BANNER_SELLER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Seller_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_BUYER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Buyer_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_SOLD_CLICKED:"UI_Actn_Platform_Banner_Sold_Clicked",UI_ACTN_PLATFORM_BANNER_IMAGE_CLICKED:"UI_Actn_Platform_Banner_Image_Clicked",UI_ACTN_PLATFORM_BANNER_TITLE_CLICKED:"UI_Actn_Platform_Banner_Title_Clicked",UI_ACTN_PLATFORM_BANNER_PAY_CLICKED:"UI_Actn_Platform_Banner_Pay_Clicked",UI_ACTN_PLATFORM_BANNER_REQUEST_CLICKED:"UI_Actn_Platform_Banner_Request_Clicked",UI_ACTN_PLATFORM_BANNER_SELLER_VIEWED:"UI_Actn_Platform_Banner_Seller_Viewed",UI_ACTN_PLATFORM_BANNER_BUYER_VIEWED:"UI_Actn_Platform_Banner_Buyer_Viewed",UI_ACTN_PLATFORM_BANNER_PAY_NUX_SHOWN:"UI_Actn_Platform_Banner_Pay_Nux_Shown",UI_ACTN_INITIATE_REQUEST:"UI_Actn_Initiate_Request",UI_ACTN_REQUEST_CLICKED:"UI_Actn_Request_Clicked",UI_ACTN_CONFIRM_REQUEST:"UI_Actn_Confirm_Request",UI_ACTN_REQUEST_SUCCESS:"UI_Actn_Request_Success",UI_ACTN_REQUEST_FAIL:"UI_Actn_Request_Fail",UI_ACTN_INITIATE_DECLINE_REQUEST:"UI_Actn_Initiate_Decline_Request",UI_ACTN_CONFIRM_DECLINE_REQUEST:"UI_Actn_Confirm_Decline_Request",UI_ACTN_DECLINE_REQUEST_FAIL:"UI_Actn_Decline_Request_Fail",UI_ACTN_DECLINE_REQUEST_SUCCESS:"UI_Actn_Decline_Request_Success",UI_ACTN_INITIATE_CANCEL_REQUEST:"UI_Actn_Initiate_Cancel_Request",UI_ACTN_CONFIRM_CANCEL_REQUEST:"UI_Actn_Confirm_Cancel_Request",UI_ACTN_CANCEL_REQUEST_FAIL:"UI_Actn_Cancel_Request_Fail",UI_ACTN_CANCEL_REQUEST_SUCCESS:"UI_Actn_Cancel_Request_Success",UI_ACTN_INITIATE_CHECKOUT:"UI_Actn_Initiate_Checkout",UI_ACTN_CHECKOUT_CONFIRM:"UI_Actn_Checkout_Confirm",UI_ACTN_INITIATE_ADD_ADDRESS:"UI_Actn_Initiate_Add_Address",UI_ACTN_CANCEL_ADD_ADDRESS:"UI_Actn_Cancel_Add_Address",UI_ACTN_INITIATE_CHOOSE_ADDRESS:"UI_Actn_Initiate_Choose_Address",UI_ACTN_CONFIRM_ADDRESS_DETAILS:"UI_Actn_Confirm_Address_Details",UI_ACTN_ADD_ADDRESS_SUCCESS:"UI_Actn_Add_Address_Success",UI_ACTN_ADD_ADDRESS_FAIL:"UI_Actn_Add_Address_Fail",UI_ACTN_CHECKOUT_FAIL:"UI_Actn_Checkout_Fail",UI_ACTN_CHECKOUT_CART_CREATION_FAIL:"UI_Actn_Checkout_Cart_Creation_Fail",UI_ACTN_CHECKOUT_CANCEL:"UI_Actn_Checkout_Cancel",UI_ACTN_CHECKOUT_SUCCESS:"UI_Actn_Checkout_Success",UI_ACTN_CHECKOUT_CART_CREATION_SUCCESS:"UI_Actn_Checkout_Cart_Creation_Success",UI_ACTN_SEND_MONEY_PAGE_VIEWED:"UI_Actn_Send_Money_Page_Viewed",UI_ACTN_ACCEPT_MONEY_NUX_SHOWN:"UI_Actn_Accept_Money_NUX_Shown",UI_ACTN_ACCEPT_MONEY_NUX_NEXT_CLICK:"UI_Actn_Accept_Money_NUX_Next_Click",UI_ACTN_SEND_MONEY_NUX_SHOWN:"UI_Actn_Send_Money_NUX_Shown",UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK:"UI_Actn_Send_Money_NUX_Next_Click",UI_ACTN_GET_CREDIT_CARDS_EXCEPTION:"UI_ACTN_GET_CREDIT_CARDS_EXCEPTION",UI_ACTN_CREATE_TRANSFER_EXCEPTION:"UI_ACTN_CREATE_TRANSFER_EXCEPTION",UI_ACTN_ADD_CARD_EXCEPTION:"UI_ACTN_ADD_CARD_EXCEPTION",UI_ACTN_GET_TRANSFERS_EXCEPTION:"UI_ACTN_GET_TRANSFERS_EXCEPTION",UI_ACTN_GET_EXTENSIVE_TRANSFERS_EXCEPTION:"UI_ACTN_GET_EXTENSIVE_TRANSFERS_EXCEPTION",UI_ACTN_GET_NUX_TRANSFERS_EXCEPTION:"UI_ACTN_GET_NUX_TRANSFERS_EXCEPTION",UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION:"UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION",UI_ACTN_UPDATE_CARD_EXCEPTION:"UI_ACTN_UPDATE_CARD_EXCEPTION",UI_ACTN_DELETE_CARD_EXCEPTION:"UI_ACTN_DELETE_CARD_EXCEPTION",UI_ACTN_GET_PASSWORD_PROTECTION_EXCEPTION:"UI_ACTN_GET_PASSWORD_PROTECTION_EXCEPTION",UI_ACTN_SET_PASSWORD_PROTECTION_EXCEPTION:"UI_ACTN_SET_PASSWORD_PROTECTION_EXCEPTION",UI_ACTN_DECLINE_TRANSFER_EXCEPTION:"UI_ACTN_DECLINE_TRANSFER_EXCEPTION",UI_ACTN_CANCEL_TRANSFER_EXCEPTION:"UI_ACTN_CANCEL_TRANSFER_EXCEPTION",UI_ACTN_VERIFY_CARD_EXCEPTION:"UI_ACTN_VERIFY_CARD_EXCEPTION",UI_ACTN_VALIDATE_BIN_EXCEPTION:"UI_ACTN_VALIDATE_BIN_EXCEPTION",UI_ACTN_GET_ELIGIBILITY_EXCEPTION:"UI_ACTN_GET_ELIGIBILITY_EXCEPTION",UI_ACTN_GET_FRIEND_LIST_EXCEPTION:"UI_ACTN_GET_FRIEND_LIST_EXCEPTION",UI_ACTN_GET_BANNER_STATES_EXCEPTION:"UI_ACTN_GET_BANNER_STATES_EXCEPTION",UI_ACTN_INCREMENT_BANNER_VIEW_EXCEPTION:"UI_ACTN_INCREMENT_BANNER_VIEW_EXCEPTION",UI_ACTN_INCREMENT_BANNER_DISMISSAL_EXCEPTION:"UI_ACTN_INCREMENT_BANNER_DISMISSAL_EXCEPTION",UI_ACTN_CREATE_M_TRANSFER_EXCEPTION:"UI_ACTN_CREATE_M_TRANSFER_EXCEPTION",UI_ACTN_CREATE_FI_TRANSER_EXCEPTION:"UI_ACTN_CREATE_FI_TRANSER_EXCEPTION",UI_ACTN_GET_PLATFORM_CONTEXT_EXCEPTION:"UI_ACTN_GET_PLATFORM_CONTEXT_EXCEPTION",UI_ACTN_DISMISS_PLATFORM_CONTEXT_EXCEPTION:"UI_ACTN_DISMISS_PLATFORM_CONTEXT_EXCEPTION",UI_ACTN_MARK_SOLD_CONTEXT_EXCEPTION:"UI_ACTN_MARK_SOLD_CONTEXT_EXCEPTION",UI_ACTN_GET_ADDRESSES_EXCEPTION:"UI_ACTN_GET_ADDRESSES_EXCEPTION",UI_ACTN_ADD_ADDRESS_EXCEPTION:"UI_ACTN_ADD_ADDRESS_EXCEPTION",UI_ACTN_CREATE_CART_EXCEPTION:"UI_ACTN_CREATE_CART_EXCEPTION",UI_ACTN_SET_CART_ADDRESS_EXCEPTION:"UI_ACTN_SET_CART_ADDRESS_EXCEPTION",UI_ACTN_GET_PROFILE_EXCEPTION:"UI_ACTN_GET_PROFILE_EXCEPTION",UI_ACTN_CREATE_REQUEST_EXCEPTION:"UI_ACTN_CREATE_REQUEST_EXCEPTION",UI_ACTN_DECLINE_REQUEST_EXCEPTION:"UI_ACTN_DECLINE_REQUEST_EXCEPTION",UI_ACTN_CANCEL_REQUEST_EXCEPTION:"UI_ACTN_CANCEL_REQUEST_EXCEPTION",UI_ACTN_GET_PENDING_REQUESTS_EXCEPTION:"UI_ACTN_GET_PENDING_REQUESTS_EXCEPTION",UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_SHOWN:"UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_SHOWN",UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_NEXT_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_NEXT_CLICK",UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SELLER_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SELLER_CLICK",UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SEND_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SEND_CLICK",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_SHOWN:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_SHOWN",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_CANCEL_CLICK:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_CANCEL_CLICK",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_PAY_CLICK:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_PAY_CLICK",UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK:"UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK",BATCH_PROCESS_PENDING_PAYMENT:"BATCH_PROCESS_PENDING_PAYMENT",USER_TEST_CREATE_PAYMENT_REQUEST:"Test_Actn_CreatePaymentRequest",ALERT_MESSENGER_PAYMENT_METHOD_CACHE_INCONSISTENCY:"Alert_messenger_payment_method_cache_inconsistency",DEEPLINK_PERSONAL_DESKTOP_REQUEST:"p2p_personal_deeplink_request_desktop",DEEPLINK_PERSONAL_MOBILE_REQUEST:"p2p_personal_deeplink_request_mobile"})}),null);
__d("P2PPaymentLoggerEventFlow",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UI_FLOW_P2P_SEND:"UI_Flow_P2P_Send",UI_FLOW_P2P_REQUEST:"UI_Flow_P2P_Request",UI_FLOW_P2P_RECEIVE:"UI_Flow_P2P_Receive",UI_FLOW_P2P_SETTINGS:"UI_Flow_P2P_Settings",UI_FLOW_P2P_GROUP_SEND:"UI_Flow_P2P_Group_Send",UI_FLOW_P2P_GROUP_REQUEST:"UI_Flow_P2P_Group_Request",UI_FLOW_MONEYPENNY_CHECKOUT:"UI_Flow_Moneypenny_Checkout",UI_FLOW_FINANCIAL_INCENTIVES:"UI_Flow_Financial_Incentives",UI_FLOW_FINANCIAL_INCENTIVES_ZERO_INDEX_JEWEL:"UI_Flow_Financial_Incentives_Zero_Index_Jewel",UI_FLOW_PLATFORM_BANNER:"UI_Flow_Platform_Banner",UI_FLOW_CHECKOUT:"UI_Flow_Checkout",UI_FLOW_SEND_MONEY_PAGE:"UI_Flow_Send_Money_Page",UI_FLOW_REQUEST_SENDER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Request_Sender_NUX_Chat_Thread_Banner",UI_FLOW_SENDER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Sender_NUX_Chat_Thread_Banner",UI_FLOW_GROUP_SELL_INTEREST_DIALOG:"UI_FLOW_GROUP_SELL_INTEREST_DIALOG",UI_FLOW_SEND_MONEY_BLUEBAR:"UI_FLOW_SEND_MONEY_BLUEBAR",UI_FLOW_PAYMENTS_MENU_BLUEBAR:"UI_FLOW_PAYMENTS_MENU_BLUEBAR",UI_FLOW_BOOKMARK:"UI_FLOW_BOOKMARK",UI_FLOW_P2P_BIRTHDAY_GIFT_SEND_MONEY:"UI_FLOW_P2P_BIRTHDAY_GIFT_SEND_MONEY",UI_FLOW_P2P_PEOPLE_SEARCH_SEND_MONEY:"UI_FLOW_P2P_PEOPLE_SEARCH_SEND_MONEY"})}),null);
__d("P2PSendMoneyDialogStore",["P2PActionConstants","EventEmitter","Map","P2PDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=36,k=void 0,l=void 0;h=babelHelpers.inherits(m,c("EventEmitter"));i=h&&h.prototype;function m(){i.constructor.call(this);l=new(c("Map"))();k=c("P2PDispatcher").register(this.onEventDispatched.bind(this))}m.prototype.onEventDispatched=function(n){var o=n.data,p=n.type;switch(p){case c("P2PActionConstants").CHAT_SEND_VIEW_OPENED:this.handleChatSendViewOpened(o);this.emit("change");break;case c("P2PActionConstants").CHAT_SEND_VIEW_CLOSED:this.handleChatSendViewClosed(o);this.emit("change");break}};m.prototype.getStateByThreadID=function(n){return l.get(n)};m.prototype.handleChatSendViewOpened=function(n){l.set(n.threadID,{amount:n.amount,groupSendRecipientUserIDs:n.groupSendRecipientUserIDs,groupSendReceiptDetails:n.groupSendReceiptDetails,groupThreadFBID:n.groupThreadFBID,onCompletion:n.onCompletion,openRequestTab:n.openRequestTab,memoText:n.memoText&&n.memoText.substr(0,j),platformData:n.platformData,referrer:n.referrer,paymentRequestID:n.paymentRequestID,sendMoneyDialogShown:true,sendMoneyNUXDismissed:n.sendMoneyNUXDismissed,useModal:n.useModal})};m.prototype.handleChatSendViewClosed=function(n){l.set(n.threadID,{amount:"",groupSendRecipientUserIDs:[],groupSendReceiptDetails:null,groupThreadFBID:"",onCompletion:null,openRequestTab:false,memoText:null,platformData:null,referrer:null,paymentRequestID:null,sendMoneyDialogShown:false,sendMoneyNUXDismissed:false,useModal:false})};m.prototype.isAnyChatSendViewOpen=function(){__p&&__p();for(var n=l.values(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(r.sendMoneyDialogShown)return true}return false};f.exports=new m()}),null);
__d("getPageIDFromThreadID",["FBIDCheck","MercuryIDs"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=c("MercuryIDs").getUserIDFromThreadID(i);if(!j||c("FBIDCheck").isUser_deprecated(j))return null;return j}f.exports=h}),null);
__d("P2PSendMoneyContainerBootloader.react",["cx","Bootloader","MessengerEnvironment","DeferredComponent.react","MercuryIDs","P2PAbstractSendMoneyButton.react","P2PActions","P2PLoadingMask.react","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PSendMoneyDialogStore","React","ReactLayeredComponentMixin_DEPRECATED","XUIContextualDialog.react","emptyFunction","getPageIDFromThreadID"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("MessengerEnvironment").messengerui,k=j?282:260,l=c("React").createClass({displayName:"P2PSendMoneyContainerBootloader",propTypes:{button:i.node,className:i.string,ContextualDialog:i.func,flyoutAlignment:i.oneOf(["left","center","right"]),onTrigger:i.func,participantIDs:i.array,referrer:i.string,threadID:i.string},getInitialState:function m(){return{showPlaceholderDialog:false,shouldBootloadImmediately:c("P2PSendMoneyDialogStore").isAnyChatSendViewOpen()}},mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],_clicked:false,_onComponentLoad:c("emptyFunction"),_bootloadCalled:false,_sendMoneyDialogStoreSub:null,log:function m(n,o){c("P2PLogger").log(n,babelHelpers["extends"]({www_event_referrer:this.props.referrer,www_event_flow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_SEND},o))},componentWillUnmount:function m(){this.removeDialogStoreSub()},onDialogStoreChange:function m(){this._bootloadComponentNow();this.removeDialogStoreSub()},removeDialogStoreSub:function m(){if(this._sendMoneyDialogStoreSub){this._sendMoneyDialogStoreSub.remove();this._sendMoneyDialogStoreSub=null}},onPlaceholderClick:function m(){var n=this.props.threadID?c("MercuryIDs").tokenize(this.props.threadID).value:null;this._handleDialogVisibility(!this.state.showPlaceholderDialog);this.log(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_BUTTON_PLACEHOLDER_CLICKED,{object_id:n});this._bootloadComponentNow();this._clicked=false},_handleDialogVisibility:function m(n){if(!n)c("P2PActions").chatSendViewClosed({threadID:this.props.threadID});else c("P2PActions").chatSendViewOpened({referrer:this.props.referrer,threadID:this.props.threadID});this.setState({showPlaceholderDialog:n})},renderLayers:function m(){__p&&__p();var n={};if(this.state.showPlaceholderDialog){var o=this.props.ContextualDialog||c("XUIContextualDialog.react");n.placeholderDialog=c("React").createElement(o,{alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:j?"right":"left",contextRef:function(){return this.refs.placeholderButton}.bind(this),onBlur:function(){if(!this._clicked)this._handleDialogVisibility(false);this._clicked=false}.bind(this),ref:"dialog",shown:true,width:k,position:"above"},c("React").createElement("div",{className:"_c_5"},c("React").createElement(c("P2PLoadingMask.react"),{visible:true})))}return n},render:function m(){if(this._isPageChat())return null;return c("React").createElement(c("DeferredComponent.react"),babelHelpers["extends"]({deferredComponent:this._bootloadComponent,deferredPlaceholder:this._renderPlaceholder()},this.props))},_renderPlaceholder:function m(){return c("React").createElement(c("P2PAbstractSendMoneyButton.react"),{button:this.props.button,className:this.props.className,isActive:false,isDisabled:false,isMessenger:j,onClick:this.onPlaceholderClick,onMouseDown:function(){this._clicked=true}.bind(this),onMouseOver:this._bootloadComponentNow,ref:"placeholderButton"})},_bootloadComponent:function m(n){this._onComponentLoad=n.bind(this);if(this.state.shouldBootloadImmediately)this._bootloadComponentNow();else this._sendMoneyDialogStoreSub=c("P2PSendMoneyDialogStore").addListener("change",this.onDialogStoreChange)},_bootloadComponentNow:function m(){if(this._bootloadCalled)return;this._bootloadCalled=true;c("Bootloader").loadModules(["P2PSendMoneyContainer.react"],function(n){this.removeDialogStoreSub();this._onComponentLoad(n);this.setState({showPlaceholderDialog:false})}.bind(this),"P2PSendMoneyContainerBootloader.react")},_isPageChat:function m(){return!!this._getPageID()},_getPageID:function m(){return c("getPageIDFromThreadID")(this.props.threadID)}});f.exports=l}),null);
__d("StickersDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationDispatcher"))({strict:false})}),null);
__d("StickersActions",["StickersDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({ADD_RECENT_STICKER:null,HIDE_FLYOUT:null,LOAD_RECENT_STICKERS:null,SELECT_STORE_PACK:null,SELECT_TRAY_PACK:null,SHOW_FLYOUT:null,TRAY_LOADED:null}),i={Types:h,addRecentSticker:function j(k){c("StickersDispatcher").dispatch({type:h.ADD_RECENT_STICKER,sticker:k})},hideStickerFlyout:function j(){c("StickersDispatcher").dispatch({type:h.HIDE_FLYOUT})},loadRecentStickers:function j(k){c("StickersDispatcher").dispatch({type:h.LOAD_RECENT_STICKERS,stickers:k})},selectStorePack:function j(k){c("StickersDispatcher").dispatch({type:h.SELECT_STORE_PACK,packID:k})},selectTrayPack:function j(k){c("StickersDispatcher").dispatch({type:h.SELECT_TRAY_PACK,packID:k})},showStickerFlyout:function j(k){c("StickersDispatcher").dispatch({type:h.SHOW_FLYOUT,threadID:k})},trayLoaded:function j(){c("StickersDispatcher").dispatch({type:h.TRAY_LOADED})}};f.exports=i}),null);
__d("isWebGLEnabled",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=null;function i(){try{var k=document.createElement("canvas");return Boolean(window.WebGLRenderingContext)&&Boolean(k.getContext("webgl")||k.getContext("experimental-webgl"))}catch(l){return false}}function j(){if(h===null)h=i();return h}f.exports=j}),null);
__d("ChatTabComposer.react",["cssVar","csx","cx","fbt","BootloadOnRender.react","MercuryBootloadOnInteraction.react","ChatConfig","ChatComposerFlyoutButtonBootLoader.react","ChatEventPlanButton.react","ChatInput.react","ChatPhotoUploader.react","CustomColorHighlighting.react","CSS","EventRemindersGating","FantaMessageActions","JSResource","Keys","LazyComponent.react","MercuryConfig","MercuryIDs","MessengerHotLikeButton.react","MessengerHotLikeChatSVGIcon.react","MessengerHotLikeUtils","MessengerQuickCamButton.react","MessengerQuickCamOrigins","P2PPaymentConfig","P2PSendMoneyContainerBootloader.react","React","MercuryShareAttachmentRenderLocations","StickersActions","XUISpinner.react","clearImmediate","convertMIGColorToFIGColor","getPageIDFromThreadID","gkx","isWebGLEnabled","requireWeak","setImmediate"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes,o=77,p=9,q=c("ChatConfig").get("chat_basic_input_module")||c("ChatInput.react"),r=null;c("requireWeak")("FantaAppStore",function(t){return r=t});l=babelHelpers.inherits(s,c("React").PureComponent);m=l&&l.prototype;function s(){__p&&__p();var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.state={inputHeight:0,p2pPaymentConfig:c("P2PPaymentConfig").config,stickerFlyoutShown:false},this.$ChatTabComposer2=null,this.$ChatTabComposer3=null,this.$ChatTabComposer10=function(y){var z=this.props.threadID;if(z)this.$ChatTabComposer1=c("setImmediate")(function(){this.$ChatTabComposer1=null;c("FantaMessageActions").composerTextUpdate(z,y)}.bind(this))}.bind(this),this.$ChatTabComposer8=function(y){if(y.keyCode===c("Keys").RETURN){this.refs.emojiButton&&this.refs.emojiButton.hideFlyout();this.$ChatTabComposer10("")}this.props.inputKeyDown&&this.props.inputKeyDown(y)}.bind(this),this.$ChatTabComposer5=function(y){var z=y.target;if(z instanceof Element&&(c("CSS").matchesSelector(z,"._1d4_")||c("CSS").matchesSelector(z,"._552h")||c("CSS").matchesSelector(z,"._552n")))this.refs.input.focus()}.bind(this),this.$ChatTabComposer9=function(y){if(this.state.stickerFlyoutShown)c("StickersActions").hideStickerFlyout();this.props.onEscape&&this.props.onEscape(y);this.$ChatTabComposer10("")}.bind(this),this.$ChatTabComposer28=function(y,z){if(y.platformFBID.toString()!==c("MercuryConfig").MessengerAppID)this.uploadURL({attribution_app_id:y.platformFBID,errorDialogParams:{body:k._("There was a problem sending this GIF. Choose another one and try again."),title:k._("Couldn't Send GIF")},external_image_url:y.source.url,preview_url:y.media.preview?y.media.preview.url:y.media.thumbnail.url,source:y.source});else this.props.stickerButtonProps&&this.props.stickerButtonProps.onStickerSelect&&this.props.stickerButtonProps.onStickerSelect(y.resultID.toString)}.bind(this),this.$ChatTabComposer29=function(y){this.refs.input&&this.refs.input.insertEmoji&&this.refs.input.insertEmoji(y)}.bind(this),u}s.prototype.render=function(){var t=this.props.disableInput?null:c("React").createElement("ul",{className:"_552n"+(c("gkx")("AT5ZvVwuqKWcfrio0AdnNomF7UAfIh6xykST_qUQlvhzlEwa0D-O1yjSaPSHOODgL1U")?" _22v_":"")},this.$ChatTabComposer4());return c("React").createElement("div",{className:"_1d4_",onClick:this.$ChatTabComposer5,role:"presentation"},this.$ChatTabComposer6(),t)};s.prototype.componentWillUnmount=function(){if(this.$ChatTabComposer1)c("clearImmediate")(this.$ChatTabComposer1)};s.prototype.resetInput=function(t){this.refs.input.resetAfterSend(t)};s.prototype.uploadURL=function(t){var u=this.$ChatTabComposer2||this.$ChatTabComposer3;if(!u)return;u.uploadURL(t)};s.prototype.isUploading=function(){return!!(this.$ChatTabComposer2&&this.$ChatTabComposer2.isUploading()||this.$ChatTabComposer3&&this.$ChatTabComposer3.isUploading())};s.prototype.getInput=function(){return this.refs.input};s.prototype.$ChatTabComposer6=function(){__p&&__p();var t={};if(this.state.inputHeight)t.minHeight=this.state.inputHeight;var u=null;if(this.props.showStructuredMenu)u=c("React").createElement("div",{className:"_5c6-"},c("React").createElement(c("MercuryBootloadOnInteraction.react"),{component:c("React").createElement(c("LazyComponent.react"),{flyoutAlignment:"left",threadID:this.props.threadID,pageID:this.props.pageID,className:"_5c6_"}),loader:c("JSResource")("MessengerBotMenuButton.react").__setRef("ChatTabComposer.react"),placeholder:c("React").createElement("span",{className:"_5c6_"})}));var v="",w=this.props.threadID;if(w&&r){var x=r.getState().mercury.tabContents.get(w);v=x&&x.composerText||""}var y="";if(this.props.disableInput)y=k._("Composer is disabled for this thread.");else if(this.props.thread&&!this.props.thread.is_canonical)y=k._("Type a message, \u0040name...");else y=k._("Type a message...");return c("React").createElement("div",{className:"_552h",style:t},u,c("React").createElement("div",{className:this.props.showStructuredMenu?"_4yzj":""},c("React").createElement(c("CustomColorHighlighting.react"),{customColor:this.props.thread&&this.props.thread.custom_color},c("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw")&&this.$ChatTabComposer7(this.props.threadID),c("React").createElement(q,{defaultText:v,fileUploader:this.props.fileUploader,initializeThingsWithInputFn:this.props.initializeThingsWithInputFn,inputKeyDown:this.$ChatTabComposer8,onBeforeInput:function(){return this.refs.emojiButton&&this.refs.emojiButton.hideFlyout()}.bind(this),onBlur:this.props.onBlur,onEscape:this.$ChatTabComposer9,onFocus:this.props.onFocus,onTab:this.props.onTab,readOnly:this.props.disableInput,ref:"input",resizeFn:function(z){z=Math.min(z,o);this.setState({inputHeight:z});this.props.resizeFn&&this.props.resizeFn(z)}.bind(this),thread:this.props.thread,threadID:this.props.threadID,onTextChange:this.$ChatTabComposer10,uploadPhotoFn:function(z){this.$ChatTabComposer3&&this.$ChatTabComposer3.uploadFiles([].concat(z))}.bind(this),participants:this.props.participants,placeholder:y,viewer:this.props.viewer}))))};s.prototype.$ChatTabComposer7=function(t){__p&&__p();if(!t)return null;var u=this.props.fileUploader;if(!u)return null;var v=u.get("uploadedFiles");if(v.size==0)return null;var w=this.props.thread,x=w&&w.custom_color?w.custom_color:"#0084ff";return c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{files:v,small:true,threadID:t,threadCustomColor:x,onClick:this.$ChatTabComposer11}),loader:c("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("ChatTabComposer.react"),placeholder:c("React").createElement(c("XUISpinner.react"),{className:"_2qf"})})};s.prototype.$ChatTabComposer11=function(t,u){c("FantaMessageActions").cancelFileUpload(t,u)};s.prototype.$ChatTabComposer4=function(){__p&&__p();var t=[this.$ChatTabComposer12(),this.$ChatTabComposer13(),this.$ChatTabComposer14(),this.$ChatTabComposer15(),this.$ChatTabComposer16(),this.$ChatTabComposer17(),this.$ChatTabComposer18(),this.$ChatTabComposer19(),this.$ChatTabComposer20()],u=t.filter(Boolean);if(u.length<p){var v=this.$ChatTabComposer21();if(v)u.push(v)}if(u.length<p&&c("EventRemindersGating").shouldShowComposer){var w=this.$ChatTabComposer22();if(w)u.push(w)}return u};s.prototype.$ChatTabComposer12=function(){var t=this.props.photoUploaderProps||{};return c("React").createElement("li",{className:"_13f-",key:"photos"},c("React").createElement(c("ChatPhotoUploader.react"),babelHelpers["extends"]({onMount:function(u){return this.$ChatTabComposer3=u}.bind(this)},t)))};s.prototype.$ChatTabComposer21=function(){var t=c("convertMIGColorToFIGColor")(this.props.thread&&this.props.thread.custom_color),u=this.$ChatTabComposer23();if(u&&this.props.thread&&!this.props.thread.is_canonical)return this.$ChatTabComposer24(t,u);return null};s.prototype.$ChatTabComposer24=function(t,u){return c("React").createElement(c("ChatComposerFlyoutButtonBootLoader.react"),{key:"grouppolling",interactionClassName:"_6gd _13f_",flyoutProps:{customColor:t,threadFBID:u},flyoutAlignment:"left",iconClassName:"_6gb _4tjk",flyoutLoader:c("JSResource")("MessengerGroupPollingFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:k._("Create a poll")})};s.prototype.$ChatTabComposer18=function(){var t=c("gkx")("AT4VU3LTU_m0y3MeJeai7hJytsOcRy63JbTrv7QtkGDcMH9aN_sV8sDNC1ebrhVq0RfT0H4FEgW5UVoJHsOiHpnF")&&c("isWebGLEnabled")(),u=this.$ChatTabComposer23();return t&&u&&!this.$ChatTabComposer25()?this.$ChatTabComposer26():null};s.prototype.$ChatTabComposer26=function(){return c("React").createElement(c("ChatComposerFlyoutButtonBootLoader.react"),{key:"games",interactionClassName:"_6gd _13ga",flyoutAlignment:"left",iconClassName:"_6gb _4cf0",flyoutProps:{threadFBID:this.$ChatTabComposer23()},flyoutLoader:c("JSResource")("MessengerGamesFlyout.react").__setRef("ChatTabComposer.react"),title:k._("Play a game")})};s.prototype.$ChatTabComposer22=function(){return this.props.threadID&&!this.$ChatTabComposer25()?c("React").createElement("li",{className:"_6gd _13gb",key:"eventPlan"},c("React").createElement(c("ChatEventPlanButton.react"),{threadID:this.props.threadID})):null};s.prototype.$ChatTabComposer17=function(){if(this.props.disableFileUploads)return null;var t=this.props.fileUploaderProps||{};return c("React").createElement("li",{className:"_13gd",key:"files"},c("React").createElement(c("ChatPhotoUploader.react"),babelHelpers["extends"]({onMount:function(u){return this.$ChatTabComposer2=u}.bind(this)},t)))};s.prototype.$ChatTabComposer13=function(){var t=this.props.stickerButtonProps;if(!t)return null;return this.$ChatTabComposer27()};s.prototype.$ChatTabComposer27=function(){var t=this.props.stickerButtonProps;if(!t)return null;var u={className:"_5e-r",position:"above"};return c("React").createElement(c("ChatComposerFlyoutButtonBootLoader.react"),{flyoutProps:t,dialogProps:u,flyoutAlignment:"right",key:"sticker",interactionClassName:"_6gd _13ge",iconClassName:"_6gb _6gf",flyoutLoader:c("JSResource")("StickersFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:k._("Choose a sticker")})};s.prototype.$ChatTabComposer14=function(){var t={getQuery:function(){return this.refs.input.getValue()}.bind(this),onSelect:this.$ChatTabComposer28};return c("React").createElement(c("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"contentSearch",interactionClassName:"_6gd _13gf",flyoutProps:t,flyoutAlignment:"left",iconClassName:"_6gb _6gs",threadFBID:this.$ChatTabComposer23(),flyoutLoader:c("JSResource")("ChatContentSearchFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:k._("Choose a gif")})};s.prototype.$ChatTabComposer15=function(){var t={onSelect:this.$ChatTabComposer29,getInput:function(){return this.refs.input}.bind(this)};return c("React").createElement(c("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"emoji",interactionClassName:"_6gd _13gg",flyoutAlignment:"left",iconClassName:"_6gb _3oxr",threadFBID:this.$ChatTabComposer23(),flyoutLoader:c("JSResource")("ChatEmojiFlyout.react").__setRef("ChatTabComposer.react"),dialogProps:{offsetY:10},flyoutProps:t,title:k._("Choose an emoji")})};s.prototype.$ChatTabComposer20=function(){var t=this.props.thread,u=c("convertMIGColorToFIGColor")(t&&t.custom_color)||"",v=c("MessengerHotLikeChatSVGIcon.react"),w="_6gb";return c("React").createElement("li",{className:"_6gd _5ep3 _13gi",key:"like"},c("React").createElement(c("MessengerHotLikeButton.react"),{className:w,customColor:u,customLike:c("MessengerHotLikeUtils").getCustomEmojiFromThread(t)||undefined,CustomRenderer:v,location:c("MercuryShareAttachmentRenderLocations").CHAT,renderSize:16,sendSticker:this.props.stickerButtonProps&&this.props.stickerButtonProps.onStickerSelect,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID}))};s.prototype.$ChatTabComposer16=function(){if(!this.props.p2pProps||!this.props.showP2PButton||this.$ChatTabComposer25())return null;var t=this.props.p2pProps;t.threadID=this.props.threadID;t.p2pPaymentConfig=this.state.p2pPaymentConfig;if(this.props.participantIDs&&this.props.participantIDs.length)t.participantIDs=this.props.participantIDs;return c("React").createElement("li",{className:"_6gd _13gj",key:"p2p"},c("React").createElement(c("P2PSendMoneyContainerBootloader.react"),t))};s.prototype.$ChatTabComposer19=function(){__p&&__p();var t=this.props.threadID;if(c("MercuryIDs").isLocalThread(this.props.threadID)||!t)return null;var u={className:"_6gb _5yhk",threadID:t,location:undefined,viewer:undefined},v=c("gkx")("AT44XpsdaaEfcz2GrZ0m8RNEjrTHpQedGRhxmeB3oGdMvETdQ7vdyzqg8MlOqQGInNDXydDTyvvVR5lvi3VlBp7t");if(v){u.location=c("MessengerQuickCamOrigins").CHAT_TAB;u.viewer=this.props.viewer}var w=!v?c("React").createElement(c("MessengerQuickCamButton.react"),u):c("React").createElement(c("MercuryBootloadOnInteraction.react"),{component:c("React").createElement(c("LazyComponent.react"),u),loader:c("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("ChatTabComposer.react"),placeholder:c("React").createElement("span",{className:u.className})});return c("React").createElement("li",{className:"_6gd _13gk",key:"quickcam"},w)};s.prototype.$ChatTabComposer25=function(){return!!this.$ChatTabComposer30()};s.prototype.$ChatTabComposer30=function(){return c("getPageIDFromThreadID")(this.props.threadID)};s.prototype.$ChatTabComposer23=function(){if(this.props.threadID&&!c("MercuryIDs").isLocalThread(this.props.threadID))return c("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID);if(this.props.thread&&this.props.thread.thread_fbid)return this.props.thread.thread_fbid;return null};s.prototype.replyToMention=function(t){this.refs.input&&this.refs.input.addMention&&this.refs.input.addMention(t)};s.propTypes={disableInput:n.bool.isRequired,disableFileUploads:n.bool,fileUploaderProps:n.object,initializeThingsWithInputFn:n.func,inputKeyDown:n.func,onBlur:n.func,onCustomLikeSelect:n.func,onEmojiSelect:n.func,onEscape:n.func,onFocus:n.func,onTab:n.func,p2pProps:n.object,pageID:n.string,participantIDs:n.arrayOf(n.string),photoUploaderProps:n.object,resizeFn:n.func,showP2PButton:n.bool,showStructuredMenu:n.bool.isRequired,stickerButtonProps:n.object,thread:n.object,threadID:n.string,uploadPhotoFn:n.func,viewer:n.string};f.exports=s}),null);
__d("TreeMap",["Map","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(v,w,x){this.key=v;this.value=w;this.time=x}function i(v){this.$TreeMap1=function(w,x){var y=v(w,x);return y!==0?y:w.time-x.time};this.$TreeMap2=new(c("Map"))();this.$TreeMap3=null;this.$TreeMap4=0;this.size=this.$TreeMap2.size}i.prototype.clear=function(){this.$TreeMap2=new(c("Map"))();this.$TreeMap3=null;this.size=this.$TreeMap2.size};i.prototype.has=function(v){return this.$TreeMap2.has(v)};i.prototype.set=function(v,w){if(this.has(v))this["delete"](v);var x=new h(v,w,this.$TreeMap4++);this.$TreeMap2.set(v,x);this.$TreeMap3=p(this.$TreeMap3,x,this.$TreeMap1);this.size=this.$TreeMap2.size;return this};i.prototype.get=function(v){return this.has(v)?this.$TreeMap2.get(v).value:undefined};i.prototype["delete"]=function(v){if(!this.has(v))return false;var w=this.$TreeMap2.get(v);this.$TreeMap3=q(this.$TreeMap3,w,this.$TreeMap1);this.$TreeMap2["delete"](v);this.size=this.$TreeMap2.size;return true};i.prototype.keys=function(){var v=[];u(this.$TreeMap3,v,function(w){return w.key});return v};i.prototype.values=function(){var v=[];u(this.$TreeMap3,v,function(w){return w.value});return v};i.prototype.entries=function(){var v=[];u(this.$TreeMap3,v,function(w){return{key:w.key,value:w.value}});return v};i.prototype.range=function(v,w){var x=[],y=null;if(v)y=new h(v.key,v.value,-1);var z=null;if(w)z=new h(w.key,w.value,this.$TreeMap4);u(this.$TreeMap3,x,function(A){return{key:A.key,value:A.value}},this.$TreeMap1,y,z);return x};i.prototype.min=function(){if(!this.$TreeMap3)return undefined;var v=r(c("nullthrows")(this.$TreeMap3)),w=v.key,x=v.value;return{key:w,value:x}};i.prototype.max=function(){if(!this.$TreeMap3)return undefined;var v=s(c("nullthrows")(this.$TreeMap3)),w=v.key,x=v.value;return{key:w,value:x}};i.prototype.__testRoot=function(){};function j(v){__p&&__p();if(!v)return v;o(v);if(v.balanceFactor<-1)if(v.right&&v.right.balanceFactor<=0)return k(v);else return l(v);else if(v.balanceFactor>1)if(v.left&&v.left.balanceFactor>=0)return m(v);else return n(v);else return v}function k(v){var w=v,x=c("nullthrows")(w.right),y=x.left;w.right=y;o(w);c("nullthrows")(x).left=w;o(x);return x}function l(v){__p&&__p();var w=v,x=c("nullthrows")(w.right),y=c("nullthrows")(x.left),z=y.left,A=y.right;w.right=z;o(w);x.left=A;o(x);y=c("nullthrows")(y);y.left=w;y.right=x;o(y);return y}function m(v){var w=v,x=c("nullthrows")(w.left),y=x.right;w.left=y;o(w);x.right=w;o(x);return x}function n(v){var w=v,x=c("nullthrows")(w.left),y=c("nullthrows")(x.right),z=y.left,A=y.right;x.right=z;o(x);w.left=A;o(w);y.left=x;y.right=w;o(y);return y}function o(v){var w=v.left?v.left.height:-1,x=v.right?v.right.height:-1;v.height=Math.max(w,x)+1;v.balanceFactor=w-x}function p(v,w,x){__p&&__p();if(v==null)return j(w);var y=x(w,v);if(y<0){v.left=p(v.left,w,x);return j(v)}else{v.right=p(v.right,w,x);return j(v)}}function q(v,w,x){__p&&__p();if(v==null)return null;if(v===w)if(v.left&&v.right){var y=s(v.left);v.left=t(v.left);y.left=v.left;y.right=v.right;return j(y)}else if(v.left)return j(v.left);else if(v.right)return j(v.right);else return null;var z=x(w,v);if(z<0){v.left=q(v.left,w,x);return j(v)}else{v.right=q(v.right,w,x);return j(v)}}function r(v){while(v.left)v=v.left;return v}function s(v){while(v.right)v=v.right;return v}function t(v){if(!v)return null;if(v.right==null)return j(v.left||null);v.right=t(v.right);return j(v)}function u(v,w,x,y,z,A){if(v==null)return;var B=!y||!z||y(v,z)>=0,C=!y||!A||y(v,A)<=0;if(B)u(v.left,w,x,y,z,A);if(B&&C)w.push(x(v));if(C)u(v.right,w,x,y,z,A)}f.exports=i}),null);
__d("Cache",["DateConsts","Map","TimeSlice","TreeMap"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$Cache1=new(c("Map"))()}h.prototype.has=function(i){return this.$Cache1.has(i)};h.prototype.get=function(i,j){var k=this.__getRaw(i);if(!k)return j;return k.$Cache2};h.prototype.getAll=function(i,j){var k=new(c("Map"))();i.forEach(function(l){return k.set(l,this.get(l,j))}.bind(this));return k};h.prototype["delete"]=function(i){var j=this.__getRaw(i);if(j&&j.$Cache3)clearTimeout(j.$Cache3);return this.$Cache1["delete"](i)};h.prototype.clear=function(){this.$Cache1.forEach(function(i){if(i&&i.$Cache3)clearTimeout(i.$Cache3)});this.$Cache1.clear()};h.prototype.set=function(i,j,k,l){__p&&__p();if(!this.shouldUpdate(i,k))return false;var m=this.__getRaw(i);if(!m)m=this.__getNewRawObject();delete m.$Cache2;delete m.$Cache4;if(m.$Cache3)clearTimeout(m.$Cache3);delete m.$Cache3;m.$Cache2=j;if(k!=null)m.$Cache4=k;if(l!=null&&l>=0)m.$Cache3=setTimeout(c("TimeSlice").guard(this["delete"].bind(this,i),"Cache expiration timeout"),l*c("DateConsts").MS_PER_SEC*c("DateConsts").SEC_PER_MIN);this.__setRaw(i,m);return true};h.prototype.shouldUpdate=function(i,j){var k=this.__getRaw(i);return k==null||k.$Cache4==null||j==null||j>k.$Cache4};h.prototype.size=function(){return this.$Cache1.size};h.prototype.__getRaw=function(i){return this.$Cache1.get(i)};h.prototype.__setRaw=function(i,j){this.$Cache1.set(i,j)};h.prototype.__getNewRawObject=function(){return{$Cache2:null,$Cache3:null,$Cache4:null,$Cache5:null,$Cache6:null}};h.prototype.__keys=function(){return this.$Cache1.keys()};f.exports=h}),null);
__d("XWebGraphQLQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/webgraphql/query/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"}})}),null);
__d("WebGraphQLQueryBase",["invariant","WebGraphQLLegacyHelper","XWebGraphQLQueryController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){this.$WebGraphQLQueryBase1=j}i.prototype.__getVariables=function(){return this.$WebGraphQLQueryBase1};i.prototype.__getDocID=function(){return this.constructor.__getDocID()};i.__getController=function(){return c("XWebGraphQLQueryController")};i.__getDocID=function(){h(0)};i.getURI=function(j){return c("WebGraphQLLegacyHelper").getURI({controller:this.__getController(),docID:this.__getDocID(),variables:j})};i.getLegacyURI=function(j){return c("WebGraphQLLegacyHelper").getURI({controller:this.__getController(),queryID:this.getQueryID(),variables:j})};i.getQueryID=function(){h(0)};f.exports=i}),null);
__d("MessengerBotComposerWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1193572474099061"};j.getQueryID=function(){"use strict";return"1132183563559860"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XMessengerBotsMenuController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messenger/commerce/bots/menu/",{page_id:{type:"String",required:true}})}),null);
__d("MessengerBotMenuDataFetcher",["AsyncRequest","Cache","MessengerBotComposerWebGraphQLQuery","XMessengerBotsMenuController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$MessengerBotMenuDataFetcher1=new(c("Cache"))();this.$MessengerBotMenuDataFetcher2=new(c("Cache"))()}h.prototype.getMenuItems=function(i,j,k){__p&&__p();if(this.$MessengerBotMenuDataFetcher1.has(i)){j(this.$MessengerBotMenuDataFetcher1.get(i));return}var l=c("XMessengerBotsMenuController").getURIBuilder().setString("page_id",i).getURI();new(c("AsyncRequest"))().setURI(l).setHandler(function(m){var n=m.payload.menu;this.$MessengerBotMenuDataFetcher1.set(i,n);j(n)}.bind(this)).setErrorHandler(function(m){k()}).send()};h.prototype.getHasPageSetting=function(i,j,k,l){__p&&__p();if(!this.$MessengerBotMenuDataFetcher2.has(i)){var m=c("MessengerBotComposerWebGraphQLQuery").getURI({node_id:i});new(c("AsyncRequest"))().setURI(m).setHandler(function(o){var p=o.payload.data.node,n=p&&p.commerce_page_settings||[];this.$MessengerBotMenuDataFetcher2.set(i,n);j(n.indexOf(l)!==-1)}.bind(this)).setErrorHandler(function(o){this.$MessengerBotMenuDataFetcher2.set(i,[]);k()}.bind(this)).send()}var n=this.$MessengerBotMenuDataFetcher2.get(i)||[];j(n.indexOf(l)!==-1);return n.indexOf(l)!==-1};f.exports=new h()}),null);
__d("ChatTabComposerContainer.react",["cx","fbt","Bootloader","ChatTabComposer.react","MercuryIDs","MercuryThreads","MercuryMessageActions","MessengerBotMenuDataFetcher","MercuryParticipants","MNCommercePageSetting","P2PGKValues","ReactComponentWithPureRenderMixin","React","MercuryShareAttachmentRenderLocations","SearchableEntry","SimpleXUIDialog","StoreAndPropBasedStateMixin","getPageIDFromThreadID","getThreadTypeNameFromThreadType","nullthrows","setImmediate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="right",k=c("React").PropTypes,l=c("React").createClass({displayName:"ChatTabComposerContainer",mixins:[c("ReactComponentWithPureRenderMixin"),c("StoreAndPropBasedStateMixin")(c("MercuryThreads"),c("MercuryParticipants"))],propTypes:{disableInput:k.bool.isRequired,fileUploader:k.object,threadID:k.string,viewer:k.string.isRequired,onFileUploadFail:k.func,onPhotoUploadFail:k.func,onStickerSelect:k.func,onUploadCancel:k.func,onUploadComplete:k.func,onUploadSubmit:k.func},statics:{calculateState:function m(n){var o=c("MercuryThreads").getForFBID(n.viewer),p=n.threadID?o.getOrFetch(n.threadID):null,q=c("P2PGKValues").P2PVisible&&n.viewer!==c("MercuryIDs").getUserIDFromThreadID(n.threadID),r=c("getPageIDFromThreadID")(n.threadID),s=r===null||r===undefined?false:c("MessengerBotMenuDataFetcher").getHasPageSetting(r,function(){},function(){},c("MNCommercePageSetting").STRUCTURED_MENU_ENABLED),t=p&&p.participants?p.participants.map(c("MercuryParticipants").getOrFetch,c("MercuryParticipants")):[];return{thread:p,participants:t,showP2PButton:q,pageID:r,showStructuredMenu:s}}},componentDidMount:function m(){this.props.onMount(this);if(this.state.pageID)c("MessengerBotMenuDataFetcher").getHasPageSetting(this.state.pageID,function(n){this.setState({showStructuredMenu:n})}.bind(this),function(){this.setState({showStructuredMenu:false})}.bind(this),c("MNCommercePageSetting").STRUCTURED_MENU_ENABLED)},componentWillReceiveProps:function m(n){if(n.threadID!==this.props.threadID)this.setState({participantIDs:[],participants:[]})},render:function m(){return c("React").createElement(c("ChatTabComposer.react"),babelHelpers["extends"]({fileUploader:this.props.fileUploader,fileUploaderProps:this._getFileUploaderProps(),ref:"composer",thread:this.state.thread},this.props,{disableInput:this.props.disableInput,p2pProps:this._getP2PProps(),pageID:this.state.pageID,participantIDs:this.state.participantIDs,participants:this.state.participants,photoUploaderProps:this._getPhotoUploaderProps(),showP2PButton:this.state.showP2PButton,showStructuredMenu:this.state.showStructuredMenu,stickerButtonProps:this._getStickerButtonProps()}))},onSend:function m(n){var o,p=this;if(n&&n.profile_ranges&&n.profile_ranges.length)(function(){var q=n,r=p.state,s=r.thread,t=r.participants;c("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(u,v){new u().setEvent(v.MENTION).setGroupSize(t&&t.length).setNumDelivered((q.profile_ranges||[]).length).setThreadid(s&&s.thread_id).setThreadType(c("getThreadTypeNameFromThreadType")(s&&s.thread_type)).setOfflineThreadid(q.offline_threading_id).log()},"ChatTabComposerContainer.react")})();if(this.refs.composer)this.refs.composer.resetInput(n)},setParticipantIDs:function m(n){n=n||[];this.setState({participantIDs:n})},getInput:function m(){return this.refs.composer.getInput()},isUploading:function m(){return this.refs.composer.isUploading()},_getP2PProps:function m(){if(!this.state.showP2PButton)return{};return{button:c("React").createElement("i",{className:"hidden_elem"}),className:"_6ga _6gb",flyoutAlignment:j,referrer:c("MercuryShareAttachmentRenderLocations").CHAT,threadID:this.props.threadID,onTrigger:this.props.onP2PTrigger}},_getStickerButtonProps:function m(){var n={className:"_6gb _6gf",flyoutAlignment:j,threadID:this.props.threadID,onStickerSelect:this.props.onStickerSelect};return n},_getPhotoUploaderProps:function m(){var n={className:"_6gd",customUI:true,imageClassName:"hidden_elem",linkClassName:"_6gb _6ge",threadID:this.props.threadID,onLastUploadCancel:this._handleUploadCancel,onAllUploadsComplete:this._handleUploadComplete,onLastUploadFail:this._handlePhotoUploadFail,onUploadError:this._handleUploadError,onSubmit:this._handleUploadSubmit};return n},_getFileUploaderProps:function m(){var n=this._getPhotoUploaderProps();n.linkClassName="_6gb _6gg";n.imagesOnly=false;n.onLastUploadFail=this._handleFileUploadFail;return n},_handleUploadComplete:function m(n,o){c("MercuryMessageActions").getForFBID(this.props.viewer).confirmAttachmentPlaceholder(o.upload_id,o);this.props.onUploadComplete&&this.props.onUploadComplete(o)},_handleUploadError:function m(n){var o=void 0,p=void 0;switch(n.error){case"size-exceeded":o=i._("The file you have selected is too large");p=i._("The file you have selected is too large. The maximum size is 25MB.");break;default:o=i._("File Upload Failed");p=i._("There was a problem uploading the file.")}this._showErrorDialog(o,p);this.props.onFileUploadFail&&this.props.onFileUploadFail(n)},_handleUploadCancel:function m(n,o){c("MercuryMessageActions").getForFBID(this.props.viewer).cancelAttachmentPlaceholder(o.upload_id,o);this.props.onUploadCancel&&this.props.onUploadCancel(o)},_handleFileUploadFail:function m(n,o){c("MercuryMessageActions").getForFBID(this.props.viewer).cancelAttachmentPlaceholder(o.upload_id,o);var p=i._("File Upload Failed"),q=i._("There was a problem uploading the file.");if(o.errorDialogParams){p=o.errorDialogParams.title||p;q=o.errorDialogParams.body||q}this._showErrorDialog(p,q);this.props.onFileUploadFail&&this.props.onFileUploadFail(o)},_handlePhotoUploadFail:function m(n,o){c("MercuryMessageActions").getForFBID(this.props.viewer).cancelAttachmentPlaceholder(o.upload_id,o);var p=i._("Upload Failed"),q=i._("Please try again. Make sure you are uploading a valid file.");if(o.errorDialogParams){p=o.errorDialogParams.title||p;q=o.errorDialogParams.body||q}this._showErrorDialog(p,q);this.props.onPhotoUploadFail&&this.props.onPhotoUploadFail(o)},_handleUploadSubmit:function m(n,o){this.props.onUploadSubmit&&this.props.onUploadSubmit(o)},_showErrorDialog:function m(n,o){c("SimpleXUIDialog").show(o,n)},_handleReplyToMention:function m(n,event){if(event.threadID===this.props.threadID)c("MercuryParticipants").get(event.participantID,function(o){if(!o||!this.refs.composer)return;var p=new(c("SearchableEntry"))({uniqueID:c("nullthrows")(o.fbid),title:"@"+o.name});c("setImmediate")(function(){this.refs.composer.getInput().focus();this.refs.composer.replyToMention&&this.refs.composer.replyToMention(p)}.bind(this))}.bind(this))}});f.exports=l}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){__p&&__p();this.$MercuryParticipantListRenderer6=function(s){var t=this.$MercuryParticipantListRenderer5;if(t){var u=c("MercuryIDs").getUserIDFromParticipantID(s.id);if(u&&t[u])return t[u]}return this.$MercuryParticipantListRenderer2?s.short_name:s.name}.bind(this);this.$MercuryParticipantListRenderer1=false;this.$MercuryParticipantListRenderer2=false;this.$MercuryParticipantListRenderer3=false;this.$MercuryParticipantListRenderer4=0;this.$MercuryParticipantListRenderer5=null}i.prototype.renderParticipantList=function(s){var t=s.map(this.$MercuryParticipantListRenderer6);switch(t.length){case 0:return j(this.$MercuryParticipantListRenderer1);case 1:return k(t);case 2:return this.$MercuryParticipantListRenderer3?m(t):l(t);case 3:return this.$MercuryParticipantListRenderer3?o(t):n(t);default:return this.$MercuryParticipantListRenderer3?q(t,this.$MercuryParticipantListRenderer4):p(t,this.$MercuryParticipantListRenderer4)}};i.prototype.setIsNewThread=function(s){this.$MercuryParticipantListRenderer1=s;return this};i.prototype.setNameRenderer=function(s){this.$MercuryParticipantListRenderer6=s;return this};i.prototype.setUseShortName=function(s){this.$MercuryParticipantListRenderer2=s;return this};i.prototype.setNickname=function(s){this.$MercuryParticipantListRenderer5=s;return this};i.prototype.setUseAndSeparator=function(s){this.$MercuryParticipantListRenderer3=s;return this};i.prototype.setTotalParticipantCount=function(s){this.$MercuryParticipantListRenderer4=s;return this};function j(s){if(s)return h._("New Message");else return h._("No Participants")}function k(s){return s[0]}function l(s){return h._("{participant1}, {participant2}",[h.param("participant1",s[0]),h.param("participant2",s[1])])}function m(s){return h._("{participant1} and {participant2}",[h.param("participant1",s[0]),h.param("participant2",s[1])])}function n(s){return h._("{participant1}, {participant2}, {participant3}",[h.param("participant1",s[0]),h.param("participant2",s[1]),h.param("participant3",s[2])])}function o(s){return h._("{participant1}, {participant2} and {participant3}",[h.param("participant1",s[0]),h.param("participant2",s[1]),h.param("participant3",s[2])])}function p(s,t){return h._("{participant1}, {participant2}, {participant3}, {others_link}",[h.param("participant1",s[0]),h.param("participant2",s[1]),h.param("participant3",s[2]),h.param("others_link",r((t||s.length)-3))])}function q(s,t){return h._("{participant1}, {participant2} and {others_link}",[h.param("participant1",s[0]),h.param("participant2",s[1]),h.param("others_link",r((t||s.length)-2))])}function r(s){if(s>1)return h._({"*":"{others_count} others"},[h.param("others_count",s,[0])]);else return h._("1 other")}f.exports=i}),null);
__d("MercuryThreadTitle.react",["fbt","MercuryIDs","MessengerTextWithEmoticons.react","MercuryParticipantListRenderer","MercuryParticipants","React","TextWithEmoticons.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"MercuryThreadTitle",propTypes:{isNewThread:i.bool,maxTitle:i.number,thread:i.object.isRequired,viewer:i.string.isRequired,showUnreadCount:i.bool,useShortName:i.bool,useAndSeparator:i.bool},getDefaultProps:function k(){return{isNewThread:false,showUnreadCount:false,useShortName:false,useAndSeparator:false}},getInitialState:function k(){return{participantNames:""}},componentDidMount:function k(){this._renderParticipantsList(this.props)},componentWillReceiveProps:function k(l){this._renderParticipantsList(l)},render:function k(){return c("React").createElement("span",{className:this.props.className},this.props.thread.name?this._renderThreadTitle():this.state.participantNames,this.props.children)},getTitle:function k(){return this.state.participantNames},_renderThreadTitle:function k(){var l=this.props.thread,m=this.props.maxTitle?this.props.maxTitle<l.name.length?l.name.slice(0,this.props.maxTitle)+"...":l.name:l.name,n=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:m});if(!l.unread_count||!this.props.showUnreadCount)return n;return this._renderTitleWithUnreadCount(n,l.unread_count)},_renderParticipantsList:function k(l){__p&&__p();if(l.thread.name)return;this.setState({participantNames:""});var m=c("MercuryIDs").getParticipantIDFromUserID(l.viewer),n=l.thread.participants||[];if(n.length>1)n=n.filter(function(o){return o!=m});c("MercuryParticipants").getMulti(n,function(o){if(!this.isMounted())return;var p=n.map(function(s){return o[s]}),q=l.thread.custom_nickname?{}:null,r=c("MessengerTextWithEmoticons.react");if(q)for(var s in l.thread.custom_nickname)q[s]=c("React").createElement(r,{renderEmoticons:true,renderEmoji:true,text:l.thread.custom_nickname[s]});var t=new(c("MercuryParticipantListRenderer"))().setUseShortName(l.useShortName).setUseAndSeparator(l.useAndSeparator).setIsNewThread(l.isNewThread).setNickname(q).renderParticipantList(p),u=l.showUnreadCount&&l.thread.unread_count?this._renderTitleWithUnreadCount(t,l.thread.unread_count):t;this.setState({participantNames:u})}.bind(this))},_renderTitleWithUnreadCount:function k(l,m){return h._("{conversation-title} ({unread-count})",[h.param("conversation-title",l),h.param("unread-count",m)])}});f.exports=j}),null);
__d("ChatTitleLink.react",["cx","ChatEditParticipantsUtils","Link.react","MercuryThreads","MercuryThreadTitle.react","MessengerAdminGroupUtils","React","TrackingNodes","UserAgent","goURI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("MercuryThreads").get(),j=c("React").PropTypes,k=c("React").createClass({displayName:"ChatTitleLink",propTypes:{href:j.string,thread:j.object,viewer:j.string},getDefaultProps:function m(){return{href:null}},getTitle:function m(){return this.refs.threadTitle.getTitle()},render:function m(){if(!this.props.thread)return null;var n=this.props,o=n.href,p=n.thread,q=n.viewer,r=babelHelpers.objectWithoutProperties(n,["href","thread","viewer"]);return c("React").createElement(l,babelHelpers["extends"]({className:"titlebarText"+(c("UserAgent").isBrowser("Chrome")&&!c("UserAgent").isPlatform("Windows")?" fixemoji":"")+(o===null?" noLink":""),"data-ft":c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.TITLE),"data-hover":"tooltip",onClick:function(s){return this._handleClick(s)}.bind(this),href:o},r),c("React").createElement(c("MercuryThreadTitle.react"),{ref:"threadTitle",isNewThread:i.isNewEmptyLocalThread(p.thread_id),thread:p,useAndSeparator:true,useShortName:!p.is_canonical,viewer:q}))},_handleClick:function m(n){var o=this.props,p=o.href,q=o.thread;if(!p)return;if(q&&q.associated_object)c("goURI")(p);else if(c("MessengerAdminGroupUtils").showParticipantsModal(q.is_canonical,i.isEmptyLocalThread(q.thread_id),q)){c("ChatEditParticipantsUtils").showParticipantsModal(q.thread_id);n.preventDefault()}}}),l=function l(m){return m.href?c("React").createElement(c("Link.react"),m):c("React").createElement("span",m)};f.exports=k}),null);
__d("MercuryTypingAnimation.react",["cx","React","SutroPhase2GatingConfig","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=c("SutroPhase2GatingConfig").enabled_bubble_comments,n="_4a0v"+(!m&&this.props.color==="light"?" _4a0w":"")+(!m&&this.props.color==="dark"?" _4a0x":"")+(m?" _1x3z":"");return c("React").createElement("div",{className:c("joinClasses")(this.props.className,n)},c("React").createElement("div",{className:"_4b0g"},c("React").createElement("div",{className:"_5pd7"}),c("React").createElement("div",{className:"_5pd7"}),c("React").createElement("div",{className:"_5pd7"})))};function l(){i.apply(this,arguments)}l.propTypes={color:k.oneOf(["light","dark"])};l.defaultProps={color:"dark"};f.exports=l}),null);
__d("ChatTypingIndicator.react",["cx","fbt","ChatConfig","Image.react","MercuryConfig","MercuryParticipants","MercuryTypingAnimation.react","ReactComponentWithPureRenderMixin","React","QE2Logger"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("ChatConfig").get("chattab_rounded_profile",false),l=c("React").createClass({displayName:"ChatTypingIndicator",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{isOnline:j.bool,userID:j.string,showName:j.bool},componentDidMount:function n(){c("QE2Logger").logExposureForUser("messenger_growth_tombstone")},render:function n(){var o=void 0;if(this.props.userID)o=c("MercuryParticipants").getNow(this.props.userID);if(!o)return null;var p=c("MercuryConfig").GDWC&&!!this.props.isOnline;return c("React").createElement("div",{className:"_4tdt"},m(o,p),this._renderBubble())},getBubble:function n(){return this.refs.bubble},_renderBubble:function n(){var o=this.props.showName;return c("React").createElement("div",{className:"_4tdv"},c("React").createElement("div",{className:"_5wd4 _1nc7 _2cnu"+(o?" _5ysy":"")},c("React").createElement("div",{className:"_5wd9 _n4o"},c("React").createElement("div",{className:"_5w1r _5wdf _3_om"},c("React").createElement(c("MercuryTypingAnimation.react"),{className:"_5x7x",ref:"bubble"})))))}});function m(n,o){var p=i._("{name}",[i.param("name",n.name)]);return c("React").createElement("div",{className:"_31o4"+(k?" _3njy":"")},c("React").createElement("a",{"aria-label":p,className:"_4tdw","data-hover":"tooltip","data-tooltip-content":p,"data-tooltip-position":"left",href:n.href||"#",ref:"link"},c("React").createElement(c("Image.react"),{src:n.image_src,ref:"image"})),o?c("React").createElement("div",{className:"_sce"}):null)}f.exports=l}),null);
__d("MercuryTypingReceiver",["Arbiter","ChannelConstants","FBIDCheck","MercuryActionType","MercuryIDs","MercuryPayloadSource","MercuryDispatcher","MercurySingletonMixin","MercuryThreadIDMap","MercuryViewer","TypingStates","isEmpty","mixInEventEmitter","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("MercuryThreadIDMap").get(),i=3e4;function j(k){"use strict";__p&&__p();this.$MercuryTypingReceiver1=null;this.$MercuryTypingReceiver2={};this.$MercuryTypingReceiver3=c("MercuryDispatcher").getForFBID(k);this.$MercuryTypingReceiver3.subscribe("update-typing-state",function(m,n){__p&&__p();var o=n.payload_source;if(o!=c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)return;var p=n.actions;if(!p||!p.length)return;var q=c("MercuryActionType").USER_GENERATED_MESSAGE;p.forEach(function(r){if(r.action_type==q&&r.author!=c("MercuryViewer").getID())this.$MercuryTypingReceiver4(r.thread_id,r.author)}.bind(this))}.bind(this));var l=[c("ChannelConstants").getArbiterType("typ"),c("ChannelConstants").getArbiterType("ttyp")];if(!c("FBIDCheck").isUser_deprecated(k))l.push(c("ChannelConstants").getArbiterType("page_typing"));c("Arbiter").subscribe(l,function(m,n){__p&&__p();var o=n.obj,p=this.$MercuryTypingReceiver5(o);if(p){var q=c("MercuryIDs").getParticipantIDFromUserID(o.from.toString());if(o.st==c("TypingStates").TYPING){this.$MercuryTypingReceiver2[p]=this.$MercuryTypingReceiver2[p]||{};var r=this.$MercuryTypingReceiver2[p][q];this.$MercuryTypingReceiver2[p][q]=Date.now();if(!this.$MercuryTypingReceiver1)this.$MercuryTypingReceiver1=c("setTimeoutAcrossTransitions")(function(){this.$MercuryTypingReceiver6()}.bind(this),3e3);!r&&this.$MercuryTypingReceiver7(p)}else if(o.st==c("TypingStates").INACTIVE)this.$MercuryTypingReceiver4(p,q)}}.bind(this))}j.prototype.$MercuryTypingReceiver8=function(k){"use strict";var l=this.$MercuryTypingReceiver2[k]||{},m=Object.keys(l);m.sort(function(n,o){return l[n]-l[o]});return m};j.prototype.$MercuryTypingReceiver6=function(){"use strict";__p&&__p();this.$MercuryTypingReceiver1=null;var k=Date.now(),l={},m=false;for(var n in this.$MercuryTypingReceiver2){var o=false;for(var p in this.$MercuryTypingReceiver2[n]||{})if(this.$MercuryTypingReceiver2[n][p]<k-i){delete this.$MercuryTypingReceiver2[n][p];o=true}else m=true;if(o)l[n]=this.$MercuryTypingReceiver8(n)}if(!c("isEmpty")(l))this.$MercuryTypingReceiver9(l);if(m)this.$MercuryTypingReceiver1=c("setTimeoutAcrossTransitions")(function(){this.$MercuryTypingReceiver6()}.bind(this),3e3)};j.prototype.$MercuryTypingReceiver4=function(k,l){"use strict";if(k in this.$MercuryTypingReceiver2)if(l in this.$MercuryTypingReceiver2[k]){delete this.$MercuryTypingReceiver2[k][l];this.$MercuryTypingReceiver7(k)}};j.prototype.$MercuryTypingReceiver9=function(k){"use strict";this.releaseHeldEventType("state-changed");this.emitAndHold("state-changed",k)};j.prototype.$MercuryTypingReceiver7=function(k){"use strict";var l={};l[k]=this.$MercuryTypingReceiver8(k);this.$MercuryTypingReceiver9(l)};j.prototype.$MercuryTypingReceiver5=function(k){"use strict";if(k.thread_fbid)return h.getClientIDFromServerIDNow(k.thread_fbid.toString());if(k.type==="typ"||k.type==="page_typing")return c("MercuryIDs").getThreadIDFromUserID(k.from.toString());return null};c("mixInEventEmitter")(j,{"state-changed":true});Object.assign(j,c("MercurySingletonMixin"));f.exports=j}),null);
__d("ChatTypingIndicators.react",["fbt","ChatTypingIndicator.react","DOM","immutable","MercuryIDs","MercuryThreadInformer","MercuryThreads","MercuryTypingReceiver","MercuryParticipants","React","ReactDOM","SubscriptionsHandler","TooltipData","createObjectFrom","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("MercuryThreads").get(),j=c("React").PropTypes,k=c("React").createClass({displayName:"ChatTypingIndicators",propTypes:{indicatorClass:j.func,indicatorsWillShow:j.func,indicatorsDidShow:j.func,onlineUsers:j.instanceOf(c("immutable").List),rootClassName:j.string,threadID:j.string.isRequired,viewer:j.string.isRequired},getDefaultProps:function l(){return{indicatorClass:c("ChatTypingIndicator.react"),indicatorsWillShow:c("emptyFunction"),indicatorsDidShow:c("emptyFunction")}},getInitialState:function l(){return{typingUserIDs:[]}},componentDidMount:function l(){var m=c("MercuryThreadInformer").getForFBID(this.props.viewer),n=c("MercuryTypingReceiver").getForFBID(this.props.viewer);this._subscriptions=new(c("SubscriptionsHandler"))();this._subscriptions.addSubscriptions(n.addRetroactiveListener("state-changed",this.typingStateChanged),m.subscribe("messages-received",this.messagesReceived))},componentWillReceiveProps:function l(m){if(m.threadID!=this.props.threadID)this.setState({typingUserIDs:[]})},componentWillUpdate:function l(m,n){if(n.typingUserIDs.length>0)this.props.indicatorsWillShow()},componentDidUpdate:function l(){if(this.state.typingUserIDs.length>0)this.props.indicatorsDidShow();c("MercuryParticipants").getMulti(this.state.typingUserIDs,function(m){if(this.isMounted())this.state.typingUserIDs.forEach(function(n){var o=m[n],p=this.refs[n]&&this.refs[n].getBubble();if(p&&o)c("TooltipData").set(c("ReactDOM").findDOMNode(p),this.renderTooltip(o.short_name),"above","left")}.bind(this))}.bind(this))},componentWillUnmount:function l(){this._subscriptions.release()},render:function l(){if(!c("MercuryIDs").isValid(this.props.threadID))return null;var m=i.getThreadMetaNow(this.props.threadID);if(m&&!m.is_subscribed)return null;var n=c("MercuryIDs").isGroupChat(this.props.threadID);return c("React").createElement("div",{className:this.props.rootClassName},this.state.typingUserIDs.map(function(o){return this._renderTypingIndicator(o,!!n)}.bind(this)))},_renderTypingIndicator:function l(m,n){var o=this.props.indicatorClass,p=this.props.onlineUsers!==undefined&&this.props.onlineUsers.includes(c("MercuryIDs").getUserIDFromParticipantID(m));return c("React").createElement(o,{key:m,ref:m,showName:n,userID:m,isOnline:p})},renderTooltip:function l(m){var n=c("DOM").create("span");c("ReactDOM").render(c("React").createElement("span",null,h._("{name} is typing...",[h.param("name",m)])),n);return n},typingStateChanged:function l(m){if(this.props.threadID in m)this.setState({typingUserIDs:m[this.props.threadID].slice().sort()})},messagesReceived:function l(m,n){if(this.props.threadID in n){var o=n[this.props.threadID],p=c("createObjectFrom")(o.map(function(q){return q.author}));this.setState({typingUserIDs:this.state.typingUserIDs.filter(function(q){return!p[q]}).sort()})}}});f.exports=k}),null);
__d("SimpleNUXMessageEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MARK_AS_SEEN:"seen",USER_IS_ELIGIBLE:"eligible"})}),null);
__d("XSimpleNUXMessagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/nux/{msg_id}/seen/",{msg_id:{type:"Int",required:true}})}),null);
__d("SimpleNUXMessage",["AsyncRequest","SimpleNUXMessageEvents","SimpleNUXMessageTypedLogger","SimpleNUXMessageTypes","SimpleNUXMessageTypesToShow","XSimpleNUXMessagesController"],(function a(b,c,d,e,f,g){__p&&__p();var h=new Set();function i(l,event){var m=c("SimpleNUXMessageTypesToShow")[l];new(c("SimpleNUXMessageTypedLogger"))().setNuxMessageType(c("SimpleNUXMessageTypes")[m]).setName(m).setEvent(event).setEventTimestamp(Math.floor(Date.now()/1e3)).log()}function j(l){var m=!c("SimpleNUXMessageTypesToShow")[l];if(!m&&!h.has(l)){i(l,c("SimpleNUXMessageEvents").USER_IS_ELIGIBLE);h.add(l)}return m}function k(l){delete c("SimpleNUXMessageTypesToShow")[l];var m=c("XSimpleNUXMessagesController").getURIBuilder().setInt("msg_id",l).getURI();new(c("AsyncRequest"))().setURI(m).send()}f.exports={hasUserSeenMessage:j,markMessageSeenByUser:k}}),null);
__d("ChatTabHeader.react",["cx","fbt","Promise","AutoFocusableLink.react","Bootloader","BootloadOnRender.react","MercuryBootloadOnInteraction.react","ChatCloseButton.react","ChatConfig","ChatTitleLink.react","EventPlanExperiment","EventReminderStateStore","JSResource","LayerFadeOnHide","LazyComponent.react","LoadOnRender.react","MercuryThreadInfo","MercuryTypingAnimation.react","MessengerAdminGroupUtils","MessengerJoinableModeType","React","SimpleNUXMessage","TooltipData","XUIAmbientNUX.react","requireWeak","gkx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m="118809038721180",n=function n(q){c("Bootloader").loadModules(["archiveWarningReact"],function(r){var s=r.jsComponent;return q(s)},"ChatTabHeader.react")},o=c("gkx")("AT7esXHVKl_rB1r5C-zEkmCVhZJMRd4NQJBo-b1EyRH6vUNk2XZEcNJ3WOEvumLbmsR6a_bwkl5o0d60WUY3jm1v");j=babelHelpers.inherits(p,c("React").PureComponent);k=j&&j.prototype;function p(q){__p&&__p();k.constructor.call(this,q);this.$ChatTabHeader1=false;this.$ChatTabHeader6=function(){for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];this.props.onClick.apply(null,s)}.bind(this);this.$ChatTabHeader16=function(){return this.refs.menu}.bind(this);this.$ChatTabHeader17=function(){c("SimpleNUXMessage").markMessageSeenByUser(m);this.setState({eventPlanNuxSeen:true})}.bind(this);this.state={eventPlanNuxSeen:c("SimpleNUXMessage").hasUserSeenMessage(m)};this.$ChatTabHeader2=new(c("Promise"))(function(r,s){this.$ChatTabHeader3=r}.bind(this));this.$ChatTabHeader4=c("JSResource")("ChatTabMenu.react").__setRef("ChatTabHeader.react")}p.prototype.componentDidMount=function(){this.$ChatTabHeader1=true;c("requireWeak")("ChatVideoCallButton.react",function(q){if(this.$ChatTabHeader1)this.setState({RTCComponent:q})}.bind(this));if(this.props.isMuted)this.getMenu()};p.prototype.componentWillUnmount=function(){this.$ChatTabHeader1=false};p.prototype.render=function(){var q=this.$ChatTabHeader5(),r=this.props.isRaised;return c("React").createElement("div",{className:"_15p4"+(!this.props.isRaised?" _15p5":"")+(r||!q?" _2pis":""),onMouseUp:this.$ChatTabHeader6,ref:"root",role:"presentation"},c("React").createElement("div",{"aria-level":"2",className:"titlebarTextWrapper _15p6",role:"heading"},c("React").createElement("div",{className:"_61td",role:r?"presentation":"button",tabIndex:r?-1:0},q,this.$ChatTabHeader7()),this.props.isTyping&&!this.props.isRaised?c("React").createElement(c("MercuryTypingAnimation.react"),{className:"_15p8",color:"dark"}):null),c("React").createElement("ul",{className:"_32ca"+(o?" _2qi8":"")},this.$ChatTabHeader8(),c("React").createElement("li",{className:"_32cb"},c("React").createElement(c("ChatCloseButton.react"),{active:this.props.isActive,className:"_3olu _3olv",onClick:this.props.onCloseClick}))))};p.prototype.focus=function(){this.refs.root&&this.refs.root.focus()};p.prototype.getMenu=function(){this.$ChatTabHeader4.load().done(function(q){return this.$ChatTabHeader1&&this.setState({MenuComponent:q})}.bind(this));return this.$ChatTabHeader2};p.prototype.$ChatTabHeader8=function(){if(!this.props.isRaised)return null;var q=[this.$ChatTabHeader9(),this.$ChatTabHeader10(),this.$ChatTabHeader11(),this.$ChatTabHeader12(),this.$ChatTabHeader13(),this.$ChatTabHeader14()];return q.filter(Boolean)};p.prototype.$ChatTabHeader13=function(){return this.$ChatTabHeader15({isAudio:true})};p.prototype.$ChatTabHeader12=function(){return this.$ChatTabHeader15({isAudio:false})};p.prototype.$ChatTabHeader15=function(q){__p&&__p();if(this.props.isEmptyChat)return null;var r=this.props,s=r.isGroupChat,t=r.onRTCNuxCloseButtonClick,u=r.rtcNuxShown,v=r.thread,w=r.threadID,x=r.viewer;if(s){if(!v||v.participants.length<=1||!c("MercuryThreadInfo").canReply(v))return null;if(v.joinable_mode&&v.joinable_mode.mode===c("MessengerJoinableModeType").JOINABLE)return null;if(q.isAudio){if(!c("ChatConfig").get("rtc_conferencing_www"))return null}else if(!c("ChatConfig").get("rtc_conferencing_www_video"))return null}var y=babelHelpers["extends"]({isGroupChat:s,onRTCNuxCloseButtonClick:t,rtcCallData:v&&v.rtc_call_data,rtcNuxShown:u&&q.isAudio,threadID:w,thread:v,viewer:x},q);y.className="_3olv"+(y.isAudio?" _2fpc":"")+(!y.isAudio?" _2fpd":"");var z=this.state.RTCComponent;return c("React").createElement("li",{className:"_3a61"+(y.isAudio?" _461a":"")+(!y.isAudio?" _461b":""),key:"rtc"+(y.isAudio?"audio":"video")},z?c("React").createElement(z,y):c("React").createElement(c("MercuryBootloadOnInteraction.react"),{component:c("React").createElement(c("LazyComponent.react"),y),loader:c("JSResource")("ChatVideoCallButton.react").__setRef("ChatTabHeader.react"),placeholder:c("React").createElement(c("AutoFocusableLink.react"),{className:y.className,role:"button"})}))};p.prototype.$ChatTabHeader14=function(){__p&&__p();if(this.props.isEmptyChat)return null;var q=babelHelpers["extends"]({attachmentsShelf:this.props.attachmentsShelf,isGroupChat:this.props.isGroupChat,isEmptyChat:this.props.isEmptyChat,isMuted:this.props.isMuted,nameConversationFunc:this.props.nameConversationFunc,otherUserID:this.props.otherUserID,showAddFriend:this.props.showAddFriend,sheetController:this.props.sheetController,threadID:this.props.threadID,onMount:this.$ChatTabHeader3,isMultiCompany:this.props.isMultiCompany},this.props.additionalMenuProps);q.className="_3olv _1ll-";var r=i._("Options"),s=this.state.MenuComponent,t=false;if(this.props.threadID){var u=c("EventReminderStateStore").getEvent(this.props.threadID);t=u&&!u.exists&&!this.state.eventPlanNuxSeen&&c("EventPlanExperiment").shouldShowEntryPointNuxWithExposure()}return c("React").createElement("div",{key:"menu"},c("React").createElement("li",{className:"_3a61 _461_",ref:"menu"},s?c("React").createElement(s,q):c("React").createElement(c("MercuryBootloadOnInteraction.react"),{component:c("React").createElement(c("LazyComponent.react"),q),loader:c("JSResource")("ChatTabMenu.react").__setRef("ChatTabHeader.react"),placeholder:c("React").createElement(c("AutoFocusableLink.react"),{className:q.className,"aria-label":r,role:"button"})})),c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"right",behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:this.$ChatTabHeader16,onCloseButtonClick:this.$ChatTabHeader17,shown:t,width:"auto"},i._("Click here to start a new plan.")))};p.prototype.$ChatTabHeader11=function(){if(this.props.isPageChat||this.props.isEmptyChat||this.props.isMultiCompany&&!this.props.isGroupChat)return null;var q={className:"_3olv _3jyj",isFBAtWork:this.props.isWorkUser,shouldAddToApprovalQueue:c("MessengerAdminGroupUtils").shouldAddToApprovalQueue(this.props.thread,this.props.viewer),shown:true,onClick:function(){return this.props.sheetController.openAddFriendsSheet()}.bind(this)},r=i._("Add");return c("React").createElement("li",{className:"_3a61 _4620",key:"add"},c("React").createElement(c("MercuryBootloadOnInteraction.react"),{component:c("React").createElement(c("LazyComponent.react"),q),loader:c("JSResource")("ChatAddToThreadButton.react").__setRef("ChatTabHeader.react"),placeholder:c("React").createElement(c("AutoFocusableLink.react"),{"aria-label":r,className:q.className,role:"button"})}))};p.prototype.$ChatTabHeader9=function(){if(!this.props.isViewerEmployee)return null;var q=this.props.participants,r=q?q.length>0&&q.every(function(s){return!!(s&&s.employee)}):false;if(!r)return null;return c("React").createElement("li",{key:"archiveWarning"},c("React").createElement(c("LoadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{shown:true}),loader:n,placeholder:c("React").createElement("div",null)}))};p.prototype.$ChatTabHeader10=function(){if(!this.props.isWorkUser||!this.props.isMultiCompany)return null;var q=i._("Multi company chat");return c("React").createElement("li",{key:"multiCompanyBadge"},c("React").createElement("div",{className:"_3olv"},c("React").createElement(c("AutoFocusableLink.react"),babelHelpers["extends"]({className:"_kp6",onClick:this.props.onCloseClick,lable:q},c("TooltipData").propsFor(q,"above")))))};p.prototype.$ChatTabHeader18=function(){return c("React").createElement("span",{className:"_3a61"+(!this.props.isRaised?" _3-99":"")},c("React").createElement("span",{className:"_3olv _2nlt"}))};p.prototype.$ChatTabHeader7=function(){return c("React").createElement(c("ChatTitleLink.react"),babelHelpers["extends"]({href:this.props.isRaised?this.props.href:undefined,thread:this.props.thread,viewer:this.props.viewer},c("TooltipData").propsFor(this.props.tooltip,"above")))};p.prototype.$ChatTabHeader5=function(){var q=this.props,r=q.isRaised,s=q.thread;if(!r&&s&&s.unread_count>0)return c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{className:"_3-8_ _3-99",count:s.unread_count,type:"special"}),loader:c("JSResource")("XUIBadge.react").__setRef("ChatTabHeader.react"),placeholder:c("React").createElement("span",null)});return this.$ChatTabHeader18()};p.propTypes={additionalMenuProps:l.object,attachmentsShelf:l.object.isRequired,href:l.string,isActive:l.bool.isRequired,isEmptyChat:l.bool,isGroupChat:l.bool,isMuted:l.bool,isPageChat:l.bool,isRaised:l.bool,isTyping:l.bool,isViewerEmployee:l.bool,isWorkUser:l.bool,nameConversationFunc:l.func.isRequired,otherUserID:l.string,participants:l.arrayOf(l.object),rtcNuxShown:l.bool.isRequired,sheetController:l.object.isRequired,showAddFriend:l.func.isRequired,thread:l.object,threadID:l.string,tooltip:l.string,viewer:l.string.isRequired,onClick:l.func.isRequired,onCloseClick:l.func.isRequired,onRTCNuxCloseButtonClick:l.func.isRequired};f.exports=p}),null);
__d("getGroupNameTooltipFromParticipantIDs",["fbt","MercuryParticipants","MercuryViewer"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=10,j="\n";function k(m,n){__p&&__p();var o=[],p=c("MercuryViewer").getID();m=m&&m.filter(function(s){return s!==p});if(!m||!m.length){n(null);return}var q=m.length,r=q-i;if(r>1)m=m.slice(0,i);c("MercuryParticipants").getMulti(m,function(s){for(var t in s){var u=s[t];o.push(u.name)}if(r>1){var v=h._("and {number of hidden chat participants} more.",[h.param("number of hidden chat participants",r)]);o.push(v)}n(o.join(j))})}function l(m){__p&&__p();var n=[],o=c("MercuryViewer").getID();m=m&&m.filter(function(r){return r!==o});if(!m||!m.length)return null;n=m.map(function(r){var s=c("MercuryParticipants").getOrFetch(r);return s&&s.name}).filter(function(r){return!!r});var p=m.length-(m.length-n.length)-i;if(p>1){n=n.slice(0,i);var q=h._("and {number of hidden chat participants} more.",[h.param("number of hidden chat participants",p)]);n.push(q)}return n.join(j)}f.exports={getGroupNameTooltipFromParticipantIDs:l,getGroupNameTooltipFromParticipantIDsAsync:k}}),null);
__d("getTitleHrefFromThreadID",["MercuryIDs","MercuryParticipants","WebMessengerThreadPermalinks"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();if(c("MercuryIDs").isLocalThread(i)){j();return}var k=c("MercuryIDs").getUserIDFromThreadID(i);if(k)c("MercuryParticipants").get(c("MercuryIDs").getParticipantIDFromUserID(k),function(l){if(l.href)j(l.href);else j(c("WebMessengerThreadPermalinks").getThreadURIFromUserID(k))});else c("WebMessengerThreadPermalinks").getThreadURI(i,j)}f.exports=h}),null);
__d("ChatTabHeaderContainer.react",["ChatTabHeader.react","CurrentUser","MercuryIDs","MercuryParticipants","MercuryThreads","MercuryThreadInfo","React","SubscriptionsHandler","WorkModeConfig","getPageIDFromThreadID","getGroupNameTooltipFromParticipantIDs","getTitleHrefFromThreadID"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("getGroupNameTooltipFromParticipantIDs").getGroupNameTooltipFromParticipantIDs,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").PureComponent);i=h&&h.prototype;function l(m){i.constructor.call(this,m);this.$ChatTabHeaderContainer1=new(c("SubscriptionsHandler"))();this.state=this.calculateState(m)}l.prototype.calculateState=function(m){__p&&__p();var n=false,o=true,p=false,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0;if(m.threadID){var v=c("MercuryThreads").getForFBID(m.viewer);t=v.getOrFetch(m.threadID);n=c("MercuryIDs").isGroupChat(m.threadID);o=v.isNewEmptyLocalThread(m.threadID);p=!!t&&c("MercuryThreadInfo").isMuted(t);q=c("MercuryIDs").getUserIDFromThreadID(m.threadID);r=c("getPageIDFromThreadID")(m.threadID);if(t){s=t.participants.map(c("MercuryParticipants").getOrFetch,c("MercuryParticipants"));u=j(t.participants)}}var w=this.state&&this.state.additionalMenuProps||{};if(m)w=babelHelpers["extends"]({},w,m.additionalMenuProps);return{additionalMenuProps:w,isEmptyChat:o,isGroupChat:n,isMuted:p,otherUserID:q,pageID:r,participants:s,thread:t,tooltip:u}};l.prototype.componentWillMount=function(){this.$ChatTabHeaderContainer1.addSubscriptions(c("MercuryThreads").addListener("change",function(){this.setState(this.calculateState(this.props))}.bind(this)),c("MercuryParticipants").addListener("change",function(){this.setState(this.calculateState(this.props))}.bind(this)))};l.prototype.componentDidMount=function(){this.$ChatTabHeaderContainer2();this.props.onMount&&this.props.onMount(this)};l.prototype.componentWillReceiveProps=function(m){if(m.threadID!==this.props.threadID)this.$ChatTabHeaderContainer2();this.setState(this.calculateState(m))};l.prototype.componentWillUnmount=function(){this.$ChatTabHeaderContainer1.release()};l.prototype.render=function(){return c("React").createElement(c("ChatTabHeader.react"),{additionalMenuProps:this.state.additionalMenuProps,attachmentsShelf:this.props.attachmentsShelf,href:this.state.href,isActive:this.props.isActive,isEmptyChat:this.state.isEmptyChat,isGroupChat:this.state.isGroupChat,isMuted:this.state.isMuted,isPageChat:!!this.state.pageID,isRaised:this.props.isRaised,isTyping:this.props.isTyping,isViewerEmployee:c("CurrentUser").isEmployee(),isWorkUser:!!c("WorkModeConfig").is_work_user,nameConversationFunc:this.props.nameConversationFunc,otherUserID:this.state.otherUserID,participants:this.state.participants,rtcNuxShown:this.props.rtcNuxShown,sheetController:this.props.sheetController,showAddFriend:this.props.showAddFriend,ref:"header",thread:this.state.thread,threadID:this.props.threadID,tooltip:this.state.tooltip,viewer:this.props.viewer,onClick:this.props.onClick,onCloseClick:this.props.onCloseClick,onRTCNuxCloseButtonClick:this.props.onRTCNuxCloseButtonClick,isMultiCompany:this.props.isMultiCompany})};l.prototype.focus=function(){this.refs.header.focus()};l.prototype.setAdditionalMenuProps=function(m){var n=babelHelpers["extends"]({},this.state.additionalMenuProps,m);this.setState({additionalMenuProps:n})};l.prototype.getMenu=function(){return this.refs.header.getMenu()};l.prototype.$ChatTabHeaderContainer2=function(){c("getTitleHrefFromThreadID")(this.props.threadID,function(m){return this.setState({href:m})}.bind(this))};l.propTypes={additionalMenuProps:k.object,attachmentsShelf:k.object.isRequired,isActive:k.bool.isRequired,isRaised:k.bool,isTyping:k.bool,nameConversationFunc:k.func.isRequired,rtcNuxShown:k.bool.isRequired,sheetController:k.object.isRequired,showAddFriend:k.func.isRequired,threadID:k.string,viewer:k.string.isRequired,onClick:k.func.isRequired,onCloseClick:k.func.isRequired,onMount:k.func,onRTCNuxCloseButtonClick:k.func.isRequired};f.exports=l}),null);
__d("MontageDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=new j({strict:false})}),null);
__d("MontageActions",["MontageDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({REQUEST_UPDATE:null,HAS_UPDATED:null}),i={Types:h,requestUpdate:function j(k){c("MontageDispatcher").dispatch({type:h.REQUEST_UPDATE,threadFBID:k})},hasUpdated:function j(k){c("MontageDispatcher").dispatch({type:h.HAS_UPDATED,threadFBID:k})}};f.exports=i}),null);
__d("MercuryTypeaheadDataSource",["CurrentUser","DataSource","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","OrderedFriendsList","ShortProfiles","WorkModeConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=[],k={},l={},m={},n=[],o=false,p=false;h=babelHelpers.inherits(q,c("DataSource"));i=h&&h.prototype;function q(r){"use strict";r=r||{};r.kanaNormalization=true;i.constructor.call(this,r);this.showDefaultList=r.showDefaultList||false}q.prototype.dirty=function(){"use strict";this.$MercuryTypeaheadDataSource1=j;this.localCache=l;this.queryCache=k;this.queryIDs=m;this.defaultList=n;return this};q.prototype.bootstrap=function(){"use strict";__p&&__p();if(o||p)return false;p=true;c("ShortProfiles").fetchAll().then(function(){this.updateBootstrapData();p=false;o=true;if(this.showDefaultList)this.inform("show-default")}.bind(this),function(){}.bind(this));return true};q.prototype.updateBootstrapData=function(){"use strict";__p&&__p();var r=this.getCachedShortProfileIDs(),s=c("WorkModeConfig").is_work_user?c("MercuryParticipantTypes").FB4C:c("MercuryParticipantTypes").FRIEND,t=r.map(function(v){var w=c("ShortProfiles").getNow(v),x=v==c("CurrentUser").getID()?s:w.type,y=[w.additionalName,w.alternateName].concat(w.searchTokens||[]).join(" "),z=w.name,A=null;return{uid:v,index:c("OrderedFriendsList").getActiveRank(v),text:z,subtext:A,tokens:y,localized_text:w.name,additional_text:w.additionalName,photo:w.thumbSrc,render_type:x,type:c("MercuryTypeaheadConstants").USER_TYPE}});if(t.length)this.addEntries(t);if(!this.showDefaultList)return;var u=t.sort(function(v,w){return v.index-w.index}).slice(0,5);n=this.buildData(u.map(function(v){return v.uid}));this.defaultList=n};q.prototype.query=function(r,s,t,u){"use strict";var v=s||r.length===1;return i.query.call(this,r,v,t,u)};q.prototype.getQueryData=function(r,s){"use strict";return babelHelpers["extends"]({},i.getQueryData.call(this,r,s))};q.prototype.setEntry=function(r,s){"use strict";this.$MercuryTypeaheadDataSource1[r]=s};q.prototype.getEntry=function(r){"use strict";return this.$MercuryTypeaheadDataSource1[r]||null};q.prototype.getCachedShortProfileIDs=function(){"use strict";var r=c("ShortProfiles").getCachedProfileIDs(),s=r.filter(function(t){var u=c("ShortProfiles").getNow(t);return t==c("CurrentUser").getID()||u.type===c("MercuryParticipantTypes").FRIEND||u.type===c("MercuryParticipantTypes").FB4C||u.type===c("MercuryParticipantTypes").PAGE&&c("MercuryConfig").LinkedAgents&&c("MercuryConfig").LinkedAgents.indexOf(t.toString())>-1});return s};q.prototype.isBootstrapped=function(){"use strict";return o};q.prototype.isBootstrapping=function(){"use strict";return p};q.prototype.processEntries=function(r,s){"use strict";r=r.map(function(t){if(t.index==null&&(t.render_type===c("MercuryParticipantTypes").FRIEND||t.render_type===c("MercuryParticipantTypes").FB4C))t.index=c("OrderedFriendsList").getActiveRank(t.uid);if(t.render_type===c("MercuryParticipantTypes").PAGE&&c("MercuryConfig").LinkedAgents&&c("MercuryConfig").LinkedAgents.indexOf(t.uid.toString())>-1)t.index=1;return t});return i.processEntries.call(this,r)};q.prototype.mergeUids=function(r,s,t,u){"use strict";var v=s.sort(function(w,x){return this.getEntry(w).index-this.getEntry(x).index}.bind(this));return i.mergeUids.call(this,r,v,t,u)};q.prototype.setShowDefaultList=function(r){"use strict";this.showDefaultList=r};f.exports=q}),null);
__d("ChatTabTypeaheadDataSource",["MercuryConfig","MercuryTypeaheadConstants","MercuryTypeaheadDataSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("MercuryTypeaheadDataSource"));i=h&&h.prototype;function j(k){"use strict";k=k||{};k.maxResults=c("MercuryTypeaheadConstants").COMPOSER_CHATTAB_MAX;i.constructor.call(this,k);this.$ChatTabTypeaheadDataSource1=true}j.prototype.buildData=function(k){"use strict";__p&&__p();var l=[],m=[],n=[],o=[],p=[],q=[],r=[];k.forEach(function(t){__p&&__p();var u=i.getEntry.call(this,t);switch(u.render_type){case c("MercuryTypeaheadConstants").FRIEND_TYPE:l.push(t);break;case c("MercuryTypeaheadConstants").THREAD_TYPE:if(this.$ChatTabTypeaheadDataSource1)m.push(t);break;case c("MercuryTypeaheadConstants").NON_FRIEND_TYPE:n.push(t);break;case c("MercuryTypeaheadConstants").FB4C_TYPE:o.push(t);break;case c("MercuryTypeaheadConstants").PAGE_TYPE:if(this.$ChatTabTypeaheadDataSource1)if(c("MercuryConfig").LinkedAgents&&c("MercuryConfig").LinkedAgents.indexOf(t.toString())>-1)q.push(t);else p.push(t);break;case c("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:r.push(t);break;default:break}}.bind(this),this);var s=q.concat(l,o,m,p,n,r);return i.buildData.call(this,s)};j.prototype.query=function(k,l,m,n){"use strict";return i.query.call(this,k,l,m,n)};j.prototype.respond=function(k,l,m){"use strict";return i.respond.call(this,k,l,m)};j.prototype.setShowThreads=function(k){"use strict";this.$ChatTabTypeaheadDataSource1=k};f.exports=j}),null);
__d("MercuryCanonicalGroupThreadManager",["Bootloader","KeyedCallbackManager","MercuryIDs","MercuryPayloadSource","MercuryServerPayloadPreprocessor","MercurySingletonProvider","MercuryThreads","MercuryServerDispatcher","SubscriptionsHandler"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){this.$MercuryCanonicalGroupThreadManager1=j;this.$MercuryCanonicalGroupThreadManager2=new(c("KeyedCallbackManager"))();this.$MercuryCanonicalGroupThreadManager3=c("MercuryServerPayloadPreprocessor").getForFBID(this.$MercuryCanonicalGroupThreadManager1);this.$MercuryCanonicalGroupThreadManager6=c("MercuryThreads").getForFBID(this.$MercuryCanonicalGroupThreadManager1);this.$MercuryCanonicalGroupThreadManager4={};this.$MercuryCanonicalGroupThreadManager8();this.$MercuryCanonicalGroupThreadManager9();this.$MercuryCanonicalGroupThreadManager7={}}h.getForFBID=function(j){return i.getForFBID(j)};h.get=function(){return i.get()};h.prototype.getCanonicalGroupThreadIDForParticipants=function(j,k){j=this.$MercuryCanonicalGroupThreadManager10(j);var l=this.$MercuryCanonicalGroupThreadManager11(j),m=this.$MercuryCanonicalGroupThreadManager2.executeOrEnqueue(l,k);this.$MercuryCanonicalGroupThreadManager12(j);return m};h.prototype.unsubscribe=function(j){if(j)this.$MercuryCanonicalGroupThreadManager2.unsubscribe(j)};h.prototype.$MercuryCanonicalGroupThreadManager11=function(j){return j.sort().join(",")};h.prototype.$MercuryCanonicalGroupThreadManager13=function(j,k){var l=c("MercuryIDs").getThreadIDFromThreadFBID(k);this.$MercuryCanonicalGroupThreadManager2.setResource(j,l);this.$MercuryCanonicalGroupThreadManager4[l]=j};h.prototype.$MercuryCanonicalGroupThreadManager12=function(j){var k=this.$MercuryCanonicalGroupThreadManager11(j),l={canonical_group_key:k,participants:j};c("MercuryServerDispatcher").trySend("/ajax/mercury/search_canonical_groups.php",l,null,this.$MercuryCanonicalGroupThreadManager1)};h.prototype.$MercuryCanonicalGroupThreadManager8=function(){c("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_canonical_groups.php":{request_user_id:this.$MercuryCanonicalGroupThreadManager1,mode:c("MercuryServerDispatcher").IMMEDIATE,handler:function(j){this.handleUpdate(j)}.bind(this)}})};h.prototype.$MercuryCanonicalGroupThreadManager10=function(j){if(j.indexOf(this.$MercuryCanonicalGroupThreadManager1)===-1)j.push(this.$MercuryCanonicalGroupThreadManager1);return j};h.prototype.handleUpdate=function(j){if(j.mercury_payload)this.$MercuryCanonicalGroupThreadManager3.handleUpdate(j.mercury_payload);var k=j.canonical_group;if(k)for(var l in k)this.$MercuryCanonicalGroupThreadManager13(l,k[l])};h.prototype.getNow=function(j){var k=this.$MercuryCanonicalGroupThreadManager11(this.$MercuryCanonicalGroupThreadManager10(j));return this.$MercuryCanonicalGroupThreadManager2.getResource(k)};h.prototype.$MercuryCanonicalGroupThreadManager9=function(){c("Bootloader").loadModules(["MercuryThreadInformer"],function(j){var k=j.getForFBID(this.$MercuryCanonicalGroupThreadManager1),l=new(c("SubscriptionsHandler"))();l.addSubscriptions(k.subscribe("threads-deleted",function(m,n){for(var o in n)if(this.$MercuryCanonicalGroupThreadManager4[o]){this.$MercuryCanonicalGroupThreadManager2.setResource(this.$MercuryCanonicalGroupThreadManager4[o],undefined);delete this.$MercuryCanonicalGroupThreadManager4[o]}}.bind(this)));this.$MercuryCanonicalGroupThreadManager5=l}.bind(this),"MercuryCanonicalGroupThreadManager")};var i=new(c("MercurySingletonProvider"))(h);f.exports=h}),null);
__d("FantaGetMessageActions",["FantaDispatcher","MercuryCanonicalGroupThreadManager","MercuryIDs","MercuryTypeaheadConstants","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({ADD_PARTICIPANTS:null,CLEAR_PARTICIPANTS:null,CLEAR_PREVIEW:null,FETCH_MORE_MESSAGES:null,ON_BOOTLOAD_TYPEAHEAD:null,ON_GET_THREAD_PREVIEW_RESPONSE:null,ON_GET_THREAD_RESPONSE:null,ON_MESSAGE_STORE_RESPONSE:null,ON_PAGE_NULL_RESPONSE:null,ON_PRIVACY_STATE_CHANGE:null,ON_SHOW_CONTEXT_BANNER_TIMER:null,REFRESH_THREAD:null,THREADS_UPDATED:null}),i={Types:h,addParticipants:function j(k,l){__p&&__p();var m,n=l.length===1&&l[0].getInfo().render_type===c("MercuryTypeaheadConstants").THREAD_TYPE,o=void 0;if(n){var p=l[0].getInfo().mercury_thread;if(p)o=c("MercuryIDs").getThreadIDFromThreadFBID(p.thread_fbid)}else if(l.length===1){var q=l[0].info&&l[0].info.uid;if(q)o=c("MercuryIDs").getThreadIDFromUserID(q)}else if(l.length===0){c("FantaDispatcher").dispatch({type:h.CLEAR_PARTICIPANTS,tabID:k});return}else(function(){var r=c("MercuryCanonicalGroupThreadManager").get(),s=l.map(function(u){return u.info.uid});c("FantaDispatcher").dispatch({type:h.CLEAR_PREVIEW,tabID:k,tokens:l});var t=r.getCanonicalGroupThreadIDForParticipants(Array.from(s),function(o){r.unsubscribe(t);if(o)c("FantaDispatcher").dispatch({type:h.ADD_PARTICIPANTS,previewTabID:o,tabID:k,tokens:l})})})();if(o)c("FantaDispatcher").dispatch({type:h.ADD_PARTICIPANTS,previewTabID:o,tabID:k,tokens:l})},onBootloadTypeahead:function j(k,l){c("FantaDispatcher").dispatch({type:h.ON_BOOTLOAD_TYPEAHEAD,tabID:k,thread:l})},fetchMoreMessages:function j(k){c("FantaDispatcher").dispatch({type:h.FETCH_MORE_MESSAGES,threadID:k})},refreshThread:function j(k){c("FantaDispatcher").dispatch({type:h.REFRESH_THREAD,threadID:k})},onGetThreadResponse:function j(k){c("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_RESPONSE,thread:k})},onGetThreadPreviewResponse:function j(k,l){c("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_PREVIEW_RESPONSE,tabID:k,thread:l})},onShowContextBannerTimer:function j(k){c("FantaDispatcher").dispatch({type:h.ON_SHOW_CONTEXT_BANNER_TIMER,threadID:k})},onMessageStoreResponse:function j(k,l){c("FantaDispatcher").dispatch({type:h.ON_MESSAGE_STORE_RESPONSE,messages:k,tabID:l})},threadsUpdated:function j(k){c("FantaDispatcher").dispatch({type:h.THREADS_UPDATED,threads:k})},onPrivacyStateChange:function j(k,l){c("FantaDispatcher").dispatch({type:h.ON_PRIVACY_STATE_CHANGE,threadID:k,privacyState:l})},onPageNullResponse:function j(k,l){c("FantaDispatcher").dispatch({type:h.ON_PAGE_NULL_RESPONSE,threadID:k,nullStateCTA:l})}};f.exports=i}),null);
__d("FantaTabSheetActions",["FantaDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({CLOSE_ADD_FRIENDS_SHEET:null,CLOSE_ADD_MORE_FRIENDS_SHEET:null,CLOSE_EMPLOYEE_PERSONAL_USER_SHEET:null,CLOSE_EMPLOYEE_WORK_USER_SHEET:null,CLOSE_NAME_CONVERSATION_TAB_SHEET:null,CLOSE_PAGE_INDICATOR_SHEET:null,CLOSE_READ_ONLY_PERMANENT_SHEET:null,CLOSE_READ_ONLY_SHEET:null,CLOSE_USER_FOCUS_AND_BYPASS_SHEET:null,CLOSE_USER_TIMEZONE_SHEET:null,ON_BOOTLOAD_EVENT_REMINDER:null,ON_IS_PAGE_TAB:null,OPEN_ADD_MORE_FRIENDS_SHEET:null,OPEN_APPOINTMENT_SHEET:null,OPEN_BYPASS_FOCUS_SHEET:null,OPEN_EMPLOYEE_AWAY_SHEET:null,OPEN_EMPLOYEE_PERSONAL_USER_SHEET:null,OPEN_EMPLOYEE_WORK_USER_SHEET:null,OPEN_NAME_CONVERSATION_TAB_SHEET:null,OPEN_PAGE_INDICATOR_SHEET:null,OPEN_READ_ONLY_PERMANENT_SHEET:null,OPEN_READ_ONLY_SHEET:null,OPEN_USER_FOCUS_SHEET:null,OPEN_USER_TIMEZONE_SHEET:null}),i={Types:h,openUserFocusSheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_USER_FOCUS_SHEET,tabID:k})},openBypassFocusSheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_BYPASS_FOCUS_SHEET,tabID:k})},closeUserFocusAndBypassSheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_USER_FOCUS_AND_BYPASS_SHEET,tabID:k})},openUserTimezoneSheet:function j(k,l){c("FantaDispatcher").dispatch({type:h.OPEN_USER_TIMEZONE_SHEET,tabID:k,timezoneInfo:l})},closeUserTimezoneSheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_USER_TIMEZONE_SHEET,tabID:k})},openAddMoreFriendsSheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_ADD_MORE_FRIENDS_SHEET,tabID:k})},closeAddMoreFriendsSheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_ADD_MORE_FRIENDS_SHEET,tabID:k})},closeAddFriendsSheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_ADD_FRIENDS_SHEET,tabID:k})},openNameConversationSheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_NAME_CONVERSATION_TAB_SHEET,tabID:k})},closeNameConversationSheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_NAME_CONVERSATION_TAB_SHEET,tabID:k})},openReadOnlySheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_READ_ONLY_SHEET,tabID:k})},closeReadOnlySheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_READ_ONLY_SHEET,tabID:k})},openReadOnlyPermanentSheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_READ_ONLY_PERMANENT_SHEET,tabID:k})},closeReadOnlyPermanentSheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_READ_ONLY_PERMANENT_SHEET,tabID:k})},openEmployeeAwaySheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_EMPLOYEE_AWAY_SHEET,tabID:k})},openEmployeePersonalUserSheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_EMPLOYEE_PERSONAL_USER_SHEET,tabID:k})},closeEmployeePersonalUserSheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_EMPLOYEE_PERSONAL_USER_SHEET,tabID:k})},openEmployeeWorkUserSheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_EMPLOYEE_WORK_USER_SHEET,tabID:k})},closeEmployeeWorkUserSheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_EMPLOYEE_WORK_USER_SHEET,tabID:k})},openPageIndicatorSheet:function j(k,l){c("FantaDispatcher").dispatch({type:h.OPEN_PAGE_INDICATOR_SHEET,description:l,tabID:k})},closePageIndicatorSheet:function j(k){c("FantaDispatcher").dispatch({type:h.CLOSE_PAGE_INDICATOR_SHEET,tabID:k})},onIsPageTab:function j(k,l){c("FantaDispatcher").dispatch({type:h.ON_IS_PAGE_TAB,pageIndicator:l,tabID:k})},onBootloadEventReminder:function j(k){c("FantaDispatcher").dispatch({type:h.ON_BOOTLOAD_EVENT_REMINDER,tabID:k})},openAppointmentBannerSheet:function j(k){c("FantaDispatcher").dispatch({type:h.OPEN_APPOINTMENT_SHEET,tabID:k})}};f.exports=i}),null);
__d("MercurySheetPolicy",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={ChatThreadIsMutedTabSheet:{isPermanent:false,isSheetWithInput:false},ChatUserFocusSheet:{isPermanent:true,isSheetWithInput:true},ChatUserFocusBypassSheet:{isPermanent:true,isSheetWithInput:true},ChatUserTimezoneSheet:{isPermanent:true,isSheetWithInput:true},ChatUserBlockedTabSheet:{isPermanent:true,isSheetWithInput:false},ChatUploadWarningTabSheet:{isPermanent:false,isSheetWithInput:false},ChatThreadIsMessageBlockedSheet:{isPermanent:true,isSheetWithInput:false},ChatReadOnlyTabSheet:{isPermanent:false,isSheetWithInput:false},ChatReadOnlyPermanentTabSheet:{isPermanent:true,isSheetWithInput:false},ChatOfflineTabSheet:{isPermanent:true,isSheetWithInput:false},ChatNoRecipientsTabSheet:{isPermanent:true,isSheetWithInput:false},ChatNewMessagesTabSheet:{isPermanent:true,isSheetWithInput:true},ChatNameConversationTabSheet:{isPermanent:true,isSheetWithInput:true},ChatEmployeeAwaySheet:{isPermanent:true,isSheetWithInput:false},ChatEventReminderTabSheet:{isPermanent:true,isSheetWithInput:false},ChatAppointmentBanner:{isPermanent:true,isSheetWithInput:false},ChatMontageSheet:{isPermanent:false,isSheetWithInput:false},ChatJoinCallSheet:{isPermanent:true,isSheetWithInput:false},FantaAddFriendsSheet:{isPermanent:true,isSheetWithInput:true},FantaAddMoreFriendsSheet:{isPermanent:true,isSheetWithInput:true},ChatRoomAssociatedObjectSheet:{isPermanent:false,isSheetWithInput:false}},i={canReplaceOpenSheet:function j(k,l){var m=this.getType(l),n=this.isPermanent(l),o=this.isSheetWithInput(l),p=this.getType(k),q=this.isPermanent(k),r=this.isSheetWithInput(k);if(r)return!!(m!==p&&o);if(q&&!n)return false;if(p===this.sheets.ChatThreadIsMessageBlockedSheet)return false;return true},getType:function j(k){var l=k.getType||k.type&&k.type.getType||function(){return k},m=l.call(k);return m},isPermanent:function j(k){if(typeof k==="string"&&h[k])return h[k].isPermanent;var l=k.isPermanent||k.type&&k.type.isPermanent||function(){return false},j=l.call(k);return j},isSheetWithInput:function j(k){if(typeof k==="string"&&h[k])return h[k].isSheetWithInput;var l=k.isSheetWithInput||k.type&&k.type.isSheetWithInput||function(){return false},j=l.call(k);return j},sheets:c("keyMirror")(h)};f.exports=i}),null);
__d("MessengerRoomPrivacyMode",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({WHITELISTED_MODE:0,PUBLIC_MODE:1})}),null);
__d("FantaComposeViewReducers",["Bootloader","FantaGetMessageActions","FantaTabSheetActions","MercuryDataSourceWrapper","MercurySheetPolicy","MercuryTypeaheadConstants","MessengerRoomPrivacyMode","MessengerAdminGroupUtils","ifRequired"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FantaGetMessageActions").Types,i=c("FantaTabSheetActions").Types;function j(r,s){switch(s.type){case h.ON_GET_THREAD_RESPONSE:case h.ON_GET_THREAD_PREVIEW_RESPONSE:var t=s.thread,u=s.tabID||t.thread_id;r=k(r,t,u)}return r}function k(r,s,t){if(s.participants.length===0){r=m(r,t,s);r=p(r,t,c("MercurySheetPolicy").sheets.FantaAddFriendsSheet)}return r}function l(r,s){switch(s.type){case h.ON_BOOTLOAD_TYPEAHEAD:var t=s.thread,u=t.thread_id;r=m(r,u,t)}return r}function m(r,s,t){__p&&__p();if(r.mercury.tabContents.get(s).typeahead)return r;c("ifRequired")("ChatTabTypeaheadRenderer",function(u){__p&&__p();c("ifRequired")("ContextualTypeaheadView",function(v){__p&&__p();c("ifRequired")("MercuryTypeahead",function(w){__p&&__p();if(!r.mercury.tabContents.get(s))return;var x=!!(t&&t.participants&&t.participants.length===0),y=!!(t&&t.associated_object&&t.associated_object.privacy_mode===c("MessengerRoomPrivacyMode").WHITELISTED_MODE),z=x?c("MercuryDataSourceWrapper").chat_typeahead_source:y?c("MercuryDataSourceWrapper").chat_add_people_froup_source:c("MercuryDataSourceWrapper").chat_add_people_source;z.setShowThreads(x);if(x)z.setShowDefaultList(c("MessengerAdminGroupUtils").showDefaultListForNewChatTab());else if(!y)z.setShowDefaultList(c("MessengerAdminGroupUtils").showDefaultListForNewPersonAddChatTab());if(y)z.setQueryData({thread_id:t.thread_fbid});var A=new w(z,v);A.setViewOption("renderer",u);A.setExcludedParticipantsFromThreadMeta(t);r=r.mergeIn(["mercury","tabContents",s],{typeahead:A})},function(){return o(s,t)})},function(){return o(s,t)})},function(){return o(s,t)});return r}function n(r,s){switch(s.type){case i.OPEN_ADD_MORE_FRIENDS_SHEET:var t=s.tabID,u=r.mercury.tabContents.get(t).thread;if(u){r=m(r,t,u);return p(r,s.tabID,c("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet)}}return r}function o(r,s){c("Bootloader").loadModules(["ChatTabTypeaheadRenderer","ContextualTypeaheadView","MercuryTypeahead"],function(t,u,v){c("FantaGetMessageActions").onBootloadTypeahead(r,s)},"FantaComposeViewReducers")}function p(r,s,t){var u=r.mercury.tabContents.get(s),v=r.tabGroup.tabs.get(s);if(!v||!u)return r;var w=u.openSheet;if(w&&!c("MercurySheetPolicy").canReplaceOpenSheet(w,t))return r;r=r.mergeIn(["mercury","tabContents",s],{openSheet:t});return r}function q(r,s){switch(s.type){case h.ADD_PARTICIPANTS:var t=s.tokens,u=s.tabID,v=t.length===1&&t[0].getInfo().render_type===c("MercuryTypeaheadConstants").THREAD_TYPE;if(!v)return p(r,u,c("MercurySheetPolicy").sheets.FantaAddFriendsSheet)}return r}f.exports={addParticipants:q,onBootloadTypeahead:l,onGetThreadResponse:j,openAddMoreFriends:n}}),null);
__d("FantaReducersCookie",["FantaMessageActions","FantaTabActions","PresenceState","emptyFunction","throttle","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FantaMessageActions").Types,i=c("FantaTabActions").Types,j=c("gkx")("AT7GEM_Bk6j5oGIkj34d9qm70CejWGUjCaOEQ_zb6oT8Z0SFosMbKeMY0NUporco3a4nlVgYlJ0f1Hlwi6t_P31q")?c("throttle").acrossTransitions(c("PresenceState").doSync,500):c("emptyFunction");function k(n,o){switch(o.type){case h.RECEIVED_NEW_MESSAGE:case i.CLOSE_ALL_TABS:case i.CLOSE_AND_TAB_NEXT:case i.CLOSE_TAB:case i.DELETE_TAB:case i.MINIMIZE_ALL_TABS:case i.MINIMIZE_TAB:case i.OPEN_TAB:case i.OPEN_TAB_WITH_INTERSTITIAL_DATA:case i.REPLACE_TAB:case i.UNMINIMIZE_TAB:j();return m(n)}return n}function l(n,o){switch(o.type){case i.LOAD_FROM_DATA:var p=n.tabGroup,q=o.tabData,r=p.updatedTime,s=r>=q.updatedTime||q.updatedTime===undefined?r:q.updatedTime;return n.mergeIn(["tabGroup"],{updatedTime:s})}return n}function m(n){return n.mergeIn(["tabGroup"],{updatedTime:Date.now()})}f.exports={updateCookie:k,loadFromData:l}}),null);
__d("FantaReducersDockCalculator",["Arbiter","FantaTabActions","FantaMessageActions","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FantaTabActions").Types,i=c("FantaMessageActions").Types,j=null;function k(n){j=n;c("setImmediate")(function(){c("Arbiter").inform("FantaReducersDockCalculator/shouldRecalculate")})}function l(n){__p&&__p();if(!j||n.size!==j.size)k(n);else{var o=false;n.forEach(function(p){var q=j&&j.get(p.id);if(!q||p.isMinimized!==q.isMinimized)o=true});if(o)k(n)}}function m(n,o){var p=n.tabGroup.tabs;switch(o.type){case h.CLOSE_ALL_TABS:case h.CLOSE_AND_TAB_NEXT:case h.CLOSE_TAB:case h.DELETE_TAB:case h.MINIMIZE_ALL_TABS:case h.MINIMIZE_TAB:case h.OPEN_TAB:case h.OPEN_TAB_WITH_INTERSTITIAL_DATA:case h.UNMINIMIZE_TAB:k(p);break;case h.LOAD_FROM_DATA:case i.RECEIVED_NEW_MESSAGE:l(p);break}return n}f.exports={recalculateDock:m}}),null);
__d("FantaReducersLogging",["Bootloader","FantaMessageActions","FantaTabActions"],(function a(b,c,d,e,f,g){"use strict";var h=c("FantaMessageActions").Types,i=c("FantaTabActions").Types;function j(k,l){switch(l.type){case i.CLOSE_ALL_TABS:case i.CLOSE_AND_TAB_NEXT:case i.CLOSE_TAB:case i.DELETE_TAB:case i.OPEN_TAB:case i.OPEN_TAB_WITH_INTERSTITIAL_DATA:var m=k.tabGroup.allowedRaisedTabs,n=k.tabGroup.getRaisedandUnraisedTabs(),o=n.raisedTabs,p=n.unraisedTabs,q=o.count(),r=q+p.count();c("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function(s){new s().setAllowedRaisedTabs(m).setOpenTabs(r).setVisibleTabs(q).log()},"FantaReducersLogging")}return k}f.exports={updateVisibleTabs:j}}),null);
__d("FantaAvailableStatus",["AvailableListConstants","ChatVisibility","MercuryIDs","PresenceStatus","ShortProfiles"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={isAvailable:function h(i,j){var k=void 0,l=this.getStatus(i,j),m=c("MercuryIDs").getUserIDFromThreadID(j);if(m)k=c("ShortProfiles").getNow(m);return l===c("AvailableListConstants").ACTIVE&&(k===undefined||k===null||!k.is_messenger_only)},getStatus:function h(i,j){__p&&__p();var k=c("AvailableListConstants").OFFLINE,l=c("MercuryIDs").getUserIDFromThreadID(j);if(l)k=c("PresenceStatus").get(l);else if(i){var m=i.participants.map(function(n){return c("MercuryIDs").getUserIDFromParticipantID(n)});k=c("PresenceStatus").getGroup(m)}if(!c("ChatVisibility").isOnline())k=c("AvailableListConstants").OFFLINE;return k}}}),null);
__d("FantaTypeJoinableThread",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={admins:[],approvalMode:0,associatedObject:null,description:null,friendsInParticipants:[],imageURL:null,isViewerSubscribed:false,isWorkpaceChat:false,joinableMode:{mode:0,link:""},linkHash:"",participants:[],threadID:null,threadFBID:null,threadName:null};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("FantaTypeSharePreview",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={isLoading:false,params:null,type:null,uri:null};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("FantaTypeTabContents",["ChatPrivacyActionController","FantaGetMessageActions","FantaTypeFileUploader","FantaTypeSharePreview","immutable","MercuryIDs","emptyFunction","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j={composerText:"",fileUploader:new(c("FantaTypeFileUploader"))(),hasFetchedAll:false,id:"",isScrolledToBottom:true,messages:c("immutable").List(),messageStore:null,nullStateCTA:null,openSheet:null,pageIndicator:null,pageIndicatorDescription:null,privacyController:null,sharePreview:new(c("FantaTypeSharePreview"))(),showContextBanner:false,showUnseenMessages:c("emptyFunction"),signatureID:null,joinableInterstitialData:null,thread:null,threadPreviewID:null,threadPreviewRecipients:null,timezoneInfo:null,typeahead:null,isMultiCompany:null};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(l){var m=void 0,n=c("MercuryIDs").getUserIDFromThreadID(l.id);if(n)m=new(c("ChatPrivacyActionController"))(n,function(o){c("setImmediate")(function(){c("FantaGetMessageActions").onPrivacyStateChange(l.id,o)})});i.constructor.call(this,babelHelpers["extends"]({privacyController:m},l))}f.exports=k}),null);
__d("WorkFocusMode",["invariant","WorkModeConfig","WorkUserAvailabilityStatusType","emptyFunction","ifRequired"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={},j={status:"AVAILABLE",end_date:0};if(c("WorkModeConfig").availability){j.status=c("WorkModeConfig").availability.status;j.end_date=c("WorkModeConfig").availability.end_date}f.exports={updateAvailability:function k(l,m){var n=Object.keys(c("WorkUserAvailabilityStatusType")).find(function(o){return c("WorkUserAvailabilityStatusType")[o]===l});typeof n==="string"||h(0);j.status=n;j.end_date=m},currentViewerInFocusMode:function k(l){__p&&__p();if(!c("WorkModeConfig").focus_messaging_enabled)return false;if(l){if(i[l])return false;var m=null;c("ifRequired")("MercuryThreads",function(o){m=o.get().getThreadMetaNow(l)},c("emptyFunction"));if(m&&m.bypass_focus_mode_until&&m.bypass_focus_mode_until>Date.now()/1e3)return false}var n=c("WorkUserAvailabilityStatusType")[j.status];if(n===c("WorkUserAvailabilityStatusType").FOCUS&&j.end_date*1e3>Date.now())return true;return false},addBypassFocusModeForThread:function k(l){i[l]=true},removeBypassFocusModeForThread:function k(l){i[l]=false}}}),null);
__d("FantaReducersMercury",["Arbiter","AsyncSignal","AvailableList","AvailableListConstants","Bootloader","FantaAvailableStatus","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTabSheetActions","FantaTypeJoinableThread","FantaTypeTabContents","JSLogger","MercuryIDs","MercuryThreadIDMap","MessagingTagConstants","TimeSlice","WorkFocusMode","getPageIDFromThreadID","gkx","ifRequired","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MercuryThreadIDMap").get(),i=c("JSLogger").create("FantaReducersMercury"),j=c("FantaMessageActions").Types,k=c("FantaTabActions").Types,l=c("FantaGetMessageActions").Types;function m(){return Math.floor(Math.random()*2147483648).toString(16)}function n(H,I){__p&&__p();switch(I.type){case k.OPEN_TAB:case k.OPEN_TAB_WITH_INTERSTITIAL_DATA:var J=I.tabID;c("ifRequired")("FantaTabsReactApp",function(M){if(!c("MercuryIDs").isValidThreadID(J)){H=H.deleteIn(["tabGroup","tabs",J]);v(J)}else{D(H,J);E(J)}},function(){return H=o(H,I.tabID)});H=q(H,J);var K=m();H=H.mergeIn(["mercury","tabContents",J],{signatureID:K});new(c("AsyncSignal"))("/ajax/chat/opentab_tracking.php",{threadID:J,userID:c("MercuryIDs").getUserIDFromThreadID(J),signatureID:K}).send();if(I.interstitialData){var L=new(c("FantaTypeJoinableThread"))(I.interstitialData);H=H.mergeIn(["mercury","tabContents",J],{joinableInterstitialData:L})}c("Arbiter").inform("jewel/hide");return H}return H}function o(H,I){__p&&__p();c("ifRequired")("FantaTabsSlimApp",function(J){if(!c("MercuryIDs").isValidThreadID(I)){H=H.deleteIn(["tabGroup","tabs",I]);v(I)}else{D(H,I);E(I)}},function(){D(H,I);E(I)});return H}function p(H,I){switch(I.type){case j.RECEIVED_NEW_MESSAGE:H=q(H,I.tabID)}return H}function q(H,I){__p&&__p();var J,K=H.mercury.tabContents.get(I);if(!K){var J=function(){__p&&__p();var L=c("getPageIDFromThreadID")(I);if(L)c("Bootloader").loadModules(["PagesMercuryChatTabIndicatorHandler"],function(M){var N=c("AvailableListConstants").OFFLINE,O=new M(L,N,function(P){c("setImmediate")(function(){c("FantaTabSheetActions").openPageIndicatorSheet(I,P)})},function(){c("setImmediate")(function(){return c("FantaTabSheetActions").closePageIndicatorSheet(I)})});c("setImmediate")(function(){c("FantaTabSheetActions").onIsPageTab(I,O)});O.checkResponsiveness()},"FantaReducersMercury");return{v:H.setIn(["mercury","tabContents",I],new(c("FantaTypeTabContents"))({id:I}))}}();if(typeof J==="object")return J.v}return H}function r(H,I){switch(I.type){case k.REPLACE_TAB:H=u(H,I.newTabID);H=q(H,I.newTabID);return H}return H}function s(H,I){switch(I.type){case l.ADD_PARTICIPANTS:var J=I.tabID,K=I.previewTabID;if(!H.mercury.tabContents.get(J))return H;H=H.mergeIn(["mercury","tabContents",J],{threadPreviewID:K});return H}return H}function t(H,I){switch(I.type){case l.CLEAR_PARTICIPANTS:var J=I.tabID;H=H.setIn(["mercury","tabContents",J],new(c("FantaTypeTabContents"))({id:J}))}return H}function u(H,I){__p&&__p();c("ifRequired")("FantaTabsReactApp",function(J){if(!c("MercuryIDs").isValidThreadID(I)){H=H.deleteIn(["tabGroup","tabs",I]);v(I)}},function(){c("ifRequired")("FantaTabsSlimApp",function(J){if(!c("MercuryIDs").isValidThreadID(I)){H=H.deleteIn(["tabGroup","tabs",I]);v(I)}})});return H}function v(H){h.getClientIDFromServerID(H,function(I){return c("setImmediate")(function(){if(c("MercuryIDs").isValidThreadID(I))c("FantaTabActions").openTab(I);else i.error("invalid id",H)})})}function w(H,I){switch(I.type){case k.FOCUS_TAB:D(H,I.tabID)}return H}function x(H,I){switch(I.type){case k.CLOSE_TAB:var J=I.tabID;H=z(H,J)}return H}function y(H,I){switch(I.type){case k.DELETE_TAB:var J=I.tabID;H=z(H,J);H=H.deleteIn(["mercury","tabContents",J])}return H}function z(H,I){c("ifRequired")("MessengerVideoAutoplayActions",function(J){J.deleteThread(I)});c("WorkFocusMode")&&c("WorkFocusMode").removeBypassFocusModeForThread(I);return H}function A(H,I){switch(I.type){case k.CLOSE_ALL_TABS:c("ifRequired")("MessengerVideoAutoplayActions",function(J){J.deleteAllThreads()});return H}return H}function B(H,I){switch(I.type){case k.FOCUS_NEXT_TAB:case k.FOCUS_PREVIOUS_TAB:case k.CLOSE_AND_TAB_NEXT:var J=H.tabGroup.focusedTabID;if(J)D(H,J)}return H}function C(H,I){switch(I.type){case k.CLOSE_AND_TAB_NEXT:var J=I.tabID;c("WorkFocusMode")&&c("WorkFocusMode").removeBypassFocusModeForThread(J)}return H}function D(H,I){__p&&__p();var J=c("MercuryIDs").getUserIDFromThreadID(I);if(J){var K=function K(){c("AvailableList").updateForID(J)};if(c("gkx")("AT45Q0YAtTF77a1x8ZT9-rWfsF83gTI5tMuldZujY0KaNI6icTW09jBEE5BSuvPKdZtVIIdleK4appEhrvQPrVOyhvdXTeLDSdYEXUe9KmbS3Q"))c("TimeSlice").guard(K,"superfluous request to first open DD",{isContinuation:false})();else K()}var L=H.mercury.tabContents.get(I);if(L){var M=L.thread,N=L.pageIndicator;if(N)N.notifyPageOnlineStatusChanged(c("FantaAvailableStatus").getStatus(M,I))}}function E(H){__p&&__p();if(!c("MercuryIDs").isValidThreadID(H))return;c("Bootloader").loadModules(["GroupChatMessageBlockAlert","GroupChatMessageIgnoreAlert","mercuryBlockedParticipantsRe","mercuryIgnoredParticipantsRe","MercuryThreadActions","MercuryThreads"],function(I,J,K,L,M,N){__p&&__p();var O=M.get(),P=N.get(),Q=K.get(),R=L.get();P.getThreadMeta(H,function(S){__p&&__p();if(Q.isPresentInGroupThread(S))I.show(Q.blockedParticipantsInGroupThread(S),function(){c("FantaTabActions").focusTab(H)},function(){c("FantaTabActions").closeTab(H);O.leaveGroup(H)});else if(R.isPresentInGroupThread(S)&&S.folder==="inbox"&&c("gkx")("AT6sQjs7GRVhEipNW3TkmIJi_BHZa2KKyD-Mi9QicLxYmeTJYm7WWpq-_Rh-wyDoXW1BNvzANnO7tf1hMqNgPGMF"))J.show(R.ignoredParticipantsInGroupThread(S),c("MercuryIDs").getThreadFBIDFromThreadID(H),function(){c("FantaTabActions").focusTab(H)},function(){c("FantaTabActions").closeTab(H);c("Bootloader").loadModules(["IgnoreMessagesTypedLogger","IgnoreMessagesLoggingEvent","IgnoreMessagesPlatforms"],function(T,U,V){O.changeFolder(H,c("MessagingTagConstants").other);new T().setEvent(U.IGNORE_CONFIRMED).setThreadID(c("MercuryIDs").getThreadFBIDFromThreadID(H)).setPlatform(V.CHAT_TABS).log()},"FantaReducersMercury")})})},"FantaReducersMercury")}function F(H,I){switch(I.type){case k.UNMINIMIZE_TAB:D(H,I.tabID)}return H}function G(H,I){__p&&__p();switch(I.type){case k.LOAD_FROM_DATA:for(var J=H.tabGroup.tabs.keys(),K=Array.isArray(J),L=0,J=K?J:J[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var M;if(K){if(L>=J.length)break;M=J[L++]}else{L=J.next();if(L.done)break;M=L.value}var N=M;H=q(H,N)}}return H}f.exports={addParticipants:s,clearParticipants:t,closeAllTabs:A,closeAndTabNext:C,closeTab:x,deleteTab:y,focusTab:w,focusTabEvents:B,loadFromData:G,openTab:n,receivedNewMessage:p,replaceTab:r,unminimizeTab:F}}),null);
__d("FantaReducersMessages",["CurrentUser","FantaGetMessageActions","FantaMessageActions","FantaTabActions","MercuryBrowserAlerts","MercuryParticipants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FantaMessageActions").Types,i=c("FantaTabActions").Types,j=c("FantaGetMessageActions").Types;function k(r,s){switch(s.type){case h.RECEIVED_NEW_MESSAGE:var t=s.message;c("MercuryBrowserAlerts").messageReceived(t);return r}return r}function l(r,s){switch(s.type){case h.COMPOSER_TEXT_UPDATE:var t=s.message,u=s.threadID;if(!r.mercury.tabContents.get(u))return r;return r.mergeIn(["mercury","tabContents",u],{composerText:t})}return r}function m(r,s){switch(s.type){case i.CLOSE_TAB:if(!r.mercury.tabContents.get(s.tabID))return r;return r.mergeIn(["mercury","tabContents",s.tabID],{composerText:""})}return r}function n(r,s){switch(s.type){case i.CLOSE_ALL_TABS:var t=r.mercury.tabContents;t.forEach(function(u){var v=u.id;r=r.setIn(["mercury","tabContents",v],u.set("composerText",""))});return r}return r}function o(r,s){switch(s.type){case i.SCROLL_BOTTOM_CHANGED:var t=s.tabID,u=s.isScrolledToBottom,p=s.showUnseenMessages;if(!r.mercury.tabContents.get(t))return r;r=r.mergeIn(["mercury","tabContents",t],{isScrolledToBottom:u,showUnseenMessages:p})}return r}function p(r,s){switch(s.type){case i.SHOW_UNSEEN_MESSAGES:var t=s.tabID,u=r.mercury.tabContents.get(t);if(u)u.showUnseenMessages()}return r}function q(r,s){__p&&__p();switch(s.type){case j.ON_GET_THREAD_RESPONSE:var t=s.thread,u=t.thread_id,v=r.mercury.tabContents.get(u);if(!v)return r;var w=null;if(c("CurrentUser").isWorkUser()&&t.participants)w=t.participants.map(c("MercuryParticipants").getOrFetch,c("MercuryParticipants")).find(function(x){return x&&x.is_coworker===false})!==undefined;r=r.mergeIn(["mercury","tabContents",u],{thread:t,isMultiCompany:w});break}return r}f.exports={closeAllTabs:n,closeTab:m,composerTextUpdate:l,onGetThreadResponse:q,receivedNewMessage:k,scrollBottomChanged:o,showUnseenMessages:p}}),null);
__d("FantaTypeTab",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={focusCounter:0,id:"",isHovered:false,isMinimized:false,openCounter:0,entryPoint:"unknown"};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("FantaTypeTabGroup",["FantaConst","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j={allowedRaisedTabs:c("FantaConst").DEFAULT_ALLOWED_RAISED_TABS,focusedTabID:null,tabs:c("immutable").Map({}),updatedTime:0},k=function k(n){return n.openCounter*-1},l=function l(n){return n.focusCounter*-1};h=babelHelpers.inherits(m,c("immutable").Record(j));i=h&&h.prototype;m.prototype.getRaisedandUnraisedTabs=function(){var n=this.tabs.sortBy(l),o=n.slice(this.allowedRaisedTabs),p=n.take(this.allowedRaisedTabs).sortBy(k);return{raisedTabs:p,unraisedTabs:o}};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("isWebMessengerURI",[],(function a(b,c,d,e,f,g){function h(i){return/^(\/messages)/.test(i.getPath())}f.exports=h}),null);
__d("FantaReducersTabs",["Bootloader","EventProfiler","FantaConst","FantaMessageActions","FantaTabActions","FantaTypeTab","FantaTypeTabGroup","LogHistory","MercuryIDs","MercuryThreads","PinnedConversationNubsConfig","TimeSlice","URI","isWebMessengerURI"],(function a(b,c,d,e,f,aa){"use strict";__p&&__p();var g=c("MercuryThreads").get(),h=c("FantaMessageActions").Types,i=c("FantaTabActions").Types,j="tab_",k=c("LogHistory").getInstance("fanta_tabs"),l=1,m=1,n=1;function o(O,P){switch(P.type){case i.OPEN_TAB:case i.OPEN_TAB_WITH_INTERSTITIAL_DATA:k.debug(P.type,JSON.stringify({id:P.tabID}));if(m===1)c("EventProfiler").tagCurrentActiveInteractionsAs("FirstChatTabOpen");return v(O,P.tabID||j+n++,true,P.entryPoint)}return O}function p(O,P){__p&&__p();switch(P.type){case i.REPLACE_TAB:var Q=P.tabID,R=P.newTabID,S=O.tabGroup,T=S.tabs,U=T.get(Q);k.debug(P.type,JSON.stringify({id:Q,isExisting:!!U,newID:R}));if(U){var V=U.id===O.tabGroup.focusedTabID;O=O.setIn(["tabGroup","tabs",R],U.merge({id:R})).deleteIn(["tabGroup","tabs",Q]);return v(O,R,V,"replace_tab")}return v(O,R,false,"replace_tab")}return O}function q(O,P){switch(P.type){case i.MINIMIZE_TAB:return w(O,P.tabID,true)}return O}function r(O,P){switch(P.type){case i.UNMINIMIZE_TAB:return w(O,P.tabID,false)}return O}function s(O,P){switch(P.type){case i.FOCUS_TAB:var Q=P.tabID;return D(O,Q)}return O}function t(O,P){switch(P.type){case i.BLUR_TAB:return E(O,P.tabID)}return O}function u(O,P){__p&&__p();var Q;switch(P.type){case h.RECEIVED_NEW_MESSAGE:var R=P.tabID,o=O.tabGroup.tabs.get(R);k.debug(P.type,JSON.stringify({id:R,isOpen:!!o}));if(!o){var Q=function(){__p&&__p();var S=O.tabGroup.focusedTabID;O=v(O,R,false,"message_received");var T=O.tabGroup.allowedRaisedTabs,U=O.tabGroup.getRaisedandUnraisedTabs(),V=U.raisedTabs,W=U.unraisedTabs,X=V.count(),Y=X+W.count();c("TimeSlice").guard(function(){c("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function($){new $().setAllowedRaisedTabs(T).setOpenTabs(Y).setVisibleTabs(X).log()},"FantaReducersTabs")},"name",{isContinuation:false})();var Z=c("URI").getNextURI();if(c("isWebMessengerURI")(Z))return{v:O=w(O,R,true)};else if(S)return{v:D(O,S)}}();if(typeof Q==="object")return Q.v}}return O}function v(O,P,Q){__p&&__p();var R=arguments.length<=3||arguments[3]===undefined?"unknown":arguments[3],S=O.tabGroup,T=S.tabs,U=T.get(P);if(!U){U=new(c("FantaTypeTab"))({id:P,focusCounter:l,openCounter:m++,entryPoint:R});O=O.setIn(["tabGroup","tabs",P],U)}else if(U.isMinimized&&Q)O=w(O,P,false);if(Q)return D(O,P);return O}function w(O,P,Q){var R=O.tabGroup,S=R.tabs.get(P);if(S)O=O.mergeIn(["tabGroup","tabs",P],{isMinimized:Q});return O}function x(O,P){__p&&__p();switch(P.type){case i.MINIMIZE_ALL_TABS:for(var Q=O.tabGroup.tabs.keys(),R=Array.isArray(Q),S=0,Q=R?Q:Q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var T;if(R){if(S>=Q.length)break;T=Q[S++]}else{S=Q.next();if(S.done)break;T=S.value}var U=T;O=w(O,U,true)}return O}return O}function y(O,P){switch(P.type){case i.CLOSE_TAB:case i.DELETE_TAB:var Q=P.tabID;k.debug(P.type,JSON.stringify({id:Q}));return A(O,Q)}return O}function z(O,P){switch(P.type){case h.SEND_GROUP_MESSAGE:var Q=P.threadID,R=g.isEmptyLocalThread(Q);if(R)return A(O,Q)}return O}function A(O,P){O=E(O,P);return O.deleteIn(["tabGroup","tabs",P])}function B(O,P){switch(P.type){case i.CLOSE_ALL_TABS:k.debug(P.type);O=E(O,O.tabGroup.focusedTabID);return O.setIn(["tabGroup","tabs"],O.tabGroup.tabs.clear())}return O}function C(O,P){switch(P.type){case i.CLOSE_AND_TAB_NEXT:k.debug(P.type,JSON.stringify({id:P.tabID}));O=A(O,P.tabID);return M(O)}return O}function D(O,P){var Q=arguments.length<=2||arguments[2]===undefined?false:arguments[2],R=O.tabGroup,S=R.tabs.get(P);if(S)O=O.mergeIn(["tabGroup","tabs",P],{focusCounter:l++});var T=Q?null:P;O=O.mergeIn(["tabGroup"],{focusedTabID:T});return O}function E(O,P){if(O.tabGroup.focusedTabID===P)return O.mergeIn(["tabGroup"],{focusedTabID:null});return O}function F(O,P){switch(P.type){case i.HOVERED_TAB:var Q=P.tabID;return H(O,Q,true)}return O}function G(O,P){switch(P.type){case i.UNHOVERED_TAB:var Q=P.tabID;return H(O,Q,false)}return O}function H(O,P,Q){var R=O.tabGroup,S=R.tabs.get(P);if(S)O=O.mergeIn(["tabGroup","tabs",P],{isHovered:Q});return O}function I(O,P){__p&&__p();var Q;switch(P.type){case i.SET_ALLOWED_RAISED_TABS:var R=P.allowedRaisedTabs,S=O.tabGroup.allowedRaisedTabs;if(R!==S)(function(){k.debug(P.type,JSON.stringify({count:R}));if(!c("PinnedConversationNubsConfig").chatTabTypingPriority)R=Math.max(1,R);var T=O.tabGroup.tabs.count(),U=T>R?R:T,V=R>S&&T>S,W=R<S&&T>R;if(V||W)c("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function(X){new X().setAllowedRaisedTabs(R).setOpenTabs(T).setVisibleTabs(U).log()},"FantaReducersTabs")})();return J(O,R)}return O}function J(O){var P=arguments.length<=1||arguments[1]===undefined?c("FantaConst").DEFAULT_ALLOWED_RAISED_TABS:arguments[1];if(P===O.tabGroup.allowedRaisedTabs)return O;if(!c("PinnedConversationNubsConfig").chatTabTypingPriority)P=Math.max(1,P);return O.mergeIn(["tabGroup"],{allowedRaisedTabs:P})}function K(O,P){__p&&__p();switch(P.type){case i.LOAD_FROM_DATA:var Q=O.tabGroup,R=P.tabData,S=Q.updatedTime;if(S>=R.updatedTime||R.updatedTime===undefined)return O;O=J(O.set("tabGroup",new(c("FantaTypeTabGroup"))()),Q.allowedRaisedTabs);var T=[];R.tabs.sort(function(U,V){return U.openCounter-V.openCounter}).forEach(function(U){T.push(U.id);O=v(O,U.id,false,"loaded_from_data");if(U.isMinimized)O=w(O,U.id,U.isMinimized)});R.tabs.sort(function(U,V){return U.focusCounter-V.focusCounter}).forEach(function(U){O=D(O,U.id,true)});k.debug(P.type,JSON.stringify({updatedTime:S,newerTime:R.updatedTime,opened:T}));O=R.focusedTabID?D(O,R.focusedTabID,true):E(O)}return O}function L(O,P){switch(P.type){case i.FOCUS_NEXT_TAB:return M(O)}return O}function M(O){__p&&__p();var P=O.tabGroup.focusedTabID,Q=O.tabGroup.getRaisedandUnraisedTabs(),R=Q.raisedTabs,S=R.count();if(S===0)return O;else if(R.count()===1)return D(O,R.first().id);var T=R.skipUntil(function(U){return U.id===P}).rest();if(T.count()===0)return D(O,R.first().id);else return D(O,T.first().id)}function N(O,P){__p&&__p();switch(P.type){case i.FOCUS_PREVIOUS_TAB:var Q=O.tabGroup.focusedTabID,R=O.tabGroup.getRaisedandUnraisedTabs(),S=R.raisedTabs;if(S.count()<2)return O;var T=S.reverse().skipUntil(function(U){return U.id===Q}).rest();if(T.count()===0)return D(O,S.last().id);else return D(O,T.first().id)}return O}f.exports={addParticipantsToLocalGroup:z,blurTab:t,closeAllTabs:B,closeAndTabNext:C,closeTab:y,focusNextTab:L,focusPreviousTab:N,focusTab:s,hoveredTab:F,loadFromData:K,minimizAllTabs:x,minimizeTab:q,openTab:o,receivedNewMessage:u,replaceTab:p,setAllowedRaisedTabs:I,unhoveredTab:G,unminimizeTab:r}}),null);
__d("FantaTypeMercuryState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={tabContents:c("immutable").Map({})};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("FantaTypeAppState",["FantaTypeMercuryState","FantaTypeTabGroup","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={tabGroup:new(c("FantaTypeTabGroup"))(),mercury:new(c("FantaTypeMercuryState"))()};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("FantaAppStore",["FantaComposeViewReducers","FantaDispatcher","FantaReducersCookie","FantaReducersDockCalculator","FantaReducersLogging","FantaReducersMercury","FantaReducersMessages","FantaReducersTabs","FantaTypeAppState","FluxReduceStore","PresenceState","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=[].concat(Object.values(c("FantaReducersTabs")),Object.values(c("FantaReducersMercury")),Object.values(c("FantaReducersMessages")),Object.values(c("FantaReducersDockCalculator")),Object.values(c("FantaReducersCookie")),Object.values(c("FantaComposeViewReducers")),Object.values(c("FantaReducersLogging")));h=babelHelpers.inherits(k,c("FluxReduceStore"));i=h&&h.prototype;k.prototype.getInitialState=function(){return new(c("FantaTypeAppState"))()};k.prototype.ignoreReducer=function(m){var n=Object.values(m);j=j.filter(function(o){return!n.find(function(p){return p===o})})};k.prototype.addReducers=function(m){this.ignoreReducer(m);j=j.concat(Object.values(m))};k.prototype.reduce=function(m,n){return j.reduce(function(m,o){return o(m,n)},m)};function k(){h.apply(this,arguments)}var l=new k(c("FantaDispatcher"));if(!c("gkx")("AT7GEM_Bk6j5oGIkj34d9qm70CejWGUjCaOEQ_zb6oT8Z0SFosMbKeMY0NUporco3a4nlVgYlJ0f1Hlwi6t_P31q"))l.addListener(function(){return c("PresenceState").doSync()});f.exports=l}),null);
__d("MessageRequestUtils",["MessagingTag"],(function a(b,c,d,e,f,g){"use strict";var h={isMessageRequest:function i(j){return(j.folder===c("MessagingTag").PENDING||j.folder===c("MessagingTag").OTHER)&&j.can_reply},isFiltered:function i(j){return j.folder===c("MessagingTag").OTHER}};f.exports=h}),null);
__d("XGroupCallNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/groupcall/nux/",{action:{type:"String",required:true}})}),null);
__d("FantaChatHeaderContainer.react",["cx","AsyncRequest","ChatTabHeaderContainer.react","FantaTabActions","FantaTabSheetActions","mercuryBlockedParticipantsRe","MercuryConfig","MercuryIDs","MercuryParticipants","MercuryThreadInfo","MercuryThreads","MessageRequestUtils","React","XGroupCallNuxController","isEmpty"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("MercuryThreads").get(),l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$FantaChatHeaderContainer1=false,this.state={rtcNuxShown:false},this.$FantaChatHeaderContainer5=function(){var s=this.props.threadID;c("FantaTabSheetActions").openAddMoreFriendsSheet(s)}.bind(this),this.$FantaChatHeaderContainer4=function(){var s=this.props.threadID;c("FantaTabSheetActions").openNameConversationSheet(s)}.bind(this),this.$FantaChatHeaderContainer6=function(){var s=this.props.threadID;c("FantaTabSheetActions").openAddMoreFriendsSheet(s)}.bind(this),this.$FantaChatHeaderContainer8=function(){this.props.onClose&&this.props.onClose()}.bind(this),this.$FantaChatHeaderContainer7=function(event){this.$FantaChatHeaderContainer3();var s=event.target;if(!s)return;if(s.getAttribute("role")==="presentation"||s.classList&&(s.classList.contains("_15p6")||s.classList.contains("_2nlt")||s.classList.contains("_14lt"))){event.preventDefault();c("FantaTabActions").minimizeTab(this.props.threadID)}}.bind(this),this.$FantaChatHeaderContainer3=function(){if(this.state.rtcNuxShown&&this.$FantaChatHeaderContainer1){this.setState({rtcNuxShown:false});var s=c("XGroupCallNuxController").getURIBuilder().setString("action","dismiss").getURI();new(c("AsyncRequest"))(s).send()}}.bind(this),o}m.prototype.shouldComponentUpdate=function(n,o){var p=this.props,q=this.state;return p.viewer!==n.viewer||p.threadID!==n.threadID||p.isLastGroupTab!==n.isLastGroupTab||p.thread!==n.thread||q.rtcNuxShown!==o.rtcNuxShown||p.customColor!==n.customColor};m.prototype.componentDidMount=function(){this.$FantaChatHeaderContainer1=true;this.$FantaChatHeaderContainer2()};m.prototype.componentWillUnmount=function(){this.$FantaChatHeaderContainer3();this.$FantaChatHeaderContainer1=false};m.prototype.render=function(){var n=this.props,o=n.isFocused,p=n.thread,q=n.threadID,r=n.viewer,s=n.customColor,t=this.state.rtcNuxShown,u=!!p&&c("MercuryThreadInfo").isMuted(p),v=c("MercuryIDs").getParticipantIDFromFromThreadID(q),w=v?c("MercuryParticipants").getNow(v):null,x=w&&w.is_business_enabled,y=p&&c("MercuryThreadInfo").showComposer(p)&&!c("isEmpty")(p.participants)&&!c("MessageRequestUtils").isMessageRequest(p)&&!c("MercuryConfig").ViewerIsReadOnly&&!(c("MercuryConfig").ColdOpenBlock&&(c("MercuryThreadInfo").isColdOpen(p)||c("MercuryThreadInfo").isEmptyLocalThread(p))),z=p&&c("mercuryBlockedParticipantsRe").get().isMessageBlocked(p),A=k.isNewEmptyLocalThread(q),B=p&&p.message_count===0,C={hasMessageBlocked:z,isBusinessEnabled:x,isEmptyChat:A,isEmptyConversation:B,isMuted:u,show:y},D=s?{color:s}:null;return c("React").createElement("div",{className:"clearfix fbNubFlyoutTitlebar titlebar"+(!!s?" _1m34":""),style:D},c("React").createElement(c("ChatTabHeaderContainer.react"),{additionalMenuProps:C,attachmentsShelf:document.createElement("div"),isActive:o,isRaised:true,isTyping:false,nameConversationFunc:this.$FantaChatHeaderContainer4,rtcNuxShown:t,sheetController:{openAddFriendsSheet:this.$FantaChatHeaderContainer5},showAddFriend:this.$FantaChatHeaderContainer6,threadID:q,viewer:r,onClick:this.$FantaChatHeaderContainer7,onCloseClick:this.$FantaChatHeaderContainer8,onRTCNuxCloseButtonClick:this.$FantaChatHeaderContainer3,isMultiCompany:this.props.isMultiCompany}))};m.prototype.$FantaChatHeaderContainer9=function(n){return n.length>0&&n.every(function(o){var p=c("MercuryParticipants").getNow(o);return!!(p&&p.employee)})};m.prototype.$FantaChatHeaderContainer2=function(){if(this.props.isLastGroupTab){var n=c("XGroupCallNuxController").getURIBuilder().setString("action","should_show").getURI();new(c("AsyncRequest"))(n).setHandler(function(o){var p=o.payload.shouldShow;if(this.$FantaChatHeaderContainer1)this.setState({rtcNuxShown:p})}.bind(this)).send()}};m.propTypes={customColor:l.string,isFocused:l.bool.isRequired,isLastGroupTab:l.bool.isRequired,onClose:l.func.isRequired,thread:l.object,threadID:l.string.isRequired,viewer:l.string.isRequired};f.exports=m}),null);
__d("FantaConversation.react",["Bootloader","ChatConversation.react","CurrentUser","EventProfiler","MercuryIDs","MessengerHotLikePreviewEvents","React","StickerInterfaces","StickersTypedLogger","SubscriptionsHandler","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this,l);this.$FantaConversation4=function(m){if(this.props.threadID===m)this.setState({likePreview:null})}.bind(this);this.$FantaConversation5=function(m,n){__p&&__p();if(!m)return;new(c("StickersTypedLogger"))().setEvent("click_sticker").setPackid(m).setStickerid(n).log();c("Bootloader").loadModules(["StickersPackInTray","StickersActions","StickersStoreController"],function(o,p,q){o.onIsPackInTray(m,c("StickerInterfaces").MESSAGES,function(r){if(r.in_sticker_tray){p.selectTrayPack(m);p.showStickerFlyout(this.props.threadID)}else q.showStore(m)}.bind(this))}.bind(this),"FantaConversation.react")}.bind(this);this.state={likePreview:null};this.$FantaConversation1=new(c("SubscriptionsHandler"))()}k.prototype.shouldComponentUpdate=function(l,m){var n=this.props,o=this.state;return!n.onlineUsers.equals(l.onlineUsers)||!n.messages.equals(l.messages)||n.threadID!==l.threadID||n.thread!==l.thread||o.likePreview!==m.likePreview};k.prototype.componentDidMount=function(){this.$FantaConversation2();this.$FantaConversation3()};k.prototype.componentDidUpdate=function(){this.$FantaConversation3()};k.prototype.componentWillUnmount=function(){this.$FantaConversation1.release()};k.prototype.$FantaConversation3=function(){c("EventProfiler").informManualInteractionTimestamp(["MessageJewelListItem","ChatSideBarLink"],true,"click")};k.prototype.$FantaConversation2=function(){this.$FantaConversation1.addSubscriptions(c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").START,function(l,m){if(this.props.threadID===m)this.setState({likePreview:l})}.bind(this)),c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").STOP,this.$FantaConversation4),c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").STOP_EMOJI,this.$FantaConversation4),c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").REMOVE,this.$FantaConversation4))};k.prototype.render=function(){var l=this.props.messages,m=this.props,n=m.onLoadMoreMessages,o=m.thread,p=m.threadID,q=this.state.likePreview,r=c("CurrentUser").getID();if(q)l=l.push(q);return o?c("React").createElement(c("ChatConversation.react"),{isCanonical:c("MercuryIDs").isCanonical(p),loadMoreMessages:n,maxBubbleWidth:181-this.props.scrollbarPadding,messages:l,onAttachmentLoad:function(){return this.props.onAttachmentLoad()}.bind(this),onMount:c("emptyFunction"),onStickerClick:this.$FantaConversation5,onlineUsers:this.props.onlineUsers,ref:"conversation",thread:o,threadID:p,viewer:r}):c("React").createElement("div",null)};k.prototype.getMessageList=function(){return this.refs.conversation&&this.refs.conversation.getMessageList()};k.propTypes={messages:j.object.isRequired,onLoadMoreMessages:j.func.isRequired,onlineUsers:j.object.isRequired,scrollbarPadding:j.number,thread:j.object,threadID:j.string.isRequired};f.exports=k}),null);
__d("Animation",["BrowserSupport","CSS","DataStore","DOM","Style","clearTimeout","clearInterval","getVendorPrefixedName","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","shield","requestAnimationFrame","CSSFade","WebSpeedJSExperiments"],(function aa(a,b,ba,ca,c,da){__p&&__p();var d=b("requestAnimationFrame"),e=[],f,g=document.createElement("div").animate!==undefined;function h(y){if(a==this)return new h(y);else{this.obj=y;this._reset_state();this.queue=[];this.last_attr=null;this.unit="px";this.behaviorOverrides={ignoreUserScroll:false}}}function i(y){if(b("BrowserSupport").hasCSS3DTransforms())return l(y);else return k(y)}function j(y){return y.toFixed(8)}function k(y){y=[y[0],y[4],y[1],y[5],y[12],y[13]];return"matrix("+y.map(j).join(",")+")"}function l(y){return"matrix3d("+y.map(j).join(",")+")"}function m(y,z){__p&&__p();if(!y)y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var A=[];for(var B=0;B<4;B++)for(var C=0;C<4;C++){var D=0;for(var E=0;E<4;E++)D+=y[B*4+E]*z[E*4+C];A[B*4+C]=D}return A}var n=0;h.prototype._reset_state=function(){this.state={attrs:{},duration:500}};h.prototype.stop=function(){this._reset_state();this.queue=[];return this};h.prototype._build_container=function(){__p&&__p();if(this.container_div){this._refresh_container();return}if(this.obj.firstChild&&this.obj.firstChild.__animation_refs){this.container_div=this.obj.firstChild;this.container_div.__animation_refs++;this._refresh_container();return}var y=document.createElement("div");y.style.padding="0px";y.style.margin="0px";y.style.border="0px";y.__animation_refs=1;var z=this.obj.childNodes;while(z.length)y.appendChild(z[0]);this.obj.appendChild(y);this._orig_overflow=this.obj.style.overflow;this.obj.style.overflow="hidden";this.container_div=y;this._refresh_container()};h.prototype._refresh_container=function(){this.container_div.style.height="auto";this.container_div.style.width="auto";this.container_div.style.height=this.container_div.offsetHeight+this.unit;this.container_div.style.width=this.container_div.offsetWidth+this.unit};h.prototype._destroy_container=function(){__p&&__p();if(!this.container_div)return;if(!--this.container_div.__animation_refs){var y=this.container_div.childNodes;while(y.length)this.obj.appendChild(y[0]);this.obj.removeChild(this.container_div)}this.container_div=null;this.obj.style.overflow=this._orig_overflow};var o=1,p=2,q=3;h.prototype._attr=function(y,z,A){__p&&__p();y=y.replace(/-[a-z]/gi,function(C){return C.substring(1).toUpperCase()});var B=false;switch(y){case"background":this._attr("backgroundColor",z,A);return this;case"backgroundColor":case"borderColor":case"color":z=u(z);break;case"opacity":z=parseFloat(z,10);break;case"height":case"width":if(z=="auto")B=true;else z=parseInt(z,10);break;case"borderWidth":case"lineHeight":case"fontSize":case"margin":case"marginBottom":case"marginLeft":case"marginRight":case"marginTop":case"padding":case"paddingBottom":case"paddingLeft":case"paddingRight":case"paddingTop":case"bottom":case"left":case"right":case"top":case"scrollTop":case"scrollLeft":z=parseInt(z,10);break;case"rotateX":case"rotateY":case"rotateZ":z=parseInt(z,10)*Math.PI/180;break;case"translateX":case"translateY":case"translateZ":case"scaleX":case"scaleY":case"scaleZ":z=parseFloat(z,10);break;case"rotate3d":this._attr("rotateX",z[0],A);this._attr("rotateY",z[1],A);this._attr("rotateZ",z[2],A);return this;case"rotate":this._attr("rotateZ",z,A);return this;case"scale3d":this._attr("scaleZ",z[2],A);case"scale":this._attr("scaleX",z[0],A);this._attr("scaleY",z[1],A);return this;case"translate3d":this._attr("translateZ",z[2],A);case"translate":this._attr("translateX",z[0],A);this._attr("translateY",z[1],A);return this;default:throw new Error(y+" is not a supported attribute!")}if(this.state.attrs[y]===undefined)this.state.attrs[y]={};if(B)this.state.attrs[y].auto=true;switch(A){case q:this.state.attrs[y].start=z;break;case p:this.state.attrs[y].by=true;case o:this.state.attrs[y].value=z;break}};function r(y){var z=parseInt(b("Style").get(y,"paddingLeft"),10),A=parseInt(b("Style").get(y,"paddingRight"),10),B=parseInt(b("Style").get(y,"borderLeftWidth"),10),C=parseInt(b("Style").get(y,"borderRightWidth"),10);return y.offsetWidth-(z?z:0)-(A?A:0)-(B?B:0)-(C?C:0)}function s(y){var z=parseInt(b("Style").get(y,"paddingTop"),10),A=parseInt(b("Style").get(y,"paddingBottom"),10),B=parseInt(b("Style").get(y,"borderTopWidth"),10),C=parseInt(b("Style").get(y,"borderBottomWidth"),10);return y.offsetHeight-(z?z:0)-(A?A:0)-(B?B:0)-(C?C:0)}h.prototype.setUnit=function(y){this.unit=y;return this};h.prototype.to=function(y,z){if(z===undefined)this._attr(this.last_attr,y,o);else{this._attr(y,z,o);this.last_attr=y}return this};h.prototype.by=function(y,z){if(z===undefined)this._attr(this.last_attr,y,p);else{this._attr(y,z,p);this.last_attr=y}return this};h.prototype.from=function(y,z){if(z===undefined)this._attr(this.last_attr,y,q);else{this._attr(y,z,q);this.last_attr=y}return this};h.prototype.duration=function(y){this.state.duration=y?y:0;return this};h.prototype.checkpoint=function(y,z){if(y===undefined)y=1;this.state.checkpoint=y;this.queue.push(this.state);this._reset_state();this.state.checkpointcb=z;return this};h.prototype.blind=function(){this.state.blind=true;return this};h.prototype.hide=function(){this.state.hide=true;return this};h.prototype.show=function(){this.state.show=true;return this};h.prototype.ease=function(y){this.state.ease=y;return this};h.prototype.getBasicOpacityAnimation=function(){__p&&__p();if(this.queue.length===0&&g&&b("WebSpeedJSExperiments").webspeed_animations_opacity){var y=Object.keys(this.state.attrs);if(y.length===1&&y[0]==="opacity"){var z=this.state.attrs.opacity.start,A=this.state.attrs.opacity.value;if(z===0&&A===1)return b("CSSFade").show;else if(z===1&&A===0)return b("CSSFade").hide}}return null};h.prototype.CSSAnimation=function(y){var z={duration:this.state.duration};if(this.state.ondone)z.callback=this.state.ondone;y(this.obj,z)};h.prototype.go=function(){__p&&__p();var y=this.getBasicOpacityAnimation();if(y)this.CSSAnimation(y);else{var z=Date.now();this.queue.push(this.state);for(var A=0;A<this.queue.length;A++){this.queue[A].start=z-n;if(this.queue[A].checkpoint)z+=this.queue[A].checkpoint*this.queue[A].duration}v(this);return this}};h.prototype._show=function(){b("CSS").show(this.obj)};h.prototype._hide=function(){b("CSS").hide(this.obj)};h.prototype.overrideBehavior=function(y){this.behaviorOverrides=babelHelpers["extends"]({},this.behaviorOverrides,y);return this};h.prototype._frame=function(y){__p&&__p();var z=true,A=false,B;function C(X){return document.documentElement[X]||document.body[X]}function D(Z,X){return Z===document.body?C(X):Z[X]}function E(Z,$){return $.lastScrollTop!==undefined&&$.lastScrollTop!==D(Z.obj,"scrollTop")||$.lastScrollLeft!==undefined&&$.lastScrollLeft!==D(Z.obj,"scrollLeft")}function F(Z,$){$.lastScrollTop=D(Z.obj,"scrollTop");$.lastScrollLeft=D(Z.obj,"scrollLeft")}for(var G=0;G<this.queue.length;G++){var H=this.queue[G];if(H.start>y){z=false;continue}if(H.checkpointcb){this._callback(H.checkpointcb,y-H.start);H.checkpointcb=null}if(H.started===undefined){if(H.show)this._show();for(var I in H.attrs){if(H.attrs[I].start!==undefined)continue;switch(I){case"backgroundColor":case"borderColor":case"color":B=u(b("Style").get(this.obj,I=="borderColor"?"borderLeftColor":I));if(H.attrs[I].by){H.attrs[I].value[0]=Math.min(255,Math.max(0,H.attrs[I].value[0]+B[0]));H.attrs[I].value[1]=Math.min(255,Math.max(0,H.attrs[I].value[1]+B[1]));H.attrs[I].value[2]=Math.min(255,Math.max(0,H.attrs[I].value[2]+B[2]))}break;case"opacity":B=b("Style").getOpacity(this.obj);if(H.attrs[I].by)H.attrs[I].value=Math.min(1,Math.max(0,H.attrs[I].value+B));break;case"height":B=s(this.obj);if(H.attrs[I].by)H.attrs[I].value+=B;break;case"width":B=r(this.obj);if(H.attrs[I].by)H.attrs[I].value+=B;break;case"scrollLeft":case"scrollTop":B=D(this.obj,I);if(H.attrs[I].by)H.attrs[I].value+=B;F(this,H);break;case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":B=b("DataStore").get(this.obj,I,0);if(H.attrs[I].by)H.attrs[I].value+=B;break;case"scaleX":case"scaleY":case"scaleZ":B=b("DataStore").get(this.obj,I,1);if(H.attrs[I].by)H.attrs[I].value+=B;break;default:B=parseInt(b("Style").get(this.obj,I),10)||0;if(H.attrs[I].by)H.attrs[I].value+=B;break}H.attrs[I].start=B}if(H.attrs.height&&H.attrs.height.auto||H.attrs.width&&H.attrs.width.auto){this._destroy_container();for(var I in{height:1,width:1,fontSize:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1})if(H.attrs[I])this.obj.style[I]=H.attrs[I].value+(typeof H.attrs[I].value=="number"?this.unit:"");if(H.attrs.height&&H.attrs.height.auto)H.attrs.height.value=s(this.obj);if(H.attrs.width&&H.attrs.width.auto)H.attrs.width.value=r(this.obj)}H.started=true;if(H.blind)this._build_container()}var J=(y-H.start)/H.duration;if(J>=1){J=1;if(H.hide)this._hide()}else z=false;var K=H.ease?H.ease(J):J;if(!A&&J!=1&&H.blind)A=true;for(var I in H.attrs)switch(I){case"backgroundColor":case"borderColor":case"color":if(H.attrs[I].start[3]!=H.attrs[I].value[3])this.obj.style[I]="rgba("+t(K,H.attrs[I].start[0],H.attrs[I].value[0],true)+","+t(K,H.attrs[I].start[1],H.attrs[I].value[1],true)+","+t(K,H.attrs[I].start[2],H.attrs[I].value[2],true)+","+t(K,H.attrs[I].start[3],H.attrs[I].value[3],false)+")";else this.obj.style[I]="rgb("+t(K,H.attrs[I].start[0],H.attrs[I].value[0],true)+","+t(K,H.attrs[I].start[1],H.attrs[I].value[1],true)+","+t(K,H.attrs[I].start[2],H.attrs[I].value[2],true)+")";break;case"opacity":b("Style").set(this.obj,"opacity",t(K,H.attrs[I].start,H.attrs[I].value));break;case"height":case"width":this.obj.style[I]=K==1&&H.attrs[I].auto?"auto":t(K,H.attrs[I].start,H.attrs[I].value,true)+this.unit;break;case"scrollLeft":case"scrollTop":var L=this.obj===document.body;if(!this.behaviorOverrides.ignoreUserScroll&&E(this,H)){delete H.attrs.scrollTop;delete H.attrs.scrollLeft}else{var M=t(K,H.attrs[I].start,H.attrs[I].value,true);if(!L)this.obj[I]=M;else if(I=="scrollLeft")a.scrollTo(M,C("scrollTop"));else a.scrollTo(C("scrollLeft"),M);F(this,H)}break;case"translateX":case"translateY":case"translateZ":case"rotateX":case"rotateY":case"rotateZ":case"scaleX":case"scaleY":case"scaleZ":b("DataStore").set(this.obj,I,t(K,H.attrs[I].start,H.attrs[I].value,false));break;default:this.obj.style[I]=t(K,H.attrs[I].start,H.attrs[I].value,true)+this.unit;break}var N=null,O=b("DataStore").get(this.obj,"translateX",0),P=b("DataStore").get(this.obj,"translateY",0),Q=b("DataStore").get(this.obj,"translateZ",0);if(O||P||Q)N=m(N,[1,0,0,0,0,1,0,0,0,0,1,0,O,P,Q,1]);var R=b("DataStore").get(this.obj,"scaleX",1),S=b("DataStore").get(this.obj,"scaleY",1),T=b("DataStore").get(this.obj,"scaleZ",1);if(R-1||S-1||T-1)N=m(N,[R,0,0,0,0,S,0,0,0,0,T,0,0,0,0,1]);var U=b("DataStore").get(this.obj,"rotateX",0);if(U)N=m(N,[1,0,0,0,0,Math.cos(U),Math.sin(-U),0,0,Math.sin(U),Math.cos(U),0,0,0,0,1]);var V=b("DataStore").get(this.obj,"rotateY",0);if(V)N=m(N,[Math.cos(V),0,Math.sin(V),0,0,1,0,0,Math.sin(-V),0,Math.cos(V),0,0,0,0,1]);var W=b("DataStore").get(this.obj,"rotateZ",0);if(W)N=m(N,[Math.cos(W),Math.sin(-W),0,0,Math.sin(W),Math.cos(W),0,0,0,0,1,0,0,0,0,1]);var X=b("getVendorPrefixedName")("transform");if(X)if(N){var Y=i(N);b("Style").set(this.obj,X,Y)}else if(z)b("Style").set(this.obj,X,null);if(J==1){this.queue.splice(G--,1);this._callback(H.ondone,y-H.start-H.duration)}}if(!A&&this.container_div)this._destroy_container();return!z};h.prototype.ondone=function(y){this.state.ondone=y;return this};h.prototype._callback=function(y,z){if(y){n=z;y.call(this);n=0}};function t(y,z,A,B){return(B?parseInt:parseFloat)((A-z)*y+z,10)}function u(y){__p&&__p();var z=/^#([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})$/i.exec(y);if(z)return[parseInt(z[1].length==1?z[1]+z[1]:z[1],16),parseInt(z[2].length==1?z[2]+z[2]:z[2],16),parseInt(z[3].length==1?z[3]+z[3]:z[3],16),1];else{var A=/^rgba? *\(([0-9]+), *([0-9]+), *([0-9]+)(?:, *([0-9\.]+))?\)$/.exec(y);if(A)return[parseInt(A[1],10),parseInt(A[2],10),parseInt(A[3],10),A[4]?parseFloat(A[4]):1];else if(y=="transparent")return[255,255,255,0];else throw new Error("Named color attributes are not supported.")}}function v(y){e.push(y);if(e.length===1)if(d)d(x);else f=b("setIntervalAcrossTransitions")(x,20);if(d)w();x(Date.now(),true)}function w(){__p&&__p();if(!d)throw new Error("Ending timer only valid with requestAnimationFrame");var y=0;for(var z=0;z<e.length;z++){var A=e[z];for(var B=0;B<A.queue.length;B++){var C=A.queue[B].start+A.queue[B].duration;if(C>y)y=C}}if(f){b("clearTimeout")(f);f=null}var D=Date.now();if(y>D)f=b("setTimeoutAcrossTransitions")(b("shield")(x),y-D)}function x(y,z){__p&&__p();var A=Date.now();for(var B=z===true?e.length-1:0;B<e.length;B++)try{if(!e[B]._frame(A))e.splice(B--,1)}catch(C){e.splice(B--,1)}if(e.length===0){if(f){if(d)b("clearTimeout")(f);else b("clearInterval")(f);f=null}}else if(d)d(x)}h.ease={};h.ease.begin=function(y){return Math.sin(Math.PI/2*(y-1))+1};h.ease.end=function(y){return Math.sin(.5*Math.PI*y)};h.ease.both=function(y){return.5*Math.sin(Math.PI*(y-.5))+.5};h.prependInsert=function(y,z){h.insert(y,z,b("DOM").prependContent)};h.appendInsert=function(y,z){h.insert(y,z,b("DOM").appendContent)};h.insert=function(y,z,A){b("Style").set(z,"opacity",0);A(y,z);new h(z).from("opacity",0).to("opacity",1).duration(400).go()};c.exports=h}),null);
__d("FantaPageGreetingLoader.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React","getPageIDFromThreadID","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){var k=j.thread,l=j.threadID;if(k!=null){var m,n=((m=k)!=null?m.is_canonical_neo_user:m)||false;if(n)return null}else return null;return c("getPageIDFromThreadID")(l)?c("React").createElement("div",{className:"_av1"},c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("MercuryChatTabPagesGreetingContainer.react").__setRef("FantaPageGreetingLoader.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{threadID:l})})):null};f.exports=i}),null);
__d("Grid.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k,l,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.render=function(){"use strict";__p&&__p();var p=this.props,q=p.alignh,r=p.alignv,s=p.children,t=p.cols,u=p.fixed,v=p.spacing,w=c("React").Children.count(s),x=[],y=[],z=0;c("React").Children.forEach(s,function(A,B){__p&&__p();if(A===null||A===undefined)return;var C=A.type===o;z+=C?Math.max(A.props.colSpan||0,1):1;var D=z===t?"_51mw":"";if(!C)A=c("React").createElement(o,{alignh:q,alignv:r,className:c("joinClasses")(v,D),key:A.key||B},A);else A=c("React").cloneElement(A,{key:A.key||B,alignh:A.props.alignh||q,alignv:A.props.alignv||r,className:c("joinClasses")(A.props.className,v,D)});y.push(A);if(z%t===0||B+1===w){if(u&&z<t){for(var E=z;E<t;E++)y.push(c("React").createElement(o,{key:B+E}));z=t}x.push(c("React").createElement("tr",{className:"_51mx",key:B},y));y=[];z=0}});return c("React").createElement("table",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"uiGrid _51mz"+(u?" _5f0n":"")),cellSpacing:"0",cellPadding:"0"}),c("React").createElement("tbody",null,x))};function n(){"use strict";i.apply(this,arguments)}n.propTypes={cols:m.number.isRequired,fixed:m.bool,alignv:m.oneOf(["top","middle","bottom"]),alignh:m.oneOf(["left","center","right"]),spacing:m.string};k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.render=function(){"use strict";var p=this.props,q=p.alignh,r=p.alignv,s=p.className,t=babelHelpers.objectWithoutProperties(p,["alignh","alignv","className"]),u=c("joinClasses")(s,"_51m-"+(r==="top"?" vTop":"")+(r==="middle"?" vMid":"")+(r==="bottom"?" vBot":"")+(q==="left"?" hLeft":"")+(q==="center"?" hCent":"")+(q==="right"?" hRght":""));return c("React").createElement("td",babelHelpers["extends"]({},t,{className:u}))};function o(){"use strict";k.apply(this,arguments)}o.propTypes={alignv:m.oneOf(["top","middle","bottom"]),alignh:m.oneOf(["left","center","right"]),className:m.string};n.GridItem=o;f.exports=n}),null);
__d("MercuryCamQuickReply.react",["cx","fbt","BootloadedComponent.react","JSResource","MercuryIDs","MercuryThreads","MessengerQuickCamOrigins","React","XUISpinner.react","convertMIGColorToFIGColor"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MercuryThreads").get(),m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;n.prototype.componentWillUpdate=function(o,p){if(o&&this.props.lastMessage!==o.lastMessage&&this.props.camQuickReplyWillShow)this.props.camQuickReplyWillShow()};n.prototype.componentDidUpdate=function(o,p){if(o&&this.props.lastMessage!==o.lastMessage&&this.props.camQuickReplyDidShow)this.props.camQuickReplyDidShow()};n.prototype.render=function(){var o=this.props.lastMessage,p=c("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);if(!(o&&o.message_source&&o.author!==p&&o.message_source==="camera"))return null;var q=l.getThreadMetaNow(this.props.threadID),r=q?c("convertMIGColorToFIGColor")(q.custom_color):null,s=c("React").createElement("div",{className:"_zdf",style:r&&{color:r}},i._("Send a photo reply"));return c("React").createElement("div",{className:"_zdg"},c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("MercuryCamQuickReply.react"),bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),{className:"_5h-9"}),className:"_5yhk _6gb",location:c("MessengerQuickCamOrigins").CHAT_TAB,threadID:this.props.threadID,viewer:this.props.viewer,textChild:s}))};function n(){j.apply(this,arguments)}n.propTypes={camQuickReplyWillShow:m.func,camQuickReplyDidShow:m.func,lastMessage:m.object,threadID:m.string.isRequired,viewer:m.string.isRequired};f.exports=n}),null);
__d("MercuryDelayedRoger",["ArbiterMixin","LiveTimer","MercuryActionStatus","MercuryConfig","MercuryMessages","mercuryRogerRe","MercurySingletonProvider","MercuryThreadInformer","MercuryThreads","mixin","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("MercuryConfig")["roger.seen_delay"];h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;k.getForFBID=function(m){"use strict";return l.getForFBID(m)};k.get=function(){"use strict";return l.get()};function k(m){"use strict";__p&&__p();i.constructor.call(this);this.$MercuryDelayedRoger9=function(event,n){var o={};for(var p in n)if(this.$MercuryDelayedRoger11(p))o[p]=true;Object.keys(o).forEach(function(q){return this.$MercuryDelayedRoger12(o)}.bind(this))}.bind(this);this.$MercuryDelayedRoger1=m;this.$MercuryDelayedRoger2=c("mercuryRogerRe").getForFBID(m);this.$MercuryDelayedRoger4={};this.$MercuryDelayedRoger5={};this.$MercuryDelayedRoger2.subscribe("change",function(n,o){for(var p in o)!this.$MercuryDelayedRoger5[p]&&this.$MercuryDelayedRoger8(p)}.bind(this));this.$MercuryDelayedRoger3=c("MercuryThreadInformer").getForFBID(m);this.$MercuryDelayedRoger6=c("MercuryMessages").getForFBID(m);this.$MercuryDelayedRoger7=c("MercuryThreads").getForFBID(m);this.$MercuryDelayedRoger3.subscribe("messages-received",this.$MercuryDelayedRoger9);this.$MercuryDelayedRoger3.subscribe("messages-reordered",this.$MercuryDelayedRoger9);this.$MercuryDelayedRoger3.subscribe("messages-updated",this.$MercuryDelayedRoger9)}k.prototype.getSeenBy=function(m,n){"use strict";if(this.$MercuryDelayedRoger5[m])return[];return this.$MercuryDelayedRoger2.getSeenBy(this.$MercuryDelayedRoger10(m),n)};k.prototype.wasSeenByAll=function(m){"use strict";if(this.$MercuryDelayedRoger5[m])return false;return this.$MercuryDelayedRoger2.wasSeenByAll(this.$MercuryDelayedRoger10(m))};k.prototype.$MercuryDelayedRoger10=function(m){"use strict";if(!this.$MercuryDelayedRoger4[m]){var n=this.$MercuryDelayedRoger7.getThreadMetaNow(m);if(n)this.$MercuryDelayedRoger4[m]={thread_id:m,author:n.participants[0],timestamp:n.timestamp}}return this.$MercuryDelayedRoger4[m]};k.prototype.$MercuryDelayedRoger11=function(m){"use strict";__p&&__p();var n=false;this.$MercuryDelayedRoger6.getThreadMessagesRange(m,0,1,function(o){__p&&__p();var p=o[0];if(!p)return;var q=p.timestamp;if(p.status===c("MercuryActionStatus").SUCCESS)q-=c("LiveTimer").getServerTimeOffset();var r=this.getSeenBy(m);if(this.$MercuryDelayedRoger5[m]){clearTimeout(this.$MercuryDelayedRoger5[m]);delete this.$MercuryDelayedRoger5[m]}var s=q+j,t=s-Date.now();if(t>0)this.$MercuryDelayedRoger5[m]=c("setTimeoutAcrossTransitions")(function(){delete this.$MercuryDelayedRoger5[m];this.$MercuryDelayedRoger8(m)}.bind(this),t);this.$MercuryDelayedRoger4[m]=p;var u=this.getSeenBy(m);if(r.length||u.length)n=true}.bind(this));return n};k.prototype.$MercuryDelayedRoger8=function(m){"use strict";var n={};n[m]=true;this.$MercuryDelayedRoger12(n)};k.prototype.$MercuryDelayedRoger12=function(m){"use strict";this.inform("state-changed",m);this.inform("change")};var l=new(c("MercurySingletonProvider"))(k);f.exports=k}),null);
__d("MercuryIndicatorController",["fbt","ArbiterMixin","DOM","MercuryActionType","MercuryDelayedRoger","MercuryIDs","MercuryMessageSourceTags","MercuryParticipants","mercuryRogerRe","MercurySourceType","MercuryThreads","MercuryTypingReceiver","MercuryViewer","WorkModeConfig","formatDate","removeFromArray"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("MercuryDelayedRoger").get(),j=c("mercuryRogerRe").get(),k=c("MercuryThreads").get(),l=c("MercuryTypingReceiver").get(),m=[];function n(o){this._threadID=o;this._canonicalUser=c("MercuryIDs").getUserIDFromThreadID(o);m.push(this)}Object.assign(n.prototype,c("ArbiterMixin"),{destroy:function o(){c("removeFromArray")(m,this)},setLastMessage:function o(p){this._lastMsg=p;this._handleStateChange()},_informStateChanged:function o(p){if(p.activity=="none"&&this._currentActivity=="none")return;if(this._lastMsg&&this._lastMsg.author&&c("MercuryViewer").isViewer(this._lastMsg.author))p.self_authored=true;this._currentActivity=p.activity;this.inform("state-changed",p)},_notifySentFrom:function o(){__p&&__p();var p,q,r=this._lastMsg.source_tags||this._lastMsg.tags||[];if(r.includes(c("MercuryMessageSourceTags").MESSENGER)){if(!c("WorkModeConfig").is_work_user)p=c("DOM").create("a",{href:"/mobile/messenger","class":"fcg",target:"_blank"},h._("Sent from Messenger"));else p=c("DOM").create("a",{href:"https://www.facebook.com/workplace/mobile/","class":"fcg",target:"_blank"},h._("Sent from Workplace Chat"));q="sentFromMobile"}else if(r.includes(c("MercuryMessageSourceTags").MOBILE)){var s=c("WorkModeConfig").is_work_user?"/workplace/mobile":"/mobile";p=c("DOM").create("a",{href:s,"class":"fcg",target:"_blank"},h._("Sent from Mobile"));q="sentFromMobile"}else if(r.includes(c("MercuryMessageSourceTags").EMAIL)){p=h._("Sent from email");q="sentFromEmail"}else if(r.includes(c("MercurySourceType").MESSENGER_COMMERCE))q="sentFromMessengerCommerce";else{this._informStateChanged({activity:"none"});return}this._informStateChanged({activity:q,text:p})},_notifySeenTimestamp:function o(p){var q=Date.now()*.001,r=j.getSeenTimestamp(this._threadID,p[0]),s=r.action*.001,t;if(s<q-518400)t="M j";else if(s<q-86400)t="D g:ia";else t="g:ia";this._informStateChanged({activity:"seen-timestamp",text:h._("Seen {timestamp}",[h.param("timestamp",c("formatDate")(s,t))])})},_nameNormalizer:function o(p){__p&&__p();var q;c("MercuryParticipants").getMulti(p,function(r){function s(u){if(r[u]!==undefined&&r[u].short_name)return r[u].short_name.toLowerCase();else return u}var t=p.map(s);q=function q(u){var v=s(u),w=t.indexOf(v)!==t.lastIndexOf(v);return w?r[u].name:r[u].short_name}});return q},_seenByEveryone:function o(p,q,r){var s=r?r.participants.length:0,t=p.length;if(q.author!=c("MercuryViewer").getID()&&(!r||r.participants.indexOf(q.author)>-1))t++;return s>2&&t>=s-1},_notifySeenBy:function o(p){__p&&__p();var q=this._lastMsg,r=true;c("MercuryParticipants").getMulti(p,function(s){__p&&__p();r=false;if(this._lastMsg!=q)return;var t=k.getThreadMetaNow(this._threadID),u=null;if(t&&t.custom_nickname)u=t.custom_nickname;var v=[];for(var w in s){var x=s[w],y=x.short_name;if(u&&u[x.fbid])y=u[x.fbid];v[w]=y}var z,A=false;if(this._seenByEveryone(p,q,t))z={prefix:"Seen by everyone"};else if(p.length==1)z={prefix:"Seen by ",names:" "+v[p[0]]};else if(p.length==2)z={prefix:"Seen by ",names:" "+v[p[0]]+", "+v[p[1]]};else if(p.length==3)z={prefix:"Seen by ",names:" "+v[p[0]]+", "+v[p[1]]+", "+v[p[2]]};else if(p.length>3){z={prefix:"Seen by ",names:" "+v[p[0]]+", "+v[p[1]]+", "};A=true}this._informStateChanged({activity:"seen-by",text:z,seenBy:p,showTooltip:A})}.bind(this));r&&this._informStateChanged({activity:"none"})},_handleStateChange:function o(){__p&&__p();var p=c("MercuryActionType").LOG_MESSAGE;if(!this._lastMsg||this._lastMsg.action_type==p){this._informStateChanged({activity:"none"});return}if(this._typing&&this._typing.length){this._informStateChanged({activity:"none"});return}if(this._canonicalUser&&this._lastMsg.author!=c("MercuryViewer").getID()){this._notifySentFrom();return}var q=i.getSeenBy(this._threadID,true);if(q.length)if(this._canonicalUser){this._notifySeenTimestamp(q);return}else{this._notifySeenBy(q);return}this._informStateChanged({activity:"none"})}});l.addRetroactiveListener("state-changed",function(o){m.forEach(function(p){var q=o[p._threadID];if(q!==undefined){p._typing=q;p._handleStateChange()}})});i.subscribe("state-changed",function(o,p){m.forEach(function(q){p[q._threadID]&&q._handleStateChange()})});f.exports=n}),null);
__d("MercuryLastMessageIndicator.react",["cx","fbt","DOM","MercuryIndicatorController","MessengerTextWithEmoticons.react","MercuryParticipants","React","ReactDOM","TooltipData","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={data:{}},this.getRootClass=function(){var s="_510g"+(this.state.data.self_authored?" _510e":""),t=this.state.data.activity,u=null;if(String(t).startsWith("seen"))u="seen";else if(t=="typing")u=this.props.hideTyping?null:t;else u=t;return c("joinClasses")(s,u,this.props.className)}.bind(this),this.isVisible=function(s,t){s=s||this.props;t=t||this.state;return t.data&&t.data.activity!="none"&&!(s.hideTyping&&t.data.activity=="typing")}.bind(this),this.$MercuryLastMessageIndicator2=function(){this.$MercuryLastMessageIndicator6.unsubscribe();this.$MercuryLastMessageIndicator3.destroy()}.bind(this),o}m.prototype.componentDidMount=function(){"use strict";this.$MercuryLastMessageIndicator1(this.props)};m.prototype.componentWillReceiveProps=function(n){"use strict";if(n.threadID!=this.props.threadID){this.$MercuryLastMessageIndicator2();this.$MercuryLastMessageIndicator1(n)}else if(n.lastMessage!=this.props.lastMessage)this.$MercuryLastMessageIndicator3.setLastMessage(n.lastMessage)};m.prototype.componentWillUpdate=function(n,o){"use strict";if(this.isVisible(n,o))this.props.indicatorWillShow()};m.prototype.componentDidUpdate=function(){"use strict";if(!this.isVisible())return;if(!this.isSeenBy()){this.setText();this.setTooltip()}this.props.indicatorDidShow()};m.prototype.componentWillUnmount=function(){"use strict";this.$MercuryLastMessageIndicator2()};m.prototype.render=function(){"use strict";if(this.isSeenBy()){var n=this.$MercuryLastMessageIndicator4(this.state.data);return c("React").createElement("div",{className:this.getRootClass()},c("React").createElement("div",{className:"_510h"}),c("React").createElement("span",{className:"_510f"},n))}else return c("React").createElement("div",{className:this.getRootClass()},c("React").createElement("div",{className:"_510h"}),c("React").createElement("span",{className:"_510f",ref:"text"},"\xa0"))};m.prototype.isSeenBy=function(n,o){"use strict";n=n||this.props;o=o||this.state;return o.data&&o.data.activity==="seen-by"};m.prototype.setText=function(){"use strict";if(this.state.data.text)c("DOM").setContent(c("ReactDOM").findDOMNode(this.refs.text),this.state.data.text)};m.prototype.setTooltip=function(){"use strict";if(this.state.data.activity==="seen-by"&&this.state.data.showTooltip)c("MercuryParticipants").getMulti(this.state.data.seenBy,function(n){var o=c("DOM").create("div",null,this.state.data.seenBy.map(function(p){return c("DOM").create("div",null,n[p].name)}));c("TooltipData").set(c("DOM").find(c("ReactDOM").findDOMNode(this),"span.more"),o,"above","center")}.bind(this))};m.prototype.$MercuryLastMessageIndicator4=function(n){"use strict";__p&&__p();var o=n&&n.text;if(!o)return null;if(!o.names)return i._("Seen by everyone");else{var p=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoji:true,renderEmoticons:true,text:o.names});if(!n.showTooltip)return i._("Seen by {names}",[i.param("names",p)]);else{var q=this.$MercuryLastMessageIndicator5(n);return i._("Seen by {names}{=num more link}",[i.param("names",p),i.param("=num more link",q)])}}};m.prototype.$MercuryLastMessageIndicator5=function(n){"use strict";__p&&__p();if(!n||!n.text||!n.showTooltip)return null;var o={},p=0;if(n.activity==="seen-by"){var q=null;c("MercuryParticipants").getMulti(n.seenBy,function(s){q=n.seenBy.map(function(t){return s[t].name}).join("\r\n");p=Object.keys(s).length-2});o=Object.assign({"data-tooltip-alignh":"center"},c("TooltipData").propsFor(q,"above"))}var r=i._({"*":"{num} more"},[i.param("num",p,[0])]);return c("React").createElement("span",babelHelpers["extends"]({className:"more"},o),r)};m.prototype.$MercuryLastMessageIndicator1=function(n){"use strict";this.$MercuryLastMessageIndicator3=new(c("MercuryIndicatorController"))(n.threadID);this.$MercuryLastMessageIndicator6=this.$MercuryLastMessageIndicator3.subscribe("state-changed",function(o,p){return this.setState({data:p})}.bind(this));n.lastMessage&&this.$MercuryLastMessageIndicator3.setLastMessage(n.lastMessage)};m.propTypes={hideTyping:l.bool,indicatorWillShow:l.func,indicatorDidShow:l.func,lastMessage:l.object,threadID:l.string.isRequired};m.defaultProps={indicatorWillShow:c("emptyFunction"),indicatorDidShow:c("emptyFunction")};f.exports=m}),null);
__d("MNOmniMConstants",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({OMNIM:null,QUICKREPLIES:null});f.exports=babelHelpers["extends"]({},h,{SUGGESTION_MODES:["conservative","balanced","aggressive","muted"]})}),null);
__d("MessengerViewerContactMethodsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1342409575886656"};j.getQueryID=function(){"use strict";return"304829463257788"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("OmniMActions",["MessengerFluxReduceDispatcher","keyMirror","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({BAR_DISMISSED:null,BAR_DISPLAYED:null,BAR_DISAPPEARED:null,BAR_TIMED_OUT:null,MERCURY_DISPATCHED:null,FETCH_SUGGESTIONS:null,PREFS_UPDATED:null,SUGGESTION_CLICKED:null,SUGGESTION_COMPLETED:null,SUGGESTION_DISMISSED:null,SUGGESTION_DISPLAYED:null,SUGGESTION_DISAPPEARED:null,SUGGESTION_MODE_SET:null,SUGGESTIONS_DISMISSED_FOR_THREAD:null}),i="omnim",j={Types:h,Namespace:i,mercuryDispatched:function k(l,m){c("MessengerFluxReduceDispatcher").dispatch({type:h.MERCURY_DISPATCHED,namespace:i,mercuryType:l,data:m})},messageFetched:function k(l,m){c("setImmediate")(function(){c("MessengerFluxReduceDispatcher").dispatch({type:h.FETCH_SUGGESTIONS,namespace:i,threadID:l,message:m})})},suggestionClicked:function k(l,m,n,o){c("MessengerFluxReduceDispatcher").dispatch({type:h.SUGGESTION_CLICKED,namespace:i,threadID:l,option:m,source:n,position:o})},suggestionCompleted:function k(l,m,n,o){c("MessengerFluxReduceDispatcher").dispatch({type:h.SUGGESTION_COMPLETED,namespace:i,threadID:l,option:m,source:n,position:o})},suggestionDismissed:function k(l,m,n,o){c("MessengerFluxReduceDispatcher").dispatch({type:h.SUGGESTION_DISMISSED,namespace:i,threadID:l,option:m,source:n,position:o})},suggestionsDismissedForThread:function k(l){c("MessengerFluxReduceDispatcher").dispatch({type:h.SUGGESTIONS_DISMISSED_FOR_THREAD,namespace:i,threadID:l})},suggestionDisplayed:function k(l,m){c("setImmediate")(function(){c("MessengerFluxReduceDispatcher").dispatch({type:h.SUGGESTION_DISPLAYED,namespace:i,option:l,position:m})})},suggestionDisappeared:function k(l,m){c("setImmediate")(function(){c("MessengerFluxReduceDispatcher").dispatch({type:h.SUGGESTION_DISAPPEARED,namespace:i,option:l,position:m})})},prefsUpdated:function k(l){c("MessengerFluxReduceDispatcher").dispatch({type:h.PREFS_UPDATED,namespace:i,prefs:l})},suggestionModeSet:function k(l){c("MessengerFluxReduceDispatcher").dispatch({type:h.SUGGESTION_MODE_SET,namespace:i,mode:l})},barDismissed:function k(l){c("MessengerFluxReduceDispatcher").dispatch({type:h.BAR_DISMISSED,namespace:i,options:l})},barDisplayed:function k(l){c("setImmediate")(function(){c("MessengerFluxReduceDispatcher").dispatch({type:h.BAR_DISPLAYED,namespace:i,options:l})})},barDisappeared:function k(l){c("setImmediate")(function(){c("MessengerFluxReduceDispatcher").dispatch({type:h.BAR_DISAPPEARED,namespace:i,options:l})})},barTimedOut:function k(l,m){c("setImmediate")(function(){c("MessengerFluxReduceDispatcher").dispatch({type:h.BAR_TIMED_OUT,namespace:i,options:m,threadID:l})})}};f.exports=j}),null);
__d("OmniMHelpers",["gkx"],(function a(b,c,d,e,f,g){function h(i){if(!c("gkx")("AT5yWbHZcFbk8dHu9E8OgmaLZBFHY9-zh1crwQUro5XMW8HcPRzq86dofIPpo_Blktep-KcJ1J4uPJMiA3IOS9wnV278BkfyuEh6Dpu-S3Q1Hg"))return 0;if(i&&i.has("suggestion_mode")){var j=i.get("suggestion_mode");return j!==null&&j!==undefined?j:1}return 3}f.exports={suggestionMode:h}}),null);
__d("OmniMActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATE_EVENT:1,LOCATION:2,PAYMENT:3,POLL:4,STICKER:5,TEXT:6,TRANSPORTATION:7,ORDER_FOOD:8,MAKE_RESERVATION:9,SCHEDULE_CALL:10,LIVE_LOCATION:11,VIDEO_CALL:12,VOICE_CALL:13,SAVE_CONTENT:14,PLAY_GAME:15,SHARE_CONTACT:16,SEND_PHOTO:17,CREATE_REMINDER_DEPRECATED:18,CREATE_REMINDER:19,MARKETPLACE_SAFE_LOCATION:20,VIEW_SAVED:21,CHAT_EXTENSION:22,DAY_CAMERA:23,CALENDAR:24,GIF:25,PAGE_PROFILE:26,FEEDBACK:27,LOCAL_PAGES_PICKER:28})}),null);
__d("OmniMDirectiveType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_ACTIONS:1,CLEAR_ACTIONS:2,ADD_RANGES:3,INVOKE_NATIVE_AGENT:4,MUTATE_FLOW_STATE:5})}),null);
__d("OmniMLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MESSAGE_ANALYZED:"omni_m_message_analyzed",INTENT_DETECTED:"omni_m_intent_detected",INTENT_HANDLED:"omni_m_intent_handled",SUGGESTION_GENERATED:"omni_m_suggestion_generated",SUGGESTIONS_FILTERED:"omni_m_suggestions_filtered",SUGGESTION_SENT:"omni_m_suggestion_sent",SUGGESTION_DISPLAYED:"omni_m_suggestion_displayed",SUGGESTION_CLICKED:"omni_m_suggestion_clicked",SUGGESTION_COMPLETED:"omni_m_suggestion_completed",SUGGESTION_SHARE:"omni_m_suggestion_share_result",SUGGESTION_DISMISSED:"omni_m_suggestion_dismissed",SUGGESTION_DISAPPEARED:"omni_m_suggestion_disappeared",BAR_DISMISSED:"omni_m_bar_dismissed",BAR_DISPLAYED:"omni_m_bar_displayed",BAR_DISAPPEARED:"omni_m_bar_disappeared",ORGANIC_CLICKED:"omni_m_organic_clicked",ORGANIC_COMPLETED:"omni_m_organic_completed",SETTINGS_ON:"omni_m_setting_turned_on",SETTINGS_OFF:"omni_m_setting_turned_off",CALENDAR_EVENT:"omni_m_calendar_event"})}),null);
__d("OmniMLogHelpers",["OmniMEventTypedLogger","MNOmniMConstants","OmniMLoggerEvents","CurrentUser"],(function a(b,c,d,e,f,g){__p&&__p();function h(s){return c("MNOmniMConstants").SUGGESTION_MODES[s]}function i(s,t,u,v){new(c("OmniMEventTypedLogger"))().setEventName(s).setPosition(u+"").setMessageID(t.messageID).setPigeonID(t.suggestionID).setSuggestionMode(h(v)).setContextUserID(c("CurrentUser").getID()).setConfidenceValue(Math.round(t.confidence*1e4)).log()}function j(s,t,u){new(c("OmniMEventTypedLogger"))().setEventName(s).setSuggestionMode(h(u)).setContextUserID(c("CurrentUser").getID()).setSuggestionIds(t.map(function(v){return v.suggestionID})).log()}function k(s,t,u){i(c("OmniMLoggerEvents").SUGGESTION_DISPLAYED,s,t,u)}function l(s,t,u){i(c("OmniMLoggerEvents").SUGGESTION_DISAPPEARED,s,t,u)}function m(s,t,u){i(c("OmniMLoggerEvents").SUGGESTION_DISMISSED,s,t,u)}function n(s,t,u){i(c("OmniMLoggerEvents").SUGGESTION_CLICKED,s,t,u)}function o(s,t,u){i(c("OmniMLoggerEvents").SUGGESTION_COMPLETED,s,t,u)}function p(s,t){j(c("OmniMLoggerEvents").BAR_DISAPPEARED,s,t)}function q(s,t){j(c("OmniMLoggerEvents").BAR_DISMISSED,s,t)}function r(s,t){j(c("OmniMLoggerEvents").BAR_DISPLAYED,s,t)}f.exports={barDisappeared:p,barDisplayed:r,barDismissed:q,suggestionDisplayed:k,suggestionDisappeared:l,suggestionDismissed:m,suggestionClicked:n,suggestionCompleted:o}}),null);
__d("XMessagingOmniMSetPrefController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/set_omnim_prefs/",{})}),null);
__d("OmniMReducer",["AsyncRequest","immutable","MercuryActionType","MercuryConfig","MercuryIDs","MercuryPayloadSource","MNOmniMConstants","OmniMActions","OmniMActionType","OmniMDirectiveType","OmniMLogHelpers","P2PGKValues","XMessagingOmniMSetPrefController","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i=c("OmniMActions").Types,j=c("immutable").Set([c("MercuryActionType").SEND_MESSAGE,c("MercuryActionType").REPLACE_MESSAGE,c("MercuryActionType").USER_GENERATED_MESSAGE]),k=c("immutable").Set([c("MercuryActionType").SEND_MESSAGE,c("MercuryActionType").USER_GENERATED_MESSAGE]),l=2;function m(O,P){__p&&__p();switch(O.content_type){case"text":return true;case"location":if(P===c("MNOmniMConstants").OMNIM)return c("gkx")("AT5s572MdSoGEXfamGtrehqpxjFf-azU_ge5vN8Ha2cmR4nQsJAHf7S6z00TDkUIlOeInYrNbQk1we_dd2i0BgNU");return true;case"sticker":return c("gkx")("AT7VmDDGPaDT6LbLmd3xB0SD2q65kDsRg8icyePF-ojDYKmKCyM5D7bic2sLW9soU6evorr3A-mtzIzJGbizZ7KARzV08bcnfQEcURsfvuJl_g");case"ride_service":return c("gkx")("AT4FiiMAoYveJBlfzyLMiS1Iq4sQkdORShpZQHlNrMkpD7KPwIB3v3LFXtUGAntwinuEZpeidQ2a3vqe12jFyUACAOeBKCvP-1oKVrd31njqmA");case"p2p_payment":return c("P2PGKValues").P2PVisible&&c("gkx")("AT4Pia7DoVl_8Dgx0eX7OE67F1fDbBMFoFb-15ApKSTB7VFr4t2jxpJw8uigJ39qdqTgbGxrjNI7eL3wFjXGNOTq4D_dbLNpHineyfxooIc-MQ");case"open_camera":return c("gkx")("AT5fg4UYOTOQqJSrKF0G7HM1Q9p8lrAP-AUQoEIPGsNAGCXoeNUX9105PDW5_9iyjGg0X2xdaTO7cns3uXkVmE7wDIY7ok4wSTxXRh8vQhJjHQ");case"record_audio":return c("gkx")("AT7LaNJ2-hsszbpnh8CbBanAoNNMygGDk2RRyqBRC8z-zrCRaZrPk8otAH1W6sEv4cue9dKD_xRWmCcplGybp5gI0hUlnFtMsCzXrdE4BH1yUg");case"user_phone_number":return c("gkx")("AT70ApPO8u4r9N24CdWkIiFYZMdcnAaeV9BaXzLxdBmkmVf60X7teW8bfJTrYYnPlB7TPT4_aBOsOQDbCdO-mpJj4JY2rmmLkTH2jaDU2xAiSg");case"user_email":return c("gkx")("AT6b68OqbLsWJQlJTGZqwlCTZJ0z0taRGUXqOzuQVRDoLPO2Dnjh-maTANaNF_FUgpVzi4qt9-S_T7GMqZpzzd99");default:return false}}function n(O){return Array.isArray(O)}function o(O){if(!O)return{};var P=JSON.parse(O)||{},Q=n(P.quick_replies)?P.quick_replies:[],R=P.m_directives;return{quickReplies:Q,directives:R}}function p(O){var P=O.other_user_fbid,Q=O.thread_fbid;return P?c("MercuryIDs").getThreadIDFromUserID(P):c("MercuryIDs").getThreadIDFromThreadFBID(Q)}var q=c("immutable").Map((h={},h[c("OmniMActionType").CREATE_EVENT]="create_event",h[c("OmniMActionType").LOCATION]="location",h[c("OmniMActionType").PAYMENT]="p2p_payment",h[c("OmniMActionType").POLL]="poll",h[c("OmniMActionType").STICKER]="sticker",h[c("OmniMActionType").TEXT]="text",h[c("OmniMActionType").TRANSPORTATION]="ride_service",h[c("OmniMActionType").ORDER_FOOD]="order_food",h[c("OmniMActionType").MAKE_RESERVATION]="make_reservation",h[c("OmniMActionType").SCHEDULE_CALL]="schedule_call",h[c("OmniMActionType").LIVE_LOCATION]="live_location",h));function r(O){var P=O.confidence,Q=O.id,R=O.label,S=O.type,T=O.data,U=O.icon,V=O.message_id,W=O.thread_key;return{content_type:q.get(S+""),data:T,image_url:U,title:R,confidence:P,messageID:V,suggestionID:Q,threadID:p(W),messageDepth:1}}function s(O,P){__p&&__p();var Q=o(P),R=(Q.quickReplies||[]).filter(function(T){return m(T,c("MNOmniMConstants").QUICKREPLIES)}),S=(Q.directives||[]).filter(function(T){return T.type===c("OmniMDirectiveType").ADD_ACTIONS}).map(function(T){return T.data.actions}).reduce(function(T,U){return T.concat(U)},[]).map(r).filter(function(T){return m(T,c("MNOmniMConstants").OMNIM)}).reduce(function(T,U){var V=U.threadID;return T.updateIn([V,"agentSuggestions"],[],function(W){return W.concat([U])})},c("immutable").Map({}));return S.setIn([O,"quickReplies"],R)}function t(O){var P=O.content_type;Object.keys(O.data||{}).sort().map(function(Q){P+=""+Q+O.data[Q]});return P}function u(O){var P=c("immutable").Set(),Q=[];for(var R=O.length-1;R>=0;R--){var S=O[R],T=t(S);if(!P.has(T)){P=P.add(T);Q.unshift(S)}}return Q}function v(O){var P=0;return O.filter(function(Q){if(Q.content_type==="sticker"){if(P>=l)return false;P+=1}return true})}function w(O,P,Q,R){var S=O.getIn(["threadMetadata",P,"timestamp"]);if(S&&S>R)return O;var T=Q.agentSuggestions,U=Q.quickReplies,V=(O.getIn(["suggestionsByThread",P])||{}).agentSuggestions||[],W=T||[];if(V.length)W=v(W);var X=u(W.concat(V));return O.setIn(["threadMetadata",P,"timestamp"],R).setIn(["suggestionsByThread",P],{agentSuggestions:X,quickReplies:U})}function x(O,P,Q,R,S){var T=s(P,R);return T.reduce(function(U,V,P){return w(U,P,V.toJS(),S)},O)}function y(O){if(!O)return null;var P=O.agentSuggestions,Q=(P||[]).reduce(function(R,S){if(S.messageDepth>=c("MercuryConfig").OmniMMessagesToLive)return R;return R.concat([babelHelpers["extends"]({},S,{messageDepth:S.messageDepth+1})])},[]);return babelHelpers["extends"]({},O,{agentSuggestions:Q})}function z(O,P){var Q=P.thread_id,R=P.message_id,S=P.platform_xmd,T=P.timestamp;if(k.has(P.action_type))O=O.updateIn(["suggestionsByThread",Q],y);return x(O,Q,R,S,T)}function A(O,P){__p&&__p();if(P.type!==i.MERCURY_DISPATCHED)return O;var Q=P.data;switch(P.mercuryType){case"update-messages":if(Q.payload_source!==c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)return O;return Q.actions.filter(function(R){return j.has(R.action_type)}).reduce(z,O);case"invalidate-thread-state":return O.deleteIn(["suggestionsByThread",Q.threadID]).deleteIn(["threadMetadata",Q.threadID]);case"invalidate-global-state":return O.set("suggestionsByThread",c("immutable").Map()).set("threadMetadata",c("immutable").Map())}return O}function B(O,P){if(P.type!==i.FETCH_SUGGESTIONS)return O;var Q=P.message,R=P.threadID;return x(O,R,Q.message_id,Q.platform_xmd,Q.timestamp)}function C(O){return O.getIn(["prefs","suggestion_mode"],0)}function D(O,P){if(P.type!==i.SUGGESTION_CLICKED)return O;var Q=P.option,R=P.position,S=P.source;if(S===c("MNOmniMConstants").OMNIM)c("OmniMLogHelpers").suggestionClicked(Q,R,C(O));return O}function E(O,P){if(P.type!==i.SUGGESTION_COMPLETED)return O;var Q=P.threadID,R=P.option,S=P.position,T=P.source;if(T===c("MNOmniMConstants").OMNIM)c("OmniMLogHelpers").suggestionCompleted(R,S,C(O));return O.deleteIn(["suggestionsByThread",Q])}function F(O,P){__p&&__p();if(P.type!==i.SUGGESTION_DISMISSED)return O;var Q=P.threadID,R=P.option,S=P.source,T=P.position;if(S===c("MNOmniMConstants").OMNIM)c("OmniMLogHelpers").suggestionDismissed(R,T,C(O));var U=O.getIn(["suggestionsByThread",Q]);if(!U||!U.agentSuggestions)return O;var V=U.agentSuggestions.map(function(W){if(W.suggestionID===R.suggestionID)return babelHelpers["extends"]({},W,{dismissed:true});return W});return O.setIn(["suggestionsByThread",Q],babelHelpers["extends"]({},U,{agentSuggestions:V}))}function G(O,P){__p&&__p();if(P.type!==i.SUGGESTIONS_DISMISSED_FOR_THREAD)return O;var Q=P.threadID,R=O.getIn(["suggestionsByThread",Q]);if(!R||!R.agentSuggestions)return O;c("OmniMLogHelpers").barDismissed(R.agentSuggestions,C(O));var S=R.agentSuggestions.map(function(T,U){if(T.dismissed)return T;c("OmniMLogHelpers").suggestionDismissed(T,U,C(O));return babelHelpers["extends"]({},T,{dismissed:true})});return O.setIn(["suggestionsByThread",Q],babelHelpers["extends"]({},R,{agentSuggestions:S}))}function H(O,P){if(P.type!==i.PREFS_UPDATED)return O;var Q=P.prefs;return O.updateIn(["prefs"],function(R){return R.merge(c("immutable").fromJS(Q))})}function I(O,P){if(P.type!==i.SUGGESTION_MODE_SET)return O;var Q=P.mode,R=c("XMessagingOmniMSetPrefController").getURIBuilder().getURI();new(c("AsyncRequest"))(R).setMethod("POST").setData({suggestion_mode:Q}).send();return O.setIn(["prefs","suggestion_mode"],Q)}function J(O,P){if(P.type!==i.SUGGESTION_DISPLAYED)return O;var Q=P.option,R=P.position;if(!Q.dismissed)c("OmniMLogHelpers").suggestionDisplayed(Q,R,C(O));return O}function K(O,P){if(P.type!==i.SUGGESTION_DISAPPEARED)return O;var Q=P.option,R=P.position;if(!Q.dismissed)c("OmniMLogHelpers").suggestionDisappeared(Q,R,C(O));return O}function L(O,P){if(P.type!==i.BAR_TIMED_OUT)return O;var Q=P.threadID,R=P.options;c("OmniMLogHelpers").barDisappeared(R,C(O));return O.deleteIn(["suggestionsByThread",Q])}function M(O,P){if(P.type!==i.BAR_DISAPPEARED)return O;c("OmniMLogHelpers").barDisappeared(P.options,C(O));return O}function N(O,P){if(P.type!==i.BAR_DISPLAYED)return O;c("OmniMLogHelpers").barDisplayed(P.options,C(O));return O}f.exports={barDisappeared:M,barDisplayed:N,barTimedOut:L,mercuryDispatch:A,messageFetched:B,prefsUpdated:H,suggestionClicked:D,suggestionCompleted:E,suggestionDisappeared:K,suggestionDismissed:F,suggestionDisplayed:J,suggestionModeSet:I,suggestionsDismissedForThread:G}}),null);
__d("OmniMState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={suggestionsByThread:c("immutable").Map(),threadMetadata:c("immutable").Map(),prefs:c("immutable").Map()};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("XMessagingOmniMPrefController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/get_omnim_prefs/",{})}),null);
__d("OmniMStore",["AsyncRequest","FluxReduceStore","MercuryConfig","MercuryDispatcher","MercuryMessages","MessengerFluxReduceDispatcher","OmniMHelpers","OmniMReducer","OmniMState","OmniMActions","XMessagingOmniMPrefController","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=5,k=[].concat(Object.values(c("OmniMReducer")));h=babelHelpers.inherits(l,c("FluxReduceStore"));i=h&&h.prototype;l.prototype.getInitialState=function(){return new(c("OmniMState"))()};l.prototype.reduce=function(m,n){if(n.namespace!==c("OmniMActions").Namespace)return m;return k.reduce(function(m,o){return o(m,n)},m)};l.prototype.$OmniMStore1=function(m){c("MercuryMessages").get().getThreadMessagesRange(m,0,1,function(n){if(n&&n.length){var o=n[0];c("OmniMActions").messageFetched(m,o)}})};l.prototype.$OmniMStore2=function(){var m=this.getState().get("prefs"),n=c("OmniMHelpers").suggestionMode(m),o=c("MercuryConfig").OmniMConfidenceThresholds[n];return o||.9};l.prototype.$OmniMStore3=function(m){var n=this.$OmniMStore2();return(m||[]).filter(function(o){return o.confidence&&o.confidence>n})};l.prototype.suggestionsForThread=function(m){var n=this.getState();if(!n.getIn(["threadMetadata",m]))this.$OmniMStore1(m);var o=n.getIn(["suggestionsByThread",m],{}),p=this.$OmniMStore3(o.agentSuggestions).slice(0,j);return babelHelpers["extends"]({},o,{agentSuggestions:p})};l.prototype.prefs=function(){return this.getState().get("prefs")};l.prototype.$OmniMStore4=function(){var m=c("MercuryDispatcher").get();m.subscribe("update-messages",function(n,o){c("OmniMActions").mercuryDispatched(n,o)});m.subscribe("invalidate-thread-state",function(n,o){c("OmniMActions").mercuryDispatched(n,{threadID:o})});m.subscribe("invalidate-global-state",function(n){return c("OmniMActions").mercuryDispatched(n)})};l.prototype.$OmniMStore5=function(){if(c("gkx")("AT5yWbHZcFbk8dHu9E8OgmaLZBFHY9-zh1crwQUro5XMW8HcPRzq86dofIPpo_Blktep-KcJ1J4uPJMiA3IOS9wnV278BkfyuEh6Dpu-S3Q1Hg")){var m=c("XMessagingOmniMPrefController").getURIBuilder().getURI();new(c("AsyncRequest"))(m).setAllowCrossPageTransition(true).setReadOnly(true).setMethod("POST").setHandler(function(n){return c("OmniMActions").prefsUpdated(n.payload)}).send()}};l.prototype.setUp=function(){this.$OmniMStore4();this.$OmniMStore5()};function l(){h.apply(this,arguments)}f.exports=new l(c("MessengerFluxReduceDispatcher"))}),null);
__d("XGraphQLBatchAPIController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/api/graphqlbatch/",{queries:{type:"String"},batch_name:{type:"String"},scheduler:{type:"Enum",enumType:1},shared_params:{type:"String"}})}),null);
__d("createChunkedResponseParser",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="\r\n",j=2;function k(l,m){__p&&__p();var n=0,o=function o(p,q,r){__p&&__p();if(m){p=m(p);p==null||typeof p==="string"||h(0)}if(p){var s=p.length;while(n<s){var t=p.indexOf(i,n);if(t<0)if(r)t=s;else break;var u=p.slice(n,t);n+=u.length+j;l(u,q,r&&n>=s)}}else if(r)l("",q,true)};o.parseStreaming=true;return o}f.exports=k}),null);
__d("WebGraphQL",["ActorURI","Deferred","WebGraphQLConfig","XGraphQLBatchAPIController","XHRRequest","createChunkedResponseParser","getAsyncParams","getSameOriginTransport"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.getURIBuilder().getURI(),k={exec:function l(m,n){return k.execAll([m],n)[0]},execAll:function l(m,n){__p&&__p();var o={},p={},q=m.map(function(u,v){var w="o"+v;o[w]={doc_id:u.__getDocID(),query_params:u.__getVariables()};return p[w]=new(c("Deferred"))()}),r=babelHelpers["extends"]({},c("getAsyncParams")("POST"));if(n&&n.actorID!=null)r[c("ActorURI").PARAMETER_ACTOR]=n.actorID;var s=n&&n.batchName?{batch_name:n.batchName}:{},t=new(c("XHRRequest"))(j).setMethod("POST").setTransportBuilder(c("getSameOriginTransport")).setRequestHeader("Content-Type","application/x-www-form-urlencoded").setData(babelHelpers["extends"]({},s,r,{queries:JSON.stringify(o)})).setResponseHandler(c("createChunkedResponseParser")(function(u,v,w){__p&&__p();var x=JSON.parse(u);Object.keys(x).forEach(function(y){var z=p[y];if(z){var A=x[y];if(A.errors)z.reject(A);else if(A.data)z.resolve(A.data);else z.reject({data:{},errors:[{message:"Unexpected response received from server.",severity:"CRITICAL",response:A}]})}});if(w)Object.keys(p).forEach(function(y){if(!p[y].isSettled())p[y].reject({data:{},errors:[{message:"No response received from server.",severity:"CRITICAL"}]})})})).setTimeout(c("WebGraphQLConfig").timeout).setTimeoutHandler(function(){Object.keys(p).forEach(function(u){if(!p[u].isSettled())p[u].reject({data:{},errors:[{message:"Request timed out.",severity:"CRITICAL"}]})})}).setErrorHandler(function(u){Object.keys(p).forEach(function(v){if(!p[v].isSettled())p[v].reject({data:{},errors:[{message:u&&u.message||"Transport error.",severity:"CRITICAL",error:u}]})})});t.send();return q},__forController:h};return k}f.exports=h(c("XGraphQLBatchAPIController"))}),null);
__d("MercuryQuickReply.react",["cx","BootloadedComponent.react","JSResource","MercuryIDs","MessengerQuickCamOrigins","MessengerViewerContactMethodsWebGraphQLQuery","MNOmniMConstants","OmniMStore","React","WebGraphQL","XUISpinner.react","FluxContainer","gkx","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={suggestions:null,omniMPrefs:null,viewerEmail:null,viewerPhone:null},n}l.getStores=function(){return[c("OmniMStore")]};l.calculateState=function(m,n){return{suggestions:c("OmniMStore").suggestionsForThread(n.threadID),omniMPrefs:c("OmniMStore").prefs()}};l.prototype.componentWillMount=function(){if(this.props.quickReplyWillShow&&this.$MercuryQuickReply1(this.state))this.props.quickReplyWillShow()};l.prototype.componentDidMount=function(){if(this.props.quickReplyDidShow&&this.$MercuryQuickReply1(this.state))this.props.quickReplyDidShow()};l.prototype.componentWillUpdate=function(m,n){if(this.props.quickReplyWillShow&&n&&this.$MercuryQuickReply1(n)&&!this.$MercuryQuickReply1(this.state))this.props.quickReplyWillShow()};l.prototype.componentDidUpdate=function(m,n){if(this.props.quickReplyDidShow&&this.$MercuryQuickReply1(this.state)&&!this.$MercuryQuickReply1(n))this.props.quickReplyDidShow();this.$MercuryQuickReply2()};l.prototype.render=function(){__p&&__p();var m=this.props.lastMessage;if(!m)return null;var n=null,o=null,p=c("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),q=this.state.suggestions||{},r=q.quickReplies,s=q.agentSuggestions;if(r&&r.length&&m.author!==p){n=r;o=c("MNOmniMConstants").QUICKREPLIES}else if(s&&s.length&&c("gkx")("AT4E-H2IF55T_cfJfVFc0DIJ5Zc0x6Ksd6rrKuinf7B4BwJUeLW2H-a3HWX5xDBokJhpUd0lJcH9_F8HOyg9KFc8")){n=s;o=c("MNOmniMConstants").OMNIM}if(!n||!n.length||n.every(function(t){return t.content_type==="user_email"&&this.state.viewerEmail===null||t.content_type==="user_phone_number"&&this.state.viewerPhone===null}.bind(this))||!n.filter(function(t){return!t.dismissed}).length)return null;return c("React").createElement("div",{className:"_419m",ref:"quickReply"},c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("MessengerBotsQuickReplyButtonList.react").__setRef("MercuryQuickReply.react"),bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),{className:"_5h-9"}),isSponsored:m.is_sponsored,messageId:m.message_id,omniMPrefs:this.state.omniMPrefs,options:n,pageId:m.author!==null?c("MercuryIDs").getUserIDFromParticipantID(m.author):undefined,threadID:m.thread_id,quickCamOriginLocation:this.props.quickCamOriginLocation,source:o,viewer:this.props.viewer,viewerEmail:this.state.viewerEmail,viewerPhone:this.state.viewerPhone}))};l.prototype.$MercuryQuickReply1=function(m){var n=m.suggestions||{},o=n.quickReplies,p=n.agentSuggestions,q=o&&o.length,r=p&&p.length&&c("gkx")("AT4E-H2IF55T_cfJfVFc0DIJ5Zc0x6Ksd6rrKuinf7B4BwJUeLW2H-a3HWX5xDBokJhpUd0lJcH9_F8HOyg9KFc8");return!!(q||r)};l.prototype.$MercuryQuickReply2=function(){__p&&__p();var m=this.state.suggestions||{},n=m.quickReplies;if(!n||n.length===0)return;var o=c("gkx")("AT6b68OqbLsWJQlJTGZqwlCTZJ0z0taRGUXqOzuQVRDoLPO2Dnjh-maTANaNF_FUgpVzi4qt9-S_T7GMqZpzzd99"),p=c("gkx")("AT70ApPO8u4r9N24CdWkIiFYZMdcnAaeV9BaXzLxdBmkmVf60X7teW8bfJTrYYnPlB7TPT4_aBOsOQDbCdO-mpJj4JY2rmmLkTH2jaDU2xAiSg");if(n.some(function(q){return q.content_type==="user_email"&&o||q.content_type==="user_phone_number"&&p}))c("WebGraphQL").exec(new(c("MessengerViewerContactMethodsWebGraphQLQuery"))({})).done(function(q){var r,s,t,u,v=p?(r=q)!=null?(r=r.viewer)!=null?(r=r.user)!=null?r.all_phones:r:r:r:null,w=o?(s=q)!=null?(s=s.viewer)!=null?s.all_emails:s:s:null,x=!v?null:v.find(function(z){return z.is_preferred});if(!x&&v)x=v[0];var y=!w?null:w.find(function(z){return z.is_primary});this.setState({viewerEmail:(t=y)!=null?(t=t.email_address)!=null?t.deduplicated_email_address:t:t,viewerPhone:(u=x)!=null?(u=u.phone_number)!=null?u.universal_number:u:u})}.bind(this))};l.propTypes={quickReplyWillShow:k.func,quickReplyDidShow:k.func,lastMessage:k.object,quickCamOriginLocation:k.oneOf(c("MessengerQuickCamOrigins").getValues()).isRequired,threadID:k.string.isRequired,viewer:k.string.isRequired};f.exports=c("FluxContainer").create(l,{withProps:true})}),null);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h;if(c("fbjs/lib/ExecutionEnvironment").canUseDOM)h=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==true;function i(j,k){__p&&__p();if(!c("fbjs/lib/ExecutionEnvironment").canUseDOM||k&&!("addEventListener"in document))return false;var l="on"+j,m=l in document;if(!m){var n=document.createElement("div");n.setAttribute(l,"return;");m=typeof n[l]==="function"}if(!m&&h&&j==="wheel")m=document.implementation.hasFeature("Events.wheel","3.0");return m}f.exports=i}),null);
__d("FantaConversationScroller.react",["csx","cx","fbt","Animation","Arbiter","BootloadedComponent.react","Bootloader","ChatTypingIndicators.react","CurrentUser","DOM","Event","FantaConversation.react","FantaPageGreetingLoader.react","FantaTabActions","Grid.react","immutable","JSResource","MercuryLastMessageIndicator.react","MercuryAttachment","MercuryCamQuickReply.react","MercuryConfig","MercuryIDs","MercuryQuickReply.react","MercuryThreads","MessengerHotLikePreviewEvents","MessengerQuickCamOrigins","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","MutationObserver","Parent","React","ReactDOM","MercuryShareAttachmentRenderLocations","Scroll","ScrollBoundaryContain","Style","SubscriptionsHandler","TimeSlice","XUISpinner.react","clearImmediate","emptyFunction","getElementPosition","getPageIDFromThreadID","gkx","isEventSupported","setImmediate","throttle"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("MercuryThreads").get(),n=c("Grid.react").GridItem,o=c("React").PropTypes,p=".img:not(.loaded)",q="loaded",r="._59go",s=15,t=null,u=20,v=1e3;function w(y){__p&&__p();if(t===null){var z=y.firstElementChild;if(z){c("Style").set(y,"overflow","scroll");var A=z.clientWidth;c("Style").set(y,"overflow","hidden");var B=z.clientWidth;t=Math.max(B-A,0);c("Style").set(y,"overflow","")}else t=0}return t}k=babelHelpers.inherits(x,c("React").Component);l=k&&k.prototype;function x(y){__p&&__p();l.constructor.call(this,y);this.$FantaConversationScroller10=[];this.state={loadingMessages:!m.isEmptyLocalThread(this.props.threadID),scrollbarPadding:t===null?s:t};this.$FantaConversationScroller12=function(z){if(!c("gkx")("AT41s5nc5usyR3AxF6JSJYEGfAY8tyQMohn4tHD5EBNPLj9IR60HLUM8XbLkhkanQ0whco6up8j9rPvwA-GdPWr0"))return;z.forEach(function(A){if(A.addedNodes.length>0){A.addedNodes.forEach(function(B){this.$FantaConversationScroller13(B)}.bind(this));this.$FantaConversationScroller17()}}.bind(this))}.bind(this);this.$FantaConversationScroller22=function(z){__p&&__p();var A=c("ReactDOM").findDOMNode(this.refs.scrollContainer);if(A){this.$FantaConversationScroller23();if(this.$FantaConversationScroller24()&&!this.$FantaConversationScroller25()&&!this.$FantaConversationScroller4&&!this.props.hasFetchedAll){this.setState({loadingMessages:true});this.props.onLoadMoreMessages()}this.$FantaConversationScroller26();this.$FantaConversationScroller11()}}.bind(this);this.$FantaConversationScroller19=function(){__p&&__p();if(!this.refs||this.state.loadingMessages||!this.props.thread){this.$FantaConversationScroller10=[];return}var z=c("ReactDOM").findDOMNode(this.refs.scrollContainer),A=c("getPageIDFromThreadID")(this.props.threadID);if(!z||!A){this.$FantaConversationScroller10=[];return}var B=10,C=void 0,D=void 0;try{C=z.getBoundingClientRect();D=this.refs.conversation?this.refs.conversation.getMessageList():null}catch(E){return}if(!D||!C)return;var F=[];this.$FantaConversationScroller9.forEach(function(G){__p&&__p();if(!D)return;var H=G.message_id,I=D.getMessageElement(H);if(I){var J=I.getBoundingClientRect();if(J.top>C.top-B&&J.bottom<C.bottom+B){F.push(H);if(!this.$FantaConversationScroller10.includes(H))c("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(K,L){K.log(G.ad_client_token,G.ad_id,L.MESSAGE_SEEN_THREAD,true,H,A)},"FantaConversationScroller.react")}}}.bind(this),this);this.$FantaConversationScroller10=F}.bind(this);this.$FantaConversationScroller27=function(){this.$FantaConversationScroller1=null;c("FantaTabActions").scrollBottomChanged(this.props.threadID,this.$FantaConversationScroller7,this.$FantaConversationScroller28)}.bind(this);this.$FantaConversationScroller28=function(){this.$FantaConversationScroller29(false);this.$FantaConversationScroller20()}.bind(this);this.$FantaConversationScroller3=new(c("MutationObserver"))(this.$FantaConversationScroller12);this.$FantaConversationScroller7=true}x.prototype.shouldComponentUpdate=function(y,z){var A=this.props,B=this.state;return!A.onlineUsers.equals(y.onlineUsers)||A.hasFetchedAll!==y.hasFetchedAll||A.isFocused!==y.isFocused||!A.messages.equals(y.messages)||A.showContextBanner!==y.showContextBanner||A.thread!==y.thread||A.threadID!==y.threadID||B.loadingMessages!==z.loadingMessages};x.prototype.componentDidMount=function(){__p&&__p();this.$FantaConversationScroller13(c("ReactDOM").findDOMNode(this.refs.scrollContainer));this.$FantaConversationScroller14();this.$FantaConversationScroller8=new(c("SubscriptionsHandler"))();this.$FantaConversationScroller15();this.$FantaConversationScroller16();this.$FantaConversationScroller17();c("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$FantaConversationScroller18());this.setState({scrollbarPadding:w(this.refs.scrollContainer)});this.$FantaConversationScroller11=c("throttle")(this.$FantaConversationScroller19,v);this.$FantaConversationScroller9=this.props.messages.filter(function(y){return y.is_sponsored});this.$FantaConversationScroller11()};x.prototype.componentDidUpdate=function(y){__p&&__p();this.$FantaConversationScroller17();if(this.$FantaConversationScroller4){var z=c("ReactDOM").findDOMNode(this.refs.scrollContainer),A=this.$FantaConversationScroller4||0,B=z.scrollHeight-A;this.scrollToPosition(B,false);this.$FantaConversationScroller4=null}if(!y.messages.equals(this.props.messages)){c("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$FantaConversationScroller18());var C=y.messages.last(),D=this.props.messages.last();if(C!==D&&D&&D.author){var E=c("MercuryIDs").getUserIDFromParticipantID(D.author);if(E===c("CurrentUser").getID()){this.scrollToBottom(false);this.$FantaConversationScroller20()}}}this.$FantaConversationScroller11()};x.prototype.componentWillUnmount=function(){this.$FantaConversationScroller1&&c("clearImmediate")(this.$FantaConversationScroller1);this.$FantaConversationScroller8.release()};x.prototype.componentWillReceiveProps=function(y){var z=this.state.loadingMessages&&y.messages.size>0&&!y.messages.equals(this.props.messages);if(z||y.hasFetchedAll||y.showContextBanner)this.setState({loadingMessages:false});if(z||y.showContextBanner||!c("gkx")("AT6NK6oQoOtGPMXC4hqBhPGTzBFXslcH1aNzs-YWPij7VGfo5f1bp4KXFq8mVbY4xJ8")&&y.hasFetchAll){var A=c("ReactDOM").findDOMNode(this.refs.scrollContainer),B=A.scrollHeight,C=c("Scroll").getTop(A);this.$FantaConversationScroller4=B-C}this.$FantaConversationScroller9=y.messages.filter(function(D){return D.is_sponsored})};x.prototype.$FantaConversationScroller14=function(){if(!c("gkx")("AT41s5nc5usyR3AxF6JSJYEGfAY8tyQMohn4tHD5EBNPLj9IR60HLUM8XbLkhkanQ0whco6up8j9rPvwA-GdPWr0"))return;var y=c("ReactDOM").findDOMNode(this.refs.scrollContainer);this.$FantaConversationScroller3.observe(y,{childList:true,subtree:true})};x.prototype.$FantaConversationScroller13=function(y){__p&&__p();if(!c("gkx")("AT41s5nc5usyR3AxF6JSJYEGfAY8tyQMohn4tHD5EBNPLj9IR60HLUM8XbLkhkanQ0whco6up8j9rPvwA-GdPWr0"))return;this.$FantaConversationScroller21(y).forEach(function(z){c("DOM").scry(z,p).forEach(function(A){if(A.complete){A.classList.add(q);return}var B=c("Event").listen(A,"load",function(){A.classList.add(q);this.$FantaConversationScroller17();B.remove()}.bind(this))}.bind(this))}.bind(this))};x.prototype.$FantaConversationScroller21=function(y){var z=c("DOM").scry(y,r);if(z.length===0){var A=c("Parent").bySelector(y,r);if(A)z=z.concat(A)}return z};x.prototype.$FantaConversationScroller17=function(){var y=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(this.$FantaConversationScroller7)if(c("gkx")("AT45Q0YAtTF77a1x8ZT9-rWfsF83gTI5tMuldZujY0KaNI6icTW09jBEE5BSuvPKdZtVIIdleK4appEhrvQPrVOyhvdXTeLDSdYEXUe9KmbS3Q"))c("TimeSlice").guard(function(){this.scrollToBottom(y)}.bind(this),"post load chat animations",{isContinuation:false})();else this.scrollToBottom(y)};x.prototype.renderGroupWave=function(){var y=this.props.thread;if(c("MercuryIDs").isLocalThread(this.props.threadID)&&c("gkx")("AT7uCGaYk4KWBCIq3SurfBIwk1DjmbU_QXgSqcY73Sdnw3DJhbzA4qigZjhm4wwYtWnHVZcxghHN6RO33C1W8YjG")&&y&&!y.is_canonical&&!y.thread_fbid)return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),{background:"light",className:"loading",size:"small"}),bootloadLoader:c("JSResource")("ChatWaveImage.react").__setRef("FantaConversationScroller.react"),thread:y});return null};x.prototype.$FantaConversationScroller26=function(){__p&&__p();var y=this.props.threadID,z=c("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!z)return;var A=void 0,B=void 0;try{A=z.getBoundingClientRect();B=this.refs.conversation?this.refs.conversation.getMessageList():null}catch(C){return}if(!B||!A)return;var D=[],E=c("MessengerVideoAutoplayStore").getMessageIDs(y),F=E||this.$FantaConversationScroller18()||c("immutable").List();F.map(function(G){var H=c("MercuryAttachment").getVideoElem(G,B);if(H)D.push([G,H.getBoundingClientRect()])});if(D.length)c("MessengerVideoAutoplayActions").onScroll(y,E?null:F,c("immutable").Map(D),A)};x.prototype.$FantaConversationScroller18=function(){return this.props.messages.filter(function(y){return c("MercuryAttachment").isSingleVideoAttachment(y)||c("MercuryAttachment").isSharedVideoAttachmentMessage(y)}).reverse().map(function(y){return y.message_id})};x.prototype.scrollToBottom=function(y){var z=c("ReactDOM").findDOMNode(this.refs.scrollContainer);if(z)this.scrollToPosition(z.scrollHeight,y)};x.prototype.scrollToPosition=function(y,z){var A=c("ReactDOM").findDOMNode(this.refs.scrollContainer);this.$FantaConversationScroller6&&this.$FantaConversationScroller6.stop();if(z)this.$FantaConversationScroller6=new(c("Animation"))(A).to("scrollTop",y).ease(c("Animation").ease.end).duration(400).go();else c("Scroll").setTop(A,y)};x.prototype.$FantaConversationScroller25=function(y){var z=c("ReactDOM").findDOMNode(this.refs.scrollContainer);y=y===0?0:y||u;return c("Scroll").getTop(z)+z.clientHeight>=z.scrollHeight-y};x.prototype.$FantaConversationScroller24=function(){var y=c("ReactDOM").findDOMNode(this.refs.scrollContainer);return c("Scroll").getTop(y)<y.clientHeight};x.prototype.$FantaConversationScroller20=function(){var y=this.$FantaConversationScroller7;if(this.$FantaConversationScroller25())this.$FantaConversationScroller7=true;else this.$FantaConversationScroller7=false;if(y!==this.$FantaConversationScroller7)this.$FantaConversationScroller1=c("setImmediate")(this.$FantaConversationScroller27)};x.prototype.$FantaConversationScroller15=function(){__p&&__p();var y=c("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!y)return;var z=c("isEventSupported")("mousewheel")?"mousewheel":c("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",A=function(){this.$FantaConversationScroller20()}.bind(this),B=function B(){y.addEventListener(z,A,{passive:true})},C=function C(){y.removeEventListener(z,A,{passive:true})};this.$FantaConversationScroller8.addSubscriptions(c("Arbiter").subscribe("overflow-applied-to-body",function(){return this.$FantaConversationScroller17()}.bind(this)),c("Event").listen(y,"mousedown",A),c("Event").listen(y,"mouseup",A),c("Event").listen(y,"mouseenter",B),c("Event").listen(y,"mouseleave",C),{cancel:C},c("Event").listen(y,"scroll",c("throttle")(this.$FantaConversationScroller22,50)));var D=c("ScrollBoundaryContain").applyToElem(y);if(D)this.$FantaConversationScroller8.addSubscriptions(D)};x.prototype.$FantaConversationScroller16=function(){__p&&__p();this.$FantaConversationScroller8.addSubscriptions(c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").START,function(y,z){if(this.props.threadID===z){this.$FantaConversationScroller29(false);clearInterval(this.$FantaConversationScroller5);this.$FantaConversationScroller5=setInterval(function(){this.$FantaConversationScroller29(false)}.bind(this),50)}}.bind(this)),c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(y){clearInterval(this.$FantaConversationScroller5)}.bind(this)),c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION,function(y){clearInterval(this.$FantaConversationScroller5)}.bind(this)),c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").REMOVE,function(y){if(this.props.threadID===y)clearInterval(this.$FantaConversationScroller5)}.bind(this)))};x.prototype.render=function(){var y=this.props,z=y.hasFetchedAll,A=y.messages,B=y.showContextBanner,C=y.thread,D=y.threadID,E=c("CurrentUser").getID(),F=c("gkx")("AT572SLwCLmZDDTsXg5I9LZsOQ15AFaFyPW6mF-2-OPcT86erU7KYs2R9o67DUyJwQ6AK0Y7upy2o2--jlRi_7EZ"),G=F&&(m.isEmptyLocalThread(D)||z||B),H=!c("MercuryConfig").ChatSeenHeadsEnabled,I=this.state.loadingMessages||!C?c("React").createElement(c("XUISpinner.react"),{background:"light",className:"loading",size:"small"}):null,J=c("gkx")("AT41s5nc5usyR3AxF6JSJYEGfAY8tyQMohn4tHD5EBNPLj9IR60HLUM8XbLkhkanQ0whco6up8j9rPvwA-GdPWr0")?c("emptyFunction"):function(){return this.$FantaConversationScroller17()}.bind(this);return c("React").createElement("div",{className:"_2v5j"},c("React").createElement("div",{className:"fbNubFlyoutBody scrollable",onClick:function(K){if(K.target&&K.target.classList&&K.target.classList.contains("_5wd4"))this.props.onFocus&&this.props.onFocus()}.bind(this),ref:"scrollContainer",role:"button",tabIndex:"0"},c("React").createElement("div",{className:"fbNubFlyoutBodyContent"},c("React").createElement(c("FantaPageGreetingLoader.react"),{thread:C,threadID:D}),c("React").createElement(c("Grid.react"),{className:"conversationContainer",role:"log",cols:1},c("React").createElement(n,{alignv:"bottom"},c("React").createElement("div",{className:"accessible_elem"},j._("Chat Conversation Start")),G?c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("MessengerContextBannerContainer.react").__setRef("FantaConversationScroller.react"),isContinuation:false,location:c("MercuryShareAttachmentRenderLocations").CHAT,viewer:E,threadID:D}):null,I,c("React").createElement("div",{style:A.size>0?{height:"176px"}:I?{height:"168px"}:{height:"192px"}},c("React").createElement(c("FantaConversation.react"),babelHelpers["extends"]({onAttachmentLoad:J,scrollbarPadding:this.state.scrollbarPadding,ref:"conversation"},this.props)),c("gkx")("AT7Fdvvof3gB21NGh8Fo7o5af68El03cTnUDtqQrI_yHQbziWN3MyQvvj6iMavHBZ0fTg3S3rpHTM9337zgjjUnM")?c("React").createElement(c("MercuryCamQuickReply.react"),{camQuickReplyWillShow:c("emptyFunction"),camQuickReplyDidShow:function(){return this.$FantaConversationScroller17(true)}.bind(this),lastMessage:A.size>0?A.last():undefined,threadID:D,viewer:E}):null,c("React").createElement(c("ChatTypingIndicators.react"),{threadID:D,indicatorsWillShow:c("emptyFunction"),indicatorsDidShow:function(){return this.$FantaConversationScroller17(true)}.bind(this),viewer:E,onlineUsers:this.props.onlineUsers}),this.renderGroupWave(),H?c("React").createElement(c("MercuryLastMessageIndicator.react"),{hideTyping:true,indicatorDidShow:function(){return this.$FantaConversationScroller17(true)}.bind(this),indicatorWillShow:c("emptyFunction"),lastMessage:A.size>0?A.last():null,threadID:D}):null,c("React").createElement(c("MercuryQuickReply.react"),{lastMessage:A.size>0?A.last():undefined,threadID:D,quickReplyWillShow:c("emptyFunction"),quickReplyDidShow:function(){return this.$FantaConversationScroller17(true)}.bind(this),viewer:E,quickCamOriginLocation:c("MessengerQuickCamOrigins").CHAT_TAB})),c("React").createElement("div",{className:"accessible_elem"},j._("Chat Conversation End")))))))};x.prototype.$FantaConversationScroller23=function(){var y=c("ReactDOM").findDOMNode(this.refs.scrollContainer),z=c("getElementPosition")(y);c("Arbiter").inform("chatScrolled/"+this.props.threadID,{scrollTop:c("Scroll").getTop(y),top:z.y,viewHeight:z.height})};x.prototype.$FantaConversationScroller29=function(y){var z=c("ReactDOM").findDOMNode(this.refs.scrollContainer);if(z)this.$FantaConversationScroller30(z.scrollHeight,y)};x.prototype.$FantaConversationScroller30=function(y,z){var A=c("ReactDOM").findDOMNode(this.refs.scrollContainer);this.$FantaConversationScroller6&&this.$FantaConversationScroller6.stop();if(z===true)this.$FantaConversationScroller6=new(c("Animation"))(A).to("scrollTop",y).ease(c("Animation").ease.end).duration(400).go();else c("Scroll").setTop(A,y)};x.propTypes={hasFetchedAll:o.bool.isRequired,isFocused:o.bool.isRequired,messages:o.object.isRequired,onFocus:o.func,onLoadMoreMessages:o.func.isRequired,onlineUsers:o.instanceOf(c("immutable").List).isRequired,showContextBanner:o.bool,thread:o.object,threadID:o.string.isRequired};f.exports=x}),null);
__d("FantaCookieUtil",["FantaConst","Map","MercuryIDs","MercuryThreads","WorkModeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MercuryThreads").get(),i={convertCookieData:function j(k,l,m){__p&&__p();var n={tabs:[],focusedTabID:null,updatedTime:0,interstitialData:m},o=[],p=this._getCookieKeys();k=k||{};if(k[p.tabs])o=k[p.tabs];o.forEach(function(u){n.tabs.push({id:u.i,isMinimized:!u.r,openCounter:u.o,focusCounter:u.f})});if(l)for(var q=l.tabs.values(),r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;if(h.isEmptyLocalThread(u.id))n.tabs.push({id:u.id,isMinimized:u.isMinimized,openCounter:u.openCounter,focusCounter:u.focusCounter})}n.focusedTabID=k[p.focusedTabID];n.updatedTime=k[p.updatedTime];return n},createCookieData:function j(k,l){__p&&__p();var m=[],n=this._getCookieKeys();if(l[n.updatedTime]>k.updatedTime)return l;for(var o=k.tabs.values(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(!c("MercuryIDs").isLocalThread(s.id))m.push({i:s.id,r:s.isMinimized?undefined:1,o:s.openCounter,f:s.focusCounter})}l[n.tabs]=m;l[n.focusedTabID]=k.focusedTabID;l[n.updatedTime]=k.updatedTime;return l},_getCookieKeys:function j(){var k=c("WorkModeConfig").is_work_user;return{tabs:k?c("FantaConst").cookieIDs.WORK_COOKIE_ID:c("FantaConst").cookieIDs.PERSONAL_COOKIE_ID,focusedTabID:k?c("FantaConst").cookieIDs.WORK_FOCUS_COOKIE_ID:c("FantaConst").cookieIDs.PERSONAL_FOCUS_COOKIE_ID,updatedTime:k?c("FantaConst").cookieIDs.WORK_TIME_COOKIE_ID:c("FantaConst").cookieIDs.PERSONAL_TIME_COOKIE_ID}}};f.exports=i}),null);
__d("FantaDragAndDropRow.react",["cx","fbt","ix","Bootloader","Image.react","MessengerEnvironment","MercuryAttachment","React","XUICloseButton.react","XUISpinner.react","emptyFunction","ifRequired","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$FantaDragAndDropRow1=function(){var s=this.props,t=s.threadID,u=s.fileData;c("MessengerEnvironment").messengerui?c("ifRequired")("MessengerActions",function(v){v.cancelFileUpload(t,u.id)},function(){c("Bootloader").loadModules(["MessengerActions"],function(v){v.cancelFileUpload(t,u.id)},"FantaDragAndDropRow.react")}):c("ifRequired")("FantaMessageActions",function(v){v.cancelFileUpload(t,u.id)},function(){c("Bootloader").loadModules(["FantaMessageActions"],function(v){v.cancelFileUpload(t,u.id)},"FantaDragAndDropRow.react")})}.bind(this),o}m.prototype.componentDidMount=function(){c("MessengerEnvironment").messengerui?c("Bootloader").loadModules(["MessengerActions"],c("emptyFunction"),"FantaDragAndDropRow.react"):c("Bootloader").loadModules(["FantaMessageActions"],c("emptyFunction"),"FantaDragAndDropRow.react")};m.prototype.render=function(){var n=this.props,o=n.fileData,p=n.isUploaded,q=o.file,r="";if(q.type)r=c("MercuryAttachment").getAttachIconClassByMime(q.type);var s=c("joinClasses")(r,"_3tn"),t=p?"done":"",u=c("joinClasses")(t,"_2qh _2qe uploadFileRow");return c("React").createElement("div",{className:u},c("React").createElement(c("XUISpinner.react"),{className:"_2qf"}),c("React").createElement(c("XUICloseButton.react"),{"aria-label":i._("Remove file"),className:"_2qg",shade:"dark",size:"small",onClick:this.$FantaDragAndDropRow1}),c("React").createElement("div",{className:"_4-te"},c("React").createElement("span",{className:s},c("React").createElement(c("Image.react"),{src:j("86988")})),q.name))};f.exports=m}),null);
__d("FantaDragAndDrop.react",["Bootloader","BootloadOnRender.react","FantaDragAndDropRow.react","MessengerEnvironment","JSResource","LazyComponent.react","MercuryShareAttachmentRenderLocations","React","emptyFunction","gkx","ifRequired"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=960,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$FantaDragAndDrop3=function(r){this.$FantaDragAndDrop7(function(s){s.removeSharePreview(r)})}.bind(this),this.$FantaDragAndDrop4=function(r,s){this.$FantaDragAndDrop7(function(t){t.loadedShareData(r,s)})}.bind(this),this.$FantaDragAndDrop5=function(r){this.$FantaDragAndDrop7(function(s){s.loadingShareData(r)})}.bind(this),n}l.prototype.componentDidMount=function(){c("MessengerEnvironment").messengerui?c("Bootloader").loadModules(["MessengerActions"],c("emptyFunction"),"FantaDragAndDrop.react"):c("Bootloader").loadModules(["FantaMessageActions"],c("emptyFunction"),"FantaDragAndDrop.react")};l.prototype.shouldComponentUpdate=function(m){var n=this.props;return n.threadID!==m.threadID||!!(!n.uploadingFiles&&m.uploadingFiles)||!!(n.uploadingFiles&&m.uploadingFiles&&!n.uploadingFiles.equals(m.uploadingFiles))||!!(!n.uploadedFiles&&m.uploadedFiles)||!!(n.uploadedFiles&&m.uploadedFiles&&!n.uploadedFiles.equals(m.uploadedFiles))||!!(!n.sharePreview&&m.sharePreview)||!!(n.sharePreview&&m.sharePreview&&!n.sharePreview.equals(m.sharePreview))};l.prototype.render=function(){var m=this.props,n=m.uploadedFiles,o=m.uploadingFiles,p=m.sharePreview,q=m.threadID,r=p||{},s=r.share,t=r.uri;return c("React").createElement("div",{className:"fbNubFlyoutAttachments"},c("React").createElement("div",{className:"chatAttachmentShelf"},s||t?c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("MercurySharePreview.react").__setRef("FantaDragAndDrop.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{onClose:this.$FantaDragAndDrop3,onLoaded:this.$FantaDragAndDrop4,onLoading:this.$FantaDragAndDrop5,threadID:q,imageSize:{width:j,height:j},location:c("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW,share:s,uri:t})}):null,!c("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw")&&c("React").createElement("div",{ref:function(u){this.$FantaDragAndDrop1=u}.bind(this)},this.$FantaDragAndDrop6(o,false),this.$FantaDragAndDrop6(n,true))))};l.prototype.$FantaDragAndDrop7=function(m){c("MessengerEnvironment").messengerui?c("ifRequired")("MessengerActions",function(n){m(n)},function(){c("Bootloader").loadModules(["MessengerActions"],function(n){m(n)},"FantaDragAndDrop.react")}):c("ifRequired")("FantaMessageActions",function(n){m(n)},function(){c("Bootloader").loadModules(["FantaMessageActions"],function(n){m(n)},"FantaDragAndDrop.react")})};l.prototype.$FantaDragAndDrop6=function(m,n){var o=this.props.threadID;return m&&m.map(function(p){return c("React").createElement(c("FantaDragAndDropRow.react"),{fileData:p,isUploaded:n,key:n?"uped-"+p.id:"uping-"+p.id,threadID:o})}).toArray()};l.propTypes={threadID:k.string.isRequired,uploadedFiles:k.object,uploadingFiles:k.object};f.exports=l}),null);
__d("FantaMercuryTabOverflowBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{items:this.props.items}),loader:c("JSResource")("FantaMercuryTabOverflow.react").__setRef("FantaMercuryTabOverflowBootloader.react"),placeholder:c("React").createElement("div",null)})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FantaTab.react",["cx","EventProfiler","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$FantaTab1=false,m}k.prototype.componentDidMount=function(){c("EventProfiler").informManualInteractionTimestamp(["MessageJewelListItem","ChatSideBarLink"],true,"click")};k.prototype.render=function(){var l=this.props,m=l.isFocused,n=l.isLastTab,o=l.isLastTabOfType,p=l.MainComponent,q=l.MinimizedComponent,r=l.raisedTabCount,s=l.tab,t=l.tabContent,u=s.isMinimized?q:p,v=s.id+(s.isMinimized?"-minimized":"-maximized"),w=this.$FantaTab1&&!s.isMinimized;this.$FantaTab1=s.isMinimized;return c("React").createElement("div",{className:"_5qi9 _5qib"+(this.props.isFocused?" _5qic":"")+(s.isMinimized?" _3001":"")},c("React").createElement(u,{isFocused:m,isHovered:s.isHovered||w,isLastTab:n,isLastTabOfType:o,key:v,raisedTabCount:r,tab:s,tabContent:t}))};f.exports=k}),null);
__d("FantaTabGroup.react",["cx","FantaTab.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m){return!this.props.tabGroup.equals(m.tabGroup)||!!(!this.props.tabContents&&m.tabContents)||!!(this.props.tabContents&&m.tabContents&&!this.props.tabContents.equals(m.tabContents))};l.prototype.render=function(){var m=this.props,n=m.isLastOfTypeChecker,o=m.MainComponent,p=m.MinimizedComponent,q=m.OverflowComponent,r=m.tabContents,s=m.tabGroup,t=s.focusedTabID,u=s.getRaisedandUnraisedTabs(),v=u.raisedTabs,w=u.unraisedTabs,x=void 0;if(n)x=v.findLastKey(function(A){return n(A)&&A.id});var y=s.allowedRaisedTabs===0?null:this.$FantaTabGroup1(w,q),z=v.count();return c("React").createElement("div",{className:"_59v1"},y,v.map(function(A){return c("React").createElement(c("FantaTab.react"),{isFocused:A.id===t,isLastTab:A===v.last(),isLastTabOfType:A.id===x,key:A.id,MainComponent:o,MinimizedComponent:p,raisedTabCount:z,tab:A,tabContent:r&&r.get(A.id)})}).toArray())};l.prototype.$FantaTabGroup1=function(m,n){if(!m.isEmpty())return c("React").createElement("div",{className:"_1kws"},c("React").createElement(n,{items:m}));return null};function l(){i.apply(this,arguments)}l.propTypes={MainComponent:k.func.isRequired,MinimizedComponent:k.func.isRequired,OverflowComponent:k.func.isRequired,tabContents:k.object,tabGroup:k.object.isRequired};f.exports=l}),null);
__d("MNPlatformAttributionTags",[],(function a(b,c,d,e,f,g){f.exports={ATTRIBUTION_TAGS_PREFIX:"bnp:trigger:",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",MESSENGER_WEB:"messenger_web",MESSENGER_WEB_SEARCH:"messenger_web_search",M_DOT_ME:"m_dot_me"}}),null);
__d("MessengerStore",["MessengerDispatcher","mixInEventEmitter"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$MessengerStore1=c("MessengerDispatcher").register(this.__onDispatch.bind(this))}h.prototype.getDispatchToken=function(){return this.$MessengerStore1};h.prototype.emitChange=function(){this.emit("change")};h.prototype.destroy=function(){c("MessengerDispatcher").unregister(this.$MessengerStore1)};c("mixInEventEmitter")(h,{change:true});f.exports=h}),null);
__d("MessengerAttributionTagsStore",["MessengerActions","MessengerStore"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("MessengerStore"));i=h&&h.prototype;function j(){"use strict";i.constructor.call(this);this.$MessengerAttributionTagsStore1={messagingTags:null,threadID:null}}j.prototype.getState=function(){"use strict";return this.$MessengerAttributionTagsStore1};j.prototype.__onDispatch=function(k){"use strict";__p&&__p();switch(k.type){case c("MessengerActions").Types.UPDATE_THREAD_TAG:this.$MessengerAttributionTagsStore1.messagingTags=k.messagingTags;this.$MessengerAttributionTagsStore1.threadID=k.threadID;this.emitChange();break;case c("MessengerActions").Types.SELECT_THREAD:this.$MessengerAttributionTagsStore1.messagingTags=null;this.$MessengerAttributionTagsStore1.threadID=null;this.emitChange();break}};f.exports=new j()}),null);
__d("MNPlatformTagsDataManager",["MessagingSourceEnum","MessengerActions","MessengerAttributionTagsStore","MNPlatformAttributionTags"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={getTags:function h(){__p&&__p();var i=arguments.length<=0||arguments[0]===undefined?null:arguments[0],j=null;switch(i){case c("MessagingSourceEnum").PAGES_MESSAGE_SHORTLINK:j=c("MNPlatformAttributionTags").M_DOT_ME;break;case c("MessagingSourceEnum").MESSENGER_WEB:j=c("MNPlatformAttributionTags").MESSENGER_WEB;break;case c("MessagingSourceEnum").MESSENGER_WEB_SEARCH:j=c("MNPlatformAttributionTags").MESSENGER_WEB_SEARCH;break;case c("MessagingSourceEnum").CUSTOMER_CHAT_PLUGIN:j=c("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN;break;default:j="";break}if(j!=="")j=c("MNPlatformAttributionTags").ATTRIBUTION_TAGS_PREFIX+j;return[j]},updateThreadTabAfterSelectThread:function h(){var i=arguments.length<=0||arguments[0]===undefined?null:arguments[0],j=arguments.length<=1||arguments[1]===undefined?null:arguments[1],k=this.getTags(i);c("MessengerActions").changeThreadTag(k,j)},hasThreadTags:function h(i){var j=c("MessengerAttributionTagsStore").getState();return!!(j.messagingTags&&i&&j.threadID&&j.threadID.toString()===i)},getThreadTags:function h(){var i=c("MessengerAttributionTagsStore").getState();return i.messagingTags}}}),null);
__d("XMNCommercePostbackCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/postback/",{cta_id:{type:"String",required:true},message_id:{type:"String"},ref:{type:"String"},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}})}),null);
__d("MNCommercePostbackCTADataManager",["AsyncRequest","BanzaiODS","CurrentUser","getPageIDFromThreadID","MercuryMessageActions","MercuryMessageObject","MercurySourceType","MNPlatformTagsDataManager","XMNCommercePostbackCTAController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MercuryMessageActions").get();i.prototype.send=function(j){var k=arguments.length<=1||arguments[1]===undefined?null:arguments[1],l=arguments.length<=2||arguments[2]===undefined?null:arguments[2],m=arguments.length<=3||arguments[3]===undefined?null:arguments[3],n=c("XMNCommercePostbackCTAController").getURIBuilder().setString("cta_id",j).setString("ref",l).setString("message_id",m).getURI();if(k!==null)new(c("AsyncRequest"))().setURI(n).setMethod("POST").setErrorHandler(k).send();else new(c("AsyncRequest"))().setURI(n).setMethod("POST").send()};i.prototype.sendAndConfirm=function(j,k,l,m){var n=arguments.length<=4||arguments[4]===undefined?null:arguments[4],o=arguments.length<=5||arguments[5]===undefined?null:arguments[5],p=arguments.length<=6||arguments[6]===undefined?[]:arguments[6],q=arguments.length<=7||arguments[7]===undefined?null:arguments[7];if(k!==null)this.sendConfirmationText(k,l,m,p);this.send(j,n,o,q)};i.prototype.sendConfirmationText=function(j,k,l){if(!k)c("BanzaiODS").bumpEntityKey("messenger_commerce","confirm_message_failed.empty_threadID");else{var m=new(c("MercuryMessageObject"))(c("CurrentUser").getID()),n=[],o=c("getPageIDFromThreadID")(k);if(c("MNPlatformTagsDataManager").hasThreadTags(o))n=c("MNPlatformTagsDataManager").getThreadTags();h.send(m.constructCTAConfirmationMessageObject(j,c("MercurySourceType").TITAN_WEB,k,l,n));if(n&&n.length>0)c("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread()}};function i(){}f.exports=new i()}),null);
__d("MessengerMDotMeReferralStore",["MessengerActions","MessengerStore"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("MessengerStore"));i=h&&h.prototype;function j(){"use strict";i.constructor.call(this);this.$MessengerMDotMeReferralStore1={refCode:null,refThreadID:null}}j.prototype.getState=function(){"use strict";return this.$MessengerMDotMeReferralStore1};j.prototype.__onDispatch=function(k){"use strict";switch(k.type){case c("MessengerActions").Types.UPDATE_MDOT_ME:this.$MessengerMDotMeReferralStore1.refCode=k.refCode;this.$MessengerMDotMeReferralStore1.refThreadID=k.refThreadID;this.emitChange()}};f.exports=new j()}),null);
__d("XMNCommercePostbackRefSendController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/postback_ref/",{page_id:{type:"String",required:true},ref:{type:"String",required:true},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}})}),null);
__d("MNCommercePostbackRefSendManager",["AsyncRequest","MessengerActions","MessengerMDotMeReferralStore","XMNCommercePostbackRefSendController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.sendMDotMeRef=function(i,j){var k=this.getMdotMeRef();if(this.shouldSendRef(j,i)){var l=c("XMNCommercePostbackRefSendController").getURIBuilder().setString("page_id",i).setString("ref",k).getURI();new(c("AsyncRequest"))().setURI(l).setMethod("POST").send();c("MessengerActions").changeMDotMeReferral()}};h.prototype.shouldSendRef=function(i,j){if(!j||!i)return false;return this.hasMDotMeRef(j)};h.prototype.hasMDotMeRef=function(i){var j=c("MessengerMDotMeReferralStore").getState();return!!(j.refCode&&i&&j.refThreadID&&j.refThreadID===i)};h.prototype.getMdotMeRef=function(){var i=c("MessengerMDotMeReferralStore").getState();return i.refCode};function h(){}f.exports=new h()}),null);
__d("FantaPageComposerNullState.react",["cx","fbt","BootloadOnRender.react","JSResource","LazyComponent.react","MNCommerceCallToActionType","MNCommercePostbackCTADataManager","MNCommercePostbackRefSendManager","React","XUISpinner.react","getPageIDFromThreadID"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$FantaPageComposerNullState2=function(){var r=this.props,s=r.threadID,t=r.nullStateCTA;switch(t.action_type){case c("MNCommerceCallToActionType").OPEN_NATIVE:break;case c("MNCommerceCallToActionType").POSTBACK:default:c("MNCommercePostbackCTADataManager").sendAndConfirm(t.id,t.title,s);break}}.bind(this),n}l.prototype.render=function(){return c("React").createElement("div",{className:"_2xh0"},this.$FantaPageComposerNullState1(),c("React").createElement("div",{className:"_2xh4 _59w_"},c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{cta:this.props.nullStateCTA,onClick:this.$FantaPageComposerNullState2,threadID:this.props.threadID}),loader:c("JSResource")("ChatPageComposerNullState.react").__setRef("FantaPageComposerNullState.react"),placeholder:c("React").createElement(c("XUISpinner.react"),{size:"small"})})))};l.prototype.$FantaPageComposerNullState1=function(){if(this.props.nullStateCTA!==null)switch(this.props.nullStateCTA.action_type){case c("MNCommerceCallToActionType").OPEN_NATIVE:return null;case c("MNCommerceCallToActionType").POSTBACK:if(!c("MNCommercePostbackRefSendManager").hasMDotMeRef(c("getPageIDFromThreadID")(this.props.threadID))&&!this.props.nullStateCTA.instantgame_metadata)return c("React").createElement("div",{className:"_4teq"},i._("When you tap {cta title}, {name} will see your public info.",[i.param("cta title",this.props.nullStateCTA.title),i.param("name",this.props.pageName)]));break;default:return null}return null};f.exports=l}),null);
__d("FantaPendingActions.react",["Bootloader","BootloadOnRender.react","FantaTabActions","JSResource","LazyComponent.react","MercuryThreadActions","MessengerMessageRequestsTypedLogger","MessageRequestUtils","MessagingTag","React","MercuryIDs","CurrentUser"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("MercuryThreadActions").get();h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$FantaPendingActions3=function(){var q=this.props.thread,r=!!q&&c("MessageRequestUtils").isFiltered(q),s=c("CurrentUser").getID(),t=c("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,s);new(c("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(c("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(r?"other":"pending").setThreadKey(t).setEntryPoint(null).log()}.bind(this),this.$FantaPendingActions4=function(q){var r=this.props.thread,s=!!r&&c("MessageRequestUtils").isFiltered(r),t=c("CurrentUser").getID(),u=c("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,t);if(q==="hide")new(c("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(c("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(s?"other":"pending").setThreadKey(u).setEntryPoint("inbox_banner").log()}.bind(this),this.$FantaPendingActions1=function(){__p&&__p();var q,r=this.props,s=r.thread,t=r.threadID,u=!!s&&c("MessageRequestUtils").isFiltered(s),v=c("CurrentUser").getID(),w=c("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,v);if(u)c("Bootloader").loadModules(["WebMessengerDeleteThreadDialog"],function(x){x.show(t,this.$FantaPendingActions3,this.$FantaPendingActions4,function(){return c("FantaTabActions").closeTab(t)})}.bind(this),"FantaPendingActions.react");else(function(){var x=c("MercuryIDs").isGroupChat(t);c("Bootloader").loadModules(["WebMessengerDeclineMRDialog"],function(y){y.show(s,t,function(){return c("FantaTabActions").closeTab(t)},x)},"FantaPendingActions.react")})();new(c("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(c("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(u?"other":"pending").setThreadKey(w).setEntryPoint(null).log()}.bind(this),this.$FantaPendingActions2=function(){var q=this.props.thread,r=!!q&&c("MessageRequestUtils").isFiltered(q),s=c("CurrentUser").getID(),t=c("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,s);j.changeFolder(this.props.threadID,c("MessagingTag").INBOX);new(c("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_accept_request").setThreadID(c("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(r?"other":"pending").setThreadKey(t).setEntryPoint(null).log()}.bind(this),m}k.prototype.render=function(){var l=this.props.thread,m=!!l&&c("MessageRequestUtils").isFiltered(l);return c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("ChatPendingActions.react").__setRef("FantaPendingActions.react"),placeholder:c("React").createElement("div",{style:{height:27}}),component:c("React").createElement(c("LazyComponent.react"),{isFiltered:m,onDeleteClick:this.$FantaPendingActions1,onReplyClick:this.$FantaPendingActions2})})};f.exports=k}),null);
__d("XPhotosWaterfallBatchLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/photos/logging/waterfall/batch/",{})}),null);
__d("PhotosUploadWaterfall",["AsyncRequest","AsyncSignal","Banzai","PhotosUploadWaterfallXConfig","XPhotosWaterfallBatchLoggingController","emptyFunction","randomInt","throttle"],(function a(b,c,d,e,f,g){__p&&__p();var h=[],i={APP_SIMPLE:"simple",APP_ARCHIVE:"archive",APP_COMPOSER:"composer",APP_MESSENGER:"messenger",APP_HTML5:"html5",APP_CHAT:"chat",INSTALL_CANCEL:1,INSTALL_INSTALL:2,INSTALL_UPDATE:3,INSTALL_REINSTALL:4,INSTALL_PERMA_CANCEL:5,INSTALL_SILENT_SKIP:6,INSTALL_DOWNLOAD:7,CERROR_RESIZING_FAILED:6,CERROR_MARKER_EXTRACTION_FAILED:9,BEGIN:1,UPLOAD_START:4,ALL_UPLOADS_DONE:6,CLIENT_ERROR:7,RECOVERABLE_CLIENT_ERROR:12,IMAGES_SELECTED:9,UPGRADE_REQUIRED:11,VERSION:15,SELECT_START:18,SELECT_CANCELED:19,CANCEL:22,CANCEL_DURING_UPLOAD:83,ONE_RESIZING_START:2,ONE_UPLOAD_START:10,ONE_UPLOAD_DONE:29,ONE_RESIZING_DONE:34,PROGRESS_BAR_STOPPED:44,MISSED_BEAT:45,HEART_ATTACK:46,PUBLISH_SENT:99,PUBLISH_START:100,PUBLISH_SUCCESS:101,PUBLISH_FAILURE:102,CLUSTERING_START:103,CLUSTERING_SUCCESS:104,CLUSTERING_FAILURE:105,POST_BUTTON_CLICKED:110,POST_BUTTON_ERROR:111,PHOTO_DELETED:114,PUBLISH_CLIENT_SUCCESS:115,PHOTO_ROTATED:117,SAVE_DRAFT_BUTTON_CLICKED:123,RECOVERY_START_ON_CLIENT:124,CHANGE_PHOTO_QUALITY_SETTING:126,TAG_ADDED:127,TAG_REMOVED:128,TAB_BUTTON_CLICKED:129,DONE_SPHERICAL_CHECK:131,FAIL_SPHERICAL_CHECK:133,EDITABLE_PHOTO_FETCH_START:106,EDITABLE_PHOTO_FETCH_SUCCESS:107,EDITABLE_PHOTO_FETCH_FAILURE:108,EDITABLE_PHOTO_FETCH_DELAY:116,CANCEL_INDIVIDUAL_UPLOAD:109,MISSING_OVERLAY_NODE:118,PUBLISH_RETRY_FAILURE:119,MISSING_UPLOAD_STATE:120,SESSION_POSTED:72,POST_PUBLISHED:80,ONE_UPLOAD_CANCELED:81,ONE_UPLOAD_CANCELED_DURING_UPLOAD:82,RESIZER_AVAILABLE:20,OVERLAY_FIRST:61,ASYNC_AVAILABLE:63,FALLBACK_TO_HTML5:130,RETRY_UPLOAD:17,TAGGED_ALL_FACES:14,VAULT_IMAGES_SELECTED:62,VAULT_CREATE_POST_CANCEL:65,VAULT_SEND_IN_MESSAGE_CLICKED:66,VAULT_DELETE_CANCEL:68,VAULT_ADD_TO_ALBUM_CANCEL:74,VAULT_SHARE_IN_AN_ALBUM_CLICKED:76,VAULT_SHARE_OWN_TIMELINE_CLICKED:77,VAULT_SHARE_FRIENDS_TIMELINE_CLICKED:78,VAULT_SHARE_IN_A_GROUP_CLICKED:79,VAULT_SYNCED_PAGED_LINK_CLICKED:84,VAULTBOX:"vaultbox",GRID:"grid",SPOTLIGHT_VAULT_VIEWER:"spotlight_vault_viewer",REF_VAULT_NOTIFICATION:"vault_notification",_checkRequiredFields:function k(l){},sendBanzai:function k(l,m){__p&&__p();this._checkRequiredFields(l);var n={};l.scuba_ints=l.scuba_ints||{};l.scuba_ints.client_time=Math.round(Date.now()/1e3);if(c("PhotosUploadWaterfallXConfig").retryBanzai){n.retry=true;l.scuba_ints.nonce=c("randomInt")(4294967296)}c("Banzai").post(c("PhotosUploadWaterfallXConfig").deprecatedBanzaiRoute,l,n);if(m)setTimeout(m,0)},sendSignal:function k(l,m){this._checkRequiredFields(l);if(c("PhotosUploadWaterfallXConfig").useBanzai)this.sendBanzai(l,m);else{var n=new(c("AsyncSignal"))("/ajax/photos/waterfall.php",{data:JSON.stringify(l)}).setHandler(m);if(c("PhotosUploadWaterfallXConfig").timeout)n.setTimeout(10*1e3);n.send()}},queueLog:function k(l,m){h.push(l);if(!!m)this.flushQueue(m);else j()},flushQueue:function k(l){var m=JSON.stringify(h);h=[];var n=c("XPhotosWaterfallBatchLoggingController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(n).setData({logs:m}).setFinallyHandler(l||c("emptyFunction")).setTimeoutHandler(10*1e3,l||c("emptyFunction")).send()}},j=c("throttle")(i.flushQueue,c("PhotosUploadWaterfallXConfig").batchInterval*1e3);f.exports=i}),null);
__d("getEveryoneMentionIndex",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.findIndex(function(j){return j.type=="t"})}f.exports=h}),null);
__d("FantaTabComposer.react",["fbt","ChatTabComposerContainer.react","FantaTabActions","Keys","LogHistory","MercuryIDs","MercuryThreadIDMap","MercuryThreads","PhotosUploadWaterfall","React","SimpleXUIDialog","TypingDetectorController","WaterfallIDGenerator","WorkFileUploadsGating","XUIDialogButton.react","XUIDialogCancelButton.react","emptyFunction","getEveryoneMentionIndex"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("MercuryThreadIDMap").get(),l=c("MercuryThreads").get(),m=c("LogHistory").getInstance("chat_tab_view"),n=c("React").PropTypes,o=/^\s*$/;i=babelHelpers.inherits(p,c("React").Component);j=i&&i.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$FantaTabComposer3=c("WaterfallIDGenerator").generate(),this.$FantaTabComposer4=function(v,w){var x=this.props.threadID;k.getServerIDFromClientID(x,function(y){this.$FantaTabComposer2=new(c("TypingDetectorController"))(c("MercuryIDs").getUserIDFromThreadID(x),v,"mercury-chat",null,y,w)}.bind(this))}.bind(this),this.$FantaTabComposer14=function(v){this.$FantaTabComposer15(c("PhotosUploadWaterfall").UPLOAD_START,v);this.props.onSendPhoto(v,this.$FantaTabComposer1.onSend);this.$FantaTabComposer16("submit",v);this.focusInput()}.bind(this),this.$FantaTabComposer8=function(v){this.$FantaTabComposer15(c("PhotosUploadWaterfall").CLIENT_ERROR,v);this.$FantaTabComposer16("failed",v)}.bind(this),this.$FantaTabComposer10=function(v){this.$FantaTabComposer15(c("PhotosUploadWaterfall").CLIENT_ERROR,v);this.$FantaTabComposer16("failed",v)}.bind(this),this.$FantaTabComposer12=function(v){this.$FantaTabComposer15(c("PhotosUploadWaterfall").CANCEL_DURING_UPLOAD,v);this.$FantaTabComposer16("canceled",v)}.bind(this),this.$FantaTabComposer13=function(v){this.$FantaTabComposer15(c("PhotosUploadWaterfall").ALL_UPLOADS_DONE,v);this.$FantaTabComposer16("completed",v);var w=v.image_ids.length||v.attachments.length;this.$FantaTabComposer17(w)}.bind(this),this.$FantaTabComposer9=function(){this.props.onSendMessage("",this.$FantaTabComposer1.onSend)}.bind(this),this.$FantaTabComposer11=function(v){this.props.onSelectSticker(v,function(){return this.$FantaTabComposer1.getInput().focus()}.bind(this))}.bind(this),this.$FantaTabComposer6=function(v,w,x){this.props.onSendHotLike(v.emoji,w,x,function(){return this.$FantaTabComposer1.getInput().focus()}.bind(this))}.bind(this),this.$FantaTabComposer7=function(v){this.$FantaTabComposer1.getInput().insertEmoji(v)}.bind(this),this.$FantaTabComposer5=function(event){__p&&__p();var v=this.props.threadID;if(event.keyCode===c("Keys").RETURN&&!event.shiftKey){event.preventDefault();var w=this.$FantaTabComposer20().trim(),x=this.$FantaTabComposer21();if(x){var y=c("getEveryoneMentionIndex")(x)>-1;if(y)this.$FantaTabComposer18(w,x);else this.$FantaTabComposer19(w,x)}else this.$FantaTabComposer19(w,[])}if(event.keyCode===c("Keys").DOWN&&event.shiftKey&&this.hasEmptyInput()){c("FantaTabActions").minimizeTab(v);return}}.bind(this),r}p.prototype.componentDidMount=function(){var q=this.props,r=q.threadID,s=q.participants;if(this.props.isFocused&&s.length>0&&!l.isEmptyLocalThread(r))this.focusInput()};p.prototype.componentDidUpdate=function(q){if(this.props.isFocused&&this.props.isFocused!==q.isFocused&&!l.isEmptyLocalThread(this.props.threadID))this.focusInput()};p.prototype.componentWillUnmount=function(){this.$FantaTabComposer2&&this.$FantaTabComposer2.destroy()};p.prototype.render=function(){var q=this.props,r=q.participants,s=q.threadID,t=q.viewer;if(r.length===0)return c("React").createElement("div",null);return c("React").createElement(c("ChatTabComposerContainer.react"),{disableInput:this.props.disableInput,disableFileUploads:!c("WorkFileUploadsGating").canUploadFiles,fileUploader:this.props.fileUploader,initializeThingsWithInputFn:this.$FantaTabComposer4,inputKeyDown:this.$FantaTabComposer5,onBlur:c("emptyFunction"),onCustomLikeSelect:this.$FantaTabComposer6,onEmojiSelect:this.$FantaTabComposer7,onEscape:this.props.onEscape,onFileUploadFail:this.$FantaTabComposer8,onMount:function u(){},onP2PTrigger:this.$FantaTabComposer9,onPhotoUploadFail:this.$FantaTabComposer10,onStickerSelect:this.$FantaTabComposer11,onTab:this.props.onTab,onUploadCancel:this.$FantaTabComposer12,onUploadComplete:this.$FantaTabComposer13,onUploadSubmit:this.$FantaTabComposer14,placeholder:h._("Type a message..."),ref:function(u){this.$FantaTabComposer1=u;if(this.props.isFocused&&!l.isEmptyLocalThread(this.props.threadID))this.focusInput()}.bind(this),resizeFn:function u(){},threadID:s,viewer:t})};p.prototype.$FantaTabComposer15=function(q,r){c("PhotosUploadWaterfall").sendSignal(babelHelpers["extends"]({qn:this.$FantaTabComposer3,step:q,uploader:c("PhotosUploadWaterfall").APP_CHAT},r||{}))};p.prototype.$FantaTabComposer17=function(q){if(q===0)return;this.$FantaTabComposer15(c("PhotosUploadWaterfall").POST_PUBLISHED,{count:q});this.$FantaTabComposer3=c("WaterfallIDGenerator").generate()};p.prototype.$FantaTabComposer16=function(q,r){m.debug("photo_uploader:"+q,"{}")};p.prototype.$FantaTabComposer18=function(q,r){var s=h._("Mention everyone?").toString(),t=h._("Doing so will send a mention to everyone in this group.").toString(),u=h._("Mention \u0040everyone!").toString(),v=c("React").createElement("div",null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:u,use:"confirm",onClick:function(){this.$FantaTabComposer19(q,r)}.bind(this)}));c("SimpleXUIDialog").showEx(t,s,v,null,null)};p.prototype.$FantaTabComposer19=function(q,r){this.props.onSendMessage({message:q,mentions:r},this.$FantaTabComposer1.onSend);return};p.prototype.focusInput=function(){this.$FantaTabComposer1&&this.$FantaTabComposer1.getInput().focus()};p.prototype.$FantaTabComposer20=function(){return this.$FantaTabComposer1&&this.$FantaTabComposer1.getInput().getValue()||""};p.prototype.$FantaTabComposer21=function(){if(!this.$FantaTabComposer1)return null;var q=this.$FantaTabComposer1.getInput();return q.getMentions?q.getMentions():null};p.prototype.hasEmptyInput=function(){return o.test(this.$FantaTabComposer20())};p.propTypes={fileUploader:n.object,isFocused:n.bool.isRequired,onEscape:n.func.isRequired,onSelectSticker:n.func.isRequired,onSendHotLike:n.func.isRequired,onSendMessage:n.func.isRequired,onSendPhoto:n.func.isRequired,onTab:n.func.isRequired,participants:n.array.isRequired,threadID:n.string.isRequired,viewer:n.string.isRequired};f.exports=p}),null);
__d("FantaTabSheetPlaceholder.react",["cx","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(){return c("React").createElement("div",{className:"_w_z"},c("React").createElement(c("XUISpinner.react"),null))};f.exports=i}),null);
__d("FantaTabSheet.react",["cx","BootloadedComponent.react","CurrentUser","FantaTabSheetActions","FantaTabSheetPlaceholder.react","JSResource","MercuryIDs","MercuryMessages","MercuryParticipants","MercurySheetPolicy","React","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("MercuryMessages").get(),l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.shouldComponentUpdate=function(n){var o=this.props;return o.threadID!==n.threadID||!o.tabContent.equals(n.tabContent)};m.prototype.render=function(){__p&&__p();var n=this.props,o=n.threadID,p=n.tabContent,q=p.openSheet,r=p.privacyController,s=p.thread,t=p.typeahead,u=void 0;switch(q){case c("MercurySheetPolicy").sheets.ChatThreadIsMutedTabSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FantaTabSheetChatThreadIsMuted.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,threadID:o});break;case c("MercurySheetPolicy").sheets.ChatNameConversationTabSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FantaTabSheetNameConversation.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement(c("FantaTabSheetPlaceholder.react"),null),key:q,thread:s,threadID:o});break;case c("MercurySheetPolicy").sheets.ChatUserBlockedTabSheet:var v=c("MercuryIDs").getUserIDFromThreadID(o);if(v){var w=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(v));if(w&&r)u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatUserBlockedTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),gender:w.gender,key:q,privacyActionController:r,shortName:w.short_name})}break;case c("MercurySheetPolicy").sheets.ChatOfflineTabSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FantaTabSheetOffline.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,privacyController:r,threadID:o});break;case c("MercurySheetPolicy").sheets.ChatReadOnlyTabSheet:case c("MercurySheetPolicy").sheets.ChatReadOnlyPermanentTabSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FantaTabSheetReadOnly.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,threadID:o});break;case c("MercurySheetPolicy").sheets.FantaAddFriendsSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FantaTabSheetAddFriends.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement(c("FantaTabSheetPlaceholder.react"),null),key:q,thread:s,threadID:o,typeahead:t});break;case c("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FantaTabSheetAddMoreFriends.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement(c("FantaTabSheetPlaceholder.react"),null),key:q,thread:s,threadID:o,typeahead:t});break;case c("MercurySheetPolicy").sheets.ChatThreadIsMessageBlockedSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FantaTabSheetMessageBlocked.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,threadID:o});break;case c("MercurySheetPolicy").sheets.ChatUserFocusSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatUserFocusSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,thread:s,threadID:o});break;case c("MercurySheetPolicy").sheets.ChatUserFocusBypassSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatUserFocusBypassSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q});break;case c("MercurySheetPolicy").sheets.ChatUserTimezoneSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatUserTimezoneSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),data:p.timezoneInfo,key:q,onDismiss:function B(){return c("FantaTabSheetActions").closeUserTimezoneSheet(o)},resize:c("emptyFunction"),threadID:o});break;case c("MercurySheetPolicy").sheets.ChatUploadWarningTabSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatUploadWarningTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q});break;case c("MercurySheetPolicy").sheets.ChatNoRecipientsTabSheet:if(!c("MercuryIDs").isCanonical(o))u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatNoRecipientsTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q});break;case c("MercurySheetPolicy").sheets.ChatNewMessagesTabSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FantaNewMessagesTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,threadID:o});break;case c("MercurySheetPolicy").sheets.ChatEmployeeAwaySheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatEmployeeAwaySheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q});break;case c("MercurySheetPolicy").sheets.ChatEventReminderTabSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FantaEventReminderTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,threadID:o});break;case c("MercurySheetPolicy").sheets.ChatAppointmentBanner:if(s){var x=k.getCurrentlyLoadedMessages(o);u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatAppointmentBannerRoot.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),pageID:s.other_user_fbid,userID:c("CurrentUser").getID(),count:100,messageList:x,appointmentBannerDidUpdate:c("emptyFunction"),key:q,threadID:o})}break;case c("MercurySheetPolicy").sheets.ChatMontageSheet:u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatMontageSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,threadID:o,onResize:c("emptyFunction")});break;case c("MercurySheetPolicy").sheets.ChatJoinCallSheet:if(s){var y=s.rtc_call_data,z=s.thread_fbid;u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatJoinCallSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,rtcCallData:y,threadFBID:z})}break;case c("MercurySheetPolicy").sheets.ChatRoomAssociatedObjectSheet:if(s){var A=s.associated_object;u=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ChatRoomAssociatedObjectSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:c("React").createElement("div",null),key:q,associatedObject:A})}break}if(u)return c("React").createElement("div",{className:"_1sk5"},c("React").createElement("div",{className:"_1sk6"},u));return null};function m(){i.apply(this,arguments)}m.propTypes={threadID:l.string.isRequired,tabContent:l.object.isRequired};f.exports=m}),null);
__d("getVendorPrefixedEventName",["fbjs/lib/ExecutionEnvironment"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m,n){var o={};o[m.toLowerCase()]=n.toLowerCase();o["Webkit"+m]="webkit"+n;o["Moz"+m]="moz"+n;o["ms"+m]="MS"+n;o["O"+m]="o"+n.toLowerCase();return o}var i={animationend:h("Animation","AnimationEnd"),animationiteration:h("Animation","AnimationIteration"),animationstart:h("Animation","AnimationStart"),transitionend:h("Transition","TransitionEnd")},j={},k={};if(c("fbjs/lib/ExecutionEnvironment").canUseDOM){k=document.createElement("div").style;if(!("AnimationEvent"in window)){delete i.animationend.animation;delete i.animationiteration.animation;delete i.animationstart.animation}if(!("TransitionEvent"in window))delete i.transitionend.transition}function l(m){if(j[m])return j[m];else if(!i[m])return m;var n=i[m];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&o in k)return j[m]=n[o];return""}f.exports=l}),null);
__d("FantaTabMain.react",["cx","fbt","invariant","Bootloader","BootloadOnRender.react","ChatBehavior","ChatTabBlinking","CurrentUser","DragDropTarget","Event","FantaAvailableStatus","FantaChatHeaderContainer.react","FantaConversationScroller.react","FantaDragAndDrop.react","FantaDispatcher","FantaMessageActions","FantaPageComposerNullState.react","FantaPendingActions.react","FantaTabActions","FantaTabComposer.react","FantaTabSheet.react","immutable","JSResource","Keys","LazyComponent.react","MercuryIDs","MercuryParticipants","MessageRequestUtils","MessengerBotMenuDataFetcher","MNCommercePageSetting","Parent","React","ReactDOM","SimpleXUIDialog","WorkFileUploadsGating","WorkFocusMode","convertMIGColorToFIGColor","FBIDCheck","getPageIDFromThreadID","getVendorPrefixedEventName","gkx","idx","ifRequired","joinClasses","throttle"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=/\D+/g,n=c("React").PropTypes;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={closing:false,disableInput:false},this.$FantaTabMain19=function(event){var u=!!c("Parent").byClass(event.target,"fantaTabMain-"+this.props.tab.id),v=!!c("Parent").byClass(event.relatedTarget,"fantaTabMain-"+this.props.tab.id);if(!u||!v){if(this.$FantaTabMain9){clearTimeout(this.$FantaTabMain9);this.$FantaTabMain9=null;return}c("FantaTabActions").hoveredTab(this.props.tab.id)}}.bind(this),this.$FantaTabMain20=function(event){var u=!!c("Parent").byClass(event.target,"fantaTabMain-"+this.props.tab.id),v=!!c("Parent").byClass(event.relatedTarget,"fantaTabMain-"+this.props.tab.id);if(!u||!v){if(this.$FantaTabMain9)clearTimeout(this.$FantaTabMain9);this.$FantaTabMain9=setTimeout(function(){this.$FantaTabMain9=null;c("FantaTabActions").unhoveredTab(this.props.tab.id)}.bind(this),500)}}.bind(this),this.$FantaTabMain17=function(event){var u=!!c("Parent").byClass(event.target,"fantaTabMain-"+this.props.tab.id),v=!!c("Parent").byClass(event.relatedTarget,"fantaTabMain-"+this.props.tab.id);if(!u||!v)if(!event.relatedTarget||!event.target)this.$FantaTabMain7=setTimeout(function(){this.$FantaTabMain7=null;this.$FantaTabMain21(this.props.tab.id)}.bind(this),100);else this.$FantaTabMain21(this.props.tab.id)}.bind(this),this.$FantaTabMain18=function(event){__p&&__p();if(this.$FantaTabMain7){clearTimeout(this.$FantaTabMain7);this.$FantaTabMain7=null;return}var u=!!c("Parent").byClass(event.target,"fantaTabMain-"+this.props.tab.id),v=!!c("Parent").byClass(event.relatedTarget,"fantaTabMain-"+this.props.tab.id),w=event.target;if(!(w&&w.classList&&(w.classList.contains("_3olu")||w.classList.contains("_61td"))))if(!u||!v)if(!c("FantaDispatcher").isDispatching())c("FantaTabActions").focusTab(this.props.tab.id)}.bind(this),this.$FantaTabMain23=function(u){c("FantaMessageActions").linkPreview(this.props.tab.id,u)}.bind(this),this.$FantaTabMain22=function(u){c("FantaMessageActions").prepareFilesForSend(this.props.tab.id,u)}.bind(this),this.$FantaTabMain14=function(u){if(u.keyCode===c("Keys").ESC){this.$FantaTabMain2(true);u.preventDefault();u.stopPropagation()}}.bind(this),this.$FantaTabMain15=function(u){if(u.keyCode===c("Keys").TAB)this.$FantaTabMain16(u)}.bind(this),this.$FantaTabMain16=function(event){var u=this.props.raisedTabCount;if(u>1){event.preventDefault();this.$FantaTabMain3(event.ctrlKey,event.shiftKey)}}.bind(this),this.$FantaTabMain2=function(u){if(!this.refs.composer||this.refs.composer.hasEmptyInput()&&!this.$FantaTabMain24())this.$FantaTabMain25(u);else this.$FantaTabMain26(u)}.bind(this),q}o.prototype.componentWillMount=function(){this.$FantaTabMain2=c("throttle")(this.$FantaTabMain2,100);this.$FantaTabMain3=c("throttle")(this.$FantaTabMain3,100)};o.prototype.componentDidMount=function(){this.$FantaTabMain10();this.$FantaTabMain11();this.$FantaTabMain12();this.$FantaTabMain13()};o.prototype.componentDidUpdate=function(){this.$FantaTabMain11()};o.prototype.componentWillUnmount=function(){this.$FantaTabMain4&&this.$FantaTabMain4.disable()};o.prototype.shouldComponentUpdate=function(p,q){var r=this.props,s=this.state;return r.hasFetchedAll!==p.hasFetchedAll||r.isFocused!==p.isFocused||r.isHovered!==p.isHovered||r.isLastGroupTab!==p.isLastGroupTab||!r.messages.equals(p.messages)||!r.tab.equals(p.tab)||!r.tabContent&&!!p.tabContent||r.tabContent&&!r.tabContent.equals(p.tabContent)||r.thread!==p.thread||s.closing!==q.closing||s.disableInput!==q.disableInput||!r.onlineUsers.equals(p.onlineUsers)};o.prototype.$FantaTabMain11=function(){__p&&__p();var p=this.props,q=p.tab,r=p.thread,s=q.id;if(!r)return;var t=this.refs.root&&c("ReactDOM").findDOMNode(this.refs.root);if(!t)return;var u=r.unread_count;if(c("WorkFocusMode")&&c("WorkFocusMode").currentViewerInFocusMode(s))return;if(u!==undefined){var v=!!u&&(!c("ChatBehavior").showsTabUnreadUI||c("ChatBehavior").showsTabUnreadUI());if(v)c("ChatTabBlinking").blinkTab(s,{getTabElem:function w(){return t},isFocused:function(){return this.props.isFocused}.bind(this),isHovered:function w(){return false}});else c("ChatTabBlinking").unblinkTab(s)}};o.prototype.render=function(){var p,q=this.props,r=q.hasFetchedAll,s=q.isFocused,t=q.isHovered,u=q.isLastGroupTab,v=q.messages,w=q.onLoadMoreMessages,x=q.onSelectSticker,y=q.onSendHotLike,z=q.onSendMessage,A=q.onSendPhoto,B=q.showContextBanner,C=q.tab,D=q.tabContent,E=q.thread,F=C.id,G=c("CurrentUser").getID(),H=D&&D.fileUploader,I=D&&D.sharePreview,J=H&&H.uploadingFiles,K=H&&H.uploadedFiles,L=E&&c("convertMIGColorToFIGColor")(E.custom_color),M=D&&D.nullStateCTA,N=M&&E&&E.message_count===0,O=E&&E.participants||[],P=D&&D.threadPreviewRecipients||c("immutable").List(),Q=O.length>0?O:P.toArray(),R=(p=this.props)!=null?(p=p.thread)!=null?p.other_user_fbid:p:p,S=R?c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(R)):null,T=S&&S.short_name||"page",U=E&&c("MessageRequestUtils").isMessageRequest(E)?c("React").createElement(c("FantaPendingActions.react"),{thread:E,threadID:F}):N&&M?c("React").createElement(c("FantaPageComposerNullState.react"),{threadID:F,nullStateCTA:M,pageName:T}):c("React").createElement("div",{className:"fbNubFlyoutFooter"+(this.state.disableInput?" fbNubFlyoutComposerDisabled":"")},c("React").createElement(c("FantaTabComposer.react"),{disableInput:this.state.disableInput,fileUploader:H,isFocused:s,onEscape:this.$FantaTabMain14,onKeyDown:this.$FantaTabMain14,onKeyPress:this.$FantaTabMain15,onSelectSticker:x,onSendHotLike:y,onSendMessage:z,onSendPhoto:A,onTab:this.$FantaTabMain16,ref:"composer",participants:Q,threadID:F,viewer:G})),V=c("FantaAvailableStatus").isAvailable(E,F);!!D||j(0);var W=c("React").createElement(c("FantaTabSheet.react"),{tabContent:D,threadID:F}),X=D&&D.isMultiCompany,Y=D&&D.joinableInterstitialData?c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("ChatJoinableInterstitialPreview.react").__setRef("FantaTabMain.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{data:D.joinableInterstitialData,isActive:s,onClose:this.$FantaTabMain2})}):c("React").createElement("div",{className:"fbNubFlyoutInner"},c("React").createElement(c("FantaChatHeaderContainer.react"),{customColor:L,isFocused:s,isLastGroupTab:u,onClose:this.$FantaTabMain2,thread:E,threadID:F,viewer:G,isMultiCompany:X}),c("React").createElement("div",{className:"_1ia _2sz2",ref:function(Z){this.$FantaTabMain5=Z}.bind(this)},W,c("React").createElement(c("FantaConversationScroller.react"),{hasFetchedAll:r,isFocused:s,messages:v,onFocus:function(){return this.refs.composer&&this.refs.composer.focusInput()}.bind(this),onLoadMoreMessages:w,onlineUsers:this.props.onlineUsers,showContextBanner:B,thread:E,threadID:F,viewer:G}),c("React").createElement("div",{className:"_3bpu"}),c("React").createElement("div",{className:"_2hc2"},c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("P2PChatThreadBannerContainer.react").__setRef("FantaTabMain.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{isVisible:true,otherUserID:c("MercuryIDs").getUserIDFromThreadID(F),threadID:F})})),c("React").createElement("div",{className:"_4g6x"},c("React").createElement("div",{className:"_4g6y"},c("React").createElement("div",{className:"_4g6z _4g71"},i._("Drag Link\/Files Here")),c("React").createElement("div",{className:"_4g6z _4g6- _4g6_"},i._("Drop Files Here")),c("React").createElement("div",{className:"_4g6z _4g6- _4g70"},i._("Drop Link Here")))),U,c("React").createElement(c("FantaDragAndDrop.react"),{threadID:F,uploadedFiles:K,uploadingFiles:J,sharePreview:I})));return c("React").createElement("div",{className:c("joinClasses")((this.state.closing?"_2suj":"")+" _3_9e _s0f _50mz _50m_"+(V?" _4-0b":"")+" fbNub _50-v"+(s?" focusedTab":"")+(t?" hoveredTab":"")+" opened _27_3"+(c("gkx")("AT41s5nc5usyR3AxF6JSJYEGfAY8tyQMohn4tHD5EBNPLj9IR60HLUM8XbLkhkanQ0whco6up8j9rPvwA-GdPWr0")?" _64ko":""),"fantaTabMain-"+F),onBlur:this.$FantaTabMain17,onFocus:this.$FantaTabMain18,onKeyDown:this.$FantaTabMain14,onKeyPress:this.$FantaTabMain15,onMouseEnter:this.$FantaTabMain19,onMouseLeave:this.$FantaTabMain20,ref:"root",role:"presentation"},c("React").createElement("div",{className:"fbNubFlyout fbDockChatTabFlyout uiContextualLayerParent",role:"complementary"},c("React").createElement("div",{className:"fbNubFlyoutOuter"},Y)))};o.prototype.$FantaTabMain21=function(p){if(!c("FantaDispatcher").isDispatching())c("FantaTabActions").blurTab(this.props.tab.id);if(this.$FantaTabMain9){clearTimeout(this.$FantaTabMain9);this.$FantaTabMain9=null}c("FantaTabActions").unhoveredTab(p)};o.prototype.$FantaTabMain13=function(){var p=c("getPageIDFromThreadID")(this.props.tab.id);if(p)c("MessengerBotMenuDataFetcher").getHasPageSetting(p,function(q){this.setState({disableInput:q})}.bind(this),function(){this.setState({disableInput:false})}.bind(this),c("MNCommercePageSetting").COMPOSER_INPUT_DISABLED)};o.prototype.$FantaTabMain10=function(){__p&&__p();if(c("WorkFileUploadsGating").canUploadFiles&&!this.$FantaTabMain4){var p=c("ReactDOM").findDOMNode(this.$FantaTabMain5);if(p){var q=new(c("DragDropTarget"))(p);this.$FantaTabMain4=q;q.setOnFilesDropCallback(this.$FantaTabMain22);q.setOnURLDropCallback(this.$FantaTabMain23);q.enable()}}};o.prototype.$FantaTabMain3=function(p,q){if(!p)if(q)c("FantaTabActions").focusPreviousTab();else c("FantaTabActions").focusNextTab()};o.prototype.$FantaTabMain24=function(){return this.$FantaTabMain27()||this.$FantaTabMain28()};o.prototype.$FantaTabMain27=function(){var p,q,r=this.props.tabContent,s=((p=r)!=null?(p=p.fileUploader)!=null?p.uploadedFiles:p:p)||{size:0},t=((q=r)!=null?(q=q.fileUploader)!=null?q.uploadingFiles:q:q)||{size:0};return s.size>0||t.size>0};o.prototype.$FantaTabMain28=function(){var p,q=this.props.tabContent,r=(p=q)!=null?p.sharePreview:p;return!!(r&&r.params&&r.type)};o.prototype.$FantaTabMain25=function(p){__p&&__p();var q=this.props,r=q.tab,s=q.tabContent,t=s&&s.threadPreviewID?s.threadPreviewID:r.id,u=c("ReactDOM").findDOMNode(this.refs.root);this.$FantaTabMain1=setTimeout(function(){return p?c("FantaTabActions").closeAndTabNext(t):c("FantaTabActions").closeTab(t)},1.2*c("ifRequired")("cssVar",function(w){return"200ms".replace(m,"")},function(){return 200}));var v=c("Event").listen(u,c("getVendorPrefixedEventName")("animationend"),function(w){if(w.animationName==="closeChatTab"){p?c("FantaTabActions").closeAndTabNext(t):c("FantaTabActions").closeTab(t);clearTimeout(this.$FantaTabMain1);v.remove()}}.bind(this));this.$FantaTabMain29();this.setState({closing:true})};o.prototype.$FantaTabMain26=function(p){var q=this.props.tab,r=q.id;c("FantaTabActions").blurTab(r);var s=i._("Are you sure you want to close this chat window?"),t=i._("You haven't sent your message.");c("SimpleXUIDialog").showConfirm(s,t,function(u){if(u)p?c("FantaTabActions").closeAndTabNext(r):c("FantaTabActions").closeTab(r);else c("FantaTabActions").focusTab(r)},{autofocusConfirm:true,useReactFocusBehavior:true})};o.prototype.$FantaTabMain12=function(){this.$FantaTabMain8=Math.floor(Date.now()/1e3)};o.prototype.$FantaTabMain29=function(){var p=this.props.thread,q=p?p.other_user_fbid:null,r=Math.floor(Date.now()/1e3),s=this.$FantaTabMain8;if(p&&q&&!c("FBIDCheck").isUser_deprecated(q))c("Bootloader").loadModules(["PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesEventObserver","PagesEventType"],function(t,u,v,w,x){t.log(q,u.CLICK,v.MESSAGE_FANTA_TAB_CLOSE,"",["pages_surface_team"],{open_tab_timestamp:s,close_tab_timestamp:r,last_message_timestamp:p.last_message_timestamp,message_count:p.message_count,snippet_sender:p.snippet_sender,participants:p.participants});w.notify(x.MESSAGES_FANTA_TAB_CLOSE,q,{open_tab_timestamp:s,close_tab_timestamp:r,last_message_timestamp:p.last_message_timestamp,message_count:p.message_count,snippet_sender:p.snippet_sender,participants:p.participants})},"FantaTabMain.react")};o.propTypes={hasFetchedAll:n.bool.isRequired,isFocused:n.bool.isRequired,isHovered:n.bool.isRequired,isLastGroupTab:n.bool.isRequired,messages:n.object,onlineUsers:n.instanceOf(c("immutable").List).isRequired,onLoadMoreMessages:n.func.isRequired,onSelectSticker:n.func.isRequired,onSendHotLike:n.func.isRequired,onSendMessage:n.func.isRequired,onSendPhoto:n.func.isRequired,raisedTabCount:n.number,showContextBanner:n.bool,tab:n.object.isRequired,tabContent:n.object,thread:n.object};f.exports=o}),null);
__d("requestIdleCallback",["TimerStorage","requestIdleCallbackAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();f.exports=function h(i,j){__p&&__p();var k=void 0;function l(m){c("TimerStorage").unset(c("TimerStorage").IDLE_CALLBACK,k);i(m)}if(i.__tsGuarded){l.__tsGuarded=true;l.__cancelCallback=i.__cancelCallback;l.__creationID=i.__creationID}k=c("requestIdleCallbackAcrossTransitions").call(b,l,j);c("TimerStorage").set(c("TimerStorage").IDLE_CALLBACK,k);return k}}),null);
__d("FantaTabMainLoader.react",["Bootloader","FantaAppStore","FantaAvailableStatus","FantaGetMessageActions","FantaMessageActions","FantaTabMain.react","immutable","MercuryConfig","MercuryIDs","React","TimeSlice","emptyFunction","idx","gkx","requestIdleCallback","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=function m(n){__p&&__p();var o,p;c("FantaAppStore").addReducers(n);var q=c("FantaAppStore").getState(),r=(o=q)!=null?(o=o.mercury)!=null?o.tabContents:o:o;if(r)(function(){var s=r.reduce(function(s,t){var u=t.thread;if(u)s.push(u);return s},[]);c("setImmediate")(function(){return c("FantaGetMessageActions").threadsUpdated(s)})})();k=c("emptyFunction")};h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$FantaTabMainLoader2=function(){var r=this.props.tab;c("FantaGetMessageActions").fetchMoreMessages(r.id)}.bind(this),this.$FantaTabMainLoader3=function(r,s){var t=this.props.tab;c("FantaMessageActions").sendSticker(t.id,r,s)}.bind(this),this.$FantaTabMainLoader4=function(r,s,t,u){var v=this.props.tab;c("FantaMessageActions").sendHotLike(v.id,r,s,t,u)}.bind(this),this.$FantaTabMainLoader5=function(r,s){var t=this.props.tab;c("FantaMessageActions").sendMessage(t.id,r,s)}.bind(this),this.$FantaTabMainLoader6=function(r,s){var t=this.props.tab;c("FantaMessageActions").sendPhoto(t.id,r,s)}.bind(this),n}l.prototype.shouldComponentUpdate=function(m){var n=this.props;return n.isFocused!==m.isFocused||n.isHovered!==m.isHovered||n.isLastTabOfType!==m.isLastTabOfType||!n.tab.equals(m.tab)||!n.tabContent.equals(m.tabContent)};l.prototype.componentDidMount=function(){var m=function m(){c("Bootloader").loadModules(["FantaReducersTabSheets"],k,"FantaTabMainLoader.react")};if(c("gkx")("AT45Q0YAtTF77a1x8ZT9-rWfsF83gTI5tMuldZujY0KaNI6icTW09jBEE5BSuvPKdZtVIIdleK4appEhrvQPrVOyhvdXTeLDSdYEXUe9KmbS3Q"))c("TimeSlice").guard(function(){c("requestIdleCallback")(m)},"additional request not needed for initial display",{isContinuation:false})();else m()};l.prototype.render=function(){var m=this.props,n=m.isFocused,o=m.isHovered,p=m.isLastTabOfType,q=m.raisedTabCount,r=m.tab,s=m.tabContent,t=s.hasFetchedAll,u=s.showContextBanner,v=s.thread,w=s.threadPreviewID,x=s.messages,y=w?r.id+"-"+w:r.id;if(!s)return c("React").createElement("div",{key:"noContent-"+y});if(!x)x=c("immutable").List();var z=c("immutable").List([]);if(c("MercuryConfig").GDWC)z=this.$FantaTabMainLoader1(v,r);return c("React").createElement(c("FantaTabMain.react"),{hasFetchedAll:t,isFocused:n,isHovered:o,isLastGroupTab:p,key:y,messages:x,onlineUsers:z,onLoadMoreMessages:this.$FantaTabMainLoader2,onSelectSticker:this.$FantaTabMainLoader3,onSendHotLike:this.$FantaTabMainLoader4,onSendMessage:this.$FantaTabMainLoader5,onSendPhoto:this.$FantaTabMainLoader6,raisedTabCount:q,showContextBanner:u,tab:r,tabContent:s,thread:v})};l.prototype.$FantaTabMainLoader1=function(m,n){__p&&__p();var o=c("MercuryIDs").getUserIDFromThreadID(n.id),p=[];if(o)p=c("FantaAvailableStatus").isAvailable(m,n.id)?[o]:[];else if(m){p=m.participants.filter(function(q){if(!q)return false;var r=c("MercuryIDs").getThreadIDFromParticipantID(q);if(!r)return false;var s=c("FantaAvailableStatus").isAvailable(null,r);return s});p=p.map(function(q){return c("MercuryIDs").getUserIDFromParticipantID(q)||""})}return c("immutable").List(p)};l.propTypes={isFocused:j.bool.isRequired,isHovered:j.bool.isRequired,isLastTabOfType:j.bool.isRequired,raisedTabCount:j.number,tab:j.object.isRequired,tabContent:j.object};f.exports=l}),null);
__d("FantaTabMinimized.react",["cx","fbt","ChatBehavior","ChatTabBlinking","ChatTabHeaderContainer.react","CurrentUser","Event","FantaAvailableStatus","FantaTabActions","React","ReactDOM","SimpleXUIDialog","WorkFocusMode","emptyFunction","getVendorPrefixedEventName","ifRequired"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=/\D+/g,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={closing:false},this.$FantaTabMinimized4=function(){var t=this.props.tabContent;if(!t||t&&t.composerText.length===0)this.$FantaTabMinimized5();else this.$FantaTabMinimized6()}.bind(this),this.$FantaTabMinimized3=function(event){var t=event.target;if(t&&t.classList&&!t.classList.contains("button")){event.preventDefault();c("FantaTabActions").unminimizeTab(this.props.tab.id);c("FantaTabActions").focusTab(this.props.tab.id)}}.bind(this),p}n.prototype.componentDidMount=function(){this.$FantaTabMinimized2()};n.prototype.componentDidUpdate=function(){this.$FantaTabMinimized2()};n.prototype.shouldComponentUpdate=function(o){var p=this.props;return!p.tab.equals(o.tab)||!p.tabContent&&!!o.tabContent||!!p.tabContent&&!p.tabContent.equals(o.tabContent)};n.prototype.$FantaTabMinimized2=function(){__p&&__p();var o=this.props,p=o.tab,q=o.tabContent,r=p.id;if(!q)return;var s=q.thread;if(!s)return;var t=this.refs.root&&c("ReactDOM").findDOMNode(this.refs.root);if(!t)return;var u=s.unread_count;if(c("WorkFocusMode")&&c("WorkFocusMode").currentViewerInFocusMode(r))return;if(u!==undefined){var v=!!u&&(!c("ChatBehavior").showsTabUnreadUI||c("ChatBehavior").showsTabUnreadUI());if(v)c("ChatTabBlinking").blinkTab(r,{getTabElem:function w(){return t},isFocused:function w(){return false},isHovered:function w(){return false}});else c("ChatTabBlinking").unblinkTab(r)}};n.prototype.render=function(){var o=this.props,p=o.tab,q=o.tabContent,r=q&&q.thread&&q.thread.custom_color,s=r?{color:r}:null,t=p.id,u=q&&!!q.thread&&c("FantaAvailableStatus").isAvailable(q.thread,t);return c("React").createElement("div",{className:"_4cd8 _50mz _50m_ fbNub _50-v"+(u?" _4-0b":"")+" _27_3",ref:"root"},c("React").createElement("div",{className:(this.state.closing?"_2suj":"")+" clearfix fbNubFlyoutTitlebar titlebar"+(!!r?" _1m34":""),style:s},c("React").createElement(c("ChatTabHeaderContainer.react"),{attachmentsShelf:document.createElement("div"),isActive:false,isRaised:false,isTyping:false,nameConversationFunc:c("emptyFunction"),rtcNuxShown:false,sheetController:{},showAddFriend:c("emptyFunction"),threadID:this.props.tab.id,viewer:c("CurrentUser").getID(),onClick:this.$FantaTabMinimized3,onCloseClick:this.$FantaTabMinimized4,onRTCNuxCloseButtonClick:c("emptyFunction")})))};n.prototype.$FantaTabMinimized5=function(){__p&&__p();var o=this.props,p=o.tab,q=o.tabContent,r=q&&q.threadPreviewID?q.threadPreviewID:p.id,s=c("ReactDOM").findDOMNode(this.refs.root);this.$FantaTabMinimized1=setTimeout(function(){return c("FantaTabActions").closeAndTabNext(r)},1.2*c("ifRequired")("cssVar",function(u){return"200ms".replace(l,"")},function(){return 200}));var t=c("Event").listen(s,c("getVendorPrefixedEventName")("animationend"),function(u){if(u.animationName==="closeChatTab"){c("FantaTabActions").closeAndTabNext(r);clearTimeout(this.$FantaTabMinimized1);t.remove()}}.bind(this));this.setState({closing:true})};n.prototype.$FantaTabMinimized6=function(){var o=this.props,p=o.tab,q=o.tabContent,r=q&&q.threadPreviewID?q.threadPreviewID:p.id,s=i._("Are you sure you want to close this chat window?");c("FantaTabActions").blurTab(r);var t=i._("You haven't sent your message.");c("SimpleXUIDialog").showConfirm(s,t,function(u){if(u)c("FantaTabActions").closeAndTabNext(r);else c("FantaTabActions").focusTab(r)},{autofocusConfirm:true,useReactFocusBehavior:true})};n.propTypes={tab:m.object.isRequired,tabContent:m.object};f.exports=n}),null);
__d("FantaMercuryTabsWithMain.react",["Bootloader","FantaAppStore","FantaCookieUtil","FantaMercuryTabOverflowBootloader.react","FantaTabActions","FantaTabGroup.react","FantaTabMainLoader.react","FantaTabMinimized.react","FluxContainer","LazyComponent.react","LoadOnRender.react","MercuryIDs","PresenceState","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=function j(l){c("Bootloader").loadModules(["messengerReasonDialogContainerReact"],function(m){var n=m.jsComponent;return l(n)},"FantaMercuryTabsWithMain.react")};h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.getStores=function(){return[c("FantaAppStore")]};k.calculateState=function(){return{tabGroup:c("FantaAppStore").getState().tabGroup,tabContents:c("FantaAppStore").getState().mercury.tabContents}};k.prototype.componentDidMount=function(){if(this.props.loadDataOnMount)c("FantaTabActions").loadFromData(c("FantaCookieUtil").convertCookieData(c("PresenceState").get()))};k.prototype.render=function(){return[c("React").createElement(c("FantaTabGroup.react"),{key:"tabgroup",MainComponent:c("FantaTabMainLoader.react"),MinimizedComponent:c("FantaTabMinimized.react"),OverflowComponent:c("FantaMercuryTabOverflowBootloader.react"),tabGroup:this.state.tabGroup,tabContents:this.state.tabContents,isLastOfTypeChecker:this.$FantaMercuryTabsWithMain1}),c("React").createElement(c("LoadOnRender.react"),{key:"dialog",component:c("React").createElement(c("LazyComponent.react"),null),loader:j,placeholder:c("React").createElement("span",null)})]};k.prototype.$FantaMercuryTabsWithMain1=function(l){return c("MercuryIDs").isGroupChat(l.id)};function k(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("FantaMercuryThreadEventsBootloaded",["Bootloader","MercuryThreadInformer","MercuryThreads","MercuryViewer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MercuryThreadInformer").get(),i=c("MercuryThreads").get(),j={onMessagesReceived:function k(l){__p&&__p();h.subscribe("messages-received",function(m,n){__p&&__p();var o,p=function p(q){__p&&__p();var r,s=n[q],t=function t(u){var v=s[u];if(v.author!=c("MercuryViewer").getID()){if(!v.is_unread)return"continue";i.getThreadMeta(q,function(w){c("Bootloader").loadModules(["ChatTabPolicy"],function(x){x.messageIsAllowed(w,v,function(){l(q,v)})},"FantaMercuryThreadEventsBootloaded")})}};for(var u=0;u<s.length;u++){var r=t(u);if(r==="continue")continue}};for(var q in n)p(q)})}};f.exports=j}),null);
__d("FantaTabViewportManager",["Arbiter","DockTabsViewportCalculator","DockTabsViewportFantaTabUtils","FantaTabActions","immutable","ifRequired","isWebMessengerURI","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=c("DockTabsViewportCalculator").getInstance(i);if(!j)return;j.registerFantaTabCallbacks({fantaTabModelStateGetter:function k(){var l=c("immutable").Map({});c("ifRequired")("FantaAppStore",function(m){l=m.getState().tabGroup.tabs});return l},onAvailableWidthChanged:function k(l){c("setImmediate")(function(){c("FantaTabActions").setAllowedRaisedTabs(c("DockTabsViewportFantaTabUtils").getTabCountToFitWidth(l))})}});c("Arbiter").subscribe("FantaReducersDockCalculator/shouldRecalculate",function(){j.forceRecalculateChatTabs()});j.forceRecalculateFBDockWidth();c("Arbiter").subscribe("page_transition",function(k,l){if(c("isWebMessengerURI")(l.uri))c("setImmediate")(function(){return c("FantaTabActions").minimizeAllTabs()})})}f.exports={init:h}}),null);
__d("HotLikeSound",["MercurySoundsConfig","SoundPlayer","StickerConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=[c("MercurySoundsConfig").hot_like_grow_mp3_url,c("MercurySoundsConfig").hot_like_grow_ogg_url],i=[c("MercurySoundsConfig").hot_like_pop_mp3_url,c("MercurySoundsConfig").hot_like_pop_ogg_url],j=[c("MercurySoundsConfig").hot_like_outgoing_small_mp3_url,c("MercurySoundsConfig").hot_like_outgoing_small_ogg_url],k=[c("MercurySoundsConfig").hot_like_outgoing_medium_mp3_url,c("MercurySoundsConfig").hot_like_outgoing_medium_ogg_url],l=[c("MercurySoundsConfig").hot_like_outgoing_large_mp3_url,c("MercurySoundsConfig").hot_like_outgoing_large_ogg_url],m=function m(){return false},n={setCheckSoundEnabledFunc:function o(p){m=p},start:function o(){this._play(h)},stop:function o(){c("SoundPlayer").stop(h)},pop:function o(){this.stop();this._play(i)},snap:function o(p){this.stop();if(p===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID)this._play(j);if(p===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID)this._play(k);if(p===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID)this._play(l)},_play:function o(p){if(m())c("SoundPlayer").play(p)}};f.exports=n}),null);
__d("MercuryDeliveryReceiptsRe",["Map","Arbiter","utilsRe","bs_js_primitive","MercuryDispatcher","mercurySingletonProviderRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l){__p&&__p();var m={},n=new(c("Arbiter"))(),o={__fbid:l,getDeliveryTime:function q(r){var s=m,t=r;return c("utilsRe").$pipe$unknown(c("bs_js_primitive").undefined_to_opt(s[t]),0)},subscribe:function q(r,s){return n.subscribe(r,s)}},p=c("MercuryDispatcher").getForFBID(l);p.subscribe("update-delivery",function(q,r){__p&&__p();if(r==null)return 0;else{var s=r.delivery_receipts;if(s==null)return 0;else{Object.keys(s).forEach(function(t){var u=s[t],v=c("utilsRe").$pipe$unknown(c("bs_js_primitive").undefined_to_opt(m[t]),0);if(u>v){m[t]=u;var w=new(c("Map"))([[t,true]]);n.inform("change",w);return 0}else return 0});return 0}}});return o}var i=c("mercurySingletonProviderRe").Provider([h]),j=i[0],k=i[1];g.getForFBID=j;g.get=k}),null);
__d("MercuryDeliveryState",["MercuryConfig","MercuryIDs","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap","MercuryThreadInformer","PresencePrivacy","UserActivity","debounceAcrossTransitions","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MercuryConfig").delivery_timeout||12e4;i.getForFBID=function(k){return j.getForFBID(k)};i.get=function(){return j.get()};function i(k){__p&&__p();this.$MercuryDeliveryState8=function(){if(this.$MercuryDeliveryState5.length===0&&Object.keys(this.$MercuryDeliveryState6).length===0)return;var l=this.$MercuryDeliveryState5.map(function(m){return m.message_id});if(l)this.$MercuryDeliveryState2.sendDeliveryReceipts(l,this.$MercuryDeliveryState6);this.$MercuryDeliveryState6={};this.$MercuryDeliveryState5=[]}.bind(this);this.$MercuryDeliveryState1=k;this.$MercuryDeliveryState2=c("MercuryServerRequests").getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState3=c("MercuryThreadInformer").getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState4=c("MercuryThreadIDMap").getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState5=[];this.$MercuryDeliveryState6={};this.$MercuryDeliveryState3.subscribe("messages-received",this.$MercuryDeliveryState7.bind(this));c("UserActivity").subscribe(c("debounceAcrossTransitions")(this.$MercuryDeliveryState8,300,this))}i.prototype.$MercuryDeliveryState7=function(k,l){__p&&__p();for(var m in l){var n=l[m];n.forEach(function(o){if(this.$MercuryDeliveryState9(o)){this.$MercuryDeliveryState5.push(o);this.$MercuryDeliveryState4.getServerIDFromClientID(m,function(p){if(!this.$MercuryDeliveryState6[p])this.$MercuryDeliveryState6[p]=[];this.$MercuryDeliveryState6[p].push(o.message_id)}.bind(this))}}.bind(this))}if(c("UserActivity").isActive(h)||c("gkx")("AT6QldQ637XMvCyugHEhjQqDDf2-wtP50HTiWZ1Ww9U3TKMTy-LCSwNJff4SK8McDFogXyIPPHKCxhkz9mFRLCX-m6fUBuF8qkM5EElKo4EzDw"))this.$MercuryDeliveryState8()};i.prototype.$MercuryDeliveryState9=function(k){var l=k.author?c("MercuryIDs").getUserIDFromParticipantID(k.author):null;if(l===this.$MercuryDeliveryState1)return false;if(!k.is_unread)return false;if(!c("gkx")("AT7GT8UGweuJUhC61h9oqLFuHzIDcnOH8tVaEpcsVVIqytlspcPaeznMpTOu7VGKZ2X79ONiNr36wUvPSXud5IHm")&&!c("PresencePrivacy").allows(l))return false;return true};var j=new(c("MercurySingletonProvider"))(i);f.exports=i}),null);
__d("MercuryDelayedDispatcher",["MercuryDispatcher","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){this.$MercuryDelayedDispatcher1=j;this.$MercuryDelayedDispatcher2=[];this.$MercuryDelayedDispatcher3=c("MercuryThreadIDMap").getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher4=c("MercuryDispatcher").getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher5=c("MercuryServerRequests").getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher6=c("MercuryServerPayloadPreprocessor").getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher4.subscribe("model-update-completed",function(k,l){return this.$MercuryDelayedDispatcher7()}.bind(this))}h.getForFBID=function(j){return i.getForFBID(j)};h.get=function(){return i.get()};h.prototype.handleUpdateWaitForThread=function(j,k){var l=this.$MercuryDelayedDispatcher3.getClientIDFromServerIDNow(k);if(l){this.$MercuryDelayedDispatcher8(j);return}this.$MercuryDelayedDispatcher3.getClientIDFromServerID(k,function(){return this.$MercuryDelayedDispatcher2.push({thread_fbid:k,payload:j})}.bind(this));this.$MercuryDelayedDispatcher5.ensureThreadIsFetched(k)};h.prototype.$MercuryDelayedDispatcher7=function(){if(this.$MercuryDelayedDispatcher2&&this.$MercuryDelayedDispatcher2.length){var j=this.$MercuryDelayedDispatcher2.shift(),k=j.thread_fbid,l=j.payload;this.handleUpdateWaitForThread(l,k)}};h.prototype.$MercuryDelayedDispatcher8=function(j){if(j.from_client)this.$MercuryDelayedDispatcher4.handleUpdate(j);else this.$MercuryDelayedDispatcher6.handleUpdate(j)};var i=new(c("MercurySingletonProvider"))(h);f.exports=h}),null);
__d("MercurySyncChannelMonitor",["Arbiter","ChannelConstants","CurrentUser","MercurySingletonProvider","MercurySyncFakeDFFSender"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){this.handleAwfulChannelEvent=function(){if(!c("CurrentUser").isLoggedInNow()){this.killSubscriptions();return}c("MercurySyncFakeDFFSender").getForFBID(this.$MercurySyncChannelMonitor1).sendGlobalDFF()}.bind(this);this.$MercurySyncChannelMonitor1=j;this.$MercurySyncChannelMonitor2=false}h.getForFBID=function(j){return i.getForFBID(j)};h.get=function(){return i.get()};h.prototype.setupSubscriptions=function(){if(!this.$MercurySyncChannelMonitor2){this.$MercurySyncChannelMonitor4=c("Arbiter").subscribe(c("ChannelConstants").JUMPSTART,this.handleAwfulChannelEvent);this.$MercurySyncChannelMonitor3=c("Arbiter").subscribe(c("ChannelConstants").THROTTLED,this.handleAwfulChannelEvent);this.$MercurySyncChannelMonitor2=true}};h.prototype.killSubscriptions=function(){if(this.$MercurySyncChannelMonitor2){c("Arbiter").unsubscribe(this.$MercurySyncChannelMonitor4);c("Arbiter").unsubscribe(this.$MercurySyncChannelMonitor3);this.$MercurySyncChannelMonitor2=false}};var i=new(c("MercurySingletonProvider"))(h);f.exports=h}),null);
__d("MercuryProfileRanges",["idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){if(!i.id&&i.i)return{id:i.i,offset:i.o,length:i.l};return i}f.exports={extractFromDelta:function i(j){var k,l=(k=j)!=null?(k=k.data)!=null?k.prng:k:k;if(!l)return undefined;var m=[];try{m=JSON.parse(l);if(m.length>0)return m.map(h)}catch(n){}return m}}}),null);
__d("messengerRealtimeAttachmentTransformerRe",["messengerMessageTransformerRe","messengerAttachmentTransformerRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k){var l=c("messengerMessageTransformerRe").unsafeCastBlobAttachments(j),m=j.extensible_attachment,n;if(m==null)n=null;else{var o=m.story_attachment;n={legacy_attachment_id:m.legacy_attachment_id,story_attachment:o==null?null:c("messengerMessageTransformerRe").unsafeCastExtensibleAttachment(o)}}return c("messengerAttachmentTransformerRe").transformAttachment(i,{extensible_attachment:n,blob_attachments:l,sticker:j.sticker},k)}g.transform=h}),null);
__d("MercurySyncNewMessageTransformer",["FBIDCheck","IrisProtocolMessageLifetime","MercuryActionType","MercuryConfig","MercuryIDs","MercuryMessageCustomizations","MercuryProfileRanges","MercuryTimestamp","MessagingTag","PageCommItemStatus","messengerRealtimeAttachmentTransformerRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(j){var k={};try{k=JSON.parse(j)}catch(l){}return k};function i(j,k){__p&&__p();var l=parseInt(k.messageMetadata.timestamp,10),m=c("MercuryTimestamp").getFormatedTimestamp(l),n=k.messageMetadata.skipBumpThread,o=j!==k.messageMetadata.actorFbId,p=[];if(k.attachments)p=k.attachments.map(function(u){__p&&__p();var v=u.mercury,w=v.extensible_attachment,x=v.blob_attachment,y=v.sticker_attachment;if(!w&&!x&&!y)return null;var z=c("FBIDCheck").isUser_deprecated(j),A=[];if(w)A=c("messengerRealtimeAttachmentTransformerRe").transform(j,{extensible_attachment:w},z);else if(x)A=c("messengerRealtimeAttachmentTransformerRe").transform(j,{blob_attachments:[x]},z);else A=c("messengerRealtimeAttachmentTransformerRe").transform(j,{sticker:y});return A.length>0?A[0]:null});var q=!c("FBIDCheck").isUser_deprecated(j);p=p.filter(Boolean);var r=k.messageMetadata.tags?k.messageMetadata.tags[0]:undefined,s=null;if(k.data&&k.data.adminSignatureCreatorID){var t=k.data;s={creatorID:t.adminSignatureCreatorID||null,creatorName:t.adminSignatureCreatorName||null,creatorType:t.adminSignatureCreatorType||null,labelType:t.adminSignatureLabelType||null,pageID:t.adminSignaturePageID||null,profileURI:t.adminSignatureProfileURI||null}}return{message_id:k.messageMetadata.messageId,threading_id:null,offline_threading_id:k.messageMetadata.offlineThreadingId,author:c("MercuryIDs").getParticipantIDFromUserID(k.messageMetadata.actorFbId),author_email:k.messageMetadata.actorFbId+"@facebook.com",ephemeral_ttl_mode:k.ttl?c("IrisProtocolMessageLifetime")[k.ttl]:0,timestamp:l,is_unread:o,is_filtered_content:false,is_filtered_content_bh:false,is_filtered_content_account:false,is_filtered_content_quasar:false,is_filtered_content_invalid_app:false,source:r,tags:k.messageMetadata.tags,is_spoof_warning:false,folder:c("MessagingTag").INBOX,thread_fbid:k.messageMetadata.threadKey.threadFbId,other_user_fbid:k.messageMetadata.threadKey.otherUserFbId,body:k.body!==undefined?k.body:"",html_body:null,subject:null,has_attachment:p.length>0,attachments:p,ranges:undefined,thread_id:null,action_type:c("MercuryActionType").USER_GENERATED_MESSAGE,is_from_iris:true,is_sponsored:!!(k.data&&k.data.is_sponsored&&k.data.is_sponsored==="true")||!!(k.untypedData&&k.untypedData.is_sponsored&&k.untypedData.is_sponsored==="true"),commerce_message_type:k.data?k.data.commerce_message_type:null,customizations:k.data&&k.data.customization?c("MercuryMessageCustomizations").parseCustomizations(k.data.customization):null,platform_xmd:k.data&&k.data.platform_xmd?k.data.platform_xmd:null,profile_ranges:c("MercuryProfileRanges").extractFromDelta(k),message_source:k.data&&k.data.message_source_data?h(k.data.message_source_data).message_source:null,skip_bump_thread:n,montage_reply_data:k.data&&k.data.montage_reply_data?h(k.data.montage_reply_data):null,meta_ranges:k.data&&k.data.meta_ranges?h(k.data.meta_ranges):null,creator_info:s,comm_status:q?c("PageCommItemStatus").TODO:null}}f.exports={transform:i}}),null);
__d("MercurySyncAdminTextMessageTransformer",["MercuryActionType","MercuryLogMessageType","MercurySyncNewMessageTransformer"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=c("MercurySyncNewMessageTransformer").transform(i,j);k.action_type=c("MercuryActionType").LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={message_type:j.type,untypedData:j.untypedData};k.log_message_type=c("MercuryLogMessageType").GENERIC_ADMIN_TEXT;return k}f.exports={transform:h}}),null);
__d("LiveLocationStopReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPIRED:1,CANCELED:2,ARRIVED:3})}),null);
__d("MercurySyncClientPayloadTransformer",["DateConsts","LiveLocationStopReason","MercuryActionType","MercuryIDs","MessageLiveLocationClientSyncProtocolStopReason","PageCommItemStatus","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")(c("LiveLocationStopReason")),i=8;function j(q){__p&&__p();var r=q.payload;r=JSON.parse(String.fromCharCode.apply(null,r));var s=r&&r.deltas,t=s[0];if(t.deltaMessageReaction)return l(t.deltaMessageReaction);else if(t.liveLocationData)return n(t.liveLocationData);else if(t.deltaUpdateGroupEventRSVPStatus){var u=t.deltaUpdateGroupEventRSVPStatus;return m(u)}else if(t.deltaPageThreadFollowUpData)return p(t.deltaPageThreadFollowUpData);else if(t.deltaChangeViewerStatus)return k(t.deltaChangeViewerStatus);else return o(t)}function k(q){var r=q.actorFbid,s=q.canViewerReply,t=q.reason,u=q.threadKey,v=c("MercuryIDs").getParticipantIDFromUserID(u.otherUserFbId);return{action_type:c("MercuryActionType").BLOCK_STATUS_CHANGED,actorFbid:r,canViewerReply:s,reason:t,message_blocked_ids:[v],other_user_fbid:u.otherUserFbId.toString()}}function l(q){var r=q.messageId,s=q.offlineThreadingId,t=q.reaction,u=q.senderId,v=q.userId,w=q.threadKey.threadFbId||q.threadKey.otherUserFbId;return{action_type:c("MercuryActionType").REACTION_UPDATE,messageId:r,offlineThreadingId:s,reaction:t,senderId:u,thread_fbid:w.toString(),userId:v}}function m(q){var r=q.threadKey&&q.threadKey.threadFbId;if(!r)return null;var s=q.actorFbId,t=q.rsvpStatus;if(!s)return null;return{action_type:c("MercuryActionType").EVENT_RSVP_CHANGED,thread_fbid:r.toString(),actor_fbid:s.toString(),rsvp_status:t}}function n(q){__p&&__p();var r=q.threadKey;if(!r)return null;var s=r.threadFbId||r.otherUserFbId;if(!s)return null;if(!q.messageLiveLocations||q.messageLiveLocations.length!==1)return null;var t=q.messageLiveLocations[0],u=t.expirationTime,v=t.stopReason!=null||Date.now()/c("DateConsts").MS_PER_SEC>u,w=function w(A){return A/Math.pow(10,i)},x=t.coordinate?{latitude:w(t.coordinate.latitude),longitude:w(t.coordinate.longitude)}:null,y=null;if(t.destination)y={latitude:w(t.destination.latitude),longitude:w(t.destination.longitude),label:t.destination.label};var z=null;switch(t.stopReason){case c("MessageLiveLocationClientSyncProtocolStopReason").EXPIRED:z=h.EXPIRED;break;case c("MessageLiveLocationClientSyncProtocolStopReason").CANCELED:z=h.CANCELED;break;case c("MessageLiveLocationClientSyncProtocolStopReason").ARRIVED:z=h.ARRIVED;break}return{action_type:c("MercuryActionType").LIVE_LOCATION_UPDATE,thread_fbid:s.toString(),messageId:t.messageId,liveLocation:{live_location_id:t.id.toString(),is_expired:v,expiration_time:u,sender:{id:t.senderId.toString()},coordinate:x,location_title:t.locationTitle,sender_destination:y,stop_reason:z}}}function o(q){var r=q&&q.deltaPaymentPinProtectionStatusData,s=r&&r.threadKey&&r.threadKey.otherUserFbId,t=r&&r.isPinProtected;if(!s)return null;var u=s.toString();return{action_type:c("MercuryActionType").IS_PIN_PROTECTED,thread_fbid:u,is_pin_protected:t}}function p(q){var r=q.threadKey.otherUserFbId;return{action_type:c("MercuryActionType").UPDATE_COMM_STATUS,comm_status:q.isFollowUp?c("PageCommItemStatus").FOLLOW_UP:c("PageCommItemStatus").TODO,thread_fbid:r.toString()}}f.exports={transform:j}}),null);
__d("MercurySyncDeliveryReceiptTransformer",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return{delivery_receipts:[{other_user_fbid:i.threadKey.otherUserFbId?i.threadKey.otherUserFbId:"",thread_fbid:i.threadKey.threadFbId?i.threadKey.threadFbId:"",time:parseInt(i.deliveredWatermarkTimestampMs,10)}]}}f.exports={transform:h}}),null);
__d("MercurySyncMarkFolderChangeTransformer",["MercuryActionType","MessagingTag"],(function a(b,c,d,e,f,g){"use strict";function h(i){return{action_type:c("MercuryActionType").CHANGE_FOLDER,other_user_fbid:i.threadKey.otherUserFbId,new_folder:c("MessagingTag").IRIS_MAPPING[i.folder]}}f.exports={transform:h}}),null);
__d("MercurySyncMarkFolderSeenTransformer",["MercuryGlobalActionType","MessagingTag"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.folders.map(function(j){return{action_type:c("MercuryGlobalActionType").MARK_ALL_SEEN,folder:c("MessagingTag").IRIS_MAPPING[j],timestamp:parseInt(i.timestamp,10)}})}f.exports={transform:h}}),null);
__d("MercurySyncMarkReadTransformer",["MercuryActionType","MercuryGlobalActionType","MessagingTag"],(function a(b,c,d,e,f,g){"use strict";function h(i){if(i.folders&&i.folders.length>0)return i.folders.map(function(j){return{action_type:c("MercuryGlobalActionType").MARK_ALL_READ,action_id:null,folder:c("MessagingTag").IRIS_MAPPING[j],timestamp:parseInt(i.watermarkTimestamp,10)}});return i.threadKeys.map(function(j){return{action_type:c("MercuryActionType").CHANGE_READ_STATUS,other_user_fbid:j.otherUserFbId,thread_fbid:j.threadFbId,mark_as_read:true,timestamp:parseInt(i.watermarkTimestamp,10),folder:c("MessagingTag").INBOX}})}f.exports={transform:h}}),null);
__d("MercurySyncMarkUnreadTransformer",["MercuryActionType","MessagingTag"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.threadKeys.map(function(j){return{action_type:c("MercuryActionType").CHANGE_READ_STATUS,other_user_fbid:j.otherUserFbId,thread_fbid:j.threadFbId,mark_as_read:false,timestamp:parseInt(i.watermarkTimestamp,10),folder:c("MessagingTag").INBOX}})}f.exports={transform:h}}),null);
__d("MercurySyncMessageDeleteTransformer",["MercuryActionType"],(function a(b,c,d,e,f,g){"use strict";function h(i){return{action_type:c("MercuryActionType").DELETE_MESSAGES,message_ids:i.messageIds,other_user_fbid:i.threadKey.otherUserFbId,thread_fbid:i.threadKey.threadFbId}}f.exports={transform:h}}),null);
__d("PagesMessagingEventType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FLAG:1,CREATE_ADMIN_NOTE:2,PRIORITY_UPDATE:3})}),null);
__d("MercurySyncPagesManagerEventTransformer",["MercuryActionType","PagesMessagingEventType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=JSON.parse(i.jsonBlob),k=j&&j.type;if(!k)return undefined;switch(k){case c("PagesMessagingEventType").FLAG:var l=!!(j&&j.flagData&&j.flagData.state),m={action_type:c("MercuryActionType").CHANGE_FLAG,mark_as_flag:l,other_user_fbid:i.threadKey.otherUserFbId,thread_fbid:i.threadKey.threadFbId};return m;default:return undefined}}f.exports={transform:h}}),null);
__d("MercurySyncParticipantLeftGroupThreadTransformer",["MercuryActionType","MercuryIDs","MercuryLogMessageType","MercurySyncNewMessageTransformer"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=c("MercurySyncNewMessageTransformer").transform(i,j);k.action_type=c("MercuryActionType").LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={removed_participants:[c("MercuryIDs").getParticipantIDFromUserID(j.leftParticipantFbId)]};k.log_message_type=c("MercuryLogMessageType").UNSUBSCRIBE;return k}f.exports={transform:h}}),null);
__d("MercurySyncParticipantsAddedToGroupThreadTransformer",["MercuryActionType","MercuryIDs","MercuryLogMessageType","MercurySyncNewMessageTransformer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=c("MercurySyncNewMessageTransformer").transform(i,j);k.action_type=c("MercuryActionType").LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={added_participants:j.addedParticipants.map(function(l){return c("MercuryIDs").getParticipantIDFromUserID(l.userFbId)})};k.log_message_type=c("MercuryLogMessageType").SUBSCRIBE;return k}f.exports={transform:h}}),null);
__d("MercurySyncRTCEventLogTransformer",["MercuryActionType","MercuryIDs","MercuryLogMessageType","MercurySyncNewMessageTransformer"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=c("MercurySyncNewMessageTransformer").transform(i,j),l=j.messageMetadata.actorFbId,m=l===i?j.messageMetadata.threadKey.otherUserFbId:i,n=j.eventType==="VOICE_EVENT"?c("MercuryLogMessageType").PHONE_CALL:c("MercuryLogMessageType").VIDEO_CALL;k.action_type=c("MercuryActionType").LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={answered:j.duration>0,callee:c("MercuryIDs").getParticipantIDFromUserID(m),caller:c("MercuryIDs").getParticipantIDFromUserID(l)};k.log_message_type=n;return k}f.exports={transform:h}}),null);
__d("MercurySyncReadReceiptTransformer",[],(function a(b,c,d,e,f,g){"use strict";function h(i){var j={watermark:parseInt(i.watermarkTimestampMs,10),action:parseInt(i.actionTimestampMs,10)},k=i.threadKey.otherUserFbId||i.actorFbId,l=i.threadKey.otherUserFbId||i.threadKey.threadFbId,m={roger:{}};m.roger[l]={};m.roger[l][k]=j;return m}f.exports={transform:h}}),null);
__d("MercurySyncReplaceMessageTransformer",["MercuryActionType","MercurySyncNewMessageTransformer"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){j=Object.assign({},j.newMessage,j);return Object.assign(c("MercurySyncNewMessageTransformer").transform(i,j),{action_type:c("MercuryActionType").REPLACE_MESSAGE,replaced_message_id:j.replacedMessageId})}f.exports={transform:h}}),null);
__d("MercurySyncRtcCallDataTransformer",["MercuryActionType"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=i.messageMetadata.threadKey&&i.messageMetadata.threadKey.threadFbId?i.messageMetadata.threadKey.threadFbId.toString():undefined,k=i.initiator&&i.initiator.userFbId?i.initiator.userFbId.toString():undefined;return{action_type:c("MercuryActionType").UPDATE_RTC_CALL_DATA,thread_fbid:j,call_state:i.callState,server_info_data:i.serverInfoData,initiator_fbid:k}}f.exports={transform:h}}),null);
__d("MessagingThreadAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTION_INVALID:"ACTION_INVALID",ACTION_ARCHIVED:"ACTION_ARCHIVED",ACTION_UNARCHIVED:"ACTION_UNARCHIVED"})}),null);
__d("MercurySyncThreadActionTransformer",["MercuryActionType","MessagingThreadAction"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j={action_type:c("MercuryActionType").CHANGE_ARCHIVED_STATUS,thread_fbid:i.threadKey.threadFbId,other_user_fbid:i.threadKey.otherUserFbId,archived:i.action===c("MessagingThreadAction").ACTION_ARCHIVED};return j}f.exports={transform:h}}),null);
__d("MercurySyncThreadAdminsAddToGroupTransformer",["MercuryActionType","MercuryIDs"],(function a(b,c,d,e,f,g){"use strict";function h(i){return{action_type:c("MercuryActionType").ADD_GROUP_ADMINS,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,added_admin_ids:i.addedAdmins.map(function(j){return c("MercuryIDs").getParticipantIDFromUserID(j.userFbId)})}}f.exports={transform:h}}),null);
__d("MercurySyncThreadAdminsRemovedFromGroupTransformer",["MercuryActionType","MercuryIDs"],(function a(b,c,d,e,f,g){"use strict";function h(i){return{action_type:c("MercuryActionType").REMOVE_GROUP_ADMINS,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,removed_admin_ids:i.removedAdminFbIds.map(function(j){return c("MercuryIDs").getParticipantIDFromUserID(j)})}}f.exports={transform:h}}),null);
__d("MercurySyncThreadApprovalModeTransformer",["MercuryActionType","MessengerApprovalModeTypes"],(function a(b,c,d,e,f,g){"use strict";function h(i){return{action_type:c("MercuryActionType").APPROVAL_MODE,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,approval_mode:c("MessengerApprovalModeTypes")[i.mode]}}f.exports={transform:h}}),null);
__d("MessengerApprovalQueueTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REQUESTED:"REQUESTED",REMOVED:"REMOVED"})}),null);
__d("MercurySyncThreadApprovalQueueTransformer",["MercuryActionType","MercuryIDs","MessengerApprovalQueueTypes"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=c("MercuryIDs").getParticipantIDFromUserID(i.recipientFbId);return{action_type:c("MercuryActionType").APPROVAL_QUEUE,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,removed_id:i.action===c("MessengerApprovalQueueTypes").REMOVED?j:null,added_id:i.action===c("MessengerApprovalQueueTypes").REQUESTED?j:null}}f.exports={transform:h}}),null);
__d("MercurySyncThreadDeleteTransformer",["MercuryActionType"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.threadKeys.map(function(j){return{action_type:c("MercuryActionType").DELETE_THREAD,other_user_fbid:j.otherUserFbId,thread_fbid:j.threadFbId}})}f.exports={transform:h}}),null);
__d("MercurySyncThreadJoinableModeTransformer",["MercuryActionType","MessengerJoinableModeType"],(function a(b,c,d,e,f,g){"use strict";function h(i){return{action_type:c("MercuryActionType").JOINABLE_MODE,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,joinable_mode:{mode:c("MessengerJoinableModeType")[i.mode],link:i.link}}}f.exports={transform:h}}),null);
__d("MercurySyncThreadMuteSettingsTransformer",["MercuryActionType"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j={action_type:c("MercuryActionType").CHANGE_MUTE_SETTINGS,thread_fbid:i.threadKey.threadFbId,other_user_fbid:i.threadKey.otherUserFbId,mute_until:parseInt(i.expireTime,10)};return j}f.exports={transform:h}}),null);
__d("MercurySyncThreadNameTransformer",["MercuryActionType","MercuryLogMessageType","MercurySyncNewMessageTransformer"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=c("MercurySyncNewMessageTransformer").transform(i,j);k.action_type=c("MercuryActionType").LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={name:j.name};k.log_message_type=c("MercuryLogMessageType").THREAD_NAME;return k}f.exports={transform:h}}),null);
__d("MercurySyncDispatcher",["MercuryDelayedDispatcher","MercuryGlobalActionType","MercuryPayloadSource","MercuryServerPayloadPreprocessor","MercurySyncThreadAdminsAddToGroupTransformer","MercurySyncThreadAdminsRemovedFromGroupTransformer","MercurySyncAdminTextMessageTransformer","MercurySyncClientPayloadTransformer","MercurySyncDeliveryReceiptTransformer","MercurySyncMarkFolderSeenTransformer","MercurySyncMarkReadTransformer","MercurySyncMarkUnreadTransformer","MercurySyncMessageDeleteTransformer","MercurySyncNewMessageTransformer","MercurySyncReadReceiptTransformer","MercurySyncPagesManagerEventTransformer","MercurySyncParticipantLeftGroupThreadTransformer","MercurySyncParticipantsAddedToGroupThreadTransformer","MercurySyncRTCEventLogTransformer","MercurySyncThreadDeleteTransformer","MercurySyncMarkFolderChangeTransformer","MercurySyncThreadMuteSettingsTransformer","MercurySyncThreadNameTransformer","MercurySyncThreadActionTransformer","MercurySyncReplaceMessageTransformer","MercurySyncThreadJoinableModeTransformer","MercurySyncThreadApprovalModeTransformer","MercurySyncThreadApprovalQueueTransformer","MercurySyncRtcCallDataTransformer","MercurySyncDeltaTypes","MercurySingletonProvider","MontageActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="FOLDER_MONTAGE";i.getForFBID=function(k){return j.getForFBID(k)};i.get=function(){return j.get()};function i(k){this.$MercurySyncDispatcher1=k;this.$MercurySyncDispatcher2=c("MercuryDelayedDispatcher").getForFBID(this.$MercurySyncDispatcher1);this.$MercurySyncDispatcher3=c("MercuryServerPayloadPreprocessor").getForFBID(this.$MercurySyncDispatcher1)}i.prototype.process=function(k){__p&&__p();var l=void 0,m=void 0;switch(k["class"]){case c("MercurySyncDeltaTypes").NewMessage:l=c("MercurySyncNewMessageTransformer").transform(this.$MercurySyncDispatcher1,k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").ReplaceMessage:l=c("MercurySyncReplaceMessageTransformer").transform(this.$MercurySyncDispatcher1,k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").DeliveryReceipt:l=c("MercurySyncDeliveryReceiptTransformer").transform(k);this.$MercurySyncDispatcher3.handleUpdate(l);break;case c("MercurySyncDeltaTypes").MarkRead:l=c("MercurySyncMarkReadTransformer").transform(k);var n=[],o=[];l.forEach(function(p){if(p.action_type===c("MercuryGlobalActionType").MARK_ALL_READ)n.push(p);else o.push(p)});n.length&&this.$MercurySyncDispatcher5(n);o.length&&this.$MercurySyncDispatcher6(o);break;case c("MercurySyncDeltaTypes").MarkUnread:l=c("MercurySyncMarkUnreadTransformer").transform(k);this.$MercurySyncDispatcher6(l);break;case c("MercurySyncDeltaTypes").ParticipantLeftGroupThread:l=c("MercurySyncParticipantLeftGroupThreadTransformer").transform(this.$MercurySyncDispatcher1,k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").ParticipantsAddedToGroupThread:l=c("MercurySyncParticipantsAddedToGroupThreadTransformer").transform(this.$MercurySyncDispatcher1,k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").RTCEventLog:l=c("MercurySyncRTCEventLogTransformer").transform(this.$MercurySyncDispatcher1,k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").ThreadName:l=c("MercurySyncThreadNameTransformer").transform(this.$MercurySyncDispatcher1,k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").ReadReceipt:l=c("MercurySyncReadReceiptTransformer").transform(k);this.$MercurySyncDispatcher3.handleUpdate(l);break;case c("MercurySyncDeltaTypes").AdminTextMessage:l=c("MercurySyncAdminTextMessageTransformer").transform(this.$MercurySyncDispatcher1,k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").MessageDelete:m=k.threadKey.threadFbId;if(m&&k.folder&&k.folder===h)c("MontageActions").requestUpdate(m);else{l=c("MercurySyncMessageDeleteTransformer").transform(k);this.$MercurySyncDispatcher4(l)}break;case c("MercurySyncDeltaTypes").ThreadAction:l=c("MercurySyncThreadActionTransformer").transform(k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").ThreadDelete:l=c("MercurySyncThreadDeleteTransformer").transform(k);this.$MercurySyncDispatcher6(l);break;case c("MercurySyncDeltaTypes").AdminAddedToGroupThread:l=c("MercurySyncThreadAdminsAddToGroupTransformer").transform(k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").AdminRemovedFromGroupThread:l=c("MercurySyncThreadAdminsRemovedFromGroupTransformer").transform(k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").ThreadMuteSettings:l=c("MercurySyncThreadMuteSettingsTransformer").transform(k);this.$MercurySyncDispatcher6([l]);break;case c("MercurySyncDeltaTypes").PagesManagerEvent:l=c("MercurySyncPagesManagerEventTransformer").transform(k);if(!l)return;this.$MercurySyncDispatcher6([l]);break;case c("MercurySyncDeltaTypes").JoinableMode:l=c("MercurySyncThreadJoinableModeTransformer").transform(k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").ApprovalMode:l=c("MercurySyncThreadApprovalModeTransformer").transform(k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").ApprovalQueue:l=c("MercurySyncThreadApprovalQueueTransformer").transform(k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").ClientPayload:l=c("MercurySyncClientPayloadTransformer").transform(k);if(!l)return;this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").GenieMessage:l=c("MercurySyncNewMessageTransformer").transform(this.$MercurySyncDispatcher1,k.deltaNewMessage);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").MontageMessage:m=k.newMessage.messageMetadata.actorFbId;if(m)c("MontageActions").requestUpdate(m);break;case c("MercurySyncDeltaTypes").RtcCallData:l=c("MercurySyncRtcCallDataTransformer").transform(k);this.$MercurySyncDispatcher4(l);break;case c("MercurySyncDeltaTypes").MarkFolderSeen:l=c("MercurySyncMarkFolderSeenTransformer").transform(k);this.$MercurySyncDispatcher5(l);break;case c("MercurySyncDeltaTypes").ThreadFolder:l=c("MercurySyncMarkFolderChangeTransformer").transform(k);this.$MercurySyncDispatcher6([l]);break;default:break}};i.prototype.$MercurySyncDispatcher4=function(k){var l=k.other_user_fbid||k.thread_fbid;this.$MercurySyncDispatcher2.handleUpdateWaitForThread({actions:[k],payload_source:c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE},l)};i.prototype.$MercurySyncDispatcher5=function(k){this.$MercurySyncDispatcher3.handleUpdate({global_actions:k,payload_source:c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE})};i.prototype.$MercurySyncDispatcher6=function(k){this.$MercurySyncDispatcher3.handleUpdate({actions:k,payload_source:c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE})};var j=new(c("MercurySingletonProvider"))(i);f.exports=i}),null);
__d("MercurySyncDataFetcherImpl",["errorCode","Promise","AsyncResponse","Bootloader","FBIDCheck","MercuryPayloadSource","MessagingConfig","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("MessagingConfig").syncFetchRequestTimeoutMs;function j(p,q){return new(c("Promise"))(function(r,s){k(p,q,r,s,0)})}function k(p,q,r,s,t){__p&&__p();if(t>c("MessagingConfig").syncFetchRetries){s();return}var u=t===0?0:c("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(c("MessagingConfig").syncFetchTimeoutMultiplier,t);c("setTimeoutAcrossTransitions")(function(){__p&&__p();var v=false,w=function w(x){__p&&__p();var y;if(v)return;if(x.errors&&x.errors.length>0)(function(){var z=x.errors[0].message;if(z)c("Bootloader").loadModules(["MessengerWebGraphQLTypedLogger","MessengerWebGraphQLEvent"],function(A,B){new A().setErrorMessage(z).setEvent(B.DFF_FAILURE).log()},"MercurySyncDataFetcherImpl")})();v=true;k(p,q,r,s,t+1)};c("Bootloader").loadModules(["messengerGraphQLThreadlistFetcherRe"],function(x){return x.fetchAll(p,[q],!c("FBIDCheck").isUser_deprecated(p)).then(function(y){v=true;r(new(c("AsyncResponse"))(null,babelHelpers["extends"]({},y,{payload_source:c("MercuryPayloadSource").SERVER_INVALIDATE_GLOBAL_STATE})))},w)},"MercurySyncDataFetcherImpl")},u)}function l(p,q,r){return new(c("Promise"))(function(s,t){m(p,q,r,s,t,0)})}function m(p,q,r,s,t,u){__p&&__p();if(u>c("MessagingConfig").syncFetchRetries){t();return}var v=u===0?0:c("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(c("MessagingConfig").syncFetchTimeoutMultiplier,u);c("setTimeoutAcrossTransitions")(function(){var w=false,x=function x(y){if(w)return;w=true;m(p,q,r,s,t,u+1)};c("Bootloader").loadModules(["messengerThreadDFFFetcherRe"],function(y){return y.fetch(p,{id:q,limit:r},!c("FBIDCheck").isUser_deprecated(p)).then(function(z){w=true;s(new(c("AsyncResponse"))(null,babelHelpers["extends"]({},z,{payload_source:c("MercuryPayloadSource").SERVER_INVALIDATE_THREAD_STATE})))},x)},"MercurySyncDataFetcherImpl")},v)}function n(p,q,r){return new(c("Promise"))(function(s,t){o(p,q,r,s,t,0)})}function o(p,q,r,s,t,u){__p&&__p();if(u>c("MessagingConfig").syncFetchRetries){t();return}var v=u===0?0:c("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(c("MessagingConfig").syncFetchTimeoutMultiplier,u);c("setTimeoutAcrossTransitions")(function(){var w=false,x=function x(y){if(w)return;w=true;o(p,q,r,s,t,u+1)};c("Bootloader").loadModules(["messengerMessageDFFFetcherRe"],function(y){return y.fetch(p,{thread_id:q,message_id:r},!c("FBIDCheck").isUser_deprecated(p)).then(function(z){w=true;s(new(c("AsyncResponse"))(null,babelHelpers["extends"]({},z)))},x)},"MercurySyncDataFetcherImpl")},v)}f.exports={fetchThreadlistFromGraphQL:j,fetchThreadFromGraphQL:l,fetchMessageFromGraphQL:n}}),null);
__d("MercurySyncDataFetcher",["Promise","LogHistory","MessagingConfig","MercurySyncDataFetcherImpl","WebGraphQLConfig","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("LogHistory").getInstance("mercury_sync_data_fetcher");function i(){var n=0;for(var o=0;o<c("MessagingConfig").syncFetchRetries;o++){var p=o===0?0:c("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(c("MessagingConfig").syncFetchTimeoutMultiplier,o);n+=p+c("MessagingConfig").syncFetchRequestTimeoutMs}return n}var j=i();function k(n,o){__p&&__p();var p=null;return new(c("Promise"))(function(q,r){var s=function s(t){h.error("fetch_threadlist_graphql_timeout",JSON.stringify({timeout:j}));clearTimeout(p);r(t)};p=c("setTimeoutAcrossTransitions")(s,Math.max(j,c("WebGraphQLConfig").timeout*c("MessagingConfig").syncFetchRetries));c("MercurySyncDataFetcherImpl").fetchThreadlistFromGraphQL(n,o).done(function(t){clearTimeout(p);q(t)},s)})}function l(n,o,p){return new(c("Promise"))(function(q,r){var s=function s(u){h.error("fetch_thread_graphql_timeout",JSON.stringify({timeout:j}));r(u)},t=c("setTimeoutAcrossTransitions")(s,j);c("MercurySyncDataFetcherImpl").fetchThreadFromGraphQL(n,o,p).done(function(u){clearTimeout(t);q(u)},s)})}function m(n,o,p){return new(c("Promise"))(function(q,r){var s=function s(u){h.error("fetch_message_graphql_timeout",JSON.stringify({timeout:j}));r(u)},t=c("setTimeoutAcrossTransitions")(s,j);c("MercurySyncDataFetcherImpl").fetchMessageFromGraphQL(n,o,p).done(function(u){clearTimeout(t);q(u)},s)})}f.exports={fetchThreadlistFromGraphQL:k,fetchThreadFromGraphQL:l,fetchMessageFromGraphQL:m,getMaxTimeoutMs:i}}),null);
__d("MercurySyncDFFDataFetcher",["Promise","MercuryMessages","MercuryThreads","MercuryThreadIDMap","MercurySingletonProvider","MercurySyncDataFetcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){this.$MercurySyncDFFDataFetcher1=j;this.__messages=c("MercuryMessages").getForFBID(this.$MercurySyncDFFDataFetcher1);this.__threads=c("MercuryThreads").getForFBID(this.$MercurySyncDFFDataFetcher1);this.__threadIDMap=c("MercuryThreadIDMap").getForFBID(this.$MercurySyncDFFDataFetcher1)}h.getForFBID=function(j){return i.getForFBID(j)};h.get=function(){return i.get()};h.prototype.fetchInvalidateGlobalStateForGraphQL=function(j){return c("MercurySyncDataFetcher").fetchThreadlistFromGraphQL(this.$MercurySyncDFFDataFetcher1,j)};h.prototype.fetchInvalidateThreadState=function(j,k){var l=11,m=3,n=j||k,o=this.__threadIDMap.getClientIDFromServerIDNow(n);if(!o)return c("Promise").resolve({getPayload:function q(){return{}}});var p=m+this.__messages.getCurrentlyLoadedMessages(o).length;if(!n)return c("Promise").resolve({getPayload:function q(){return{}}});return c("MercurySyncDataFetcher").fetchThreadFromGraphQL(this.$MercurySyncDFFDataFetcher1,n,Math.max(p,l))};h.prototype.fetchInvalidateMessage=function(j,k,l){var m=j||k;if(!m)return c("Promise").resolve({getPayload:function n(){return{}}});return c("MercurySyncDataFetcher").fetchMessageFromGraphQL(this.$MercurySyncDFFDataFetcher1,m,l)};var i=new(c("MercurySingletonProvider"))(h);f.exports=h}),null);
__d("MercurySyncForcedFetchHandler",["Promise","MercurySingletonProvider","MercurySyncDFFDataFetcher","MercuryMessages","MercuryThreadIDMap"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k){return{getPayload:function l(){return{sequence_id:k}}}}i.getForFBID=function(k){return j.getForFBID(k)};i.get=function(){return j.get()};function i(k){this.$MercurySyncForcedFetchHandler1=k;this.$MercurySyncForcedFetchHandler2=c("MercuryMessages").getForFBID(this.$MercurySyncForcedFetchHandler1);this.$MercurySyncForcedFetchHandler3=c("MercuryThreadIDMap").getForFBID(this.$MercurySyncForcedFetchHandler1);this.$MercurySyncForcedFetchHandler4=c("MercurySyncDFFDataFetcher").getForFBID(this.$MercurySyncForcedFetchHandler1)}i.prototype.processMessageDFF=function(k,l,m,n){if(n){var o=l.otherUserFbId!==undefined?l.otherUserFbId.toString():l.threadFbId.toString(),p=this.$MercurySyncForcedFetchHandler3.getClientIDFromServerIDNow(o);if(p===undefined)return c("Promise").resolve(h(k));var q=this.$MercurySyncForcedFetchHandler2.getMessagesFromIDs([m]);if(q.length===0)return c("Promise").resolve(h(k))}return this.$MercurySyncForcedFetchHandler4.fetchInvalidateMessage(l.otherUserFbId,l.threadFbId,m)};i.prototype.processThreadDFF=function(k,l,m){if(m){var n=l.otherUserFbId!==undefined?l.otherUserFbId.toString():l.threadFbId.toString(),o=this.$MercurySyncForcedFetchHandler3.getClientIDFromServerIDNow(n);if(o===undefined)return c("Promise").resolve(h(k))}return this.$MercurySyncForcedFetchHandler4.fetchInvalidateThreadState(l.otherUserFbId,l.threadFbId)};i.prototype.processGlobalDFFForGraphQL=function(k){return this.$MercurySyncForcedFetchHandler4.fetchInvalidateGlobalStateForGraphQL(k)};var j=new(c("MercurySingletonProvider"))(i);f.exports=i}),null);
__d("MercurySyncTopicType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DELTA:"delta",DELTAFLOW:"deltaflow",DELTAFLOWREJECT:"deltaflowreject"})}),null);
__d("MercurySyncDeltaHandler",["invariant","Arbiter","AsyncResponse","ChannelConstants","ChatReliabilityInstrumentation","CurrentUser","FBIDCheck","LogHistory","MercuryConfig","MessagingConfig","MercuryDelayedDispatcher","MercuryPayloadSource","MercurySyncChannelMonitor","MercurySyncConstants","MercurySyncDeltaHolder","MercurySyncDeltaTypes","MercurySyncDispatcher","MercurySyncForcedFetchHandler","MercurySyncHolesTypedLogger","MercuryServerPayloadPreprocessor","MercurySyncTopicType","MercurySingletonProvider","MercuryThreadlistConstants","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("LogHistory").getInstance("mercury_sync_delta_handler"),j=c("MessagingConfig").syncFetchRetries||0;k.getForFBID=function(m){return l.getForFBID(m)};k.get=function(){return l.get()};function k(m){__p&&__p();this.$MercurySyncDeltaHandler1=m;this.$MercurySyncDeltaHandler2=c("MercurySyncDispatcher").getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler3=c("MercurySyncForcedFetchHandler").getForFBID(this.$MercurySyncDeltaHandler1);this.__payloadPreprocessor=c("MercuryServerPayloadPreprocessor").getForFBID(this.$MercurySyncDeltaHandler1);this.__delayedDispatcher=c("MercuryDelayedDispatcher").getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler4=c("MercurySyncDeltaHolder").getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler5=false;this.$MercurySyncDeltaHandler11=c("MercurySyncChannelMonitor").getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler6=[];this.$MercurySyncDeltaHandler13=0;i.debug("constructor",JSON.stringify({fbid:this.$MercurySyncDeltaHandler1}));c("Arbiter").subscribe("MercurySyncDeltaHandler/initSeqID",function(n,o){__p&&__p();i.debug("initSeqID",JSON.stringify(o));var p=o&&o.seqID,m=o&&o.fbid;if(!m)return;if(m!==this.$MercurySyncDeltaHandler1)return;if(p)this.$MercurySyncDeltaHandler4.updateLastSeqID(p);else this.$MercurySyncDeltaHandler4.updateLastSeqID(0);this.$MercurySyncDeltaHandler15();this.$MercurySyncDeltaHandler8=c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("deltaflow"),function(n,o){if(!this.$MercurySyncDeltaHandler14)this.$MercurySyncDeltaHandler15()}.bind(this))}.bind(this))}k.prototype.$MercurySyncDeltaHandler15=function(){__p&&__p();i.debug("setUpSubscriptionsToRealTimeUpdates",JSON.stringify({fbid:this.$MercurySyncDeltaHandler1}));this.$MercurySyncDeltaHandler7=c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("delta"),function(m,n){__p&&__p();var o=n&&n.obj&&n.obj.queue;if(o)if(o.toString()!==this.$MercurySyncDeltaHandler1)return;var p=n&&n.obj&&n.obj.delta,q=n&&n.obj&&n.obj.iseq;if(!p||!q)return;this.$MercurySyncDeltaHandler16(q,c("MercurySyncTopicType").DELTA);this.$MercurySyncDeltaHandler17(q,p);this.$MercurySyncDeltaHandler4.push(q,p);this.$MercurySyncDeltaHandler18()}.bind(this));this.$MercurySyncDeltaHandler12=c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("deltaflowreject"),function(m,n){var o=n&&n.obj&&n.obj.queue;if(o)if(o.toString()!==this.$MercurySyncDeltaHandler1)return;if(this.$MercurySyncDeltaHandler14)this.$MercurySyncDeltaHandler19()}.bind(this));this.$MercurySyncDeltaHandler9=c("Arbiter").subscribe(c("ChannelConstants").getArbiterType(c("ChannelConstants").FAKE_DFF),function(m,n){var o=n&&n.obj&&n.obj.queue;if(o&&o.toString()!==this.$MercurySyncDeltaHandler1)return;var p=n&&n.obj&&n.obj.delta;if(!p)return;this.$MercurySyncDeltaHandler6.push(p);this.$MercurySyncDeltaHandler18()}.bind(this));this.$MercurySyncDeltaHandler11.setupSubscriptions();this.$MercurySyncDeltaHandler14=true};k.prototype.$MercurySyncDeltaHandler18=function(){__p&&__p();if(this.$MercurySyncDeltaHandler5)return;if(this.$MercurySyncDeltaHandler6.length>0){var m=this.$MercurySyncDeltaHandler6.shift();this.$MercurySyncDeltaHandler20(this.$MercurySyncDeltaHandler4.getLastSeqID(),m);this.$MercurySyncDeltaHandler18()}var n=this.$MercurySyncDeltaHandler4.peek();if(!n)return;var o=n-this.$MercurySyncDeltaHandler4.getLastSeqID();if(o===1){var p=this.$MercurySyncDeltaHandler4.pop();if(!p)return;var q=p.seqID,r=p.delta;this.$MercurySyncDeltaHandler20(q,r);this.$MercurySyncDeltaHandler18()}else if(o>1)this.$MercurySyncDeltaHandler21();else{this.$MercurySyncDeltaHandler4.pop();this.$MercurySyncDeltaHandler18()}};k.prototype.$MercurySyncDeltaHandler20=function(m,n){__p&&__p();this.$MercurySyncDeltaHandler4.updateLastSeqID(m);if(n["class"]===c("MercurySyncDeltaTypes").ForcedFetch){i.debug("DFF",JSON.stringify(n));if(n.threadKey!==undefined&&n.messageId===undefined)this.$MercurySyncDeltaHandler22(m,n);else if(n.threadKey!==undefined&&n.messageId!==undefined)this.$MercurySyncDeltaHandler23(m,n);else{c("ChatReliabilityInstrumentation").logDFF_DELTA_INIT(JSON.stringify(n));this.$MercurySyncDeltaHandler24(m)}}else this.$MercurySyncDeltaHandler2.process(n)};k.prototype.$MercurySyncDeltaHandler21=function(){var m=JSON.stringify({$MercurySyncDeltaHandler25:this.$MercurySyncDeltaHandler4.getLastSeqID(),nextSeqID:this.$MercurySyncDeltaHandler4.peek()});i.warn("hole",m);var n=this.$MercurySyncDeltaHandler4.peek();!!n||h(0);var o=n-1;c("ChatReliabilityInstrumentation").logDFF_HOLE_INIT(m);this.$MercurySyncDeltaHandler24(o)};k.prototype.$MercurySyncDeltaHandler26=function(m,n,o,p){__p&&__p();!this.$MercurySyncDeltaHandler5||h(0);this.$MercurySyncDeltaHandler5=true;i.debug("_scheduleDataFetch:start",JSON.stringify({seqID:m}));n().done(function(q){i.debug("_scheduleDataFetch:success",JSON.stringify({seqID:m}));o(m,q);this.$MercurySyncDeltaHandler5=false;this.$MercurySyncDeltaHandler18()}.bind(this),function(q){i.error("_scheduleDataFetch:failure",JSON.stringify({seqID:m}));p(m,q);this.$MercurySyncDeltaHandler5=false;this.$MercurySyncDeltaHandler18()}.bind(this))};k.prototype.$MercurySyncDeltaHandler24=function(m){__p&&__p();if(!c("CurrentUser").isLoggedInNow())return;this.$MercurySyncDeltaHandler26(undefined,function(){var n={limit:c("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT+1,folder:"inbox",tags:["INBOX"],timestamp:null,offset:c("MercuryThreadlistConstants").RECENT_THREAD_OFFSET,filter:null,includeDeliveryReceipts:false,includeSeqID:true};return this.$MercurySyncDeltaHandler3.processGlobalDFFForGraphQL(n)}.bind(this),function(m,n){var o=n.getPayload();this.__payloadPreprocessor.handleUpdate(o);if(o.sequence_id){i.debug("_initiateGlobalDFF:success",JSON.stringify({seqID:o.sequence_id}));this.$MercurySyncDeltaHandler4.updateLastSeqID(o.sequence_id)}this.$MercurySyncDeltaHandler13=0;c("Arbiter").inform(c("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER)}.bind(this),function(n,o){__p&&__p();i.error("_initiateGlobalDFF:failure","");if(this.$MercurySyncDeltaHandler13>=j&&!c("gkx")("AT64J9YhwkyrHxbLybCQFLyzjkGHk3oI2YIajEOuOFur_lZPJRPR_CognCbUbaH7Kn5DndmAaaKKt6FL7dls2Aba")||o){if(this.$MercurySyncDeltaHandler14)this.$MercurySyncDeltaHandler19();if(c("gkx")("AT6T2zrYpHKRdiC2jWw79jSLuG2Ai8UAXBl4mf7UaSrzuZmkv1aboo5IByEaBzwrmKZ7i_TneQib5Fe9fVTNdQMv"))this.$MercurySyncDeltaHandler4.updateLastSeqID(m)}else{this.$MercurySyncDeltaHandler13++;c("Arbiter").inform(c("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY);i.debug("_initiateGlobalDFF:retry","");this.$MercurySyncDeltaHandler5=false;this.$MercurySyncDeltaHandler24(m)}}.bind(this))};k.prototype.$MercurySyncDeltaHandler22=function(m,n){this.$MercurySyncDeltaHandler26(m,function(){return this.$MercurySyncDeltaHandler3.processThreadDFF(m,n.threadKey,n.isLazy)}.bind(this),function(m,o){this.__payloadPreprocessor.handleUpdate(o.getPayload());this.$MercurySyncDeltaHandler4.updateLastSeqID(m)}.bind(this),function(){i.error("_initiateThreadDFF:failure",JSON.stringify(n));var o=babelHelpers["extends"]({},n);delete o.threadKey;this.$MercurySyncDeltaHandler4.updateLastSeqID(m-1);this.$MercurySyncDeltaHandler4.push(m,o)}.bind(this))};k.prototype.$MercurySyncDeltaHandler23=function(m,n){__p&&__p();this.$MercurySyncDeltaHandler26(m,function(){return this.$MercurySyncDeltaHandler3.processMessageDFF(m,n.threadKey,n.messageId,n.isLazy)}.bind(this),function(m,o){var p=o.getPayload(),q=p.other_user_fbid?p.other_user_fbid:p.thread_fbid,r=[babelHelpers["extends"]({},p)],s=c("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE;this.__delayedDispatcher.handleUpdateWaitForThread({actions:r,payload_source:s},q);this.$MercurySyncDeltaHandler4.updateLastSeqID(m)}.bind(this),function(){i.error("_initiateMessageDFF:failure",JSON.stringify(n));var o=babelHelpers["extends"]({},n);delete o.messageId;this.$MercurySyncDeltaHandler4.updateLastSeqID(m-1);this.$MercurySyncDeltaHandler4.push(m,o)}.bind(this))};k.prototype.$MercurySyncDeltaHandler16=function(m,n){var o=m-this.$MercurySyncDeltaHandler4.getLastSeqID();if(o!==1&&o!==0){if(!c("MercuryConfig").WWWSyncHolesLogging)return;new(c("MercurySyncHolesTypedLogger"))().setSeqID(m).setDifference(o).setTopicType(n).log()}};k.prototype.$MercurySyncDeltaHandler17=function(m,n){switch(n["class"]){case c("MercurySyncDeltaTypes").NewMessage:i.debug("message_delta",JSON.stringify({seqID:m,threadKey:n.messageMetadata.threadKey,messageId:n.messageMetadata.messageId}));break;case c("MercurySyncDeltaTypes").ReadReceipt:i.debug("read_receipt_delta",JSON.stringify({seqID:m,threadKey:n.threadKey,actionTimestampMs:n.actionTimestampMs,watermarkTimestampMs:n.watermarkTimestampMs}));break;case c("MercurySyncDeltaTypes").DeliveryReceipt:i.debug("delivery_receipt_delta",JSON.stringify({seqID:m,deliveredWatermarkTimestampMs:n.deliveredWatermarkTimestampMs,messageIds:n.messageIds}));break}};k.prototype.$MercurySyncDeltaHandler19=function(){this.$MercurySyncDeltaHandler14=false;c("Arbiter").unsubscribe(this.$MercurySyncDeltaHandler7);c("Arbiter").unsubscribe(this.$MercurySyncDeltaHandler9);c("Arbiter").unsubscribe(this.$MercurySyncDeltaHandler12);this.$MercurySyncDeltaHandler11.killSubscriptions();c("Arbiter").inform(c("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE)};var l=new(c("MercurySingletonProvider"))(k);f.exports=k}),null);
__d("MercurySyncEnvironment",["Arbiter","ChannelInitialData","CurrentUser","MercurySyncDeltaHandler"],(function a(b,c,d,e,f,g){"use strict";function h(){if(!c("ChannelInitialData").channelConfig)return;c("MercurySyncDeltaHandler").get();c("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:c("CurrentUser").getAccountID(),seqID:c("ChannelInitialData").channelConfig.sequenceId})}f.exports={setUp:h}}),null);
__d("MercuryFolders",["MercuryFoldersConfig","MessagingTag"],(function a(b,c,d,e,f,g){__p&&__p();var h=[c("MessagingTag").INBOX,c("MessagingTag").PENDING,c("MessagingTag").OTHER,c("MessagingTag").ACTION_ARCHIVED],i={getSupportedFolders:function j(){return h.filter(function(k){if(k===c("MessagingTag").PENDING)return!c("MercuryFoldersConfig").hide_message_filtered;else if(k===c("MessagingTag").OTHER)return!c("MercuryFoldersConfig").hide_message_requests;return true}).concat()},getFromMeta:function j(k){var l=k.folder;if(k.is_archived)l=c("MessagingTag").ACTION_ARCHIVED;return l}};f.exports=i}),null);
__d("MercuryUnreadState",["invariant","MercuryFolders","LogHistory","KeyedCallbackManager","MercuryActionType","MercuryDispatcher","MercuryGlobalActionType","MercurySingletonProvider","MercuryThreadlistConstants","MercuryThreadIDMap","MessagingTag","MercuryServerRequests","MercuryThreadInformer","MercuryThreads","createObjectFrom"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=(c("MercuryFolders").getSupportedFolders()||[]).filter(function(p){return p!==c("MessagingTag").ACTION_ARCHIVED}),j="unread_thread_hash",k="unseen_thread_list",l=c("MercuryThreadlistConstants").MAX_UNREAD_COUNT,m=c("LogHistory").getInstance("mercury_unread_state");n.getForFBID=function(p){return o.getForFBID(p)};n.get=function(){return o.get()};function n(p){__p&&__p();this.$MercuryUnreadState1=p;this.$MercuryUnreadState2=c("MercuryServerRequests").getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState3=c("MercuryThreadIDMap").getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState4=c("MercuryThreadInformer").getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState5=c("MercuryThreads").getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState6=c("MercuryDispatcher").getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState7={};this.$MercuryUnreadState8={};this.$MercuryUnreadState9={};this.$MercuryUnreadState10={};this.$MercuryUnreadState11={};i.forEach(function(q){this.$MercuryUnreadState9[q]=0;this.$MercuryUnreadState10[q]=false;this.$MercuryUnreadState11[q]=new(c("KeyedCallbackManager"))()}.bind(this));this.$MercuryUnreadState6.subscribe("update-unread",this.$MercuryUnreadState12.bind(this));this.$MercuryUnreadState6.subscribe("update-thread-ids",function(q,r){this.$MercuryUnreadState13(r)}.bind(this))}n.prototype.getUnreadCount=function(p){if(this.exceedsMaxCount(p)){m.error("unguarded_unread_count_fetch","{}");return 0}return this.$MercuryUnreadState14(p)};n.prototype.exceedsMaxCount=function(p){return this.$MercuryUnreadState10[p]||this.$MercuryUnreadState14(p)>l};n.prototype.markFolderAsRead=function(p){if(this.$MercuryUnreadState10[p]||this.$MercuryUnreadState14(p)>0)this.$MercuryUnreadState2.markFolderAsRead(p)};n.prototype.getIsThreadUnread=function(p,q){var r=q||c("MessagingTag").INBOX,s=this.$MercuryUnreadState15(r);return!!(s&&s[p])};n.prototype.$MercuryUnreadState16=function(p,q){this.$MercuryUnreadState11[p].setResource(j,q);this.$MercuryUnreadState11[p].setResource(k,Object.keys(q))};n.prototype.$MercuryUnreadState17=function(p,q){var r=this.$MercuryUnreadState11[p].executeOrEnqueue(j,q),s=this.$MercuryUnreadState11[p].getUnavailableResources(r);if(s.length)this.$MercuryUnreadState2.fetchUnreadThreadIDs(p)};n.prototype.$MercuryUnreadState15=function(p){return this.$MercuryUnreadState11[p].getResource(j)};n.prototype.$MercuryUnreadState14=function(p){var q=this.$MercuryUnreadState11[p].getResource(k);if(q)return q.length;else return this.$MercuryUnreadState9[p]};n.prototype.$MercuryUnreadState12=function(p,q){__p&&__p();var r=void 0;(q.unread_thread_fbids||[]).forEach(function(s){__p&&__p();r=s.folder;if(!this.$MercuryUnreadState18(r))return;var t=s.thread_fbids||[];t=t.concat(s.other_user_fbids||[]);var u=this.$MercuryUnreadState19(t);this.$MercuryUnreadState16(r,c("createObjectFrom")(u,true));if(u.length>l)this.$MercuryUnreadState10[r]=true;this.$MercuryUnreadState4.updatedUnreadState()}.bind(this));(q.message_counts||[]).forEach(function(s){__p&&__p();if(s.unread_count===undefined)return;r=s.folder;if(s.unread_count>l){this.$MercuryUnreadState10[r]=true;this.$MercuryUnreadState16(r,{});this.$MercuryUnreadState4.updatedUnreadState()}else{this.$MercuryUnreadState9[r]=s.unread_count;if(this.$MercuryUnreadState9[r]===0)this.$MercuryUnreadState16(r,{});this.$MercuryUnreadState4.updatedUnreadState()}}.bind(this));(q.global_actions||[]).forEach(function(s){if(s.action_type===c("MercuryGlobalActionType").MARK_ALL_READ)this.$MercuryUnreadState20(s.folder,s.timestamp)}.bind(this));(q.actions||[]).forEach(function(s){__p&&__p();var t=c("MercuryActionType"),u=s.other_user_fbid?s.other_user_fbid:s.thread_fbid,v=s.thread_id?s.thread_id:u;if(s.action_type==t.DELETE_THREAD)i.forEach(function(x){this.$MercuryUnreadState21(x,v)}.bind(this));else if(s.action_type==t.CHANGE_ARCHIVED_STATUS||s.action_type==t.CHANGE_FOLDER){var w=this.$MercuryUnreadState5.getThreadMetaNow(s.thread_id);!!w||h(0);r=c("MercuryFolders").getFromMeta(w);if(this.$MercuryUnreadState18(r)&&w.unread_count>0)this.$MercuryUnreadState22(r,v);i.forEach(function(x){if(x!=r)this.$MercuryUnreadState21(x,v)}.bind(this))}else{r=this.$MercuryUnreadState23(s);if(!this.$MercuryUnreadState18(r))return;if(s.action_type==t.CHANGE_READ_STATUS)if(s.mark_as_read)this.$MercuryUnreadState21(r,v,s.timestamp);else this.$MercuryUnreadState22(r,v,s.timestamp);else if(s.action_type==t.USER_GENERATED_MESSAGE||s.action_type==t.LOG_MESSAGE)if(s.is_unread)this.$MercuryUnreadState22(r,v,s.timestamp)}}.bind(this))};n.prototype.$MercuryUnreadState22=function(p,q,r){if(this.$MercuryUnreadState10[p])return;this.$MercuryUnreadState17(p,function(s){var t=this.$MercuryUnreadState7[p]||0,u=this.$MercuryUnreadState8[q]||0,v=r||Number.POSITIVE_INFINITY;if(v>=t&&v>=u&&!s[q]){s[q]=r||0;this.$MercuryUnreadState16(p,s);this.$MercuryUnreadState4.updatedUnreadState()}}.bind(this))};n.prototype.$MercuryUnreadState21=function(p,q,r){__p&&__p();if(this.$MercuryUnreadState10[p])return;this.$MercuryUnreadState17(p,function(s){__p&&__p();if(r){var t=this.$MercuryUnreadState8[q];if(!t||t<r)this.$MercuryUnreadState8[q]=r}var u=s[q];if(r&&typeof u=="number"&&r<u)return;if(q in s){delete s[q];this.$MercuryUnreadState16(p,s);this.$MercuryUnreadState4.updatedUnreadState()}}.bind(this))};n.prototype.$MercuryUnreadState20=function(p,q){this.$MercuryUnreadState10[p]=false;this.$MercuryUnreadState16(p,{});this.$MercuryUnreadState7[p]=Math.max(this.$MercuryUnreadState7[p]||0,q||0);this.$MercuryUnreadState4.updatedUnreadState()};n.prototype.$MercuryUnreadState19=function(p){return p.map(this.$MercuryUnreadState3.convertThreadIDIfAvailable,this.$MercuryUnreadState3)};n.prototype.$MercuryUnreadState13=function(p){__p&&__p();i.forEach(function(q){__p&&__p();var r=this.$MercuryUnreadState15(q);if(!r)return;for(var s in p){var t=p[s];if(r[s]){r[t]=r[s];delete r[s]}}this.$MercuryUnreadState16(q,r)}.bind(this))};n.prototype.$MercuryUnreadState23=function(p){var q=p.thread_id?this.$MercuryUnreadState5.getThreadMetaNow(p.thread_id):null;return q?c("MercuryFolders").getFromMeta(q):p.folder?p.folder:""};n.prototype.$MercuryUnreadState18=function(p){return!!p&&i.includes(p)};var o=new(c("MercurySingletonProvider"))(n);f.exports=n}),null);
__d("MercuryUnseenState",["MercuryFolders","KeyedCallbackManager","LogHistory","MercuryActionType","MercuryDispatcher","MercuryGlobalActionType","MercurySingletonProvider","MercuryThreadIDMap","MercuryThreadInfo","MercuryThreadlistConstants","MessagingTag","MercuryServerRequests","MercuryThreadInformer","MercuryThreads","createObjectFrom","isEmpty"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MercuryThreadlistConstants").MAX_UNSEEN_COUNT,i="unseen_thread_hash",j="unseen_thread_list",k=c("LogHistory").getInstance("mercury_unseen_state");l.getForFBID=function(n){return m.getForFBID(n)};l.get=function(){return m.get()};function l(n){__p&&__p();this.$MercuryUnseenState2=n;this.$MercuryUnseenState7=c("MercuryServerRequests").getForFBID(this.$MercuryUnseenState2);this.$MercuryUnseenState8=c("MercuryThreadIDMap").getForFBID(this.$MercuryUnseenState2);this.$MercuryUnseenState10=c("MercuryThreads").getForFBID(this.$MercuryUnseenState2);this.$MercuryUnseenState9=c("MercuryThreadInformer").getForFBID(this.$MercuryUnseenState2);this.$MercuryUnseenState1=c("MercuryDispatcher").getForFBID(this.$MercuryUnseenState2);this.$MercuryUnseenState3=0;this.$MercuryUnseenState4=0;this.$MercuryUnseenState5=false;this.$MercuryUnseenState6=false;this.$MercuryUnseenState11=new(c("KeyedCallbackManager"))();this.$MercuryUnseenState1.subscribe("update-unseen",function(o,p){this.$MercuryUnseenState12(p)}.bind(this));this.$MercuryUnseenState1.subscribe("update-thread-ids",function(o,p){this.$MercuryUnseenState13(p)}.bind(this))}l.prototype.getUnseenCount=function(){if(this.exceedsMaxCount()){k.error("unguarded_unseen_count_fetch","{}");return 0}return this.$MercuryUnseenState14()};l.prototype.exceedsMaxCount=function(){return this.$MercuryUnseenState5||this.$MercuryUnseenState14()>h};l.prototype.markAsSeen=function(){var n=this.$MercuryUnseenState14();if(n===null)this.$MercuryUnseenState6=true;else if(n>0||this.$MercuryUnseenState5){this.$MercuryUnseenState7.markSeen();this.$MercuryUnseenState15(this.$MercuryUnseenState7.getLastActionTimestamp(),[])}};l.prototype.$MercuryUnseenState16=function(n,o){var p;this.$MercuryUnseenState17((p={},p[n]=0,p),o)};l.prototype.$MercuryUnseenState18=function(n){this.$MercuryUnseenState11.setResource(i,n);this.$MercuryUnseenState11.setResource(j,Object.keys(n))};l.prototype.$MercuryUnseenState19=function(n){var o=this.$MercuryUnseenState11.executeOrEnqueue(i,n),p=this.$MercuryUnseenState11.getUnavailableResources(o);if(p.length)this.$MercuryUnseenState7.fetchUnseenThreadIDs()};l.prototype.$MercuryUnseenState20=function(){return this.$MercuryUnseenState11.getResource(i)};l.prototype.$MercuryUnseenState14=function(){var n=this.$MercuryUnseenState11.getResource(j);if(n)return n.length;else return this.$MercuryUnseenState3};l.prototype.$MercuryUnseenState12=function(n){__p&&__p();var o,p=this,q=this.$MercuryUnseenState21(n);if(n.unseen_thread_fbids)n.unseen_thread_fbids.forEach(function(r){if(r.folder!=c("MessagingTag").INBOX)return;var s=(r.thread_fbids||[]).concat(r.other_user_fbids||[]),t=this.$MercuryUnseenState22(s),u=q.seen_timestamp?q.seen_timestamp:this.$MercuryUnseenState4;this.$MercuryUnseenState15(u,t);if(q.unseen_count>h)this.$MercuryUnseenState5=true}.bind(this));else if(q.seen_timestamp!==undefined){this.$MercuryUnseenState4=q.seen_timestamp;if(q.unseen_count>h){this.$MercuryUnseenState5=true;this.$MercuryUnseenState18({})}else{this.$MercuryUnseenState3=q.unseen_count;if(this.$MercuryUnseenState3===0)this.$MercuryUnseenState18({})}}else{var o=function(){__p&&__p();var r;(n.global_actions||[]).forEach(function(x){if(x.action_type===c("MercuryGlobalActionType").MARK_ALL_SEEN)this.$MercuryUnseenState15(x.timestamp,[])}.bind(p));if(p.$MercuryUnseenState5)return{v:void 0};var s=n.actions;if(!s||!s.length)return{v:void 0};var t={},u={},v=function v(w){__p&&__p();var x=s[w],y=x.action_type,z=x.other_user_fbid?x.other_user_fbid:x.thread_fbid,A=x.thread_id?x.thread_id:z;if(y===c("MercuryActionType").MARK_THREAD_SEEN){p.$MercuryUnseenState16(A,x.persistent);return"continue"}if(!p.$MercuryUnseenState23(x))return"continue";if(y===c("MercuryActionType").USER_GENERATED_MESSAGE||y===c("MercuryActionType").LOG_MESSAGE){var B=t[A]?x.timestamp>t[A]:false,C=B||!t[A];if(x.is_unread&&C)p.$MercuryUnseenState10.getThreadMeta(A,function(D){if(!c("MercuryThreadInfo").isMuted(D)&&!(D&&D.last_read_timestamp>=x.timestamp))t[A]=x.timestamp})}else if(y===c("MercuryActionType").CHANGE_READ_STATUS&&x.mark_as_read)u[A]=x.timestamp};for(var w=0;w<s.length;w++){var r=v(w);if(r==="continue")continue}p.$MercuryUnseenState24(t);p.$MercuryUnseenState17(u)}();if(typeof o==="object")return o.v}if(this.$MercuryUnseenState6){this.$MercuryUnseenState6=false;this.markAsSeen()}};l.prototype.$MercuryUnseenState15=function(n,o){__p&&__p();var p=this.$MercuryUnseenState20();if(p===undefined||n>this.$MercuryUnseenState4||this.$MercuryUnseenState5){this.$MercuryUnseenState4=n;o=o||[];if(o.length<=h)this.$MercuryUnseenState5=false;var q={},r=this.$MercuryUnseenState20();for(var s in r)if(r[s]!==true){var t=r[s];if(this.$MercuryUnseenState25(t))q[s]=t}var u=Object.assign(c("createObjectFrom")(o,true),q);this.$MercuryUnseenState18(u);this.$MercuryUnseenState9.updatedUnseenState()}};l.prototype.$MercuryUnseenState24=function(n){__p&&__p();if(this.$MercuryUnseenState5)return;var o={},p=false;for(var q in n){var r=n[q];if(this.$MercuryUnseenState25(r)){o[q]=r;p=true}}if(!p)return;this.$MercuryUnseenState19(function(s){for(var t in o){var u=o[t];if(!s[t]&&this.$MercuryUnseenState25(u))s[t]=o[t]}this.$MercuryUnseenState18(s);this.$MercuryUnseenState9.updatedUnseenState()}.bind(this))};l.prototype.$MercuryUnseenState17=function(n,o){__p&&__p();if(!c("isEmpty")(n))this.$MercuryUnseenState19(function(p){__p&&__p();var q=false;for(var r in n){var s=n[r],t=s>=p[r];if(p[r]&&(!s||t)){delete p[r];q=true}}if(q){this.$MercuryUnseenState18(p);this.$MercuryUnseenState9.updatedUnseenState();if(o&&this.$MercuryUnseenState14()===0)this.$MercuryUnseenState7.markSeen()}}.bind(this))};l.prototype.$MercuryUnseenState25=function(n){return n>this.$MercuryUnseenState4};l.prototype.$MercuryUnseenState22=function(n){return n.map(this.$MercuryUnseenState8.convertThreadIDIfAvailable,this.$MercuryUnseenState8)};l.prototype.$MercuryUnseenState13=function(n){__p&&__p();var o=this.$MercuryUnseenState20();if(!o)return;for(var p in n){var q=n[p];if(o[p]){o[q]=o[p];delete o[p]}}this.$MercuryUnseenState18(o)};l.prototype.$MercuryUnseenState23=function(n){var o=n.thread_id?this.$MercuryUnseenState10.getThreadMetaNow(n.thread_id):null,p=o?c("MercuryFolders").getFromMeta(o):n.folder;return p===c("MessagingTag").INBOX||p===undefined};l.prototype.$MercuryUnseenState21=function(n){var o=n.message_counts||[];for(var p=0;p<o.length;p++)if(o[p].folder===c("MessagingTag").INBOX)return o[p];return{}};var m=new(c("MercurySingletonProvider"))(l);f.exports=l}),null);
__d("mercuryIgnoredParticipantsRe",["Set","bs_array","utilsRe","MercuryIDs","bs_js_primitive","MercuryDispatcher","mercurySingletonProviderRe","MercuryIgnoredBlockedParticipantsRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l){__p&&__p();var m=new(c("Set"))(),n=c("MercuryDispatcher").getForFBID(l);n.subscribe("update-ignored-users",function(o,p){__p&&__p();var q=p.message_ignored_ids;if(!(q==null))c("bs_array").iter(function(s){m.add(s);return 0},q);var r=c("utilsRe").$pipe$unknown(c("bs_js_primitive").null_undefined_to_opt(p.participants),[]);r.forEach(function(s){__p&&__p();var q=c("utilsRe").nullUndefinedBooleanToOptionBool(s.is_messenger_ignored),t=s.fbid;if(q)if(q[0]!==0)if(t==null)return 0;else{m.add(c("MercuryIDs").getParticipantIDFromUserID(t));return 0}else if(t==null)return 0;else{+m["delete"](c("MercuryIDs").getParticipantIDFromUserID(t));return 0}else return 0});return 0});return{findIntersection:function o(p){return c("MercuryIgnoredBlockedParticipantsRe").findIntersection(l,m,p)},isPresentInGroupThread:function o(p){return c("MercuryIgnoredBlockedParticipantsRe").isPresentInGroupThread(l,m,p)},ignoredParticipantsInGroupThread:function o(p){return c("MercuryIgnoredBlockedParticipantsRe").participantsInGroupThread(l,m,p)},isMessageIgnored:function o(p){return c("MercuryIgnoredBlockedParticipantsRe").qualifiesAs(l,m,p)},__fbid:l}}var i=c("mercurySingletonProviderRe").Provider([h]),j=i[0],k=i[1];g.getForFBID=j;g.get=k}),null);
__d("FantaTabsAppBase",["Bootloader","ChatAppActions","ChatAppStore","ChatPerfInstrumentation","CSS","JSLogger","Map","Run","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.init=function(i,j,k){__p&&__p();if(this.isInitialized()){c("JSLogger").create("chat_app").error("repeated_init");return}this.$FantaTabsAppBase1=i;this.tabsElem=j;var l=c("ChatAppStore").addListener(function(){var n=c("ChatAppStore").getPreviousState(),o=c("ChatAppStore").getState();if(n.initialDisplayDone===false&&o.initialDisplayDone===true){c("ChatPerfInstrumentation").logDisplayDone();l.remove()}});c("ChatPerfInstrumentation").init();this.$FantaTabsAppBase2(k);this.initializeFantaData(k.interstitial_data);this.initializeFantaUI();var m=c("gkx")("AT7FBGrADYPEsp9qvqYtd1th6aWFd9XSwNBV43tGhyFXtrKVsfTadKZvm8LGa2YhYm4hBBmtxq-SMAAiJ9-55wql");if(!m)this.$FantaTabsAppBase3();c("ChatAppActions").tti();c("ChatPerfInstrumentation").logTTI();if(m)c("Run").onAfterLoad(function(){this.$FantaTabsAppBase4()}.bind(this))};h.prototype.isInitialized=function(){return!!c("ChatAppStore").getState().isInitialized};h.prototype.isHidden=function(){var i=c("ChatAppStore").getState();return!!(!i.isInitialized||i.isHidden)};h.prototype.hide=function(){if(this.isHidden())return;c("CSS").hide(this.$FantaTabsAppBase1);c("ChatAppActions").hide()};h.prototype.unhide=function(){__p&&__p();var i=c("ChatAppStore").getState();if(i.isInitialized){if(i.isHidden){c("CSS").show(this.$FantaTabsAppBase1);e(["Dock"],function(j){j.resizeAllFlyouts()});c("ChatAppActions").unhide()}}else if(!i.isLoaded){e(["UIPagelet"],function(j){j.loadFromEndpoint("ChatTabsPagelet","ChatTabsPagelet");j.loadFromEndpoint("BuddylistPagelet","BuddylistPagelet")});c("ChatAppActions").load()}};h.prototype.initializeFantaData=function(i){};h.prototype.initializeFantaUI=function(){};h.prototype.$FantaTabsAppBase2=function(i){__p&&__p();e(["mercuryBlockedParticipantsRe","mercuryIgnoredParticipantsRe","MercuryDelayedRoger","MercuryDeliveryReceiptsRe","MercuryDeliveryState","MercuryParticipants","MercuryServerPayloadPreprocessor","MercuryThreads","MercuryUnreadState","MercuryUnseenState","MercurySyncEnvironment","P2PSendMoneyDialogStore","OmniMStore"],function(j,k,l,m,n,o,p,q,r,s,t,u,v){__p&&__p();j.get();k.get();l.get();m.get();n.get();o;q.get();s.get();r.get();t.setUp();v.setUp();c("ChatPerfInstrumentation").logInitStores();if(i.graphql_payload)c("Bootloader").loadModules(["chatInitialDataTransformerRe"],function(w){var x=i.graphql_payload,y=w.transform(x);y.message_blocked_ids=x.message_blocked_ids;y.message_ignored_ids=x.message_ignored_ids;y.payload_source=x.payload_source;p.get().handleUpdate(y)},"FantaTabsAppBase");else p.get().handleUpdate(i.initial_data)})};h.prototype.$FantaTabsAppBase3=function(){e(["HotLikeSound","ChatOptions"],function(i,j){i.setCheckSoundEnabledFunc(function(){return j.getSetting("sound")});c("ChatPerfInstrumentation").logInitSound()})};h.prototype.$FantaTabsAppBase4=function(){e(["HotLikeSound","ChatOptions"],function(i,j){i.setCheckSoundEnabledFunc(function(){return j.getSetting("sound")});c("ChatPerfInstrumentation").logInitSound()})};function h(){}f.exports=h}),null);
__d("FBRTCCallControlActions",["FBRTCDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({ACCEPT_ESCALATION:null,HANG_UP:null,PARENT_WINDOW_START_CALL:null,TOGGLE_FULL_SCREEN:null,TOGGLE_MUTE_AUDIO:null,TOGGLE_MUTE_VIDEO:null,TOGGLE_SCREEN_SHARING:null,TOGGLE_SELF_VIEW:null,SHOW_SETTINGS:null,START_CALL:null,DECLINE_ESCALATION:null,RECEIVED_SIGNALING_MESSAGE:null,RESET_CALL:null,OPEN_SCREEN_IN_NEW:null,CLOSE_STANDALONE_SCREEN:null,REDIAL_CALL:null}),i={Types:h,hangUp:function j(){c("FBRTCDispatcher").dispatch({type:h.HANG_UP})},toggleMuteAudio:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_MUTE_AUDIO})},toggleMuteVideo:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_MUTE_VIDEO})},toggleFullScreen:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_FULL_SCREEN})},toggleSelfView:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_SELF_VIEW})},showSettings:function j(){c("FBRTCDispatcher").dispatch({type:h.SHOW_SETTINGS})},toggleScreenSharing:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_SCREEN_SHARING})},startCall:function j(){c("FBRTCDispatcher").dispatch({type:h.START_CALL})},openScreenInNewWindow:function j(){c("FBRTCDispatcher").dispatch({type:h.OPEN_SCREEN_IN_NEW})},receivedSignalingMessage:function j(k){c("FBRTCDispatcher").dispatch({type:h.RECEIVED_SIGNALING_MESSAGE,message_type:k.msgType,message:k})},acceptEscalation:function j(){c("FBRTCDispatcher").dispatch({type:h.ACCEPT_ESCALATION})},declineEscalation:function j(){c("FBRTCDispatcher").dispatch({type:h.DECLINE_ESCALATION})},resetCall:function j(k){c("FBRTCDispatcher").dispatch({type:h.RESET_CALL,trigger:k})},redialCall:function j(){c("FBRTCDispatcher").dispatch({type:h.REDIAL_CALL})},parentWindowStartCall:function j(){c("FBRTCDispatcher").dispatch({type:h.PARENT_WINDOW_START_CALL})}};f.exports=i}),null);
__d("FBRTCStruct",[],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(j,k,l){__p&&__p();var m,n;if(typeof j=="string"||j instanceof String){n=j;m=j}else for(var o in j)if(Object.prototype.hasOwnProperty.call(j,o))if(o==="index")l=j[o];else{n=o;m=j[o]}k[n]=l;k.strNames[l]=m};function i(j){"use strict";this.strNames=[];for(var k=0;k<j.length;k++)h(j[k],this,k)}f.exports=i}),null);
__d("FBRTCConstants",["FBRTCStruct","keyMirror"],(function a(b,c,d,e,f,g){__p&&__p();var h=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",PING:"ping",PING_ACK:"ping_ack",HANGUP:"hang_up",OTHER_DISMISS:"other_dismiss",MSG_ACK:"msg_ack",PRANSWER:"pranswer",ICERESTART_OFFER:"icerestart_offer",ICERESTART_ANSWER:"icerestart_answer",PCRESTART_OFFER:"pcrestart_offer",PCRESTART_ANSWER:"pcrestart_answer",SDP_UPDATE:"sdp_update",OFFER_ACK:"offer_ack",OFFER_NACK:"offer_nack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",VIDEO_REQUEST:"video_request",ACK:"ack",SWITCH_TO_MULTIWAY:"switch_to_multiway"}),i=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",CHILD_WINDOW_START_CALL:"rtc_child_window_start_call",CHILD_WINDOW_MESSAGE:"rtc_child_window_message"}),j=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip"}),k=Object.freeze({LL_NONE:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5}),l=Object.freeze({AUDIO_ONLY:"audio_only",AUDIO_VIDEO:"audio_video",SCREEN_CONTENT:"screen"}),m=Object.freeze({CUSTOM_VIDEO_STREAM_SIZE:"CUSTOM_VIDEO_STREAM_SIZE",CUSTOM_VIDEO:"CUSTOM_VIDEO",FHD_VIDEO:"FHD_VIDEO",HD_VIDEO:"HD_VIDEO",LQ_VIDEO:"LQ_VIDEO",NO_VIDEO:"NO_VIDEO",SD_VIDEO:"SD_VIDEO"}),n=new(c("FBRTCStruct"))([{IGNORE_CALL:"IgnoreCall"},{HANGUP_CALL:"HangupCall"},{IN_ANOTHER_CALL:"InAnotherCall"},{ACCEPT_AFTER_HANGUP:"CallEndAcceptAfterHangUp"},{NO_ANSWER_TIMEOUT:"NoAnswerTimeout"},{INCOMING_TIMEOUT:"IncomingTimeout"},{OTHER_INSTANCE_HANDLED:"OtherInstanceHandled"},{SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed"},{CONNECTION_DROPPED:"ConnectionDropped"},{CLIENT_INTERRUPTED:"ClientInterrupted"},{WEBRTC_ERROR:"WebRTCError"},{CLIENT_ERROR:"ClientError"},{NO_PERMISSION:"NoPermission"},{OTHER_NOT_CAPABLE:"OtherNotCapable"},{NO_UI_ERROR:"NoUIShown"},{UNSUPPORTED_VERSION:"VersionUnsupported"},{CALLER_NOT_VISIBLE:"CallerNotVisible"},{CARRIER_BLOCKED:"CarrierBlocked"},{OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked"}]),o=Object.freeze({REMOTE_PEER_HANGUP:"CollabRemotePeerHangup",REMOTE_PEER_REJECT:"CollabRemotePeerReject",CLOSED_BY_MCU:"CollabClosedByMcu",CLOSED_AS_STALE:"CollabClosedAsStale",CALL_INITIALIZATION_FAILED:"CollabCallInitializationFailed",SIP_CONNECTION_INITIALIZATION_FAILED:"CollabSipConnectionInitializationFailed",LOST_MCU_CONNECTION:"CollabLostMcuConnection",MCU_NO_AUDIO_STREAM:"CollabMcuNoAudioStream",MCU_INVALID_STREAM_CONFIGURATION:"CollabMcuInvalidStreamConfiguration",LOST_MCU_THRIFT_CONNECTION:"CollabLostMcuThriftConnection",LOST_SIP_ADAPTER_CONNECTION:"CollabLostSipAdapterConnection",UNKNOWN:"CollabUnknown"}),p=Object.freeze({TOGGLE_SELF_VIEW:5,SUBMIT_STAR_RATING:6,SUBMIT_FEEDBACK:7,START_CALL:9,OPEN_SCREEN_IN_NEW:10}),q=Object.freeze({ONE_HOUR:"1hour",UNTIL_EIGHT_AM:"8am",ALWAYS:"always"}),r=c("keyMirror")({AUDIO:null,VIDEO:null}),s=Object.freeze({CUSTOM:"custom",MULTIWAY:"multiway",P2P:"p2p"}),t=Object.freeze({NEW:"new",CHECKING:"checking",CONNECTED:"connected",COMPLETED:"completed",FAILED:"failed",DISCONNECTED:"disconnected",CLOSED:"closed"}),u=Object.freeze({DOMINANT_SPEAKER:"DOMINANT_SPEAKER",GRID:"GRID"}),v={CallBlockingConstants:q,CallEndReason:n,CallType:j,ChildWindowMessageType:i,CollabCallEndSubreason:o,GroupVideoViewLayout:u,IceConnectionState:t,IncomingCallDialogTypes:r,PayloadType:h,SignalingProtocol:s,StreamType:l,UIEventType:p,UploadLogLevel:k,VideoQuality:m,convertFromUploadLogLevel:function w(x){switch(x){case k.LL_DEBUG:return"d";case k.LL_BASIC:return"b";case k.LL_WARNING:return"w";case k.LL_INFO:return"i";case k.LL_VERBOSE:return"v";case k.LL_NONE:default:return null}},convertToUploadLogLevel:function w(x){switch(x){case"d":return k.LL_DEBUG;case"b":return k.LL_BASIC;case"w":return k.LL_WARNING;case"i":return k.LL_INFO;case"v":return k.LL_VERBOSE;default:return k.LL_NONE}},uploadLogLevelString:function w(x){switch(x){case k.LL_BASIC:return"basic";case k.LL_DEBUG:return"debug";case k.LL_WARNING:return"warning";case k.LL_INFO:return"info";case k.LL_VERBOSE:return"verbose";default:return""}},endCallReasonFromString:function w(x){return n.strNames.indexOf(x)},callEndReasonString:function w(x){if(x<0||x>n.strNames.length)return"Unknown";return n.strNames[x]},fullCallEndReasonString:function w(x,y){return this.callEndReasonString(x)+"_"+(y?"remote":"local")}};f.exports=v}),null);
__d("Log",["sprintf"],(function a(b,c,d,e,f,g){var h={DEBUG:3,INFO:2,WARNING:1,ERROR:0};function i(k,l){var m=Array.prototype.slice.call(arguments,2),n=c("sprintf").apply(null,m),o=window.console;if(o&&j.level>=l)o[k in o?k:"log"](n)}var j={level:-1,Level:h,debug:i.bind(null,"debug",h.DEBUG),info:i.bind(null,"info",h.INFO),warn:i.bind(null,"warn",h.WARNING),error:i.bind(null,"error",h.ERROR)};f.exports=j}),null);
__d("FBRTCLogger",["Log","LogHistory","MarauderLogger","formatDate","pageID"],(function a(b,c,d,e,f,g){__p&&__p();var h="webrtc",i="sent_message",j="received_message",k="send_succeeded",l="send_failed",m="info",n="call_action",o="client_event",p="client_error",q="type",r="msg_id",s="ack_msg_id",t="call_id",u="from",v="to",w="content",x="tag",y="peer_id",z="error_code",A="trigger",B="endcallstats",C=null;D.getInstance=function(){"use strict";if(!C)C=new D();return C};function D(){"use strict";this.$FBRTCLogger1=c("LogHistory").getInstance(h)}D.prototype.logToConsole=function(E){"use strict";var F="Console";this.$FBRTCLogger2(null,null,F,E);this.$FBRTCLogger1.log(F,E)};D.prototype.logReceivedMessage=function(E,F,G){"use strict";__p&&__p();var H={};H[u]=E;H[t]=F;H[q]=G.type;H[r]=G.msg_id;if(G.sdp)H[w]=G.sdp;if(G.ack_id)H[s]=G.ack_id;this.$FBRTCLogger3(j,H);this.$FBRTCLogger2(E,F,"Received",G.type+", "+G.msg_id)};D.prototype.logSentMessage=function(E,F,G){"use strict";__p&&__p();var H={};H[v]=E;H[t]=F;H[q]=G.type;H[r]=G.msg_id;if(G.sdp)H[w]=G.sdp;if(G.ack_id)H[s]=G.ack_id;this.$FBRTCLogger3(i,H);this.$FBRTCLogger2(E,F,"Sent",G.type+", "+G.msg_id)};D.prototype.logSentMessageSuccess=function(E,F,G,H){"use strict";var I={};I[y]=E;I[t]=F;I[q]=G;I[r]=H;this.$FBRTCLogger3(k,I)};D.prototype.logSentMessageFailure=function(E,F,G,H,I){"use strict";var J={};J[y]=E;J[t]=F;J[q]=G;J[r]=H;J[z]=I;this.$FBRTCLogger3(l,J);this.$FBRTCLogger2(E,F,"Send Failed",G+", "+I)};D.prototype.logCallAction=function(E,F,G,H,I){"use strict";__p&&__p();var J={};J[y]=E;J[t]=F;J[n]=G;J[w]=H;if(I)J[A]=I;this.$FBRTCLogger3(n,J);this.$FBRTCLogger2(E,F,"CallAction",G+", "+JSON.stringify(H))};D.prototype.logEvent=function(E,F,event){"use strict";var G={};G[y]=E;G[t]=F;G[w]=event;this.$FBRTCLogger3(o,G);this.$FBRTCLogger2(E,F,"Event",event)};D.prototype.logInfo=function(E,F,G){"use strict";var H={};H[y]=E;H[t]=F;H[w]=G;this.$FBRTCLogger3(m,H);this.$FBRTCLogger2(E,F,"Info",G)};D.prototype.logError=function(E,F,G){"use strict";var H={};H[y]=E;H[t]=F;H[w]=G;this.$FBRTCLogger3(p,H);this.$FBRTCLogger2(E,F,"Error",G)};D.prototype.logErrorWithoutID=function(E){"use strict";this.logError(null,null,E)};D.prototype.logEndCallSummary=function(E){"use strict";__p&&__p();if(!E)return;var F={};F[y]=E.peerID;F[t]=E.callID;F[x]=B;F[w]=E.toString();var G=E.getExtraInfo();for(var H in G)if(Object.prototype.hasOwnProperty.call(G,H))F[H]=G[H];this.$FBRTCLogger3(m,F);this.$FBRTCLogger2(E.peerID,E.callID,"Call Summary",F)};D.prototype.$FBRTCLogger3=function(E,F){"use strict";F.page_id=c("pageID");this.$FBRTCLogger1.log(E,F);c("MarauderLogger").log(E,h,F)};D.prototype.$FBRTCLogger2=function(E,F,G,H){"use strict"};D.CallAction={START_CALL:"start_call",RECEIVED_CALL:"received_call",ANSWER_CALL:"answer_call",END_CALL:"end_call",DENIED_PERMISSION:"denied_permission",SET_MUTE:"set_mute",SET_VIDEO_ON:"set_video_on",SET_SELF_VIEW_ON:"set_self_view_on",SET_FULLSCREEN_ON:"set_fullscreen_on",START_SKYPE:"start_skype",TRY_NEW:"try_new",OPEN_POPUP:"open_popup",POPUP_OPENED:"popup_opened",AUTO_DISABLE_VIDEO:"auto_disable_video",FAILED_GETTING_URI:"failed_getting_uri",OLD_URI:"old_uri",USER_SETTINGS_CHANGED:"user_settings_changed"};D.Trigger={ADMIN_MESSAGE:"admin_message",CHAT_TAB_ICON:"chat_tab_icon",CHAT_TAB_ICON_TOUR:"chat_tab_icon_tour",CHAT_TAB_VOICE_ICON:"chat_tab_voice_icon",SKYPE_DEPRECATION_DIALOG:"skype_deprecation_dialog",REDIAL_BUTTON:"redial_button",RETURN_CALL:"return_call",WEB_MESSENGER:"web_messenger",POPUP_CALL_START_BUTTON:"popup_start_call_button",TIMELINE_PROFILE:"timeline_profile",UNKNOWN:"unknown",RESET_CALL:"install_screen_sharing_ext_dialog",MULTIWAY_CHAT_TAB_SHEET_JOIN_CALL_BUTTON:"multiway_chat_tab_sheet_join_call_button",MULTIWAY_POPUP_START_CALL_BUTTON:"multiway_popup_start_call_button",MULTIWAY_THREAD_HEADER_AUDIO_BUTTON:"multiway_thread_header_audio_button",MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:"multiway_thread_header_video_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_audio_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_audio_call_video_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_video_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_video_call_video_button",MULTIWAY_THREAD_LIST_JOIN_CALL_BUTTON:"multiway_thread_list_join_call_button"};D.Key={DEVICE_INFO:"device_info",RATING:"rating5",RATING_SHOWN:"rating_shown",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown",INITIATED_BY_PAGE_ID:"initiated_by_page_id",PEER_IS_MOBILE:"peer_is_mobile"};f.exports=D}),null);
__d("FBRTCLocalMessageQueue",["CacheStorage","FBRTCLogger","Map","RTCConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h="localstorage",i="RTC_",j="offer",k="offer_msg",l="data_",m=30*1e3,n=15*1e3,o=500,p=new(c("Map"))();function q(){"use strict";this.$FBRTCLocalMessageQueue1=c("FBRTCLogger").getInstance()}q.prototype.enqueueOffer=function(r,s){"use strict";var t=this.$FBRTCLocalMessageQueue2(r,k);this.$FBRTCLocalMessageQueue3(t,j,s)};q.prototype.getOffer=function(r){"use strict";var s=this.$FBRTCLocalMessageQueue2(r,k);return this.$FBRTCLocalMessageQueue4(s,j)};q.prototype.removeOffer=function(r){"use strict";var s=this.$FBRTCLocalMessageQueue2(r,k);s.remove(j)};q.prototype.enqueueMessage=function(r,s,t,u){"use strict";var v=l+t.toString(),w=p.get(r)||new(c("Map"))();w.set(v,u);p.set(r,w);this.$FBRTCLocalMessageQueue1.logToConsole("Queued "+v)};q.prototype.drainQueue=function(r,s){"use strict";__p&&__p();var t=p.get(r)||new(c("Map"))(),u,v;for(var w=t,x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}var A=z,u=A[0],v=A[1];void u;s(v)}p.set(r,new(c("Map"))())};q.prototype.enableDequeuing=function(r,s,t,u){"use strict";if(u===undefined)u=n;this.$FBRTCLocalMessageQueue5(r,s,t,u)};q.prototype.$FBRTCLocalMessageQueue5=function(r,s,t,u){"use strict";__p&&__p();var v=this.$FBRTCLocalMessageQueue2(r,s),w=v.keys(),x=w.length;for(var y=0;y<x;y++){var z=this.$FBRTCLocalMessageQueue6(v,w[y]);if(z&&t)t(z)}this.$FBRTCLocalMessageQueue1.logToConsole("Dequeued "+x+" ("+r+") with "+u+" left)");if(u>0){u-=o;setTimeout(function(){this.$FBRTCLocalMessageQueue5(r,s,t,u)}.bind(this),o)}};q.prototype.$FBRTCLocalMessageQueue3=function(r,s,t){"use strict";var u={__t:Date.now(),__d:t};r.set(s,u)};q.prototype.$FBRTCLocalMessageQueue4=function(r,s){"use strict";var t=r.get(s);if(t&&this.$FBRTCLocalMessageQueue7(t))return t.__d;else if(t)r.remove(s);return null};q.prototype.$FBRTCLocalMessageQueue6=function(r,s){"use strict";var t=this.$FBRTCLocalMessageQueue4(r,s);if(t!==null){r.remove(s);return t}return null};q.prototype.$FBRTCLocalMessageQueue7=function(r){"use strict";return Date.now()-r.__t<m};q.prototype.$FBRTCLocalMessageQueue2=function(r,s){"use strict";return new(c("CacheStorage"))(h,""+i+r+"_"+s+"_")};f.exports=q}),null);
__d("FBRTCSupport",["ChannelConstants","RTCConfig","UserAgent"],(function a(b,c,d,e,f,g){__p&&__p();var h={isSendWebrtcSupported:function i(){return!!c("RTCConfig").SendNewVCGK},isReceiveWebrtcSupported:function i(){return!!c("RTCConfig").ReceiveNewVCGK},isVideoInteropSupported:function i(){return!!c("RTCConfig").VideoInteropGK},isVideoCallBlockingSupported:function i(){return!!c("RTCConfig").VideoCallBlockingGK},isWebrtcSupported:function i(){return c("UserAgent").isBrowser("Chrome >= 28")||c("UserAgent").isBrowser("Firefox >= 25")||!!c("RTCConfig").RtcUseWebRTCForEdge&&c("UserAgent").isBrowser("Edge >= 15.15042")||c("UserAgent").isBrowser("Opera >= 20")},isGroupCallWebtrcSupported:function i(){return c("UserAgent").isBrowser("Chrome >= 28")||c("UserAgent").isBrowser("Opera >= 20")},isCollabSupported:function i(){return h.isWebrtcSupported()&&(!!c("RTCConfig").CollabWhitelistedBrowserGK||c("UserAgent").isBrowser("Chrome >= 48"))},isWirelessScreenSharingSupported:function i(){return!!c("RTCConfig").CollabWirelessScreenSharingGK&&c("UserAgent").isBrowser("Chrome >= 48")},isOSSupported:function i(){return!c("UserAgent").isPlatform("Android")&&!c("UserAgent").isPlatform("iOS")},getCapabilities:function i(){var j=0;if(this.isReceiveWebrtcSupported())j=c("ChannelConstants").CAPABILITY_VOIP_INTEROP;return j}};f.exports=h}),null);
__d("FBRTCMessageListener",["invariant","Arbiter","ChannelConstants","FBRTCConstants","FBRTCCallControlActions","FBRTCLocalMessageQueue","FBRTCSupport","RTCConfig","guid","mixInEventEmitter"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("FBRTCConstants").ChildWindowMessageType,j=45*1e3,k=[],l=null,m=null,n=null,o=null,p=null,q=false,r=null,s=void 0,t={init:function u(v,w){__p&&__p();if(q)return;q=true;c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("webrtc"),function(y,z){this._onMessage(z.obj)}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("webrtc_offer"),function(y,z){this._onMessage(z.obj)}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("webrtc_offerack"),function(y,z){this._onMessage(z.obj)}.bind(this));if(c("RTCConfig").RtcConferencingGK)c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("rtc_multi_json"),function(y,z){this._onMultiwayMessage(z.obj)}.bind(this));this._localMessageQueue=new(c("FBRTCLocalMessageQueue"))();if(c("RTCConfig").PassMessagesBetweenWindowsGK){if(c("FBRTCSupport").isWebrtcSupported()&&window.addEventListener){var x=v?this._handleWindowMessageToChild.bind(this):this._handleWindowMessageToParent.bind(this);window.addEventListener("message",x,false)}if(v)this._connectToParentWindow(w)}},setParentWindowNonce:function u(v){o=v},generateNewNonce:function u(){p=c("guid")();return p},setMultiwayMessageHandler:function u(v,w){!r||h(0);r=w?v.bind(w):v},_onMultiwayMessage:function u(v){this.emit("multiwayMessageReceived",v);if(r)r(v)},setMessageHandler:function u(v,w){!l||h(0);l=w?v.bind(w):v;while(k.length)l(k.shift())},removeMessageHandler:function u(){l=null},setParentWindowStartCallHandler:function u(v){s=v;return function(){return s=null}},_onMessage:function u(v){if(v.from)v.from=v.from.toString();this.emit("messageReceived",v);if(l)l(v);else k.push(v);this._passMessageToChildWindow(v)},_connectToParentWindow:function u(v){if(window.opener&&window.opener.postMessage){var w={type:i.CHILD_WINDOW_READY,nonce:o,childNonce:this.generateNewNonce(),peerID:v};window.opener.postMessage(w,window.location.origin)}},_verifyWindowMessage:function u(event){return event.origin===window.location.origin&&event.data&&p&&event.data.nonce===p},_handleWindowMessageToParent:function u(event){if(!this._verifyWindowMessage(event))return;if(event.data.type===i.CHILD_WINDOW_READY){this.setParentWindowNonce(event.data.childNonce);this._setChildWindow(event.source);this._replayQueuedMessagesToChild(event.data.peerID,m)}},_handleWindowMessageToChild:function u(event){if(!this._verifyWindowMessage(event))return;if(event.data.type===i.CHILD_WINDOW_MESSAGE)this._onMessage(event.data.message);if(event.data.type===i.CHILD_WINDOW_START_CALL)if(s)s();else c("FBRTCCallControlActions").parentWindowStartCall()},_replayQueuedMessagesToChild:function u(v,w){this._localMessageQueue.drainQueue(v,function(x){var y={type:i.CHILD_WINDOW_MESSAGE,nonce:o,message:x};w.postMessage(y,window.location.origin)})},_setChildWindow:function u(v){m=v;clearTimeout(n);n=setTimeout(function(){m=null},j);this._startCallInChildWindow();this.generateNewNonce()},_passMessageToChildWindow:function u(v){if(m){var w={type:i.CHILD_WINDOW_MESSAGE,nonce:o,message:v};m.postMessage(w,window.location.origin)}},_startCallInChildWindow:function u(){if(m){var v={type:i.CHILD_WINDOW_START_CALL,nonce:o};m.postMessage(v,window.location.origin)}}};c("mixInEventEmitter")(t,{messageReceived:true,multiwayMessageReceived:true});f.exports=t}),null);
__d("FBRTCMessageHandler",["Bootloader","FBRTCMessageListener","FBRTCSupport"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=false,j=null,k={init:function n(){if(!i&&c("FBRTCSupport").isReceiveWebrtcSupported()){i=true;c("FBRTCMessageListener").init(false);c("FBRTCMessageListener").once("messageReceived",function(o){l()});c("FBRTCMessageListener").once("multiwayMessageReceived",function(o){m(o)})}}};function l(){if(!h)c("Bootloader").loadModules(["FBRTCIncomingCallController","FBRTCIncomingCallDialog","FBRTCMissedVideoCallHandler","FBRTCUnsupportedBrowserMessage"],function(n,o,p,q){h=new n(o,q,new p());c("FBRTCMessageListener").setMessageHandler(h.onMessageReceived,h)},"FBRTCMessageHandler")}function m(n){if(!j)c("Bootloader").loadModules(["FBRTCGroupCallIncomingController","FBRTCGroupCallIncomingDialog"],function(o,p){j=new o(p);c("FBRTCMessageListener").setMultiwayMessageHandler(j.onMessageReceived,j);j.onMessageReceived(n)},"FBRTCMessageHandler")}f.exports=k}),null);
__d("FantaTabsReactApp",["ChatPerfInstrumentation","FantaMercuryTabsWithMain.react","FantaTabsAppBase","Map","React","ReactDOM","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=void 0;h=babelHelpers.inherits(k,c("FantaTabsAppBase"));i=h&&h.prototype;k.prototype.initializeFantaData=function(l){__p&&__p();e(["FantaAppStore","FantaCookieUtil","FantaGetMessageActions","FantaTabActions","MercuryThreadInformer","PresenceState"],function(m,n,o,p,q,r){__p&&__p();p.loadFromData(n.convertCookieData(r.get(),null,l));r.registerStateLoader(function(s){p.loadFromData(n.convertCookieData(s,m.getState().tabGroup,l))});r.registerStateStorer(function(s){var t=m.getState().tabGroup;if(!j||j&&!j.equals(t)){j=t;return n.createCookieData(t,s)}else return s});q.get().subscribe("threads-updated",function(s,t){Object.keys(t).forEach(function(u){c("setImmediate")(function(){o.refreshThread(u)})})});c("ChatPerfInstrumentation").logInitData()})};k.prototype.initializeFantaUI=function(){__p&&__p();e(["FantaAppStore","FantaMercuryThreadEventsBootloaded","FantaMessageActions","FantaTabActions","FantaTabViewportManager","FBRTCMessageHandler","MercuryBrowserAlerts"],function(l,m,n,o,p,q,r){__p&&__p();q.init();r.init();c("ReactDOM").render(this.getViewComponent(),this.tabsElem);m.onMessagesReceived(function(t,u){c("setImmediate")(function(){n.receivedNewMessage(t,u)})});p.init(this.tabsElem);c("ChatPerfInstrumentation").logInitUI();var s=l.getState().tabGroup.tabs;if(s.toArray().length===0)c("ChatPerfInstrumentation").logDisplayDone()}.bind(this))};k.prototype.getViewComponent=function(){return c("React").createElement(c("FantaMercuryTabsWithMain.react"),{loadDataOnMount:false})};function k(){h.apply(this,arguments)}f.exports=new k()}),null);
__d("bs_js_dict",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(n,o){delete n[o];return 0};function i(n){var o=Object.keys(n),p=o.length,j=new Array(p);for(var q=0,r=p-1|0;q<=r;++q){var s=o[q];j[q]=[s,n[s]]}return j}function j(n){var o=Object.keys(n),p=o.length,q=new Array(p);for(var r=0,s=p-1|0;r<=s;++r)q[r]=n[o[r]];return q}function k(i){__p&&__p();var n={},o=i;while(true){var p=o;if(p){var q=p[0];n[q[0]]=q[1];o=p[1];continue}else return n}}function l(i){var n={},o=i.length;for(var p=0,q=o-1|0;p<=q;++p){var r=i[p];n[r[0]]=r[1]}return n}function m(n,o){var p={},q=Object.keys(o),r=q.length;for(var s=0,t=r-1|0;s<=t;++s){var u=q[s];p[u]=n(o[u])}return p}g.unsafeDeleteKey=h;g.entries=i;g.values=j;g.fromList=k;g.fromArray=l;g.map=m}),null);
__d("MessengerThreadsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1508526735892416"};j.getQueryID=function(){"use strict";return"137139086997808"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("messengerReadReceiptTransformerRe",["bs_array","bs_caml_format"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k={};c("bs_array").iter(function(l){var m=l.actor;if(!(m==null)&&i!==m.id){k[m.id]={action:c("bs_caml_format").caml_float_of_string(l.action),watermark:c("bs_caml_format").caml_float_of_string(l.watermark)};return 0}else return 0},j.nodes);return k}g.transformReadReceipt=h}),null);
__d("messengerThreadTransformerRe",["URI","bs_array","bs_string","bs_caml_array","bs_js_boolean","MercuryIDs","bs_caml_format","bs_js_primitive","WorkModeConfig","bs_js_null_undefined","MessagingThreadType","messengerAttachmentTransformerRe","MessengerThreadCannotReplyReason"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(p){__p&&__p();var q=p.location_coordinates,r=q==null?[null,null]:[q.latitude,q.longitude],s=p.location_page,t;if(s==null)t=null;else{var u=s.address;t=u==null?null:u.full_address}var v=p.allows_rsvp,w=v!==0?1:0,x=c("bs_array").fold_left(function(z,A){z[A.node.id]=A.guest_list_state;return z},{},p.event_reminder_members.edges),y=p.lightweight_event_creator;return{creator_id:y==null?null:y.id,event_members:x,event_time:p.time,event_type:p.lightweight_event_type,latitude:r[0],longitude:r[1],location_address:t,location_name:p.location_name,note:p.note,oid:p.id,related_event:p.related_event,repeat_mode:p.repeat_mode,seconds_to_notify_before:p.seconds_to_notify_before,status:p.lightweight_event_status,title:p.event_title,track_rsvp:w}}function i(p){__p&&__p();var q=p.associated_object;if(q==null)return null;else{var r=q.action_link,s;if(r==null)s=null;else{var t=+c("WorkModeConfig").is_work_user,u=t!==0?c("WorkModeConfig").company_subdomain+".facebook.com":"www.facebook.com";s=new(c("URI"))(r).setDomain(u)}var v=q.profile_picture;return{id:q.id,name:q.name,action_link:s,profile_picture:v==null?null:{uri:v.uri},room_type:q.room_type,privacy_mode:q.privacy_mode,approval_mode_toggleable:q.approval_mode_toggleable,start_timestamp:q.start_timestamp,event_place:q.event_place,mentorship_program:q.mentorship_program}}}function j(p){var q=p.related_page_thread;if(q==null)return null;else{var r=c("bs_array").map(function(u){return u.name},q.custom_thread_tags.nodes),s=q.page,t=s==null?null:s.id;return{flagged:q.is_flagged,pageID:t,customTagNames:r}}}function k(p){__p&&__p();var q=p.thread_key.other_user_id;if(q==null)return 0;else{var r=p.all_participants.nodes;return c("bs_array").fold_left(function(s,t){var u=t.messaging_actor;if(u.id===q)return+(u.__typename==="User");else return s},0,r)}}function l(p){__p&&__p();if(p.length){var q={};c("bs_array").iter(function(r){var s=r.nickname;if(s==null)return 0;else{q[r.participant_id]=s;return 0}},p);return q}else return null}function m(p){if(!(p==null)&&p!=="")return"#"+c("bs_string").sub(p,2,p.length-2|0);else return null}function n(p){return c("bs_caml_array").caml_array_get(p,0)}function o(p,q,r){__p&&__p();var s=q.customization_info,t;if(s==null)t=[null,null,null];else{var u=s.emoji;t=[m(s.outgoing_bubble_color),u==null?null:{emoji:u},l(s.participant_customizations)]}var v=q.page_comm_item,w=v==null?[null,null,null,null,null]:[v.comm_status,v.comm_source_id,v.id,v.subtitle,v.comm_item_owners],x=q.last_message.nodes.length?[c("bs_caml_array").caml_array_get(q.last_message.nodes,0)]:0,y=q.last_read_receipt.nodes.length?[c("bs_caml_array").caml_array_get(q.last_read_receipt.nodes,0)]:0,z;if(x){var A=x[0];z=c("messengerAttachmentTransformerRe").transformAttachment(p,{extensible_attachment:A.extensible_attachment,blob_attachments:A.blob_attachments,sticker:A.sticker},r)}else z=[];var B=q.cannot_reply_reason,C=q.thread_queue_metadata,D=q.thread_type,E=q.montage_thread,F=q.image,G=q.thread_key.other_user_id,H=q.thread_queue_metadata,I=q.name,J=q.thread_key.other_user_id,K;if(J==null){var L=q.thread_key.thread_fbid;K=L==null?null:L}else K=J;var M=q.rtc_call_data,N;if(M==null)N=null;else{var O=M.initiator;N={call_state:M.call_state,server_info_data:M.server_info_data,initiator_fbid:O==null?0:c("bs_caml_format").caml_float_of_string(O.id)}}return{admin_ids:c("bs_array").map(function(P){return P.id},q.thread_admins),approval_mode:q.approval_mode,approval_queue_ids:C==null?[]:c("bs_array").map(function(P){return c("MercuryIDs").getParticipantIDFromUserID(P.id)},C.approval_requests.nodes),can_reply:B==null?true:false,cannot_reply_reason:q.cannot_reply_reason,custom_color:t[0],custom_like_icon:t[1],custom_nickname:t[2],customization_enabled:q.customization_enabled,thread_type:D==null?null:c("bs_js_null_undefined").from_opt(c("bs_js_primitive").undefined_to_opt(c("MessagingThreadType")[D])),participant_add_mode:q.participant_add_mode_as_string,ephemeral_ttl_mode:q.ephemeral_ttl_mode,folder:c("bs_string").lowercase(q.folder),has_email_participant:B==null?false:c("bs_js_boolean").to_js_boolean(+(B===c("MessengerThreadCannotReplyReason").HAS_EMAIL_PARTICIPANT)),has_montage:E==null?false:true,image_src:F==null?null:F.uri,is_archived:c("bs_js_boolean").to_js_boolean(q.has_viewer_archived),is_page_follow_up:c("bs_js_boolean").to_js_boolean(q.is_page_follow_up),is_canonical_user:c("bs_js_boolean").to_js_boolean(k(q)),is_canonical:G==null?false:true,is_pin_protected:c("bs_js_boolean").to_js_boolean(q.is_pin_protected),is_subscribed:c("bs_js_boolean").to_js_boolean(q.is_viewer_subscribed),is_canonical_neo_user:c("bs_js_boolean").to_js_boolean(q.is_canonical_neo_user),is_thread_queue_enabled:H==null?false:true,joinable_mode:{mode:c("bs_caml_format").caml_int_of_string(q.joinable_mode.mode),link:q.joinable_mode.link},last_message_timestamp:x?c("bs_caml_format").caml_float_of_string(x[0].timestamp_precise):0,last_message_type:x?x[0].commerce_message_type:null,last_read_timestamp:y?c("bs_caml_format").caml_float_of_string(y[0].timestamp_precise):0,lightweight_event:q.event_reminders.nodes.length?h(c("bs_caml_array").caml_array_get(q.event_reminders.nodes,0)):null,message_count:q.message_count,mute_until:q.mute_until,name:I==null?"":I,other_user_fbid:q.thread_key.other_user_id,page_thread_info:j(q),participants:c("bs_array").map(function(P){return c("MercuryIDs").getParticipantIDFromUserID(P.messaging_actor.id)},q.all_participants.nodes),participants_event_status:q.participants_event_status,read_only:B==null?false:c("bs_js_boolean").to_js_boolean(+(B===c("MessengerThreadCannotReplyReason").READ_ONLY)),recipients_loadable:B==null?true:c("bs_js_boolean").to_js_boolean(+(B!==c("MessengerThreadCannotReplyReason").RECIPIENTS_NOT_LOADABLE)),server_timestamp:c("bs_caml_format").caml_float_of_string(q.updated_time_precise),snippet_attachments:z,snippet_sender:x?c("MercuryIDs").getParticipantIDFromUserID(x[0].message_sender.messaging_actor.id):null,snippet:x?x[0].snippet:null,thread_fbid:K,thread_id:"",timestamp:c("bs_caml_format").caml_float_of_string(q.updated_time_precise),unread_count:q.unread_count,rtc_call_data:N,associated_object:i(q),reactions_mute_mode:q.reactions_mute_mode==="REACTIONS_NOT_MUTED"?0:1,mentions_mute_mode:q.mentions_mute_mode==="MENTIONS_NOT_MUTED"?0:1,comm_status:w[0],page_comm_item_id:w[2],comm_source_id:w[1],subtitle:w[3],comm_item_owners:w[4]}}g._getLightweightEvent=h;g._getAssociatedObject=i;g._getPageThreadInfo=j;g._getIsCanonicalUser=k;g._getNicknames=l;g._getCustomColor=m;g.indexZero=n;g.transformThread=o}),null);
__d("messengerGraphQLThreadFetcherRe",["Promise","bs_array","getByPath","bs_caml_array","bs_pervasives","WebGraphQL","messengerThreadTransformerRe","messengerMessageTransformerRe","MessengerThreadsWebGraphQLQuery","messengerReadReceiptTransformerRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l,m,n){var o=c("bs_array").map(function(p){var q=c("messengerMessageTransformerRe").unsafeCastBlobAttachments(p),r=p.extensible_attachment,s;if(r==null)s=null;else{var t=r.story_attachment;s={legacy_attachment_id:r.legacy_attachment_id,story_attachment:t==null?null:c("messengerMessageTransformerRe").unsafeCastExtensibleAttachment(t)}}return{snippet:p.snippet,message_sender:p.message_sender,timestamp_precise:p.timestamp_precise,commerce_message_type:p.commerce_message_type,extensible_attachment:s,blob_attachments:q,sticker:p.sticker}},m.last_message.nodes);return c("messengerThreadTransformerRe").transformThread(l,{thread_key:m.thread_key,name:m.name,all_participants:m.all_participants,last_message:{nodes:o},unread_count:m.unread_count,message_count:m.messages_count,image:m.image,updated_time_precise:m.updated_time_precise,mute_until:m.mute_until,is_pin_protected:m.is_pin_protected,is_viewer_subscribed:m.is_viewer_subscribed,is_canonical_neo_user:m.is_canonical_neo_user,thread_queue_enabled:m.thread_queue_enabled,folder:m.folder,has_viewer_archived:m.has_viewer_archived,is_page_follow_up:m.is_page_follow_up,cannot_reply_reason:m.cannot_reply_reason,ephemeral_ttl_mode:m.ephemeral_ttl_mode,customization_info:m.customization_info,thread_admins:m.thread_admins,approval_mode:m.approval_mode,joinable_mode:m.joinable_mode,thread_queue_metadata:m.thread_queue_metadata,event_reminders:m.event_reminders,montage_thread:m.montage_thread,last_read_receipt:m.last_read_receipt,related_page_thread:m.related_page_thread,rtc_call_data:m.rtc_call_data,associated_object:m.associated_object,reactions_mute_mode:m.reactions_mute_mode,mentions_mute_mode:m.mentions_mute_mode,privacy_mode:m.privacy_mode,customization_enabled:m.customization_enabled,thread_type:m.thread_type,participant_add_mode_as_string:m.participant_add_mode_as_string,participants_event_status:m.participants_event_status,page_comm_item:m.page_comm_item},n)}function i(l,m,n,o,p){__p&&__p();if(l==null)if(o!==0)return{actions:null,thread:undefined,end_of_history:{type:"user",fbid:m},roger:null};else return{actions:null,thread:undefined,end_of_history:undefined,roger:null};else{var q=l.thread_key.other_user_id,r=l.thread_key.thread_fbid,s=q==null?r==null?c("bs_pervasives").failwith("No thread ID"):r:q;if(s!==m)c("bs_pervasives").failwith("Thread ID mismatch");var t=h(n,l,p),u=l.messages,v=u==null?null:c("bs_array").map(function(A){return c("messengerMessageTransformerRe").transformMessage(n,A,{thread_id:null,thread_fbid:l.thread_key.thread_fbid,other_user_fbid:l.thread_key.other_user_id,folder:t.folder},p)},u.nodes),w=l.read_receipts,x;if(w==null)x=null;else{var y={};y[m]=c("messengerReadReceiptTransformerRe").transformReadReceipt(n,w);x=y}var z=c("getByPath")(l,["messages","page_info"]);if(z==null)return{actions:v,thread:t,end_of_history:undefined,roger:x};else if(z.has_previous_page)return{actions:v,thread:t,end_of_history:undefined,roger:x};else return{actions:v,thread:t,end_of_history:{type:"thread",fbid:m},roger:x}}}function j(l){return new(c("MessengerThreadsWebGraphQLQuery"))({id:l.id,message_limit:l.limit,load_messages:+(l.limit>0),load_read_receipts:l.loadReadReceipts,before:l.timestamp})}function k(l,m,n){var o=c("bs_array").map(j,m);return c("Promise").all(c("WebGraphQL").execAll(o,{actorID:n?l:null,batchName:"MessengerGraphQLThreadFetcherRe"})).then(function(p){return c("bs_array").mapi(function(q,r){var s=r.message_thread,t=c("bs_caml_array").caml_array_get(m,q);return i(s,t.id,l,t.isCanonical,n)},p)})}g.transformThread=h;g._transformPayload=i;g._getQuery=j;g.fetchAll=k}),null);
__d("DisplayGenderConst",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNKNOWN:"UNKNOWN",FEMALE:"FEMALE",MALE:"MALE",NEUTER:"NEUTER"})}),null);
__d("MessengerThreadlistWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1349387578499440"};j.getQueryID=function(){"use strict";return"880998592063375"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("messengerGraphQLThreadlistFetcherRe",["Promise","URI","bs_array","bs_js_dict","utilsRe","bs_caml_array","WebGraphQL","bs_caml_format","GenderConst","bs_js_primitive","WorkModeConfig","DisplayGenderConst","messengerGraphQLThreadFetcherRe","messengerReadReceiptTransformerRe","MessengerThreadlistWebGraphQLQuery"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l){return new(c("MessengerThreadlistWebGraphQLQuery"))({limit:l.limit,before:l.timestamp,tags:l.tags,includeDeliveryReceipts:l.includeDeliveryReceipts,includeSeqID:l.includeSeqID})}function i(l){__p&&__p();var m=l.gender,n=l.url,o;if(n==null)o=null;else{var p=+c("WorkModeConfig").is_work_user,q=p!==0?c("WorkModeConfig").company_subdomain+".facebook.com":"www.facebook.com";o=new(c("URI"))(n).getUnqualifiedURI().setDomain(q).setProtocol("https").toString()}var r=l.big_image_src,s=l.big_image_src,t=l.__typename,u;switch(t){case"Page":u="page";break;case"User":u="user";break;default:u=null}var v=l.accepts_messenger_user_feedback,w=l.is_viewer_friend,x=l.is_messenger_user,y=l.is_verified,z=l.is_messenger_platform_bot,A=l.is_message_blocked_by_viewer,B=l.is_viewer_coworker,C=l.is_employee;return{id:"fbid:"+l.id,fbid:l.id,gender:m==null?c("GenderConst").NOT_A_PERSON:m===c("DisplayGenderConst").MALE?c("GenderConst").MALE_SINGULAR:m===c("DisplayGenderConst").FEMALE?c("GenderConst").FEMALE_SINGULAR:c("GenderConst").NOT_A_PERSON,href:o,image_src:r==null?null:r.uri,big_image_src:s==null?null:s.uri,name:l.name,short_name:c("utilsRe").$pipe$unknown(c("bs_js_primitive").null_undefined_to_opt(l.short_name),l.name),type:u,vanity:l.username,accepts_messenger_user_feedback:v==null?false:v,is_friend:w==null?false:w,is_messenger_user:x==null?false:x,is_business_enabled:l.__typename==="Page"?true:false,is_verified:y==null?false:y,is_messenger_platform_bot:z==null?false:z,is_messenger_blocked:A==null?false:A,is_coworker:B==null?true:B,employee:C==null?false:C}}function j(l,m,n,o){__p&&__p();var p=[],q=[],r={},s=[],t={},u=[undefined];c("bs_array").iteri(function(v,w){__p&&__p();var x=c("bs_caml_array").caml_array_get(m,v),y=[],z=[],A=[];c("bs_array").iter(function(D){__p&&__p();if(D==null)return 0;else{var E=c("messengerGraphQLThreadFetcherRe").transformThread(l,D,n);c("bs_array").iter(function(K){var L=i(K.messaging_actor);t[L.fbid]=L;return 0},D.all_participants.nodes);var F;if(E.is_canonical){var B=E.other_user_fbid;if(B==null)F=null;else{y.push(B);F=B}}else{var C=E.thread_fbid;if(C==null)F=null;else{z.push(C);F=C}}A.push(E.thread_id);p.push(E);var G=D.read_receipts;if(!(F==null))if(!(G==null))r[F]=c("messengerReadReceiptTransformerRe").transformReadReceipt(l,G);var H=D.delivery_receipts;if(F==null)return 0;else if(H==null)return 0;else{var I=H.nodes.sort(function(K,L){var M=c("bs_caml_format").caml_float_of_string(K.timestamp_precise),N=c("bs_caml_format").caml_float_of_string(L.timestamp_precise);if(M>N)return-1;else if(M===N)return 0;else return 1});if(I.length<1)return 0;else{var J=c("bs_caml_array").caml_array_get(I,0);if(E.is_canonical){s.push({other_user_fbid:F,thread_fbid:null,time:c("bs_caml_format").caml_float_of_string(J.timestamp_precise)});return 0}else{s.push({other_user_fbid:null,thread_fbid:F,time:c("bs_caml_format").caml_float_of_string(J.timestamp_precise)});return 0}}}}},w.viewer.message_threads.nodes);var B=w.viewer.message_threads.sync_sequence_id;if(!(B==null))u[0]=c("bs_caml_format").caml_int_of_string(B);var C=x.timestamp;q.push({start:x.offset,end:C==null?x.offset+x.limit|0:(x.offset+x.limit|0)-1|0,folder:x.folder,other_user_fbids:y,thread_fbids:z,thread_ids:A,filter:x.filter});return 0},o);return{threads:p,ordered_threadlists:q,roger:r,delivery_receipts:s,participants:c("bs_js_dict").values(t),sequence_id:u[0]}}function k(l,m,n){var o=c("bs_array").map(h,m);return c("Promise").all(c("WebGraphQL").execAll(o,{actorID:n?l:null,batchName:"MessengerGraphQLThreadlistFetcherRe"})).then(function(p){return j(l,m,n,p)})}g._getQuery=h;g.transformParticipant=i;g.transform=j;g.fetchAll=k}),null);
__d("chatInitialDataTransformerRe",["bs_array","bs_js_dict","getByPath","bs_caml_array","bs_caml_format","messengerMessageTransformerRe","messengerGraphQLThreadFetcherRe","messengerReadReceiptTransformerRe","messengerGraphQLThreadlistFetcherRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.viewer,k=+i.is_page,l=[],m=[],n={},o=[],p={},q=[];c("bs_array").iter(function(r){__p&&__p();if(r==null)return 0;else{var s=c("messengerGraphQLThreadFetcherRe").transformThread(j,r,k);l.push(s);var t=r.messages;if(!(t==null))c("bs_array").iter(function(G){m.push(c("messengerMessageTransformerRe").transformMessage(j,G,{thread_id:null,thread_fbid:r.thread_key.thread_fbid,other_user_fbid:r.thread_key.other_user_id,folder:s.folder},k));return 0},t.nodes);var u=c("getByPath")(r,["messages","page_info"]);if(!(u==null))if(!u.has_previous_page){var v=r.thread_key.thread_fbid,w=r.thread_key.other_user_id;if(v==null){if(!(w==null))q.push({type:"thread",fbid:w})}else q.push({type:"thread",fbid:v})}var x=r.read_receipts;if(!(x==null)){var y=c("messengerReadReceiptTransformerRe").transformReadReceipt(j,x),z=r.thread_key.thread_fbid;if(!(z==null))n[z]=y;var A=r.thread_key.other_user_id;if(!(A==null))n[A]=y}var B=r.delivery_receipts;if(!(B==null)){var C=B.nodes.sort(function(G,H){var I=c("bs_caml_format").caml_float_of_string(G.timestamp_precise),J=c("bs_caml_format").caml_float_of_string(H.timestamp_precise);if(I>J)return-1;else if(I===J)return 0;else return 1});if(C.length>=1){var D=c("bs_caml_array").caml_array_get(C,0);if(s.is_canonical){var E=s.other_user_fbid;if(!(E==null))o.push({other_user_fbid:E,thread_fbid:null,time:c("bs_caml_format").caml_float_of_string(D.timestamp_precise)})}else{var F=s.thread_fbid;if(!(F==null))o.push({other_user_fbid:null,thread_fbid:F,time:c("bs_caml_format").caml_float_of_string(D.timestamp_precise)})}}}return c("bs_array").iter(function(G){var H=c("messengerGraphQLThreadlistFetcherRe").transformParticipant(G.messaging_actor);p[H.fbid]=H;return 0},r.all_participants.nodes)}},i.threads);return{threads:l,actions:m,roger:n,delivery_receipts:o,participants:c("bs_js_dict").values(p),end_of_history:q}}g.transform=h}),null);
__d("SplitImage.react",["cx","React","Image.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.renderImages=function(){__p&&__p();if(!this.props.srcs)return null;var q=this.props.srcs,r=Array.isArray(q);if(r){q=q.filter(function(s){return s!==null});if(!q.length)return null}if(!r||q.length==1)return this.renderOne(r?q[0]:q);return q.length==2?this.renderTwo(q):this.renderThree(q)}.bind(this),this.renderOne=function(q){return c("React").createElement(c("Image.react"),{src:q,width:this.props.size,height:this.props.size,alt:""})}.bind(this),this.renderTwo=function(q){var r=this.props.size,s=Math.floor(r/2),t=-Math.floor(s/2),u="_55lu"+(this.props.border?" _57xo":"");return c("React").createElement("div",null,c("React").createElement("div",{className:"_55lu",style:{width:s}},c("React").createElement(c("Image.react"),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:""})),c("React").createElement("div",{className:u,style:{width:s}},c("React").createElement(c("Image.react"),{src:q[1],width:r,height:r,style:{marginLeft:t},alt:""})))}.bind(this),this.renderThree=function(q){var r=this.props.size,s=Math.floor(r/3*2),t=-Math.floor((r-s)/2),u=Math.floor(r/2),v=r-s,w=-Math.floor((u-v)/2),x="_55lu"+(this.props.border?" _57pl":""),y="_55lu"+(this.props.border?" _57pm":"");return c("React").createElement("div",null,c("React").createElement("div",{className:x,style:{width:s}},c("React").createElement(c("Image.react"),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:""})),c("React").createElement("div",{className:y,style:{width:v,height:u}},c("React").createElement(c("Image.react"),{src:q[1],width:u,height:u,style:{marginLeft:w},alt:""})),c("React").createElement("div",{className:"_55lu",style:{width:v,height:u}},c("React").createElement(c("Image.react"),{src:q[2],width:u,height:u,style:{marginLeft:w},alt:""})))}.bind(this),m}k.prototype.render=function(){"use strict";var l=babelHelpers["extends"]({},this.props);delete l.srcs;var m=this.props.size;return c("React").createElement("div",babelHelpers["extends"]({},l,{className:c("joinClasses")(this.props.className,"_55lt"),style:babelHelpers["extends"]({},this.props.style||{},{width:m,height:m})}),this.renderImages())};f.exports=k}),null);
__d("ChatSidebarPageListContainer.react",["cx","XUIBadge.react","Layout.react","Link.react","React","SplitImage.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=9;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.render=function(){return c("React").createElement("ul",{className:"_4kqp"},this.props.adminedPages.map(function(o){return this.$ChatSidebarPageListContainer1(o)}.bind(this)))};n.prototype.$ChatSidebarPageListContainer1=function(o){return c("React").createElement("li",{className:"_12um _42fz","data-id":o.id,key:o.id},c("React").createElement("div",{className:"_55ln",rel:"ignore"},c("React").createElement("div",{className:"_55lp"},c("React").createElement(c("Layout.react"),null,c("React").createElement(k,null,c("React").createElement(c("Link.react"),{href:o.uri},c("React").createElement("div",{className:"_55lq"},c("React").createElement(c("SplitImage.react"),{size:o.imgSize,srcs:o.imgSrc})))),c("React").createElement(l,null,c("React").createElement(c("Link.react"),{className:"_224p",href:o.uri},c("React").createElement("div",{className:"_55lr"},o.name))),c("React").createElement(k,{className:"_3p8_"},c("React").createElement("div",{className:"_5bon"},c("React").createElement(c("XUIBadge.react"),{className:"_4fsv",count:o.badgingCount,maxcount:m,type:"regular"})))))))};function n(){i.apply(this,arguments)}f.exports=n}),null);
__d("MercuryAudienceRestrictedTypeaheadDataSource",["CurrentUser","DataSource","MercuryParticipantTypes","MercuryTypeaheadConstants","OrderedFriendsList","ShortProfiles"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("DataSource"));i=h&&h.prototype;function j(k){"use strict";__p&&__p();k=k||{};k.kanaNormalization=true;k.maxResults=c("MercuryTypeaheadConstants").COMPOSER_CHATTAB_MAX;k.minQueryLength=2;i.constructor.call(this,k);this.$MercuryAudienceRestrictedTypeaheadDataSource1=false;this.$MercuryAudienceRestrictedTypeaheadDataSource2=false;this.$MercuryAudienceRestrictedTypeaheadDataSource3={};this.$MercuryAudienceRestrictedTypeaheadDataSource4=true;this.queryCache={};this.localCache={};this.queryIDs={}}j.prototype.dirty=function(){"use strict";return this};j.prototype.buildData=function(k){"use strict";return i.buildData.call(this,k)};j.prototype.query=function(k,l,m,n){"use strict";var o=l||k.length===1;return i.query.call(this,k,o,m,n)};j.prototype.getQueryData=function(k,l){"use strict";return babelHelpers["extends"]({},i.getQueryData.call(this,k,l))};j.prototype.setEntry=function(k,l){"use strict";this.$MercuryAudienceRestrictedTypeaheadDataSource3[k]=l};j.prototype.getEntry=function(k){"use strict";return this.$MercuryAudienceRestrictedTypeaheadDataSource3[k]||null};j.prototype.getCachedShortProfileIDs=function(){"use strict";var k=c("ShortProfiles").getCachedProfileIDs(),l=k.filter(function(m){var n=c("ShortProfiles").getNow(m);return m==c("CurrentUser").getID()||n&&(n.type===c("MercuryParticipantTypes").FRIEND||n.type===c("MercuryParticipantTypes").FB4C)});return l};j.prototype.isBootstrapped=function(){"use strict";return this.$MercuryAudienceRestrictedTypeaheadDataSource1};j.prototype.isBootstrapping=function(){"use strict";return this.$MercuryAudienceRestrictedTypeaheadDataSource2};j.prototype.processEntries=function(k,l){"use strict";k=k&&k.map(function(m){if(m.index==null&&(m.render_type===c("MercuryParticipantTypes").FRIEND||m.render_type===c("MercuryParticipantTypes").FB4C))m.index=c("OrderedFriendsList").getActiveRank(m.uid);return m});return i.processEntries.call(this,k)};j.prototype.mergeUids=function(k,l,m,n){"use strict";var o=l.sort(function(p,q){var r=this.getEntry(p),s=this.getEntry(q);return r&&r.index&&s&&s.index?r.index-s.index:0}.bind(this));return i.mergeUids.call(this,k,o,m,n)};j.prototype.setQueryData=function(k,l){"use strict";return i.setQueryData.call(this,k)};j.prototype.respond=function(k,l,m){"use strict";return i.respond.call(this,k,l,m)};j.prototype.setShowThreads=function(k){"use strict";this.$MercuryAudienceRestrictedTypeaheadDataSource4=k};f.exports=j}),null);